!function(t){var e;"object"==typeof exports?module.exports=t():("undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.p2=t())}(function(){return function o(n,s,r){function c(e,t){if(!s[e]){if(!n[e]){var i="function"==typeof require&&require;if(!t&&i)return i(e,!0);if(a)return a(e,!0);throw new Error("Cannot find module '"+e+"'")}t=s[e]={exports:{}};n[e][0].call(t.exports,function(t){return c(n[e][1][t]||t)},t,t.exports,o,n,s,r)}return s[e].exports}for(var a="function"==typeof require&&require,t=0;t<r.length;t++)c(r[t]);return c}({1:[function(t,e,i){function o(){}var h=t("./Scalar");(e.exports=o).lineInt=function(t,e,i){var o=[0,0],n=t[1][1]-t[0][1],s=t[0][0]-t[1][0],t=n*t[0][0]+s*t[0][1],r=e[1][1]-e[0][1],c=e[0][0]-e[1][0],e=r*e[0][0]+c*e[0][1],a=n*c-r*s;return h.eq(a,0,i=i||0)||(o[0]=(c*t-s*e)/a,o[1]=(n*e-r*t)/a),o},o.segmentsIntersect=function(t,e,i,o){var n=e[0]-t[0],e=e[1]-t[1],s=o[0]-i[0],o=o[1]-i[1];if(s*e-o*n==0)return!1;var r=(n*(i[1]-t[1])+e*(t[0]-i[0]))/(s*e-o*n),i=(s*(t[1]-i[1])+o*(i[0]-t[0]))/(o*n-s*e);return 0<=r&&r<=1&&0<=i&&i<=1}},{"./Scalar":4}],2:[function(t,e,i){function c(){}(e.exports=c).area=function(t,e,i){return(e[0]-t[0])*(i[1]-t[1])-(i[0]-t[0])*(e[1]-t[1])},c.left=function(t,e,i){return 0<c.area(t,e,i)},c.leftOn=function(t,e,i){return 0<=c.area(t,e,i)},c.right=function(t,e,i){return c.area(t,e,i)<0},c.rightOn=function(t,e,i){return c.area(t,e,i)<=0};var a=[],h=[];c.collinear=function(t,e,i,o){var n,s,r;return o?(r=h,(s=a)[0]=e[0]-t[0],s[1]=e[1]-t[1],r[0]=i[0]-e[0],r[1]=i[1]-e[1],n=s[0]*r[0]+s[1]*r[1],s=Math.sqrt(s[0]*s[0]+s[1]*s[1]),r=Math.sqrt(r[0]*r[0]+r[1]*r[1]),Math.acos(n/(s*r))<o):0==c.area(t,e,i)},c.sqdist=function(t,e){var i=e[0]-t[0],e=e[1]-t[1];return i*i+e*e}},{}],3:[function(t,e,i){function x(){this.vertices=[]}function v(t,e,i,o,n){var s=e[1]-t[1],e=t[0]-e[0],t=s*t[0]+e*t[1],r=o[1]-i[1],o=i[0]-o[0],i=r*i[0]+o*i[1],c=s*o-r*e;return a.eq(c,0,n=n||0)?[0,0]:[(o*t-e*i)/c,(s*i-r*t)/c]}var c=t("./Line"),w=t("./Point"),a=t("./Scalar"),h=((e.exports=x).prototype.at=function(t){var e=this.vertices,i=e.length;return e[t<0?t%i+i:t%i]},x.prototype.first=function(){return this.vertices[0]},x.prototype.last=function(){return this.vertices[this.vertices.length-1]},x.prototype.clear=function(){this.vertices.length=0},x.prototype.append=function(t,e,i){if(void 0===e)throw new Error("From is not given!");if(void 0===i)throw new Error("To is not given!");if(i-1<e)throw new Error("lol1");if(i>t.vertices.length)throw new Error("lol2");if(e<0)throw new Error("lol3");for(var o=e;o<i;o++)this.vertices.push(t.vertices[o])},x.prototype.makeCCW=function(){for(var t=0,e=this.vertices,i=1;i<this.vertices.length;++i)(e[i][1]<e[t][1]||e[i][1]==e[t][1]&&e[i][0]>e[t][0])&&(t=i);w.left(this.at(t-1),this.at(t),this.at(t+1))||this.reverse()},x.prototype.reverse=function(){for(var t=[],e=0,i=this.vertices.length;e!==i;e++)t.push(this.vertices.pop());this.vertices=t},x.prototype.isReflex=function(t){return w.right(this.at(t-1),this.at(t),this.at(t+1))},[]),u=[];x.prototype.canSee=function(t,e){var i,o=h,n=u;if(w.leftOn(this.at(t+1),this.at(t),this.at(e))&&w.rightOn(this.at(t-1),this.at(t),this.at(e)))return!1;for(var s=w.sqdist(this.at(t),this.at(e)),r=0;r!==this.vertices.length;++r)if((r+1)%this.vertices.length!==t&&r!==t&&w.leftOn(this.at(t),this.at(e),this.at(r+1))&&w.rightOn(this.at(t),this.at(e),this.at(r))&&(o[0]=this.at(t),o[1]=this.at(e),n[0]=this.at(r),n[1]=this.at(r+1),i=c.lineInt(o,n),w.sqdist(this.at(t),i)<s))return!1;return!0},x.prototype.copy=function(t,e,i){var o=i||new x;if(o.clear(),t<e)for(var n=t;n<=e;n++)o.vertices.push(this.vertices[n]);else{for(n=0;n<=e;n++)o.vertices.push(this.vertices[n]);for(n=t;n<this.vertices.length;n++)o.vertices.push(this.vertices[n])}return o},x.prototype.getCutEdges=function(){for(var t=[],e=[],i=new x,o=Number.MAX_VALUE,n=0;n<this.vertices.length;++n)if(this.isReflex(n))for(var s=0;s<this.vertices.length;++s)if(this.canSee(n,s)){for(var e=this.copy(n,s,i).getCutEdges(),r=this.copy(s,n,i).getCutEdges(),c=0;c<r.length;c++)e.push(r[c]);e.length<o&&(o=(t=e).length,t.push([this.at(n),this.at(s)]))}return t},x.prototype.decomp=function(){var t=this.getCutEdges();return 0<t.length?this.slice(t):[this]},x.prototype.slice=function(t){if(0==t.length)return[this];if(t instanceof Array&&t.length&&t[0]instanceof Array&&2==t[0].length&&t[0][0]instanceof Array){for(var e=[this],i=0;i<t.length;i++)for(var o=t[i],n=0;n<e.length;n++){var s=e[n].slice(o);if(s){e.splice(n,1),e.push(s[0],s[1]);break}}return e}o=t,i=this.vertices.indexOf(o[0]),n=this.vertices.indexOf(o[1]);return-1!=i&&-1!=n&&[this.copy(i,n),this.copy(n,i)]},x.prototype.isSimple=function(){for(var t=this.vertices,e=0;e<t.length-1;e++)for(var i=0;i<e-1;i++)if(c.segmentsIntersect(t[e],t[e+1],t[i],t[i+1]))return!1;for(e=1;e<t.length-2;e++)if(c.segmentsIntersect(t[0],t[t.length-1],t[e],t[e+1]))return!1;return!0},x.prototype.quickDecomp=function(t,e,i,o,n,s){n=n||100,s=s||0,o=o||25,t=void 0!==t?t:[],e=e||[],i=i||[];var r=[0,0],c=[0,0],a=[0,0],h=0,u=0,l=0,d=0,p=0,F=0,j=0,Y=new x,f=new x,b=this,g=this.vertices;if(g.length<3)return t;if(++s>n)return t;for(var y=0;y<this.vertices.length;++y)if(b.isReflex(y)){e.push(b.vertices[y]);for(var h=u=Number.MAX_VALUE,m=0;m<this.vertices.length;++m)w.left(b.at(y-1),b.at(y),b.at(m))&&w.rightOn(b.at(y-1),b.at(y),b.at(m-1))&&(a=v(b.at(y-1),b.at(y),b.at(m),b.at(m-1)),w.right(b.at(y+1),b.at(y),a)&&(l=w.sqdist(b.vertices[y],a))<u&&(u=l,c=a,F=m)),w.left(b.at(y+1),b.at(y),b.at(m+1))&&w.rightOn(b.at(y+1),b.at(y),b.at(m))&&(a=v(b.at(y+1),b.at(y),b.at(m),b.at(m+1)),w.left(b.at(y-1),b.at(y),a)&&(l=w.sqdist(b.vertices[y],a))<h&&(h=l,r=a,p=m));if(F==(p+1)%this.vertices.length)a[0]=(c[0]+r[0])/2,a[1]=(c[1]+r[1])/2,i.push(a),y<p?(Y.append(b,y,p+1),Y.vertices.push(a),f.vertices.push(a),0!=F&&f.append(b,F,b.vertices.length),f.append(b,0,y+1)):(0!=y&&Y.append(b,y,b.vertices.length),Y.append(b,0,p+1),Y.vertices.push(a),f.vertices.push(a),f.append(b,F,y+1));else{if(p<F&&(p+=this.vertices.length),d=Number.MAX_VALUE,p<F)return t;for(m=F;m<=p;++m)w.leftOn(b.at(y-1),b.at(y),b.at(m))&&w.rightOn(b.at(y+1),b.at(y),b.at(m))&&(l=w.sqdist(b.at(y),b.at(m)))<d&&(d=l,j=m%this.vertices.length);y<j?(Y.append(b,y,j+1),0!=j&&f.append(b,j,g.length),f.append(b,0,y+1)):(0!=y&&Y.append(b,y,g.length),Y.append(b,0,j+1),f.append(b,j,y+1))}return Y.vertices.length<f.vertices.length?(Y.quickDecomp(t,e,i,o,n,s),f.quickDecomp(t,e,i,o,n,s)):(f.quickDecomp(t,e,i,o,n,s),Y.quickDecomp(t,e,i,o,n,s)),t}return t.push(this),t},x.prototype.removeCollinearPoints=function(t){for(var e=0,i=this.vertices.length-1;3<this.vertices.length&&0<=i;--i)w.collinear(this.at(i-1),this.at(i),this.at(i+1),t)&&(this.vertices.splice(i%this.vertices.length,1),i--,e++);return e}},{"./Line":1,"./Point":2,"./Scalar":4}],4:[function(t,e,i){function o(){}(e.exports=o).eq=function(t,e,i){return i=i||0,Math.abs(t-e)<i}},{}],5:[function(t,e,i){e.exports={Polygon:t("./Polygon"),Point:t("./Point")}},{"./Point":2,"./Polygon":3}],6:[function(t,e,i){e.exports={name:"p2",version:"0.7.0",description:"A JavaScript 2D physics engine.",author:"Stefan Hedman <schteppe@gmail.com> (http://steffe.se)",keywords:["p2.js","p2","physics","engine","2d"],main:"./src/p2.js",engines:{node:"*"},repository:{type:"git",url:"https://github.com/schteppe/p2.js.git"},bugs:{url:"https://github.com/schteppe/p2.js/issues"},licenses:[{type:"MIT"}],devDependencies:{grunt:"^0.4.5","grunt-contrib-jshint":"^0.11.2","grunt-contrib-nodeunit":"^0.4.1","grunt-contrib-uglify":"~0.4.0","grunt-contrib-watch":"~0.5.0","grunt-browserify":"~2.0.1","grunt-contrib-concat":"^0.4.0"},dependencies:{"poly-decomp":"0.1.0"}}},{}],7:[function(t,e,i){function o(t){this.lowerBound=p.create(),t&&t.lowerBound&&p.copy(this.lowerBound,t.lowerBound),this.upperBound=p.create(),t&&t.upperBound&&p.copy(this.upperBound,t.upperBound)}var p=t("../math/vec2"),F=(t("../utils/Utils"),e.exports=o,p.create());o.prototype.setFromPoints=function(t,e,i,o){var n=this.lowerBound,s=this.upperBound;0!==(i="number"!=typeof i?0:i)?p.rotate(n,t[0],i):p.copy(n,t[0]),p.copy(s,n);for(var r=Math.cos(i),c=Math.sin(i),a=1;a<t.length;a++){var h,u,l=t[a];0!==i&&(h=l[0],u=l[1],F[0]=r*h-c*u,F[1]=c*h+r*u,l=F);for(var d=0;d<2;d++)l[d]>s[d]&&(s[d]=l[d]),l[d]<n[d]&&(n[d]=l[d])}e&&(p.add(this.lowerBound,this.lowerBound,e),p.add(this.upperBound,this.upperBound,e)),o&&(this.lowerBound[0]-=o,this.lowerBound[1]-=o,this.upperBound[0]+=o,this.upperBound[1]+=o)},o.prototype.copy=function(t){p.copy(this.lowerBound,t.lowerBound),p.copy(this.upperBound,t.upperBound)},o.prototype.extend=function(t){for(var e=2;e--;){var i=t.lowerBound[e],i=(this.lowerBound[e]>i&&(this.lowerBound[e]=i),t.upperBound[e]);this.upperBound[e]<i&&(this.upperBound[e]=i)}},o.prototype.overlaps=function(t){var e=this.lowerBound,i=this.upperBound,o=t.lowerBound,t=t.upperBound;return(o[0]<=i[0]&&i[0]<=t[0]||e[0]<=t[0]&&t[0]<=i[0])&&(o[1]<=i[1]&&i[1]<=t[1]||e[1]<=t[1]&&t[1]<=i[1])},o.prototype.containsPoint=function(t){var e=this.lowerBound,i=this.upperBound;return e[0]<=t[0]&&t[0]<=i[0]&&e[1]<=t[1]&&t[1]<=i[1]},o.prototype.overlapsRay=function(t){var e=1/t.direction[0],i=1/t.direction[1],o=(this.lowerBound[0]-t.from[0])*e,e=(this.upperBound[0]-t.from[0])*e,n=(this.lowerBound[1]-t.from[1])*i,t=(this.upperBound[1]-t.from[1])*i,i=Math.max(Math.max(Math.min(o,e),Math.min(n,t))),o=Math.min(Math.min(Math.max(o,e),Math.max(n,t)));return o<0||o<i?-1:i}},{"../math/vec2":30,"../utils/Utils":57}],8:[function(t,e,i){function o(t){this.type=t,this.result=[],this.world=null,this.boundingVolumeType=o.AABB}var n=t("../math/vec2"),s=t("../objects/Body"),r=((e.exports=o).AABB=1,o.BOUNDING_CIRCLE=2,o.prototype.setWorld=function(t){this.world=t},o.prototype.getCollisionPairs=function(t){},n.create());o.boundingRadiusCheck=function(t,e){n.sub(r,t.position,e.position);var i=n.squaredLength(r),t=t.boundingRadius+e.boundingRadius;return i<=t*t},o.aabbCheck=function(t,e){return t.getAABB().overlaps(e.getAABB())},o.prototype.boundingVolumeCheck=function(t,e){var i;switch(this.boundingVolumeType){case o.BOUNDING_CIRCLE:i=o.boundingRadiusCheck(t,e);break;case o.AABB:i=o.aabbCheck(t,e);break;default:throw new Error("Bounding volume type not recognized: "+this.boundingVolumeType)}return i},o.canCollide=function(t,e){var i=s.KINEMATIC,o=s.STATIC;return!(t.type===o&&e.type===o||t.type===i&&e.type===o||t.type===o&&e.type===i||t.type===i&&e.type===i||t.sleepState===s.SLEEPING&&e.sleepState===s.SLEEPING||t.sleepState===s.SLEEPING&&e.type===o||e.sleepState===s.SLEEPING&&t.type===o)},o.NAIVE=1,o.SAP=2},{"../math/vec2":30,"../objects/Body":31}],9:[function(t,e,i){function o(){a.call(this,a.NAIVE)}t("../shapes/Circle"),t("../shapes/Plane"),t("../shapes/Shape"),t("../shapes/Particle");var a=t("../collision/Broadphase");t("../math/vec2"),(((e.exports=o).prototype=new a).constructor=o).prototype.getCollisionPairs=function(t){for(var e=t.bodies,i=this.result,o=i.length=0,n=e.length;o!==n;o++)for(var s=e[o],r=0;r<o;r++){var c=e[r];a.canCollide(s,c)&&this.boundingVolumeCheck(s,c)&&i.push(s,c)}return i},o.prototype.aabbQuery=function(t,e,i){i=i||[];for(var o=t.bodies,n=0;n<o.length;n++){var s=o[n];s.aabbNeedsUpdate&&s.updateAABB(),s.aabb.overlaps(e)&&i.push(s)}return i}},{"../collision/Broadphase":8,"../math/vec2":30,"../shapes/Circle":39,"../shapes/Particle":43,"../shapes/Plane":44,"../shapes/Shape":45}],10:[function(t,e,h){function D(){this.contactEquations=[],this.frictionEquations=[],this.enableFriction=!0,this.enabledEquations=!0,this.slipForce=10,this.frictionCoefficient=.3,this.surfaceVelocity=0,this.contactEquationPool=new i({size:32}),this.frictionEquationPool=new o({size:64}),this.restitution=0,this.stiffness=s.DEFAULT_STIFFNESS,this.relaxation=s.DEFAULT_RELAXATION,this.frictionStiffness=s.DEFAULT_STIFFNESS,this.frictionRelaxation=s.DEFAULT_RELAXATION,this.enableFrictionReduction=!0,this.collidingBodiesLastStep=new n,this.contactSkinSize=.01}function b(t,e){O.set(t.vertices[0],.5*-e.length,-e.radius),O.set(t.vertices[1],.5*e.length,-e.radius),O.set(t.vertices[2],.5*e.length,e.radius),O.set(t.vertices[3],.5*-e.length,e.radius)}function P(t,e,i,o){for(var n=F,s=j,r=Y,c=f,a=t,h=e.vertices,u=null,l=0;l!==h.length+1;l++){var d=h[l%h.length],p=h[(l+1)%h.length],d=(O.rotate(n,d,o),O.rotate(s,p,o),Q(n,n,i),Q(s,s,i),G(r,n,a),G(c,s,a),O.crossLength(r,c));if(d*(u=null===u?d:u)<=0)return;u=d}return 1}var O=t("../math/vec2"),G=O.sub,Q=O.add,N=O.dot,i=(t("../utils/Utils"),t("../utils/ContactEquationPool")),o=t("../utils/FrictionEquationPool"),n=t("../utils/TupleDictionary"),s=t("../equations/Equation"),r=(t("../equations/ContactEquation"),t("../equations/FrictionEquation"),t("../shapes/Circle")),c=t("../shapes/Convex"),a=t("../shapes/Shape"),v=(t("../objects/Body"),t("../shapes/Box")),w=(e.exports=D,O.fromValues(0,1)),W=O.fromValues(0,0),U=O.fromValues(0,0),X=O.fromValues(0,0),V=O.fromValues(0,0),H=O.fromValues(0,0),A=O.fromValues(0,0),z=O.fromValues(0,0),K=O.fromValues(0,0),Z=O.fromValues(0,0),T=O.fromValues(0,0),I=O.fromValues(0,0),q=O.fromValues(0,0),B=O.fromValues(0,0),J=O.fromValues(0,0),M=O.fromValues(0,0),R=O.fromValues(0,0),E=O.fromValues(0,0),S=O.fromValues(0,0),L=[],u=O.create(),l=O.create(),d=(D.prototype.bodiesOverlap=function(t,e){for(var i=u,o=l,n=0,s=t.shapes.length;n!==s;n++){var r=t.shapes[n];t.toWorldFrame(i,r.position);for(var c=0,a=e.shapes.length;c!==a;c++){var h=e.shapes[c];if(e.toWorldFrame(o,h.position),this[r.type|h.type](t,r,i,r.angle+t.angle,e,h,o,h.angle+e.angle,!0))return!0}}return!1},D.prototype.collidedLastStep=function(t,e){t=0|t.id,e=0|e.id;return!!this.collidingBodiesLastStep.get(t,e)},D.prototype.reset=function(){this.collidingBodiesLastStep.reset();for(var t=this.contactEquations,e=t.length;e--;){var i=t[e],o=i.bodyA.id,i=i.bodyB.id;this.collidingBodiesLastStep.set(o,i,!0)}for(var n=this.contactEquations,s=this.frictionEquations,r=0;r<n.length;r++)this.contactEquationPool.release(n[r]);for(r=0;r<s.length;r++)this.frictionEquationPool.release(s[r]);this.contactEquations.length=this.frictionEquations.length=0},D.prototype.createContactEquation=function(t,e,i,o){var n=this.contactEquationPool.get();return n.bodyA=t,n.bodyB=e,n.shapeA=i,n.shapeB=o,n.restitution=this.restitution,n.firstImpact=!this.collidedLastStep(t,e),n.stiffness=this.stiffness,n.relaxation=this.relaxation,n.needsUpdate=!0,n.enabled=this.enabledEquations,n.offset=this.contactSkinSize,n},D.prototype.createFrictionEquation=function(t,e,i,o){var n=this.frictionEquationPool.get();return n.bodyA=t,n.bodyB=e,n.shapeA=i,n.shapeB=o,n.setSlipForce(this.slipForce),n.frictionCoefficient=this.frictionCoefficient,n.relativeVelocity=this.surfaceVelocity,n.enabled=this.enabledEquations,n.needsUpdate=!0,n.stiffness=this.frictionStiffness,n.relaxation=this.frictionRelaxation,n.contactEquations.length=0,n},D.prototype.createFrictionFromContact=function(t){var e=this.createFrictionEquation(t.bodyA,t.bodyB,t.shapeA,t.shapeB);return O.copy(e.contactPointA,t.contactPointA),O.copy(e.contactPointB,t.contactPointB),O.rotate90cw(e.t,t.normalA),e.contactEquations.push(t),e},D.prototype.createFrictionFromAverage=function(t){var e=this.contactEquations[this.contactEquations.length-1],i=this.createFrictionEquation(e.bodyA,e.bodyB,e.shapeA,e.shapeB),o=e.bodyA;e.bodyB,O.set(i.contactPointA,0,0),O.set(i.contactPointB,0,0),O.set(i.t,0,0);for(var n=0;n!==t;n++)(e=this.contactEquations[this.contactEquations.length-1-n]).bodyA===o?(O.add(i.t,i.t,e.normalA),O.add(i.contactPointA,i.contactPointA,e.contactPointA),O.add(i.contactPointB,i.contactPointB,e.contactPointB)):(O.sub(i.t,i.t,e.normalA),O.add(i.contactPointA,i.contactPointA,e.contactPointB),O.add(i.contactPointB,i.contactPointB,e.contactPointA)),i.contactEquations.push(e);var s=1/t;return O.scale(i.contactPointA,i.contactPointA,s),O.scale(i.contactPointB,i.contactPointB,s),O.normalize(i.t,i.t),O.rotate90cw(i.t,i.t),i},D.prototype[a.LINE|a.CONVEX]=D.prototype.convexLine=function(t,e,i,o,n,s,r,c,a){return!a&&0},D.prototype[a.LINE|a.BOX]=D.prototype.lineBox=function(t,e,i,o,n,s,r,c,a){return!a&&0},new v({width:1,height:1})),p=O.create(),g=(D.prototype[a.CAPSULE|a.CONVEX]=D.prototype[a.CAPSULE|a.BOX]=D.prototype.convexCapsule=function(t,e,i,o,n,s,r,c,a){var h=p,u=(O.set(h,s.length/2,0),O.rotate(h,h,c),O.add(h,h,r),this.circleConvex(n,s,h,c,t,e,i,o,a,s.radius)),h=(O.set(h,-s.length/2,0),O.rotate(h,h,c),O.add(h,h,r),this.circleConvex(n,s,h,c,t,e,i,o,a,s.radius));if(a&&(u||h))return!0;var l=d;return b(l,s),this.convexConvex(t,e,i,o,n,l,r,c,a)+u+h},D.prototype[a.CAPSULE|a.LINE]=D.prototype.lineCapsule=function(t,e,i,o,n,s,r,c,a){return!a&&0},O.create()),y=O.create(),m=new v({width:1,height:1}),F=(D.prototype[a.CAPSULE|a.CAPSULE]=D.prototype.capsuleCapsule=function(t,e,i,o,n,s,r,c,a){for(var h=g,u=y,l=0,d=0;d<2;d++){O.set(h,(0===d?-1:1)*e.length/2,0),O.rotate(h,h,o),O.add(h,h,i);for(var p=0;p<2;p++){O.set(u,(0===p?-1:1)*s.length/2,0),O.rotate(u,u,c),O.add(u,u,r),this.enableFrictionReduction&&(j=this.enableFriction,this.enableFriction=!1);var F=this.circleCircle(t,e,h,o,n,s,u,c,a,e.radius,s.radius);if(this.enableFrictionReduction&&(this.enableFriction=j),a&&F)return!0;l+=F}}this.enableFrictionReduction&&(j=this.enableFriction,this.enableFriction=!1);var j,Y=m,f=(b(Y,e),this.convexCapsule(t,Y,i,o,n,s,r,c,a));if(this.enableFrictionReduction&&(this.enableFriction=j),a&&f)return!0;l+=f,this.enableFrictionReduction&&(j=this.enableFriction,this.enableFriction=!1),b(Y,s);f=this.convexCapsule(n,Y,r,c,t,e,i,o,a);return this.enableFrictionReduction&&(this.enableFriction=j),!(!a||!f)||(l+=f,this.enableFrictionReduction&&l&&this.enableFriction&&this.frictionEquations.push(this.createFrictionFromAverage(l)),l)},D.prototype[a.LINE|a.LINE]=D.prototype.lineLine=function(t,e,i,o,n,s,r,c,a){return!a&&0},D.prototype[a.PLANE|a.LINE]=D.prototype.planeLine=function(t,e,i,o,n,s,r,c,a){var h=W,u=U,l=X,d=V,p=H,F=A,j=z,Y=K,f=Z,b=L,g=0;O.set(h,-s.length/2,0),O.set(u,s.length/2,0),O.rotate(l,h,c),O.rotate(d,u,c),Q(l,l,r),Q(d,d,r),O.copy(h,l),O.copy(u,d),G(p,u,h),O.normalize(F,p),O.rotate90cw(f,F),O.rotate(Y,w,o),b[0]=h,b[1]=u;for(var y=0;y<b.length;y++){var m=b[y],x=(G(j,m,i),N(j,Y));if(x<0){if(a)return!0;var v=this.createContactEquation(t,n,e,s);g++,O.copy(v.normalA,Y),O.normalize(v.normalA,v.normalA),O.scale(j,Y,x),G(v.contactPointA,m,j),G(v.contactPointA,v.contactPointA,t.position),G(v.contactPointB,m,r),Q(v.contactPointB,v.contactPointB,r),G(v.contactPointB,v.contactPointB,n.position),this.contactEquations.push(v),this.enableFrictionReduction||this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(v))}}return!a&&(this.enableFrictionReduction||g&&this.enableFriction&&this.frictionEquations.push(this.createFrictionFromAverage(g)),g)},D.prototype[a.PARTICLE|a.CAPSULE]=D.prototype.particleCapsule=function(t,e,i,o,n,s,r,c,a){return this.circleLine(t,e,i,o,n,s,r,c,a,s.radius,0)},D.prototype[a.CIRCLE|a.LINE]=D.prototype.circleLine=function(t,e,i,o,n,s,r,c,a,h,u){var h=h||0,u=void 0!==u?u:e.radius,l=W,d=U,p=X,F=V,j=H,Y=A,f=z,b=K,g=Z,y=T,m=I,x=q,v=B,w=J,_=L,c=(O.set(b,-s.length/2,0),O.set(g,s.length/2,0),O.rotate(y,b,c),O.rotate(m,g,c),Q(y,y,r),Q(m,m,r),O.copy(b,y),O.copy(g,m),G(Y,g,b),O.normalize(f,Y),O.rotate90cw(j,f),G(x,i,b),N(x,j)),E=(G(F,b,r),G(v,i,r),u+h);if(Math.abs(c)<E){O.scale(l,j,c),G(p,i,l),O.scale(d,j,N(j,v)),O.normalize(d,d),O.scale(d,d,h),Q(p,p,d);y=N(f,p),m=N(f,b),Y=N(f,g);if(m<y&&y<Y){if(a)return!0;var S=this.createContactEquation(t,n,e,s);return O.scale(S.normalA,l,-1),O.normalize(S.normalA,S.normalA),O.scale(S.contactPointA,S.normalA,u),Q(S.contactPointA,S.contactPointA,i),G(S.contactPointA,S.contactPointA,t.position),G(S.contactPointB,p,r),Q(S.contactPointB,S.contactPointB,r),G(S.contactPointB,S.contactPointB,n.position),this.contactEquations.push(S),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(S)),1}}_[0]=b,_[1]=g;for(var C=0;C<_.length;C++){var P=_[C];if(G(x,P,i),O.squaredLength(x)<Math.pow(E,2)){if(a)return!0;S=this.createContactEquation(t,n,e,s);return O.copy(S.normalA,x),O.normalize(S.normalA,S.normalA),O.scale(S.contactPointA,S.normalA,u),Q(S.contactPointA,S.contactPointA,i),G(S.contactPointA,S.contactPointA,t.position),G(S.contactPointB,P,r),O.scale(w,S.normalA,-h),Q(S.contactPointB,S.contactPointB,w),Q(S.contactPointB,S.contactPointB,r),G(S.contactPointB,S.contactPointB,n.position),this.contactEquations.push(S),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(S)),1}}return 0},D.prototype[a.CIRCLE|a.CAPSULE]=D.prototype.circleCapsule=function(t,e,i,o,n,s,r,c,a){return this.circleLine(t,e,i,o,n,s,r,c,a,s.radius)},D.prototype[a.CIRCLE|a.CONVEX]=D.prototype[a.CIRCLE|a.BOX]=D.prototype.circleConvex=function(t,e,i,o,n,s,r,c,a,h){for(var h="number"==typeof h?h:e.radius,u=W,l=U,d=X,p=V,F=H,j=T,Y=I,f=B,b=J,g=M,y=R,m=!1,x=Number.MAX_VALUE,v=s.vertices,w=0;w!==v.length+1;w++){var _=v[w%v.length],E=v[(w+1)%v.length];O.rotate(u,_,c),O.rotate(l,E,c),Q(u,u,r),Q(l,l,r),G(d,l,u),O.normalize(p,d),O.rotate90cw(F,p),O.scale(b,F,-e.radius),Q(b,b,i),P(b,s,r,c)&&(O.sub(g,u,b),(_=Math.abs(O.dot(g,F)))<x&&(O.copy(y,b),O.scale(f,F,x=_),O.add(f,f,b),m=!0))}if(m){if(a)return!0;var S=this.createContactEquation(t,n,e,s);return O.sub(S.normalA,y,i),O.normalize(S.normalA,S.normalA),O.scale(S.contactPointA,S.normalA,h),Q(S.contactPointA,S.contactPointA,i),G(S.contactPointA,S.contactPointA,t.position),G(S.contactPointB,f,r),Q(S.contactPointB,S.contactPointB,r),G(S.contactPointB,S.contactPointB,n.position),this.contactEquations.push(S),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(S)),1}if(0<h)for(w=0;w<v.length;w++){var C=v[w];if(O.rotate(Y,C,c),Q(Y,Y,r),G(j,Y,i),O.squaredLength(j)<Math.pow(h,2)){if(a)return!0;S=this.createContactEquation(t,n,e,s);return O.copy(S.normalA,j),O.normalize(S.normalA,S.normalA),O.scale(S.contactPointA,S.normalA,h),Q(S.contactPointA,S.contactPointA,i),G(S.contactPointA,S.contactPointA,t.position),G(S.contactPointB,Y,r),Q(S.contactPointB,S.contactPointB,r),G(S.contactPointB,S.contactPointB,n.position),this.contactEquations.push(S),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(S)),1}}return 0},O.create()),j=O.create(),Y=O.create(),f=O.create(),x=(D.prototype[a.PARTICLE|a.CONVEX]=D.prototype[a.PARTICLE|a.BOX]=D.prototype.particleConvex=function(t,e,i,o,n,s,r,c,a){var h=W,u=U,l=X,d=V,p=H,F=A,j=z,Y=T,f=B,b=E,g=S,y=Number.MAX_VALUE,m=!1,x=s.vertices;if(!P(i,s,r,c))return 0;if(a)return!0;for(var v=0;v!==x.length+1;v++){var w=x[v%x.length],_=x[(v+1)%x.length],w=(O.rotate(h,w,c),O.rotate(u,_,c),Q(h,h,r),Q(u,u,r),G(l,u,h),O.normalize(d,l),O.rotate90cw(p,d),G(Y,i,h),N(Y,p),G(F,h,r),G(j,i,r),O.sub(b,h,i),Math.abs(O.dot(b,p)));w<y&&(O.scale(f,p,y=w),O.add(f,f,i),O.copy(g,p),m=!0)}return m?(a=this.createContactEquation(t,n,e,s),O.scale(a.normalA,g,-1),O.normalize(a.normalA,a.normalA),O.set(a.contactPointA,0,0),Q(a.contactPointA,a.contactPointA,i),G(a.contactPointA,a.contactPointA,t.position),G(a.contactPointB,f,r),Q(a.contactPointB,a.contactPointB,r),G(a.contactPointB,a.contactPointB,n.position),this.contactEquations.push(a),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(a)),1):0},D.prototype[a.CIRCLE]=D.prototype.circleCircle=function(t,e,i,o,n,s,r,c,a,h,u){var l=W,h=h||e.radius,u=u||s.radius,d=(G(l,i,r),h+u);if(O.squaredLength(l)>Math.pow(d,2))return 0;if(a)return!0;l=this.createContactEquation(t,n,e,s);return G(l.normalA,r,i),O.normalize(l.normalA,l.normalA),O.scale(l.contactPointA,l.normalA,h),O.scale(l.contactPointB,l.normalA,-u),Q(l.contactPointA,l.contactPointA,i),G(l.contactPointA,l.contactPointA,t.position),Q(l.contactPointB,l.contactPointB,r),G(l.contactPointB,l.contactPointB,n.position),this.contactEquations.push(l),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(l)),1},D.prototype[a.PLANE|a.CONVEX]=D.prototype[a.PLANE|a.BOX]=D.prototype.planeConvex=function(t,e,i,o,n,s,r,c,a){var h=W,u=U,l=X,d=0;O.rotate(u,w,o);for(var p=0;p!==s.vertices.length;p++){var F=s.vertices[p];if(O.rotate(h,F,c),Q(h,h,r),G(l,h,i),N(l,u)<=0){if(a)return!0;d++;var F=this.createContactEquation(t,n,e,s),j=(G(l,h,i),O.copy(F.normalA,u),N(l,F.normalA));O.scale(l,F.normalA,j),G(F.contactPointB,h,n.position),G(F.contactPointA,h,l),G(F.contactPointA,F.contactPointA,t.position),this.contactEquations.push(F),this.enableFrictionReduction||this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(F))}}return this.enableFrictionReduction&&this.enableFriction&&d&&this.frictionEquations.push(this.createFrictionFromAverage(d)),d},D.prototype[a.PARTICLE|a.PLANE]=D.prototype.particlePlane=function(t,e,i,o,n,s,r,c,a){var h=W,u=U,r=(c=c||0,G(h,i,r),O.rotate(u,w,c),N(h,u));if(0<r)return 0;if(a)return!0;c=this.createContactEquation(n,t,s,e);return O.copy(c.normalA,u),O.scale(h,c.normalA,r),G(c.contactPointA,i,h),G(c.contactPointA,c.contactPointA,n.position),G(c.contactPointB,i,t.position),this.contactEquations.push(c),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(c)),1},D.prototype[a.CIRCLE|a.PARTICLE]=D.prototype.circleParticle=function(t,e,i,o,n,s,r,c,a){var h=W;if(G(h,r,i),O.squaredLength(h)>Math.pow(e.radius,2))return 0;if(a)return!0;a=this.createContactEquation(t,n,e,s);return O.copy(a.normalA,h),O.normalize(a.normalA,a.normalA),O.scale(a.contactPointA,a.normalA,e.radius),Q(a.contactPointA,a.contactPointA,i),G(a.contactPointA,a.contactPointA,t.position),G(a.contactPointB,r,n.position),this.contactEquations.push(a),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(a)),1},new r({radius:1})),_=O.create(),C=O.create(),k=(O.create(),D.prototype[a.PLANE|a.CAPSULE]=D.prototype.planeCapsule=function(t,e,i,o,n,s,r,c,a){var h,u=_,l=C,d=x,c=(O.set(u,-s.length/2,0),O.rotate(u,u,c),Q(u,u,r),O.set(l,s.length/2,0),O.rotate(l,l,c),Q(l,l,r),d.radius=s.radius,this.enableFrictionReduction&&(h=this.enableFriction,this.enableFriction=!1),this.circlePlane(n,d,u,0,t,e,i,o,a)),r=this.circlePlane(n,d,l,0,t,e,i,o,a);if(this.enableFrictionReduction&&(this.enableFriction=h),a)return c||r;s=c+r;return this.enableFrictionReduction&&s&&this.frictionEquations.push(this.createFrictionFromAverage(s)),s},D.prototype[a.CIRCLE|a.PLANE]=D.prototype.circlePlane=function(t,e,i,o,n,s,r,c,a){var h=e,c=c||0,u=W,l=U,d=X,c=(G(u,i,r),O.rotate(l,w,c),N(l,u));if(c>h.radius)return 0;if(a)return!0;a=this.createContactEquation(n,t,s,e);return O.copy(a.normalA,l),O.scale(a.contactPointB,a.normalA,-h.radius),Q(a.contactPointB,a.contactPointB,i),G(a.contactPointB,a.contactPointB,t.position),O.scale(d,a.normalA,c),G(a.contactPointA,u,d),Q(a.contactPointA,a.contactPointA,r),G(a.contactPointA,a.contactPointA,n.position),this.contactEquations.push(a),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(a)),1},D.prototype[a.CONVEX]=D.prototype[a.CONVEX|a.BOX]=D.prototype[a.BOX]=D.prototype.convexConvex=function(M,t,e,i,R,o,n,s,L,r){var c=W,a=U,h=X,u=V,l=H,d=z,p=K,F=Z,j=0,r="number"==typeof r?r:0;if(!D.findSeparatingAxis(t,e,i,o,n,s,c))return 0;G(p,n,e),0<N(c,p)&&O.scale(c,c,-1);var Y=D.getClosestEdge(t,i,c,!0),f=D.getClosestEdge(o,s,c);if(-1===Y||-1===f)return 0;for(var b=0;b<2;b++){var g,y=Y,m=f,x=t,v=o,w=e,_=n,E=i,S=s,C=M,P=R;0===b&&(g=y,y=m,m=g,g=x,x=v,v=g,g=w,w=_,_=g,g=E,E=s,S=g,g=C,C=P,P=g);for(var A=m;A<m+2;A++){var T=v.vertices[(A+v.vertices.length)%v.vertices.length];O.rotate(a,T,S),Q(a,a,_);for(var k=0,I=y-1;I<y+2;I++){var q=x.vertices[(I+x.vertices.length)%x.vertices.length],B=x.vertices[(I+1+x.vertices.length)%x.vertices.length],J=(O.rotate(h,q,E),O.rotate(u,B,E),Q(h,h,w),Q(u,u,w),G(l,u,h),O.rotate90cw(F,l),O.normalize(F,F),G(p,a,h),N(F,p));(I===y&&J<=r||I!==y&&J<=0)&&k++}if(3<=k){if(L)return!0;T=this.createContactEquation(C,P,x,v),q=(j++,x.vertices[y%x.vertices.length]),B=x.vertices[(y+1)%x.vertices.length],J=(O.rotate(h,q,E),O.rotate(u,B,E),Q(h,h,w),Q(u,u,w),G(l,u,h),O.rotate90cw(T.normalA,l),O.normalize(T.normalA,T.normalA),G(p,a,h),N(T.normalA,p));O.scale(d,T.normalA,J),G(T.contactPointA,a,w),G(T.contactPointA,T.contactPointA,d),Q(T.contactPointA,T.contactPointA,w),G(T.contactPointA,T.contactPointA,C.position),G(T.contactPointB,a,_),Q(T.contactPointB,T.contactPointB,_),G(T.contactPointB,T.contactPointB,P.position),this.contactEquations.push(T),this.enableFrictionReduction||this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(T))}}}return this.enableFrictionReduction&&this.enableFriction&&j&&this.frictionEquations.push(this.createFrictionFromAverage(j)),j},O.fromValues(0,0)),$=(D.projectConvexOntoAxis=function(t,e,i,o,n){var s,r=null,c=null,a=k;O.rotate(a,o,-i);for(var h=0;h<t.vertices.length;h++)s=t.vertices[h],s=N(s,a),(null===r||r<s)&&(r=s),(null===c||s<c)&&(c=s);r<c&&(i=c,c=r,r=i);i=N(e,o);O.set(n,c+i,r+i)},O.fromValues(0,0)),tt=O.fromValues(0,0),et=O.fromValues(0,0),it=O.fromValues(0,0),ot=O.fromValues(0,0),nt=O.fromValues(0,0),st=(D.findSeparatingAxis=function(t,e,i,o,n,s,r){var c=null,a=!1,h=!1,u=$,l=tt,d=et,p=it,F=ot,j=nt;if(t instanceof v&&o instanceof v)for(var Y=0;2!==Y;Y++){var f=t,b=i;1===Y&&(f=o,b=s);for(var g=0;2!==g;g++){0===g?O.set(p,0,1):1===g&&O.set(p,1,0),0!==b&&O.rotate(p,p,b),D.projectConvexOntoAxis(t,e,i,p,F),D.projectConvexOntoAxis(o,n,s,p,j);var y=F,m=j;F[0]>j[0]&&(m=F,y=j);a=(x=m[0]-y[1])<=0;(null===c||c<x)&&(O.copy(r,p),c=x,h=a)}}else for(Y=0;2!==Y;Y++){f=t,b=i;1===Y&&(f=o,b=s);for(g=0;g!==f.vertices.length;g++){O.rotate(l,f.vertices[g],b),O.rotate(d,f.vertices[(g+1)%f.vertices.length],b),G(u,d,l),O.rotate90cw(p,u),O.normalize(p,p),D.projectConvexOntoAxis(t,e,i,p,F),D.projectConvexOntoAxis(o,n,s,p,j);var x,y=F,m=j;F[0]>j[0]&&(m=F,y=j),a=(x=m[0]-y[1])<=0,(null===c||c<x)&&(O.copy(r,p),c=x,h=a)}}return h},O.fromValues(0,0)),rt=O.fromValues(0,0),ct=O.fromValues(0,0),at=(D.getClosestEdge=function(t,e,i,o){var n=st,s=rt,r=ct;O.rotate(n,i,-e),o&&O.scale(n,n,-1);for(var c=-1,a=t.vertices.length,h=-1,u=0;u!==a;u++){G(s,t.vertices[(u+1)%a],t.vertices[u%a]),O.rotate90cw(r,s),O.normalize(r,r);var l=N(r,n);(-1===c||h<l)&&(c=u%a,h=l)}return c},O.create()),ht=O.create(),ut=O.create(),lt=O.create(),dt=O.create(),pt=O.create(),Ft=O.create(),jt=(D.prototype[a.CIRCLE|a.HEIGHTFIELD]=D.prototype.circleHeightfield=function(t,e,i,o,n,s,r,c,a,h){var u=s.heights,h=h||e.radius,l=s.elementWidth,d=ht,p=at,F=dt,j=Ft,Y=pt,f=ut,b=lt,g=Math.floor((i[0]-h-r[0])/l),y=Math.ceil((i[0]+h-r[0])/l);y>=u.length&&(y=u.length-1);for(var m=u[g=g<0?0:g],x=u[y],v=g;v<y;v++)u[v]<x&&(x=u[v]),u[v]>m&&(m=u[v]);if(i[1]-h>m)return!a&&0;for(var w=!1,v=g;v<y;v++){O.set(f,v*l,u[v]),O.set(b,(v+1)*l,u[v+1]),O.add(f,f,r),O.add(b,b,r),O.sub(Y,b,f),O.rotate(Y,Y,Math.PI/2),O.normalize(Y,Y),O.scale(p,Y,-h),O.add(p,p,i),O.sub(d,p,f);var _=O.dot(d,Y);if(p[0]>=f[0]&&p[0]<b[0]&&_<=0){if(a)return!0;w=!0,O.scale(d,Y,-_),O.add(F,p,d),O.copy(j,Y);var E=this.createContactEquation(n,t,s,e);O.copy(E.normalA,j),O.scale(E.contactPointB,E.normalA,-h),Q(E.contactPointB,E.contactPointB,i),G(E.contactPointB,E.contactPointB,t.position),O.copy(E.contactPointA,F),O.sub(E.contactPointA,E.contactPointA,n.position),this.contactEquations.push(E),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(E))}}if(w=!1,0<h)for(v=g;v<=y;v++)if(O.set(f,v*l,u[v]),O.add(f,f,r),O.sub(d,i,f),O.squaredLength(d)<Math.pow(h,2)){if(a)return!0;w=!0,E=this.createContactEquation(n,t,s,e);O.copy(E.normalA,d),O.normalize(E.normalA,E.normalA),O.scale(E.contactPointB,E.normalA,-h),Q(E.contactPointB,E.contactPointB,i),G(E.contactPointB,E.contactPointB,t.position),G(E.contactPointA,f,r),Q(E.contactPointA,E.contactPointA,r),G(E.contactPointA,E.contactPointA,n.position),this.contactEquations.push(E),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(E))}return w?1:0},O.create()),Yt=O.create(),ft=O.create(),bt=new c({vertices:[O.create(),O.create(),O.create(),O.create()]});D.prototype[a.BOX|a.HEIGHTFIELD]=D.prototype[a.CONVEX|a.HEIGHTFIELD]=D.prototype.convexHeightfield=function(t,e,i,o,n,s,r,c,a){var h=s.heights,u=s.elementWidth,l=jt,d=Yt,p=ft,F=bt,s=Math.floor((t.aabb.lowerBound[0]-r[0])/u),j=Math.ceil((t.aabb.upperBound[0]-r[0])/u);j>=h.length&&(j=h.length-1);for(var Y=h[s=s<0?0:s],f=h[j],b=s;b<j;b++)h[b]<f&&(f=h[b]),h[b]>Y&&(Y=h[b]);if(t.aabb.lowerBound[1]>Y)return!a&&0;for(var g=0,b=s;b<j;b++){O.set(l,b*u,h[b]),O.set(d,(b+1)*u,h[b+1]),O.add(l,l,r),O.add(d,d,r);O.set(p,.5*(d[0]+l[0]),.5*(d[1]+l[1]-100)),O.sub(F.vertices[0],d,p),O.sub(F.vertices[1],l,p),O.copy(F.vertices[2],F.vertices[1]),O.copy(F.vertices[3],F.vertices[0]),F.vertices[2][1]-=100,F.vertices[3][1]-=100,g+=this.convexConvex(t,e,i,o,n,F,p,0,a)}return g}},{"../equations/ContactEquation":21,"../equations/Equation":22,"../equations/FrictionEquation":23,"../math/vec2":30,"../objects/Body":31,"../shapes/Box":37,"../shapes/Circle":39,"../shapes/Convex":40,"../shapes/Shape":45,"../utils/ContactEquationPool":48,"../utils/FrictionEquationPool":49,"../utils/TupleDictionary":56,"../utils/Utils":57}],11:[function(t,e,i){function r(t){this.from=(t=t||{}).from?h.fromValues(t.from[0],t.from[1]):h.create(),this.to=t.to?h.fromValues(t.to[0],t.to[1]):h.create(),this.checkCollisionResponse=void 0===t.checkCollisionResponse||t.checkCollisionResponse,this.skipBackfaces=!!t.skipBackfaces,this.collisionMask=void 0!==t.collisionMask?t.collisionMask:-1,this.collisionGroup=void 0!==t.collisionGroup?t.collisionGroup:-1,this.mode=void 0!==t.mode?t.mode:r.ANY,this.callback=t.callback||function(t){},this.direction=h.create(),this.length=1,this.update()}e.exports=r;var h=t("../math/vec2"),a=(t("../collision/RaycastResult"),t("../shapes/Shape"),t("../collision/AABB"),(r.prototype.constructor=r).CLOSEST=1,r.ANY=2,r.ALL=4,r.prototype.update=function(){var t=this.direction;h.sub(t,this.to,this.from),this.length=h.length(t),h.normalize(t,t)},r.prototype.intersectBodies=function(t,e){for(var i=0,o=e.length;!t.shouldStop(this)&&i<o;i++){var n=e[i],s=n.getAABB();(0<=s.overlapsRay(this)||s.containsPoint(this.from))&&this.intersectBody(t,n)}},h.create()),u=(r.prototype.intersectBody=function(t,e){var i=this.checkCollisionResponse;if(!i||e.collisionResponse)for(var o=a,n=0,s=e.shapes.length;n<s;n++){var r=e.shapes[n];if((!i||r.collisionResponse)&&0!=(this.collisionGroup&r.collisionMask)&&0!=(r.collisionGroup&this.collisionMask)){h.rotate(o,r.position,e.angle),h.add(o,o,e.position);var c=r.angle+e.angle;if(this.intersectShape(t,r,c,o,e),t.shouldStop(this))break}}},r.prototype.intersectShape=function(t,e,i,o,n){var s,r,c,a;s=this.from,r=this.direction,c=o,h.sub(u,c,s),a=h.dot(u,r),h.scale(l,r,a),h.add(l,l,s),h.squaredDistance(c,l)>e.boundingRadius*e.boundingRadius||(this._currentBody=n,(this._currentShape=e).raycast(t,this,o,i),this._currentBody=this._currentShape=null)},r.prototype.getAABB=function(t){var e=this.to,i=this.from;h.set(t.lowerBound,Math.min(e[0],i[0]),Math.min(e[1],i[1])),h.set(t.upperBound,Math.max(e[0],i[0]),Math.max(e[1],i[1]))},h.create(),r.prototype.reportIntersection=function(t,e,i,o){this.from,this.to;var n=this._currentShape,s=this._currentBody;if(!(this.skipBackfaces&&0<h.dot(i,this.direction)))switch(this.mode){case r.ALL:t.set(i,n,s,e,o),this.callback(t);break;case r.CLOSEST:(e<t.fraction||!t.hasHit())&&t.set(i,n,s,e,o);break;case r.ANY:t.set(i,n,s,e,o)}},h.create()),l=h.create()},{"../collision/AABB":7,"../collision/RaycastResult":12,"../math/vec2":30,"../shapes/Shape":45}],12:[function(t,e,i){function o(){this.normal=s.create(),this.shape=null,this.body=null,this.faceIndex=-1,this.fraction=-1,this.isStopped=!1}var s=t("../math/vec2"),n=t("../collision/Ray");(e.exports=o).prototype.reset=function(){s.set(this.normal,0,0),this.shape=null,this.body=null,this.faceIndex=-1,this.fraction=-1,this.isStopped=!1},o.prototype.getHitDistance=function(t){return s.distance(t.from,t.to)*this.fraction},o.prototype.hasHit=function(){return-1!==this.fraction},o.prototype.getHitPoint=function(t,e){s.lerp(t,e.from,e.to,this.fraction)},o.prototype.stop=function(){this.isStopped=!0},o.prototype.shouldStop=function(t){return this.isStopped||-1!==this.fraction&&t.mode===n.ANY},o.prototype.set=function(t,e,i,o,n){s.copy(this.normal,t),this.shape=e,this.body=i,this.fraction=o,this.faceIndex=n}},{"../collision/Ray":11,"../math/vec2":30}],13:[function(t,e,i){function o(){l.call(this,l.SAP),this.axisList=[],this.axisIndex=0;var e=this;this._addBodyHandler=function(t){e.axisList.push(t.body)},this._removeBodyHandler=function(t){t=e.axisList.indexOf(t.body);-1!==t&&e.axisList.splice(t,1)}}var n=t("../utils/Utils"),l=t("../collision/Broadphase");(((e.exports=o).prototype=new l).constructor=o).prototype.setWorld=function(t){this.axisList.length=0,n.appendArray(this.axisList,t.bodies),t.off("addBody",this._addBodyHandler).off("removeBody",this._removeBodyHandler),t.on("addBody",this._addBodyHandler).on("removeBody",this._removeBodyHandler),this.world=t},o.sortAxisList=function(t,e){e|=0;for(var i=1,o=t.length;i<o;i++){for(var n=t[i],s=i-1;0<=s&&!(t[s].aabb.lowerBound[e]<=n.aabb.lowerBound[e]);s--)t[s+1]=t[s];t[s+1]=n}return t},o.prototype.sortList=function(){var t=this.axisList,e=this.axisIndex;o.sortAxisList(t,e)},o.prototype.getCollisionPairs=function(t){var e=this.axisList,i=this.result,o=this.axisIndex;i.length=0;for(var n=e.length;n--;){var s=e[n];s.aabbNeedsUpdate&&s.updateAABB()}this.sortList();for(var r=0,c=0|e.length;r!==c;r++)for(var a=e[r],h=r+1;h<c;h++){var u=e[h];if(!(u.aabb.lowerBound[o]<=a.aabb.upperBound[o]))break;l.canCollide(a,u)&&this.boundingVolumeCheck(a,u)&&i.push(a,u)}return i},o.prototype.aabbQuery=function(t,e,i){i=i||[],this.sortList();for(var o=this.axisIndex,o=2===o?"z":1===o?"y":"x",n=this.axisList,s=(e.lowerBound[o],e.upperBound[o],0);s<n.length;s++){var r=n[s];r.aabbNeedsUpdate&&r.updateAABB(),r.aabb.overlaps(e)&&i.push(r)}return i}},{"../collision/Broadphase":8,"../utils/Utils":57}],14:[function(t,e,i){function o(t,e,i,o){this.type=i,o=n.defaults(o,{collideConnected:!0,wakeUpBodies:!0}),this.equations=[],this.bodyA=t,this.bodyB=e,this.collideConnected=o.collideConnected,o.wakeUpBodies&&(t&&t.wakeUp(),e&&e.wakeUp())}e.exports=o;var n=t("../utils/Utils");o.prototype.update=function(){throw new Error("method update() not implmemented in this Constraint subclass!")},o.DISTANCE=1,o.GEAR=2,o.LOCK=3,o.PRISMATIC=4,o.REVOLUTE=5,o.prototype.setStiffness=function(t){for(var e=this.equations,i=0;i!==e.length;i++){var o=e[i];o.stiffness=t,o.needsUpdate=!0}},o.prototype.setRelaxation=function(t){for(var e=this.equations,i=0;i!==e.length;i++){var o=e[i];o.relaxation=t,o.needsUpdate=!0}}},{"../utils/Utils":57}],15:[function(t,e,i){function o(t,e,i){i=F.defaults(i,{localAnchorA:[0,0],localAnchorB:[0,0]}),l.call(this,t,e,l.DISTANCE,i),this.localAnchorA=p.fromValues(i.localAnchorA[0],i.localAnchorA[1]),this.localAnchorB=p.fromValues(i.localAnchorB[0],i.localAnchorB[1]);var o,n=this.localAnchorA,s=this.localAnchorB,r=(this.distance=0,"number"==typeof i.distance?this.distance=i.distance:(r=p.create(),o=p.create(),c=p.create(),p.rotate(r,n,t.angle),p.rotate(o,s,e.angle),p.add(c,e.position,o),p.sub(c,c,r),p.sub(c,c,t.position),this.distance=p.length(c)),o=void 0===i.maxForce?Number.MAX_VALUE:i.maxForce,new d(t,e,-o,o)),c=(this.equations=[r],this.maxForce=o,p.create()),a=p.create(),h=p.create(),u=this;r.computeGq=function(){var t=this.bodyA,e=this.bodyB,i=t.position,o=e.position;return p.rotate(a,n,t.angle),p.rotate(h,s,e.angle),p.add(c,o,h),p.sub(c,c,a),p.sub(c,c,i),p.length(c)-u.distance},this.setMaxForce(o),this.upperLimitEnabled=!1,this.upperLimit=1,this.lowerLimitEnabled=!1,this.lowerLimit=0,this.position=0}var l=t("./Constraint"),d=t("../equations/Equation"),p=t("../math/vec2"),F=t("../utils/Utils"),r=(((e.exports=o).prototype=new l).constructor=o,p.create()),c=p.create(),a=p.create();o.prototype.update=function(){var t=this.equations[0],e=this.bodyA,i=this.bodyB,o=(this.distance,e.position),n=i.position,s=this.equations[0],t=t.G,e=(p.rotate(c,this.localAnchorA,e.angle),p.rotate(a,this.localAnchorB,i.angle),p.add(r,n,a),p.sub(r,r,c),p.sub(r,r,o),this.position=p.length(r),!1);this.upperLimitEnabled&&this.position>this.upperLimit&&(s.maxForce=0,s.minForce=-this.maxForce,this.distance=this.upperLimit,e=!0),this.lowerLimitEnabled&&this.position<this.lowerLimit&&(s.maxForce=this.maxForce,s.minForce=0,this.distance=this.lowerLimit,e=!0),!this.lowerLimitEnabled&&!this.upperLimitEnabled||e?(s.enabled=!0,p.normalize(r,r),i=p.crossLength(c,r),n=p.crossLength(a,r),t[0]=-r[0],t[1]=-r[1],t[2]=-i,t[3]=r[0],t[4]=r[1],t[5]=n):s.enabled=!1},o.prototype.setMaxForce=function(t){var e=this.equations[0];e.minForce=-t,e.maxForce=t},o.prototype.getMaxForce=function(){return this.equations[0].maxForce}},{"../equations/Equation":22,"../math/vec2":30,"../utils/Utils":57,"./Constraint":14}],16:[function(t,e,i){function o(t,e,i){n.call(this,t,e,n.GEAR,i=i||{}),this.ratio=void 0!==i.ratio?i.ratio:1,this.angle=void 0!==i.angle?i.angle:e.angle-this.ratio*t.angle,i.angle=this.angle,i.ratio=this.ratio,this.equations=[new s(t,e,i)],void 0!==i.maxTorque&&this.setMaxTorque(i.maxTorque)}var n=t("./Constraint"),s=(t("../equations/Equation"),t("../equations/AngleLockEquation"));t("../math/vec2"),(((e.exports=o).prototype=new n).constructor=o).prototype.update=function(){var t=this.equations[0];t.ratio!==this.ratio&&t.setRatio(this.ratio),t.angle=this.angle},o.prototype.setMaxTorque=function(t){this.equations[0].setMaxTorque(t)},o.prototype.getMaxTorque=function(t){return this.equations[0].maxForce}},{"../equations/AngleLockEquation":20,"../equations/Equation":22,"../math/vec2":30,"./Constraint":14}],17:[function(t,e,i){function o(t,e,i){d.call(this,t,e,d.LOCK,i=i||{});var o=void 0===i.maxForce?Number.MAX_VALUE:i.maxForce,n=(i.localAngleB,new F(t,e,-o,o)),s=new F(t,e,-o,o),r=new F(t,e,-o,o),c=p.create(),a=p.create(),h=this,u=(n.computeGq=function(){return p.rotate(c,h.localOffsetB,t.angle),p.sub(a,e.position,t.position),p.sub(a,a,c),a[0]},s.computeGq=function(){return p.rotate(c,h.localOffsetB,t.angle),p.sub(a,e.position,t.position),p.sub(a,a,c),a[1]},p.create()),l=p.create();r.computeGq=function(){return p.rotate(u,h.localOffsetB,e.angle-h.localAngleB),p.scale(u,u,-1),p.sub(a,t.position,e.position),p.add(a,a,u),p.rotate(l,u,-Math.PI/2),p.normalize(l,l),p.dot(a,l)},this.localOffsetB=p.create(),i.localOffsetB?p.copy(this.localOffsetB,i.localOffsetB):(p.sub(this.localOffsetB,e.position,t.position),p.rotate(this.localOffsetB,this.localOffsetB,-t.angle)),this.localAngleB=0,"number"==typeof i.localAngleB?this.localAngleB=i.localAngleB:this.localAngleB=e.angle-t.angle,this.equations.push(n,s,r),this.setMaxForce(o)}var d=t("./Constraint"),p=t("../math/vec2"),F=t("../equations/Equation"),s=((((e.exports=o).prototype=new d).constructor=o).prototype.setMaxForce=function(t){for(var e=this.equations,i=0;i<this.equations.length;i++)e[i].maxForce=t,e[i].minForce=-t},o.prototype.getMaxForce=function(){return this.equations[0].maxForce},p.create()),r=p.create(),c=p.create(),a=p.fromValues(1,0),h=p.fromValues(0,1);o.prototype.update=function(){var t=this.equations[0],e=this.equations[1],i=this.equations[2],o=this.bodyA,n=this.bodyB;p.rotate(s,this.localOffsetB,o.angle),p.rotate(r,this.localOffsetB,n.angle-this.localAngleB),p.scale(r,r,-1),p.rotate(c,r,Math.PI/2),p.normalize(c,c),t.G[0]=-1,t.G[1]=0,t.G[2]=-p.crossLength(s,a),t.G[3]=1,e.G[0]=0,e.G[1]=-1,e.G[2]=-p.crossLength(s,h),e.G[4]=1,i.G[0]=-c[0],i.G[1]=-c[1],i.G[3]=c[0],i.G[4]=c[1],i.G[5]=p.crossLength(r,c)}},{"../equations/Equation":22,"../math/vec2":30,"./Constraint":14}],18:[function(t,e,i){function o(o,n,t){p.call(this,o,n,p.PRISMATIC,t=t||{});var s=Y.fromValues(0,0),r=Y.fromValues(1,0),c=Y.fromValues(0,0),e=(t.localAnchorA&&Y.copy(s,t.localAnchorA),t.localAxisA&&Y.copy(r,t.localAxisA),t.localAnchorB&&Y.copy(c,t.localAnchorB),this.localAnchorA=s,this.localAnchorB=c,this.localAxisA=r,this.maxForce=void 0!==t.maxForce?t.maxForce:Number.MAX_VALUE),i=new j(o,n,-e,e),a=new Y.create,h=new Y.create,u=new Y.create,l=new Y.create,d=(i.computeGq=function(){return Y.dot(u,l)},i.updateJacobian=function(){var t=this.G,e=o.position,i=n.position;Y.rotate(a,s,o.angle),Y.rotate(h,c,n.angle),Y.add(u,i,h),Y.sub(u,u,e),Y.sub(u,u,a),Y.rotate(l,r,o.angle+Math.PI/2),t[0]=-l[0],t[1]=-l[1],t[2]=-Y.crossLength(a,l)+Y.crossLength(l,u),t[3]=l[0],t[4]=l[1],t[5]=Y.crossLength(h,l)},this.equations.push(i),t.disableRotationalLock||(i=new f(o,n,-e,e),this.equations.push(i)),this.position=0,this.velocity=0,this.lowerLimitEnabled=void 0!==t.lowerLimit,this.upperLimitEnabled=void 0!==t.upperLimit,this.lowerLimit=void 0!==t.lowerLimit?t.lowerLimit:0,this.upperLimit=void 0!==t.upperLimit?t.upperLimit:1,this.upperLimitEquation=new F(o,n),this.lowerLimitEquation=new F(o,n),this.upperLimitEquation.minForce=this.lowerLimitEquation.minForce=0,this.upperLimitEquation.maxForce=this.lowerLimitEquation.maxForce=e,this.motorEquation=new j(o,n),this.motorEnabled=!1,this.motorSpeed=0,this),i=this.motorEquation;i.computeGW,i.computeGq=function(){return 0},i.computeGW=function(){var t=this.G,e=this.bodyA,i=this.bodyB,o=e.velocity,n=i.velocity,e=e.angularVelocity,i=i.angularVelocity;return this.gmult(t,o,e,n,i)+d.motorSpeed}}var p=t("./Constraint"),F=t("../equations/ContactEquation"),j=t("../equations/Equation"),Y=t("../math/vec2"),f=t("../equations/RotationalLockEquation"),d=(((e.exports=o).prototype=new p).constructor=o,Y.create()),b=Y.create(),g=Y.create(),y=Y.create(),m=Y.create(),x=Y.create();o.prototype.update=function(){var t,e=this.equations,i=e[0],o=this.upperLimit,n=this.lowerLimit,s=this.upperLimitEquation,r=this.lowerLimitEquation,c=this.bodyA,a=this.bodyB,h=this.localAxisA,u=this.localAnchorA,l=this.localAnchorB,i=(i.updateJacobian(),Y.rotate(d,h,c.angle),Y.rotate(y,u,c.angle),Y.add(b,y,c.position),Y.rotate(m,l,a.angle),Y.add(g,m,a.position),this.position=Y.dot(g,d)-Y.dot(b,d));this.motorEnabled&&((h=this.motorEquation.G)[0]=d[0],h[1]=d[1],h[2]=Y.crossLength(d,m),h[3]=-d[0],h[4]=-d[1],h[5]=-Y.crossLength(d,y)),this.upperLimitEnabled&&o<i?(Y.scale(s.normalA,d,-1),Y.sub(s.contactPointA,b,c.position),Y.sub(s.contactPointB,g,a.position),Y.scale(x,d,o),Y.add(s.contactPointA,s.contactPointA,x),-1===e.indexOf(s)&&e.push(s)):-1!==(t=e.indexOf(s))&&e.splice(t,1),this.lowerLimitEnabled&&i<n?(Y.scale(r.normalA,d,1),Y.sub(r.contactPointA,b,c.position),Y.sub(r.contactPointB,g,a.position),Y.scale(x,d,n),Y.sub(r.contactPointB,r.contactPointB,x),-1===e.indexOf(r)&&e.push(r)):-1!==(t=e.indexOf(r))&&e.splice(t,1)},o.prototype.enableMotor=function(){this.motorEnabled||(this.equations.push(this.motorEquation),this.motorEnabled=!0)},o.prototype.disableMotor=function(){var t;this.motorEnabled&&(t=this.equations.indexOf(this.motorEquation),this.equations.splice(t,1),this.motorEnabled=!1)},o.prototype.setLimits=function(t,e){"number"==typeof t?(this.lowerLimit=t,this.lowerLimitEnabled=!0):(this.lowerLimit=t,this.lowerLimitEnabled=!1),"number"==typeof e?(this.upperLimit=e,this.upperLimitEnabled=!0):(this.upperLimit=e,this.upperLimitEnabled=!1)}},{"../equations/ContactEquation":21,"../equations/Equation":22,"../equations/RotationalLockEquation":24,"../math/vec2":30,"./Constraint":14}],19:[function(t,e,i){function o(t,e,i){r.call(this,t,e,r.REVOLUTE,i=i||{});var o=this.maxForce=void 0!==i.maxForce?i.maxForce:Number.MAX_VALUE,i=(this.pivotA=p.create(),this.pivotB=p.create(),i.worldPivot?(p.sub(this.pivotA,i.worldPivot,t.position),p.sub(this.pivotB,i.worldPivot,e.position),p.rotate(this.pivotA,this.pivotA,-t.angle),p.rotate(this.pivotB,this.pivotB,-e.angle)):(p.copy(this.pivotA,i.localPivotA),p.copy(this.pivotB,i.localPivotB)),this.equations=[new c(t,e,-o,o),new c(t,e,-o,o)]),n=i[0],i=i[1],s=this;n.computeGq=function(){return p.rotate(F,s.pivotA,t.angle),p.rotate(j,s.pivotB,e.angle),p.add(u,e.position,j),p.sub(u,u,t.position),p.sub(u,u,F),p.dot(u,Y)},i.computeGq=function(){return p.rotate(F,s.pivotA,t.angle),p.rotate(j,s.pivotB,e.angle),p.add(u,e.position,j),p.sub(u,u,t.position),p.sub(u,u,F),p.dot(u,f)},i.minForce=n.minForce=-o,i.maxForce=n.maxForce=o,this.motorEquation=new a(t,e),this.motorEnabled=!1,this.angle=0,this.lowerLimitEnabled=!1,this.upperLimitEnabled=!1,this.lowerLimit=0,this.upperLimit=0,this.upperLimitEquation=new h(t,e),this.lowerLimitEquation=new h(t,e),this.upperLimitEquation.minForce=0,this.lowerLimitEquation.maxForce=0}var r=t("./Constraint"),c=t("../equations/Equation"),a=t("../equations/RotationalVelocityEquation"),h=t("../equations/RotationalLockEquation"),p=t("../math/vec2"),F=(e.exports=o,p.create()),j=p.create(),Y=p.fromValues(1,0),f=p.fromValues(0,1),u=p.create();((o.prototype=new r).constructor=o).prototype.setLimits=function(t,e){"number"==typeof t?(this.lowerLimit=t,this.lowerLimitEnabled=!0):(this.lowerLimit=t,this.lowerLimitEnabled=!1),"number"==typeof e?(this.upperLimit=e,this.upperLimitEnabled=!0):(this.upperLimit=e,this.upperLimitEnabled=!1)},o.prototype.update=function(){var t,e=this.bodyA,i=this.bodyB,o=this.pivotA,n=this.pivotB,s=this.equations,r=(s[0],s[1],s[0]),c=s[1],a=this.upperLimit,h=this.lowerLimit,u=this.upperLimitEquation,l=this.lowerLimitEquation,d=this.angle=i.angle-e.angle;this.upperLimitEnabled&&a<d?(u.angle=a,-1===s.indexOf(u)&&s.push(u)):-1!==(t=s.indexOf(u))&&s.splice(t,1),this.lowerLimitEnabled&&d<h?(l.angle=h,-1===s.indexOf(l)&&s.push(l)):-1!==(t=s.indexOf(l))&&s.splice(t,1),p.rotate(F,o,e.angle),p.rotate(j,n,i.angle),r.G[0]=-1,r.G[1]=0,r.G[2]=-p.crossLength(F,Y),r.G[3]=1,r.G[4]=0,r.G[5]=p.crossLength(j,Y),c.G[0]=0,c.G[1]=-1,c.G[2]=-p.crossLength(F,f),c.G[3]=0,c.G[4]=1,c.G[5]=p.crossLength(j,f)},o.prototype.enableMotor=function(){this.motorEnabled||(this.equations.push(this.motorEquation),this.motorEnabled=!0)},o.prototype.disableMotor=function(){var t;this.motorEnabled&&(t=this.equations.indexOf(this.motorEquation),this.equations.splice(t,1),this.motorEnabled=!1)},o.prototype.motorIsEnabled=function(){return!!this.motorEnabled},o.prototype.setMotorSpeed=function(t){var e;this.motorEnabled&&(e=this.equations.indexOf(this.motorEquation),this.equations[e].relativeVelocity=t)},o.prototype.getMotorSpeed=function(){return!!this.motorEnabled&&this.motorEquation.relativeVelocity}},{"../equations/Equation":22,"../equations/RotationalLockEquation":24,"../equations/RotationalVelocityEquation":25,"../math/vec2":30,"./Constraint":14}],20:[function(t,e,i){function o(t,e,i){i=i||{},n.call(this,t,e,-Number.MAX_VALUE,Number.MAX_VALUE),this.angle=i.angle||0,this.ratio="number"==typeof i.ratio?i.ratio:1,this.setRatio(this.ratio)}var n=t("./Equation");t("../math/vec2"),(((e.exports=o).prototype=new n).constructor=o).prototype.computeGq=function(){return this.ratio*this.bodyA.angle-this.bodyB.angle+this.angle},o.prototype.setRatio=function(t){var e=this.G;e[2]=t,e[5]=-1,this.ratio=t},o.prototype.setMaxTorque=function(t){this.maxForce=t,this.minForce=-t}},{"../math/vec2":30,"./Equation":22}],21:[function(t,e,i){function o(t,e){n.call(this,t,e,0,Number.MAX_VALUE),this.contactPointA=p.create(),this.penetrationVec=p.create(),this.contactPointB=p.create(),this.normalA=p.create(),this.restitution=0,this.firstImpact=!1,this.shapeA=null,this.shapeB=null}var n=t("./Equation"),p=t("../math/vec2");(((e.exports=o).prototype=new n).constructor=o).prototype.computeB=function(t,e,i){var o,n=this.bodyA,s=this.bodyB,r=this.contactPointA,c=this.contactPointB,n=n.position,s=s.position,a=this.penetrationVec,h=this.normalA,u=this.G,l=p.crossLength(r,h),d=p.crossLength(c,h);return u[0]=-h[0],u[1]=-h[1],u[2]=-l,u[3]=h[0],u[4]=h[1],u[5]=d,p.add(a,s,c),p.sub(a,a,n),p.sub(a,a,r),l=this.firstImpact&&0!==this.restitution?(o=0,1/e*(1+this.restitution)*this.computeGW()):(o=p.dot(h,a)+this.offset,this.computeGW()),-o*t-l*e-i*this.computeGiMf()}},{"../math/vec2":30,"./Equation":22}],22:[function(t,e,i){function s(t,e,i,o){this.minForce=void 0===i?-Number.MAX_VALUE:i,this.maxForce=void 0===o?Number.MAX_VALUE:o,this.bodyA=t,this.bodyB=e,this.stiffness=s.DEFAULT_STIFFNESS,this.relaxation=s.DEFAULT_RELAXATION,this.G=new r.ARRAY_TYPE(6);for(var n=0;n<6;n++)this.G[n]=0;this.offset=0,this.a=0,this.b=0,this.epsilon=0,this.timeStep=1/60,this.needsUpdate=!0,this.multiplier=0,this.relativeVelocity=0,this.enabled=!0}e.exports=s;var l=t("../math/vec2"),r=t("../utils/Utils"),o=(t("../objects/Body"),(s.prototype.constructor=s).DEFAULT_STIFFNESS=1e6,s.DEFAULT_RELAXATION=4,s.prototype.update=function(){var t=this.stiffness,e=this.relaxation,i=this.timeStep;this.a=4/(i*(1+4*e)),this.b=4*e/(1+4*e),this.epsilon=4/(i*i*t*(1+4*e)),this.needsUpdate=!1},s.prototype.gmult=function(t,e,i,o,n){return t[0]*e[0]+t[1]*e[1]+t[2]*i+t[3]*o[0]+t[4]*o[1]+t[5]*n},s.prototype.computeB=function(t,e,i){var o=this.computeGW();return-this.computeGq()*t-o*e-this.computeGiMf()*i},l.create()),n=l.create(),d=(s.prototype.computeGq=function(){var t=this.G,e=this.bodyA,i=this.bodyB,e=(e.position,i.position,e.angle),i=i.angle;return this.gmult(t,o,e,n,i)+this.offset},s.prototype.computeGW=function(){var t=this.G,e=this.bodyA,i=this.bodyB,o=e.velocity,n=i.velocity,e=e.angularVelocity,i=i.angularVelocity;return this.gmult(t,o,e,n,i)+this.relativeVelocity},s.prototype.computeGWlambda=function(){var t=this.G,e=this.bodyA,i=this.bodyB,o=e.vlambda,n=i.vlambda,e=e.wlambda,i=i.wlambda;return this.gmult(t,o,e,n,i)},l.create()),p=l.create(),F=(s.prototype.computeGiMf=function(){var t=this.bodyA,e=this.bodyB,i=t.force,o=t.angularForce,n=e.force,s=e.angularForce,r=t.invMassSolve,c=e.invMassSolve,a=t.invInertiaSolve,h=e.invInertiaSolve,u=this.G;return l.scale(d,i,r),l.multiply(d,t.massMultiplier,d),l.scale(p,n,c),l.multiply(p,e.massMultiplier,p),this.gmult(u,d,o*a,p,s*h)},s.prototype.computeGiMGt=function(){var t=this.bodyA,e=this.bodyB,i=t.invMassSolve,o=e.invMassSolve,n=t.invInertiaSolve,s=e.invInertiaSolve,r=this.G;return r[0]*r[0]*i*t.massMultiplier[0]+r[1]*r[1]*i*t.massMultiplier[1]+r[2]*r[2]*n+r[3]*r[3]*o*e.massMultiplier[0]+r[4]*r[4]*o*e.massMultiplier[1]+r[5]*r[5]*s},l.create()),j=l.create(),Y=l.create();l.create(),l.create(),l.create(),s.prototype.addToWlambda=function(t){var e=this.bodyA,i=this.bodyB,o=F,n=j,s=Y,r=e.invMassSolve,c=i.invMassSolve,a=e.invInertiaSolve,h=i.invInertiaSolve,u=this.G;n[0]=u[0],n[1]=u[1],s[0]=u[3],s[1]=u[4],l.scale(o,n,r*t),l.multiply(o,o,e.massMultiplier),l.add(e.vlambda,e.vlambda,o),e.wlambda+=a*u[2]*t,l.scale(o,s,c*t),l.multiply(o,o,i.massMultiplier),l.add(i.vlambda,i.vlambda,o),i.wlambda+=h*u[5]*t},s.prototype.computeInvC=function(t){return 1/(this.computeGiMGt()+t)}},{"../math/vec2":30,"../objects/Body":31,"../utils/Utils":57}],23:[function(t,e,i){function o(t,e,i){n.call(this,t,e,-i,i),this.contactPointA=c.create(),this.contactPointB=c.create(),this.t=c.create(),this.contactEquations=[],this.shapeA=null,this.shapeB=null,this.frictionCoefficient=.3}var c=t("../math/vec2"),n=t("./Equation");t("../utils/Utils"),(((e.exports=o).prototype=new n).constructor=o).prototype.setSlipForce=function(t){this.maxForce=t,this.minForce=-t},o.prototype.getSlipForce=function(){return this.maxForce},o.prototype.computeB=function(t,e,i){this.bodyA,this.bodyB;var o=this.contactPointA,n=this.contactPointB,s=this.t,r=this.G;return r[0]=-s[0],r[1]=-s[1],r[2]=-c.crossLength(o,s),r[3]=s[0],r[4]=s[1],r[5]=c.crossLength(n,s),-this.computeGW()*e-i*this.computeGiMf()}},{"../math/vec2":30,"../utils/Utils":57,"./Equation":22}],24:[function(t,e,i){function o(t,e,i){i=i||{},n.call(this,t,e,-Number.MAX_VALUE,Number.MAX_VALUE),this.angle=i.angle||0;t=this.G;t[2]=1,t[5]=-1}var n=t("./Equation"),s=t("../math/vec2"),r=(((e.exports=o).prototype=new n).constructor=o,s.create()),c=s.create(),a=s.fromValues(1,0),h=s.fromValues(0,1);o.prototype.computeGq=function(){return s.rotate(r,a,this.bodyA.angle+this.angle),s.rotate(c,h,this.bodyB.angle),s.dot(r,c)}},{"../math/vec2":30,"./Equation":22}],25:[function(t,e,i){function o(t,e){n.call(this,t,e,-Number.MAX_VALUE,Number.MAX_VALUE),this.relativeVelocity=1,this.ratio=1}var n=t("./Equation");t("../math/vec2"),(((e.exports=o).prototype=new n).constructor=o).prototype.computeB=function(t,e,i){var o=this.G,o=(o[2]=-1,o[5]=this.ratio,this.computeGiMf());return-this.computeGW()*e-i*o}},{"../math/vec2":30,"./Equation":22}],26:[function(t,e,i){function o(){}(e.exports=o).prototype={constructor:o,on:function(t,e,i){e.context=i||this,void 0===this._listeners&&(this._listeners={});i=this._listeners;return void 0===i[t]&&(i[t]=[]),-1===i[t].indexOf(e)&&i[t].push(e),this},has:function(t,e){if(void 0===this._listeners)return!1;var i=this._listeners;if(e){if(void 0!==i[t]&&-1!==i[t].indexOf(e))return!0}else if(void 0!==i[t])return!0;return!1},off:function(t,e){if(void 0===this._listeners)return this;var i=this._listeners,e=i[t].indexOf(e);return-1!==e&&i[t].splice(e,1),this},emit:function(t){if(void 0===this._listeners)return this;var e=this._listeners[t.type];if(void 0!==e){t.target=this;for(var i=0,o=e.length;i<o;i++){var n=e[i];n.call(n.context,t)}}return this}}},{}],27:[function(t,e,i){function o(t,e,i){if(i=i||{},!(t instanceof n&&e instanceof n))throw new Error("First two arguments must be Material instances.");this.id=o.idCounter++,this.materialA=t,this.materialB=e,this.friction=void 0!==i.friction?Number(i.friction):.3,this.restitution=void 0!==i.restitution?Number(i.restitution):0,this.stiffness=void 0!==i.stiffness?Number(i.stiffness):s.DEFAULT_STIFFNESS,this.relaxation=void 0!==i.relaxation?Number(i.relaxation):s.DEFAULT_RELAXATION,this.frictionStiffness=void 0!==i.frictionStiffness?Number(i.frictionStiffness):s.DEFAULT_STIFFNESS,this.frictionRelaxation=void 0!==i.frictionRelaxation?Number(i.frictionRelaxation):s.DEFAULT_RELAXATION,this.surfaceVelocity=void 0!==i.surfaceVelocity?Number(i.surfaceVelocity):0,this.contactSkinSize=.005}var n=t("./Material"),s=t("../equations/Equation");(e.exports=o).idCounter=0},{"../equations/Equation":22,"./Material":28}],28:[function(t,e,i){function o(t){this.id=t||o.idCounter++}(e.exports=o).idCounter=0},{}],29:[function(t,e,i){var b={GetArea:function(t){if(t.length<6)return 0;for(var e=t.length-2,i=0,o=0;o<e;o+=2)i+=(t[o+2]-t[o])*(t[o+1]+t[o+3]);return.5*-(i+(t[0]-t[e])*(t[1+e]+t[1]))},Triangulate:function(t){var e=t.length>>1;if(e<3)return[];for(var i=[],o=[],n=0;n<e;n++)o.push(n);for(var n=0,s=e;3<s;){var r=o[(n+0)%s],c=o[(n+1)%s],a=o[(n+2)%s],h=t[2*r],u=t[2*r+1],l=t[2*c],d=t[2*c+1],p=t[2*a],F=t[2*a+1],j=!1;if(b._convex(h,u,l,d,p,F))for(var j=!0,Y=0;Y<s;Y++){var f=o[Y];if(f!=r&&f!=c&&f!=a&&b._PointInTriangle(t[2*f],t[2*f+1],h,u,l,d,p,F)){j=!1;break}}if(j)i.push(r,c,a),o.splice((n+1)%s,1),s--,n=0;else if(n++>3*s)break}return i.push(o[0],o[1],o[2]),i},_PointInTriangle:function(t,e,i,o,n,s,r,c){r-=i,c-=o,n-=i,s-=o,t-=i,i=e-o,e=r*r+c*c,o=r*n+c*s,r=r*t+c*i,c=n*n+s*s,n=n*t+s*i,t=1/(e*c-o*o),s=(c*r-o*n)*t,i=(e*n-o*r)*t;return 0<=s&&0<=i&&s+i<1},_convex:function(t,e,i,o,n,s){return 0<=(e-o)*(n-i)+(i-t)*(s-o)}};e.exports=b},{}],30:[function(t,e,i){var s=e.exports={},o=t("../utils/Utils");s.crossLength=function(t,e){return t[0]*e[1]-t[1]*e[0]},s.crossVZ=function(t,e,i){return s.rotate(t,e,-Math.PI/2),s.scale(t,t,i),t},s.crossZV=function(t,e,i){return s.rotate(t,i,Math.PI/2),s.scale(t,t,e),t},s.rotate=function(t,e,i){var o,n,s;0!==i?(o=Math.cos(i),i=Math.sin(i),n=e[0],s=e[1],t[0]=o*n-i*s,t[1]=i*n+o*s):(t[0]=e[0],t[1]=e[1])},s.rotate90cw=function(t,e){var i=e[0],e=e[1];t[0]=e,t[1]=-i},s.toLocalFrame=function(t,e,i,o){s.copy(t,e),s.sub(t,t,i),s.rotate(t,t,-o)},s.toGlobalFrame=function(t,e,i,o){s.copy(t,e),s.rotate(t,t,o),s.add(t,t,i)},s.vectorToLocalFrame=function(t,e,i){s.rotate(t,e,-i)},s.vectorToGlobalFrame=function(t,e,i){s.rotate(t,e,i)},s.centroid=function(t,e,i,o){return s.add(t,e,i),s.add(t,t,o),s.scale(t,t,1/3),t},s.create=function(){var t=new o.ARRAY_TYPE(2);return t[0]=0,t[1]=0,t},s.clone=function(t){var e=new o.ARRAY_TYPE(2);return e[0]=t[0],e[1]=t[1],e},s.fromValues=function(t,e){var i=new o.ARRAY_TYPE(2);return i[0]=t,i[1]=e,i},s.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t},s.set=function(t,e,i){return t[0]=e,t[1]=i,t},s.add=function(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t},s.subtract=function(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t},s.sub=s.subtract,s.multiply=function(t,e,i){return t[0]=e[0]*i[0],t[1]=e[1]*i[1],t},s.mul=s.multiply,s.divide=function(t,e,i){return t[0]=e[0]/i[0],t[1]=e[1]/i[1],t},s.div=s.divide,s.scale=function(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t},s.distance=function(t,e){var i=e[0]-t[0],e=e[1]-t[1];return Math.sqrt(i*i+e*e)},s.dist=s.distance,s.squaredDistance=function(t,e){var i=e[0]-t[0],e=e[1]-t[1];return i*i+e*e},s.sqrDist=s.squaredDistance,s.length=function(t){var e=t[0],t=t[1];return Math.sqrt(e*e+t*t)},s.len=s.length,s.squaredLength=function(t){var e=t[0],t=t[1];return e*e+t*t},s.sqrLen=s.squaredLength,s.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t},s.normalize=function(t,e){var i=e[0],o=e[1],i=i*i+o*o;return 0<i&&(i=1/Math.sqrt(i),t[0]=e[0]*i,t[1]=e[1]*i),t},s.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]},s.str=function(t){return"vec2("+t[0]+", "+t[1]+")"},s.lerp=function(t,e,i,o){var n=e[0],e=e[1];return t[0]=n+o*(i[0]-n),t[1]=e+o*(i[1]-e),t},s.reflect=function(t,e,i){var o=e[0]*i[0]+e[1]*i[1];t[0]=e[0]-2*i[0]*o,t[1]=e[1]-2*i[1]*o},s.getLineSegmentsIntersection=function(t,e,i,o,n){o=s.getLineSegmentsIntersectionFraction(e,i,o,n);return!(o<0||(t[0]=e[0]+o*(i[0]-e[0]),t[1]=e[1]+o*(i[1]-e[1]),0))},s.getLineSegmentsIntersectionFraction=function(t,e,i,o){var n=e[0]-t[0],e=e[1]-t[1],s=o[0]-i[0],o=o[1]-i[1],r=(-e*(t[0]-i[0])+n*(t[1]-i[1]))/(-s*e+n*o),t=(s*(t[1]-i[1])-o*(t[0]-i[0]))/(-s*e+n*o);return 0<=r&&r<=1&&0<=t&&t<=1?t:-1}},{"../utils/Utils":57}],31:[function(t,e,i){function c(t){t=t||{},r.call(this),this.id=t.id||++c._idCounter,this.world=null,this.shapes=[],this.mass=t.mass||0,this.invMass=0,this.inertia=0,this.invInertia=0,this.invMassSolve=0,this.invInertiaSolve=0,this.fixedRotation=!!t.fixedRotation,this.fixedX=!!t.fixedX,this.fixedY=!!t.fixedY,this.massMultiplier=l.create(),this.position=l.fromValues(0,0),t.position&&l.copy(this.position,t.position),this.interpolatedPosition=l.fromValues(0,0),this.interpolatedAngle=0,this.previousPosition=l.fromValues(0,0),this.previousAngle=0,this.velocity=l.fromValues(0,0),t.velocity&&l.copy(this.velocity,t.velocity),this.vlambda=l.fromValues(0,0),this.wlambda=0,this.angle=t.angle||0,this.angularVelocity=t.angularVelocity||0,this.force=l.create(),t.force&&l.copy(this.force,t.force),this.angularForce=t.angularForce||0,this.damping="number"==typeof t.damping?t.damping:.1,this.angularDamping="number"==typeof t.angularDamping?t.angularDamping:.1,this.type=c.STATIC,void 0!==t.type?this.type=t.type:t.mass?this.type=c.DYNAMIC:this.type=c.STATIC,this.boundingRadius=0,this.aabb=new s,this.aabbNeedsUpdate=!0,this.allowSleep=void 0===t.allowSleep||t.allowSleep,this.wantsToSleep=!1,this.sleepState=c.AWAKE,this.sleepSpeedLimit=void 0!==t.sleepSpeedLimit?t.sleepSpeedLimit:.2,this.sleepTimeLimit=void 0!==t.sleepTimeLimit?t.sleepTimeLimit:1,this.gravityScale=void 0!==t.gravityScale?t.gravityScale:1,this.collisionResponse=void 0===t.collisionResponse||t.collisionResponse,this.idleTime=0,this.timeLastSleepy=0,this.ccdSpeedThreshold=void 0!==t.ccdSpeedThreshold?t.ccdSpeedThreshold:-1,this.ccdIterations=void 0!==t.ccdIterations?t.ccdIterations:10,this.concavePath=null,this._wakeUpAfterNarrowphase=!1,this.updateMassProperties()}var l=t("../math/vec2"),h=t("poly-decomp"),u=t("../shapes/Convex"),o=t("../collision/RaycastResult"),n=t("../collision/Ray"),s=t("../collision/AABB"),r=t("../events/EventEmitter"),a=((((e.exports=c).prototype=new r).constructor=c)._idCounter=0,c.prototype.updateSolveMassProperties=function(){this.sleepState===c.SLEEPING||this.type===c.KINEMATIC?(this.invMassSolve=0,this.invInertiaSolve=0):(this.invMassSolve=this.invMass,this.invInertiaSolve=this.invInertia)},c.prototype.setDensity=function(t){var e=this.getArea();this.mass=e*t,this.updateMassProperties()},c.prototype.getArea=function(){for(var t=0,e=0;e<this.shapes.length;e++)t+=this.shapes[e].area;return t},c.prototype.getAABB=function(){return this.aabbNeedsUpdate&&this.updateAABB(),this.aabb},new s),d=l.create(),p=(c.prototype.updateAABB=function(){for(var t=this.shapes,e=t.length,i=d,o=this.angle,n=0;n!==e;n++){var s=t[n],r=s.angle+o;l.rotate(i,s.position,o),l.add(i,i,this.position),s.computeAABB(a,i,r),0===n?this.aabb.copy(a):this.aabb.extend(a)}this.aabbNeedsUpdate=!1},c.prototype.updateBoundingRadius=function(){for(var t=this.shapes,e=t.length,i=0,o=0;o!==e;o++){var n=t[o],s=l.length(n.position),n=n.boundingRadius;i<s+n&&(i=s+n)}this.boundingRadius=i},c.prototype.addShape=function(t,e,i){if(t.body)throw new Error("A shape can only be added to one body.");t.body=this,e?l.copy(t.position,e):l.set(t.position,0,0),t.angle=i||0,this.shapes.push(t),this.updateMassProperties(),this.updateBoundingRadius(),this.aabbNeedsUpdate=!0},c.prototype.removeShape=function(t){var e=this.shapes.indexOf(t);return-1!==e&&(this.shapes.splice(e,1),this.aabbNeedsUpdate=!0,!(t.body=null))},c.prototype.updateMassProperties=function(){if(this.type===c.STATIC||this.type===c.KINEMATIC)this.mass=Number.MAX_VALUE,this.invMass=0,this.inertia=Number.MAX_VALUE,this.invInertia=0;else{var t=this.shapes,e=t.length,i=this.mass/e,o=0;if(this.fixedRotation)this.inertia=Number.MAX_VALUE,this.invInertia=0;else{for(var n=0;n<e;n++){var s=t[n],r=l.squaredLength(s.position);o+=s.computeMomentOfInertia(i)+i*r}this.inertia=o,this.invInertia=0<o?1/o:0}this.invMass=1/this.mass,l.set(this.massMultiplier,this.fixedX?0:1,this.fixedY?0:1)}},l.create(),c.prototype.applyForce=function(t,e){l.add(this.force,this.force,t),e&&(e=l.crossLength(e,t),this.angularForce+=e)},l.create()),F=l.create(),j=l.create(),Y=(c.prototype.applyForceLocal=function(t,e){e=e||j;var i=p,o=F;this.vectorToWorldFrame(i,t),this.vectorToWorldFrame(o,e),this.applyForce(i,o)},l.create()),f=(c.prototype.applyImpulse=function(t,e){var i;this.type===c.DYNAMIC&&(l.scale(i=Y,t,this.invMass),l.multiply(i,this.massMultiplier,i),l.add(this.velocity,i,this.velocity),e&&(i=l.crossLength(e,t),i*=this.invInertia,this.angularVelocity+=i))},l.create()),b=l.create(),g=l.create(),y=(c.prototype.applyImpulseLocal=function(t,e){e=e||g;var i=f,o=b;this.vectorToWorldFrame(i,t),this.vectorToWorldFrame(o,e),this.applyImpulse(i,o)},c.prototype.toLocalFrame=function(t,e){l.toLocalFrame(t,e,this.position,this.angle)},c.prototype.toWorldFrame=function(t,e){l.toGlobalFrame(t,e,this.position,this.angle)},c.prototype.vectorToLocalFrame=function(t,e){l.vectorToLocalFrame(t,e,this.angle)},c.prototype.vectorToWorldFrame=function(t,e){l.vectorToGlobalFrame(t,e,this.angle)},c.prototype.fromPolygon=function(t,e){e=e||{};for(var i=this.shapes.length;0<=i;--i)this.removeShape(this.shapes[i]);var o=new h.Polygon;if(o.vertices=t,o.makeCCW(),"number"==typeof e.removeCollinearPoints&&o.removeCollinearPoints(e.removeCollinearPoints),void 0===e.skipSimpleCheck&&!o.isSimple())return!1;this.concavePath=o.vertices.slice(0);for(i=0;i<this.concavePath.length;i++){var n=[0,0];l.copy(n,this.concavePath[i]),this.concavePath[i]=n}for(var s=e.optimalDecomp?o.decomp():o.quickDecomp(),r=l.create(),i=0;i!==s.length;i++){for(var c=new u({vertices:s[i].vertices}),a=0;a!==c.vertices.length;a++){n=c.vertices[a];l.sub(n,n,c.centerOfMass)}l.scale(r,c.centerOfMass,1),c.updateTriangles(),c.updateCenterOfMass(),c.updateBoundingRadius(),this.addShape(c,r)}return this.adjustCenterOfMass(),this.aabbNeedsUpdate=!0},l.fromValues(0,0),l.fromValues(0,0)),m=l.fromValues(0,0),x=l.fromValues(0,0),v=(c.prototype.adjustCenterOfMass=function(){var t=y,e=m,i=x,o=0;l.set(e,0,0);for(var n=0;n!==this.shapes.length;n++){var s=this.shapes[n];l.scale(t,s.position,s.area),l.add(e,e,t),o+=s.area}l.scale(i,e,1/o);for(n=0;n!==this.shapes.length;n++){s=this.shapes[n];l.sub(s.position,s.position,i)}l.add(this.position,this.position,i);for(n=0;this.concavePath&&n<this.concavePath.length;n++)l.sub(this.concavePath[n],this.concavePath[n],i);this.updateMassProperties(),this.updateBoundingRadius()},c.prototype.setZeroForce=function(){l.set(this.force,0,0),this.angularForce=0},c.prototype.resetConstraintVelocity=function(){var t=this.vlambda;l.set(t,0,0),this.wlambda=0},c.prototype.addConstraintVelocity=function(){var t=this.velocity;l.add(t,t,this.vlambda),this.angularVelocity+=this.wlambda},c.prototype.applyDamping=function(t){var e;this.type===c.DYNAMIC&&(e=this.velocity,l.scale(e,e,Math.pow(1-this.damping,t)),this.angularVelocity*=Math.pow(1-this.angularDamping,t))},c.prototype.wakeUp=function(){var t=this.sleepState;this.sleepState=c.AWAKE,this.idleTime=0,t!==c.AWAKE&&this.emit(c.wakeUpEvent)},c.prototype.sleep=function(){this.sleepState=c.SLEEPING,this.angularVelocity=0,this.angularForce=0,l.set(this.velocity,0,0),l.set(this.force,0,0),this.emit(c.sleepEvent)},c.prototype.sleepTick=function(t,e,i){this.allowSleep&&this.type!==c.SLEEPING&&(this.wantsToSleep=!1,this.sleepState,l.squaredLength(this.velocity)+Math.pow(this.angularVelocity,2)>=Math.pow(this.sleepSpeedLimit,2)?(this.idleTime=0,this.sleepState=c.AWAKE):(this.idleTime+=i,this.sleepState=c.SLEEPY),this.idleTime>this.sleepTimeLimit&&(e?this.wantsToSleep=!0:this.sleep()))},c.prototype.overlaps=function(t){return this.world.overlapKeeper.bodiesAreOverlapping(this,t)},l.create()),w=l.create(),_=(c.prototype.integrate=function(t){var e=this.invMass,i=this.force,o=this.position,n=this.velocity;l.copy(this.previousPosition,this.position),this.previousAngle=this.angle,this.fixedRotation||(this.angularVelocity+=this.angularForce*this.invInertia*t),l.scale(v,i,t*e),l.multiply(v,this.massMultiplier,v),l.add(n,v,n),this.integrateToTimeOfImpact(t)||(l.scale(w,n,t),l.add(o,o,w),this.fixedRotation||(this.angle+=this.angularVelocity*t)),this.aabbNeedsUpdate=!0},new o),E=new n({mode:n.ALL}),S=l.create(),C=l.create(),P=l.create(),A=l.create();c.prototype.integrateToTimeOfImpact=function(t){if(this.ccdSpeedThreshold<0||l.squaredLength(this.velocity)<Math.pow(this.ccdSpeedThreshold,2))return!1;l.normalize(S,this.velocity),l.scale(C,this.velocity,t),l.add(C,C,this.position),l.sub(P,C,this.position);var e,i=this.angularVelocity*t,o=l.length(P),n=1,s=this;if(_.reset(),E.callback=function(t){t.body!==s&&(e=t.body,t.getHitPoint(C,E),l.sub(P,C,s.position),n=l.length(P)/o,t.stop())},l.copy(E.from,this.position),l.copy(E.to,C),E.update(),this.world.raycast(_,E),!e)return!1;var r=this.angle;l.copy(A,this.position);for(var c=0,a=0,h=0,u=n;a<=u&&c<this.ccdIterations;)c++,h=(u-a)/2,l.scale(w,P,n),l.add(this.position,A,w),this.angle=r+i*n,this.updateAABB(),this.aabb.overlaps(e.aabb)&&this.world.narrowphase.bodiesOverlap(this,e)?a=h:u=h;return n=h,l.copy(this.position,A),this.angle=r,l.scale(w,P,n),l.add(this.position,this.position,w),this.fixedRotation||(this.angle+=i*n),!0},c.prototype.getVelocityAtPoint=function(t,e){return l.crossVZ(t,e,this.angularVelocity),l.subtract(t,this.velocity,t),t},c.sleepyEvent={type:"sleepy"},c.sleepEvent={type:"sleep"},c.wakeUpEvent={type:"wakeup"},c.DYNAMIC=1,c.STATIC=2,c.KINEMATIC=4,c.AWAKE=0,c.SLEEPY=1,c.SLEEPING=2},{"../collision/AABB":7,"../collision/Ray":11,"../collision/RaycastResult":12,"../events/EventEmitter":26,"../math/vec2":30,"../shapes/Convex":40,"poly-decomp":5}],32:[function(t,e,i){function o(t,e,i){n.call(this,t,e,i=i||{}),this.localAnchorA=F.fromValues(0,0),this.localAnchorB=F.fromValues(0,0),i.localAnchorA&&F.copy(this.localAnchorA,i.localAnchorA),i.localAnchorB&&F.copy(this.localAnchorB,i.localAnchorB),i.worldAnchorA&&this.setWorldAnchorA(i.worldAnchorA),i.worldAnchorB&&this.setWorldAnchorB(i.worldAnchorB);t=F.create(),e=F.create(),this.getWorldAnchorA(t),this.getWorldAnchorB(e),t=F.distance(t,e);this.restLength="number"==typeof i.restLength?i.restLength:t}var F=t("../math/vec2"),n=t("./Spring"),j=(t("../utils/Utils"),(((e.exports=o).prototype=new n).constructor=o).prototype.setWorldAnchorA=function(t){this.bodyA.toLocalFrame(this.localAnchorA,t)},o.prototype.setWorldAnchorB=function(t){this.bodyB.toLocalFrame(this.localAnchorB,t)},o.prototype.getWorldAnchorA=function(t){this.bodyA.toWorldFrame(t,this.localAnchorA)},o.prototype.getWorldAnchorB=function(t){this.bodyB.toWorldFrame(t,this.localAnchorB)},F.create()),Y=F.create(),f=F.create(),b=F.create(),g=F.create(),y=F.create(),m=F.create(),x=F.create(),v=F.create();o.prototype.applyForce=function(){var t=this.stiffness,e=this.damping,i=this.restLength,o=this.bodyA,n=this.bodyB,s=j,r=Y,c=f,a=b,h=v,u=g,l=y,d=m,p=x,l=(this.getWorldAnchorA(u),this.getWorldAnchorB(l),F.sub(d,u,o.position),F.sub(p,l,n.position),F.sub(s,l,u),F.len(s)),u=(F.normalize(r,s),F.sub(c,n.velocity,o.velocity),F.crossZV(h,n.angularVelocity,p),F.add(c,c,h),F.crossZV(h,o.angularVelocity,d),F.sub(c,c,h),F.scale(a,r,-t*(l-i)-e*F.dot(c,r)),F.sub(o.force,o.force,a),F.add(n.force,n.force,a),F.crossLength(d,a)),s=F.crossLength(p,a);o.angularForce-=u,n.angularForce+=s}},{"../math/vec2":30,"../utils/Utils":57,"./Spring":34}],33:[function(t,e,i){function o(t,e,i){n.call(this,t,e,i=i||{}),this.restAngle="number"==typeof i.restAngle?i.restAngle:e.angle-t.angle}t("../math/vec2");var n=t("./Spring");(((e.exports=o).prototype=new n).constructor=o).prototype.applyForce=function(){var t=this.stiffness,e=this.damping,i=this.restAngle,o=this.bodyA,n=this.bodyB,t=-t*(n.angle-o.angle-i)-e*(n.angularVelocity-o.angularVelocity)*0;o.angularForce-=t,n.angularForce+=t}},{"../math/vec2":30,"./Spring":34}],34:[function(t,e,i){function o(t,e,i){i=n.defaults(i,{stiffness:100,damping:1}),this.stiffness=i.stiffness,this.damping=i.damping,this.bodyA=t,this.bodyB=e}t("../math/vec2");var n=t("../utils/Utils");(e.exports=o).prototype.applyForce=function(){}},{"../math/vec2":30,"../utils/Utils":57}],35:[function(t,e,i){function o(t,e){this.chassisBody=t,this.wheels=[],this.groundBody=new a({mass:0}),this.world=null;var i=this;this.preStepCallback=function(){i.update()}}function n(t,e){e=e||{},this.vehicle=t,this.forwardEquation=new c(t.chassisBody,t.groundBody),this.sideEquation=new c(t.chassisBody,t.groundBody),this.steerValue=0,this.engineForce=0,this.setSideFriction(void 0!==e.sideFriction?e.sideFriction:5),this.localForwardVector=s.fromValues(0,1),e.localForwardVector&&s.copy(this.localForwardVector,e.localForwardVector),this.localPosition=s.fromValues(0,0),e.localPosition&&s.copy(this.localPosition,e.localPosition),r.apply(this,t.chassisBody,t.groundBody),this.equations.push(this.forwardEquation,this.sideEquation),this.setBrakeForce(0)}var s=t("../math/vec2"),r=(t("../utils/Utils"),t("../constraints/Constraint")),c=t("../equations/FrictionEquation"),a=t("../objects/Body"),h=((e.exports=o).prototype.addToWorld=function(t){(this.world=t).addBody(this.groundBody),t.on("preStep",this.preStepCallback);for(var e=0;e<this.wheels.length;e++){var i=this.wheels[e];t.addConstraint(i)}},o.prototype.removeFromWorld=function(){var t=this.world;t.removeBody(this.groundBody),t.off("preStep",this.preStepCallback);for(var e=0;e<this.wheels.length;e++){var i=this.wheels[e];t.removeConstraint(i)}this.world=null},o.prototype.addWheel=function(t){t=new n(this,t);return this.wheels.push(t),t},o.prototype.update=function(){for(var t=0;t<this.wheels.length;t++)this.wheels[t].update()},(n.prototype=new r).setBrakeForce=function(t){this.forwardEquation.setSlipForce(t)},n.prototype.setSideFriction=function(t){this.sideEquation.setSlipForce(t)},s.create()),u=s.create(),l=(n.prototype.getSpeed=function(){return this.vehicle.chassisBody.vectorToWorldFrame(u,this.localForwardVector),this.vehicle.chassisBody.getVelocityAtPoint(h,u),s.dot(h,u)},s.create());n.prototype.update=function(){this.vehicle.chassisBody.vectorToWorldFrame(this.forwardEquation.t,this.localForwardVector),s.rotate(this.sideEquation.t,this.localForwardVector,Math.PI/2),this.vehicle.chassisBody.vectorToWorldFrame(this.sideEquation.t,this.sideEquation.t),s.rotate(this.forwardEquation.t,this.forwardEquation.t,this.steerValue),s.rotate(this.sideEquation.t,this.sideEquation.t,this.steerValue),this.vehicle.chassisBody.toWorldFrame(this.forwardEquation.contactPointB,this.localPosition),s.copy(this.sideEquation.contactPointB,this.forwardEquation.contactPointB),this.vehicle.chassisBody.vectorToWorldFrame(this.forwardEquation.contactPointA,this.localPosition),s.copy(this.sideEquation.contactPointA,this.forwardEquation.contactPointA),s.normalize(l,this.forwardEquation.t),s.scale(l,l,this.engineForce),this.vehicle.chassisBody.applyForce(l,this.forwardEquation.contactPointA)}},{"../constraints/Constraint":14,"../equations/FrictionEquation":23,"../math/vec2":30,"../objects/Body":31,"../utils/Utils":57}],36:[function(t,e,i){e=e.exports={AABB:t("./collision/AABB"),AngleLockEquation:t("./equations/AngleLockEquation"),Body:t("./objects/Body"),Broadphase:t("./collision/Broadphase"),Capsule:t("./shapes/Capsule"),Circle:t("./shapes/Circle"),Constraint:t("./constraints/Constraint"),ContactEquation:t("./equations/ContactEquation"),ContactEquationPool:t("./utils/ContactEquationPool"),ContactMaterial:t("./material/ContactMaterial"),Convex:t("./shapes/Convex"),DistanceConstraint:t("./constraints/DistanceConstraint"),Equation:t("./equations/Equation"),EventEmitter:t("./events/EventEmitter"),FrictionEquation:t("./equations/FrictionEquation"),FrictionEquationPool:t("./utils/FrictionEquationPool"),GearConstraint:t("./constraints/GearConstraint"),GSSolver:t("./solver/GSSolver"),Heightfield:t("./shapes/Heightfield"),Line:t("./shapes/Line"),LockConstraint:t("./constraints/LockConstraint"),Material:t("./material/Material"),Narrowphase:t("./collision/Narrowphase"),NaiveBroadphase:t("./collision/NaiveBroadphase"),Particle:t("./shapes/Particle"),Plane:t("./shapes/Plane"),Pool:t("./utils/Pool"),RevoluteConstraint:t("./constraints/RevoluteConstraint"),PrismaticConstraint:t("./constraints/PrismaticConstraint"),Ray:t("./collision/Ray"),RaycastResult:t("./collision/RaycastResult"),Box:t("./shapes/Box"),RotationalVelocityEquation:t("./equations/RotationalVelocityEquation"),SAPBroadphase:t("./collision/SAPBroadphase"),Shape:t("./shapes/Shape"),Solver:t("./solver/Solver"),Spring:t("./objects/Spring"),TopDownVehicle:t("./objects/TopDownVehicle"),LinearSpring:t("./objects/LinearSpring"),RotationalSpring:t("./objects/RotationalSpring"),Utils:t("./utils/Utils"),World:t("./world/World"),vec2:t("./math/vec2"),version:t("../package.json").version};Object.defineProperty(e,"Rectangle",{get:function(){return this.Box}})},{"../package.json":6,"./collision/AABB":7,"./collision/Broadphase":8,"./collision/NaiveBroadphase":9,"./collision/Narrowphase":10,"./collision/Ray":11,"./collision/RaycastResult":12,"./collision/SAPBroadphase":13,"./constraints/Constraint":14,"./constraints/DistanceConstraint":15,"./constraints/GearConstraint":16,"./constraints/LockConstraint":17,"./constraints/PrismaticConstraint":18,"./constraints/RevoluteConstraint":19,"./equations/AngleLockEquation":20,"./equations/ContactEquation":21,"./equations/Equation":22,"./equations/FrictionEquation":23,"./equations/RotationalVelocityEquation":25,"./events/EventEmitter":26,"./material/ContactMaterial":27,"./material/Material":28,"./math/vec2":30,"./objects/Body":31,"./objects/LinearSpring":32,"./objects/RotationalSpring":33,"./objects/Spring":34,"./objects/TopDownVehicle":35,"./shapes/Box":37,"./shapes/Capsule":38,"./shapes/Circle":39,"./shapes/Convex":40,"./shapes/Heightfield":41,"./shapes/Line":42,"./shapes/Particle":43,"./shapes/Plane":44,"./shapes/Shape":45,"./solver/GSSolver":46,"./solver/Solver":47,"./utils/ContactEquationPool":48,"./utils/FrictionEquationPool":49,"./utils/Pool":55,"./utils/Utils":57,"./world/World":61}],37:[function(t,e,i){function o(t){"number"==typeof arguments[0]&&"number"==typeof arguments[1]&&(t={width:arguments[0],height:arguments[1]});var e=this.width=(t=t||{}).width||1,i=this.height=t.height||1,e=[n.fromValues(-e/2,-i/2),n.fromValues(e/2,-i/2),n.fromValues(e/2,i/2),n.fromValues(-e/2,i/2)],i=[n.fromValues(1,0),n.fromValues(0,1)];t.vertices=e,t.axes=i,t.type=s.BOX,r.call(this,t)}var n=t("../math/vec2"),s=t("./Shape"),r=t("./Convex");(((e.exports=o).prototype=new r).constructor=o).prototype.computeMomentOfInertia=function(t){var e=this.width,i=this.height;return t*(i*i+e*e)/12},o.prototype.updateBoundingRadius=function(){var t=this.width,e=this.height;this.boundingRadius=Math.sqrt(t*t+e*e)/2},n.create(),n.create(),n.create(),n.create(),o.prototype.computeAABB=function(t,e,i){t.setFromPoints(this.vertices,e,i,0)},o.prototype.updateArea=function(){this.area=this.width*this.height}},{"../math/vec2":30,"./Convex":40,"./Shape":45}],38:[function(t,e,i){function o(t){"number"==typeof arguments[0]&&"number"==typeof arguments[1]&&(t={length:arguments[0],radius:arguments[1]}),this.length=(t=t||{}).length||1,this.radius=t.radius||1,t.type=n.CAPSULE,n.call(this,t)}var n=t("./Shape"),g=t("../math/vec2"),s=((((e.exports=o).prototype=new n).constructor=o).prototype.computeMomentOfInertia=function(t){var e=this.radius,i=this.length+e,e=2*e;return t*(e*e+i*i)/12},o.prototype.updateBoundingRadius=function(){this.boundingRadius=this.radius+this.length/2},o.prototype.updateArea=function(){this.area=Math.PI*this.radius*this.radius+2*this.radius*this.length},g.create()),y=(o.prototype.computeAABB=function(t,e,i){var o=this.radius;g.set(s,this.length/2,0),0!==i&&g.rotate(s,s,i),g.set(t.upperBound,Math.max(s[0]+o,-s[0]+o),Math.max(s[1]+o,-s[1]+o)),g.set(t.lowerBound,Math.min(s[0]-o,-s[0]-o),Math.min(s[1]-o,-s[1]-o)),g.add(t.lowerBound,t.lowerBound,e),g.add(t.upperBound,t.upperBound,e)},g.create()),m=g.create(),x=g.create(),v=g.create(),w=g.fromValues(0,1);o.prototype.raycast=function(t,e,i,o){for(var n=e.from,s=e.to,r=(e.direction,y),c=m,a=x,h=v,u=this.length/2,l=0;l<2;l++){var d=this.radius*(2*l-1);if(g.set(a,-u,d),g.set(h,u,d),g.toGlobalFrame(a,a,i,o),g.toGlobalFrame(h,h,i,o),0<=(F=g.getLineSegmentsIntersectionFraction(n,s,a,h))&&(g.rotate(c,w,o),g.scale(c,c,2*l-1),e.reportIntersection(t,F,c,-1),t.shouldStop(e)))return}for(var p=Math.pow(this.radius,2)+Math.pow(u,2),l=0;l<2;l++){g.set(a,u*(2*l-1),0),g.toGlobalFrame(a,a,i,o);var F,j=Math.pow(s[0]-n[0],2)+Math.pow(s[1]-n[1],2),Y=2*((s[0]-n[0])*(n[0]-a[0])+(s[1]-n[1])*(n[1]-a[1])),f=Math.pow(n[0]-a[0],2)+Math.pow(n[1]-a[1],2)-Math.pow(this.radius,2);if(!((F=Math.pow(Y,2)-4*j*f)<0))if(0===F){if(g.lerp(r,n,s,F),g.squaredDistance(r,i)>p&&(g.sub(c,r,a),g.normalize(c,c),e.reportIntersection(t,F,c,-1),t.shouldStop(e)))return}else{var f=Math.sqrt(F),j=1/(2*j),b=(-Y-f)*j,Y=(-Y+f)*j;if(0<=b&&b<=1&&(g.lerp(r,n,s,b),g.squaredDistance(r,i)>p&&(g.sub(c,r,a),g.normalize(c,c),e.reportIntersection(t,b,c,-1),t.shouldStop(e))))return;if(0<=Y&&Y<=1&&(g.lerp(r,n,s,Y),g.squaredDistance(r,i)>p&&(g.sub(c,r,a),g.normalize(c,c),e.reportIntersection(t,Y,c,-1),t.shouldStop(e))))return}}}},{"../math/vec2":30,"./Shape":45}],39:[function(t,e,i){function o(t){"number"==typeof arguments[0]&&(t={radius:arguments[0]}),this.radius=(t=t||{}).radius||1,t.type=n.CIRCLE,n.call(this,t)}var n=t("./Shape"),d=t("../math/vec2"),p=((((e.exports=o).prototype=new n).constructor=o).prototype.computeMomentOfInertia=function(t){var e=this.radius;return t*e*e/2},o.prototype.updateBoundingRadius=function(){this.boundingRadius=this.radius},o.prototype.updateArea=function(){this.area=Math.PI*this.radius*this.radius},o.prototype.computeAABB=function(t,e,i){var o=this.radius;d.set(t.upperBound,o,o),d.set(t.lowerBound,-o,-o),e&&(d.add(t.lowerBound,t.lowerBound,e),d.add(t.upperBound,t.upperBound,e))},d.create()),F=d.create();o.prototype.raycast=function(t,e,i,o){var n,s=e.from,r=e.to,c=this.radius,a=Math.pow(r[0]-s[0],2)+Math.pow(r[1]-s[1],2),h=2*((r[0]-s[0])*(s[0]-i[0])+(r[1]-s[1])*(s[1]-i[1])),c=Math.pow(s[0]-i[0],2)+Math.pow(s[1]-i[1],2)-Math.pow(c,2),c=Math.pow(h,2)-4*a*c,u=p,l=F;c<0||(0==c?(d.lerp(u,s,r,c),d.sub(l,u,i),d.normalize(l,l),e.reportIntersection(t,c,l,-1)):(n=(-h+(c=Math.sqrt(c)))*(a=1/(2*a)),0<=(h=(-h-c)*a)&&h<=1&&(d.lerp(u,s,r,h),d.sub(l,u,i),d.normalize(l,l),e.reportIntersection(t,h,l,-1),t.shouldStop(e))||0<=n&&n<=1&&(d.lerp(u,s,r,n),d.sub(l,u,i),d.normalize(l,l),e.reportIntersection(t,n,l,-1))))}},{"../math/vec2":30,"./Shape":45}],40:[function(t,e,i){function u(t){t=(t=Array.isArray(arguments[0])?{vertices:arguments[0],axes:arguments[1]}:t)||{},this.vertices=[];for(var e=void 0!==t.vertices?t.vertices:[],i=0;i<e.length;i++){var o=p.create();p.copy(o,e[i]),this.vertices.push(o)}if(this.axes=[],t.axes)for(i=0;i<t.axes.length;i++){var n=p.create();p.copy(n,t.axes[i]),this.axes.push(n)}else for(i=0;i<this.vertices.length;i++){var s=this.vertices[i],r=this.vertices[(i+1)%this.vertices.length],c=p.create();p.sub(c,r,s),p.rotate90cw(c,c),p.normalize(c,c),this.axes.push(c)}if(this.centerOfMass=p.fromValues(0,0),this.triangles=[],this.vertices.length&&(this.updateTriangles(),this.updateCenterOfMass()),this.boundingRadius=0,t.type=a.CONVEX,a.call(this,t),this.updateBoundingRadius(),this.updateArea(),this.area<0)throw new Error("Convex vertices must be given in conter-clockwise winding.")}var a=t("./Shape"),p=t("../math/vec2"),c=t("../math/polyk"),h=(t("poly-decomp"),((e.exports=u).prototype=new a).constructor=u,p.create()),s=p.create(),l=(u.prototype.projectOntoLocalAxis=function(t,e){for(var i,o,n=null,s=null,t=h,r=0;r<this.vertices.length;r++)i=this.vertices[r],i=p.dot(i,t),(null===n||n<i)&&(n=i),(null===s||i<s)&&(s=i);n<s&&(o=s,s=n,n=o),p.set(e,s,n)},u.prototype.projectOntoWorldAxis=function(t,e,i,o){var n=s,i=(this.projectOntoLocalAxis(t,o),0!==i?p.rotate(n,t,i):n=t,p.dot(e,n));p.set(o,o[0]+i,o[1]+i)},u.prototype.updateTriangles=function(){for(var t=[],e=this.triangles.length=0;e<this.vertices.length;e++){var i=this.vertices[e];t.push(i[0],i[1])}for(var o=c.Triangulate(t),e=0;e<o.length;e+=3){var n=o[e],s=o[e+1],r=o[e+2];this.triangles.push([n,s,r])}},p.create()),d=p.create(),F=(p.create(),p.create(),p.create(),p.create(),p.create(),p.create(),p.create(),u.prototype.updateCenterOfMass=function(){var t=this.triangles,e=this.vertices,i=this.centerOfMass,o=l,n=d;p.set(i,0,0);for(var s=0,r=0;r!==t.length;r++){var c=t[r],a=e[c[0]],h=e[c[1]],c=e[c[2]],a=(p.centroid(o,a,h,c),u.triangleArea(a,h,c));s+=a,p.scale(n,o,a),p.add(i,i,n)}p.scale(i,i,1/s)},u.prototype.computeMomentOfInertia=function(t){for(var e=0,i=0,o=this.vertices.length,n=o-1,s=0;s<o;n=s,s++){var r=this.vertices[n],c=this.vertices[s],a=Math.abs(p.crossLength(r,c));e+=a*(p.dot(c,c)+p.dot(c,r)+p.dot(r,r)),i+=a}return t/6*(e/i)},u.prototype.updateBoundingRadius=function(){for(var t=this.vertices,e=0,i=0;i!==t.length;i++){var o=p.squaredLength(t[i]);e<o&&(e=o)}this.boundingRadius=Math.sqrt(e)},u.triangleArea=function(t,e,i){return.5*((e[0]-t[0])*(i[1]-t[1])-(i[0]-t[0])*(e[1]-t[1]))},u.prototype.updateArea=function(){this.updateTriangles(),this.area=0;for(var t=this.triangles,e=this.vertices,i=0;i!==t.length;i++){var o=t[i],n=e[o[0]],s=e[o[1]],o=e[o[2]],n=u.triangleArea(n,s,o);this.area+=n}},u.prototype.computeAABB=function(t,e,i){t.setFromPoints(this.vertices,e,i,0)},p.create()),j=p.create(),Y=p.create();u.prototype.raycast=function(t,e,i,o){var n=F,s=j,r=Y,c=this.vertices;p.toLocalFrame(n,e.from,i,o),p.toLocalFrame(s,e.to,i,o);for(var a=c.length,h=0;h<a&&!t.shouldStop(e);h++){var u=c[h],l=c[(h+1)%a],d=p.getLineSegmentsIntersectionFraction(n,s,u,l);0<=d&&(p.sub(r,l,u),p.rotate(r,r,-Math.PI/2+o),p.normalize(r,r),e.reportIntersection(t,d,r,h))}}},{"../math/polyk":29,"../math/vec2":30,"./Shape":45,"poly-decomp":5}],41:[function(t,e,i){function o(t){if(Array.isArray(arguments[0])&&(t={heights:arguments[0]},"object"==typeof arguments[1]))for(var e in arguments[1])t[e]=arguments[1][e];this.heights=(t=t||{}).heights?t.heights.slice(0):[],this.maxValue=t.maxValue||null,this.minValue=t.minValue||null,this.elementWidth=t.elementWidth||.1,void 0!==t.maxValue&&void 0!==t.minValue||this.updateMaxMinValues(),t.type=n.HEIGHTFIELD,n.call(this,t)}var n=t("./Shape"),p=t("../math/vec2"),s=(t("../utils/Utils"),(((e.exports=o).prototype=new n).constructor=o).prototype.updateMaxMinValues=function(){for(var t=this.heights,e=t[0],i=t[0],o=0;o!==t.length;o++){var n=t[o];e<n&&(e=n),n<i&&(i=n)}this.maxValue=e,this.minValue=i},o.prototype.computeMomentOfInertia=function(t){return Number.MAX_VALUE},o.prototype.updateBoundingRadius=function(){this.boundingRadius=Number.MAX_VALUE},o.prototype.updateArea=function(){for(var t=this.heights,e=0,i=0;i<t.length-1;i++)e+=(t[i]+t[i+1])/2*this.elementWidth;this.area=e},[p.create(),p.create(),p.create(),p.create()]),F=(o.prototype.computeAABB=function(t,e,i){p.set(s[0],0,this.maxValue),p.set(s[1],this.elementWidth*this.heights.length,this.maxValue),p.set(s[2],this.elementWidth*this.heights.length,this.minValue),p.set(s[3],0,this.minValue),t.setFromPoints(s,e,i)},o.prototype.getLineSegment=function(t,e,i){var o=this.heights,n=this.elementWidth;p.set(t,i*n,o[i]),p.set(e,(i+1)*n,o[i+1])},o.prototype.getSegmentIndex=function(t){return Math.floor(t[0]/this.elementWidth)},o.prototype.getClampedSegmentIndex=function(t){t=this.getSegmentIndex(t);return Math.min(this.heights.length,Math.max(t,0))},p.create(),p.create()),j=p.create(),Y=p.create(),f=p.create(),b=p.create();p.fromValues(0,1),o.prototype.raycast=function(t,e,i,o){var n=e.from,s=e.to,r=(e.direction,F),c=j,a=Y,h=f,u=b,n=(p.toLocalFrame(h,n,i,o),p.toLocalFrame(u,s,i,o),this.getClampedSegmentIndex(h)),s=this.getClampedSegmentIndex(u);s<n&&(i=n,n=s,s=i);for(var l=0;l<this.heights.length-1;l++){this.getLineSegment(c,a,l);var d=p.getLineSegmentsIntersectionFraction(h,u,c,a);if(0<=d&&(p.sub(r,a,c),p.rotate(r,r,o+Math.PI/2),p.normalize(r,r),e.reportIntersection(t,d,r,-1),t.shouldStop(e)))return}}},{"../math/vec2":30,"../utils/Utils":57,"./Shape":45}],42:[function(t,e,i){function o(t){"number"==typeof arguments[0]&&(t={length:arguments[0]}),this.length=(t=t||{}).length||1,t.type=n.LINE,n.call(this,t)}var n=t("./Shape"),h=t("../math/vec2"),s=((((e.exports=o).prototype=new n).constructor=o).prototype.computeMomentOfInertia=function(t){return t*Math.pow(this.length,2)/12},o.prototype.updateBoundingRadius=function(){this.boundingRadius=this.length/2},[h.create(),h.create()]),u=(o.prototype.computeAABB=function(t,e,i){var o=this.length/2;h.set(s[0],-o,0),h.set(s[1],o,0),t.setFromPoints(s,e,i,0)},h.create(),h.create()),l=h.create(),d=h.create(),p=h.fromValues(0,1);o.prototype.raycast=function(t,e,i,o){var n=e.from,s=e.to,r=l,c=d,a=this.length/2,a=(h.set(r,-a,0),h.set(c,a,0),h.toGlobalFrame(r,r,i,o),h.toGlobalFrame(c,c,i,o),h.getLineSegmentsIntersectionFraction(r,c,n,s));0<=a&&(h.rotate(i=u,p,o),e.reportIntersection(t,a,i,-1))}},{"../math/vec2":30,"./Shape":45}],43:[function(t,e,i){function o(t){(t=t||{}).type=n.PARTICLE,n.call(this,t)}var n=t("./Shape"),s=t("../math/vec2");(((e.exports=o).prototype=new n).constructor=o).prototype.computeMomentOfInertia=function(t){return 0},o.prototype.updateBoundingRadius=function(){this.boundingRadius=0},o.prototype.computeAABB=function(t,e,i){s.copy(t.lowerBound,e),s.copy(t.upperBound,e)}},{"../math/vec2":30,"./Shape":45}],44:[function(t,e,i){function o(t){(t=t||{}).type=n.PLANE,n.call(this,t)}var n=t("./Shape"),u=t("../math/vec2"),l=(t("../utils/Utils"),(((e.exports=o).prototype=new n).constructor=o).prototype.computeMomentOfInertia=function(t){return 0},o.prototype.updateBoundingRadius=function(){this.boundingRadius=Number.MAX_VALUE},o.prototype.computeAABB=function(t,e,i){var i=i%(2*Math.PI),o=u.set,n=Number.MAX_VALUE,s=t.lowerBound,t=t.upperBound;0==i?(o(s,-n,-n),o(t,n,0)):i==Math.PI/2?(o(s,0,-n),o(t,n,n)):i===Math.PI?(o(s,-n,0),o(t,n,n)):i==3*Math.PI/2?(o(s,-n,-n),o(t,0,n)):(o(s,-n,-n),o(t,n,n)),u.add(s,s,e),u.add(t,t,e)},o.prototype.updateArea=function(){this.area=Number.MAX_VALUE},u.create()),d=(u.create(),u.create(),u.create()),p=u.create();o.prototype.raycast=function(t,e,i,o){var n=e.from,s=e.to,r=e.direction,c=l,a=d,h=p,o=(u.set(a,0,1),u.rotate(a,a,o),u.sub(h,n,i),u.dot(h,a));u.sub(h,s,i),0<o*u.dot(h,a)||u.squaredDistance(n,s)<o*o||(h=u.dot(a,r),u.sub(c,n,i),s=-u.dot(a,c)/h/e.length,e.reportIntersection(t,s,a,-1))}},{"../math/vec2":30,"../utils/Utils":57,"./Shape":45}],45:[function(t,e,i){function o(t){t=t||{},this.body=null,this.position=n.fromValues(0,0),t.position&&n.copy(this.position,t.position),this.angle=t.angle||0,this.type=t.type||0,this.id=o.idCounter++,this.boundingRadius=0,this.collisionGroup=void 0!==t.collisionGroup?t.collisionGroup:1,this.collisionResponse=void 0===t.collisionResponse||t.collisionResponse,this.collisionMask=void 0!==t.collisionMask?t.collisionMask:1,this.material=t.material||null,this.area=0,this.sensor=void 0!==t.sensor&&t.sensor,this.type&&this.updateBoundingRadius(),this.updateArea()}e.exports=o;var n=t("../math/vec2");o.idCounter=0,o.CIRCLE=1,o.PARTICLE=2,o.PLANE=4,o.CONVEX=8,o.LINE=16,o.BOX=32,Object.defineProperty(o,"RECTANGLE",{get:function(){return o.BOX}}),o.CAPSULE=64,o.HEIGHTFIELD=128,o.prototype.computeMomentOfInertia=function(t){},o.prototype.updateBoundingRadius=function(){},o.prototype.updateArea=function(){},o.prototype.computeAABB=function(t,e,i){},o.prototype.raycast=function(t,e,i,o){}},{"../math/vec2":30}],46:[function(t,e,i){function w(t){o.call(this,t,o.GS),this.iterations=(t=t||{}).iterations||10,this.tolerance=t.tolerance||1e-7,this.arrayStep=30,this.lambda=new E.ARRAY_TYPE(this.arrayStep),this.Bs=new E.ARRAY_TYPE(this.arrayStep),this.invCs=new E.ARRAY_TYPE(this.arrayStep),this.useZeroRHS=!1,this.frictionIterations=0,this.usedIterations=0}var _=t("../math/vec2"),o=t("./Solver"),E=t("../utils/Utils"),S=t("../equations/FrictionEquation");(((e.exports=w).prototype=new o).constructor=w).prototype.solve=function(t,e){this.sortEquations();var i=0,o=this.iterations,n=this.frictionIterations,s=this.equations,r=s.length,c=Math.pow(this.tolerance*r,2),a=e.bodies,h=e.bodies.length,u=(_.add,_.set,this.useZeroRHS),l=this.lambda;if(this.usedIterations=0,r)for(var d=0;d!==h;d++)a[d].updateSolveMassProperties();l.length<r&&(l=this.lambda=new E.ARRAY_TYPE(r+this.arrayStep),this.Bs=new E.ARRAY_TYPE(r+this.arrayStep),this.invCs=new E.ARRAY_TYPE(r+this.arrayStep));for(var p=l,F=p.length;F--;)p[F]=0;for(var j,Y,f,b=this.invCs,g=this.Bs,l=this.lambda,d=0;d!==s.length;d++)(j=s[d]).timeStep===t&&!j.needsUpdate||(j.timeStep=t,j.update()),g[d]=j.computeB(j.a,j.b,t),b[d]=j.computeInvC(j.epsilon);if(0!==r){for(d=0;d!==h;d++)a[d].resetConstraintVelocity();if(n){for(i=0;i!==n;i++){for(f=Y=0;f!==r;f++){j=s[f];var y=w.iterateEquation(f,j,j.epsilon,g,b,l,u,t,i);Y+=Math.abs(y)}if(this.usedIterations++,Y*Y<=c)break}for(w.updateMultipliers(s,l,1/t),f=0;f!==r;f++){var m=s[f];if(m instanceof S){for(var x=0,v=0;v!==m.contactEquations.length;v++)x+=m.contactEquations[v].multiplier;x*=m.frictionCoefficient/m.contactEquations.length,m.maxForce=x,m.minForce=-x}}}for(i=0;i!==o;i++){for(f=Y=0;f!==r;f++){j=s[f];y=w.iterateEquation(f,j,j.epsilon,g,b,l,u,t,i);Y+=Math.abs(y)}if(this.usedIterations++,Y*Y<=c)break}for(d=0;d!==h;d++)a[d].addConstraintVelocity();w.updateMultipliers(s,l,1/t)}},w.updateMultipliers=function(t,e,i){for(var o=t.length;o--;)t[o].multiplier=e[o]*i},w.iterateEquation=function(t,e,i,o,n,s,r,c,a){var o=o[t],n=n[t],h=s[t],u=e.computeGWlambda(),l=e.maxForce,d=e.minForce,n=n*((o=r?0:o)-u-i*h),r=h+n;return r<d*c?n=d*c-h:l*c<r&&(n=l*c-h),s[t]+=n,e.addToWlambda(n),n}},{"../equations/FrictionEquation":23,"../math/vec2":30,"../utils/Utils":57,"./Solver":47}],47:[function(t,e,i){function o(t,e){t=t||{},n.call(this),this.type=e,this.equations=[],this.equationSortFunction=t.equationSortFunction||!1}t("../utils/Utils");var n=t("../events/EventEmitter"),s=((((e.exports=o).prototype=new n).constructor=o).prototype.solve=function(t,e){throw new Error("Solver.solve should be implemented by subclasses!")},{bodies:[]});o.prototype.solveIsland=function(t,e){this.removeAllEquations(),e.equations.length&&(this.addEquations(e.equations),s.bodies.length=0,e.getBodies(s.bodies),s.bodies.length&&this.solve(t,s))},o.prototype.sortEquations=function(){this.equationSortFunction&&this.equations.sort(this.equationSortFunction)},o.prototype.addEquation=function(t){t.enabled&&this.equations.push(t)},o.prototype.addEquations=function(t){for(var e=0,i=t.length;e!==i;e++){var o=t[e];o.enabled&&this.equations.push(o)}},o.prototype.removeEquation=function(t){t=this.equations.indexOf(t);-1!==t&&this.equations.splice(t,1)},o.prototype.removeAllEquations=function(){this.equations.length=0},o.GS=1,o.ISLAND=2},{"../events/EventEmitter":26,"../utils/Utils":57}],48:[function(t,e,i){function o(){s.apply(this,arguments)}var n=t("../equations/ContactEquation"),s=t("./Pool");(((e.exports=o).prototype=new s).constructor=o).prototype.create=function(){return new n},o.prototype.destroy=function(t){return t.bodyA=t.bodyB=null,this}},{"../equations/ContactEquation":21,"./Pool":55}],49:[function(t,e,i){function o(){s.apply(this,arguments)}var n=t("../equations/FrictionEquation"),s=t("./Pool");(((e.exports=o).prototype=new s).constructor=o).prototype.create=function(){return new n},o.prototype.destroy=function(t){return t.bodyA=t.bodyB=null,this}},{"../equations/FrictionEquation":23,"./Pool":55}],50:[function(t,e,i){function o(){s.apply(this,arguments)}var n=t("../world/IslandNode"),s=t("./Pool");(((e.exports=o).prototype=new s).constructor=o).prototype.create=function(){return new n},o.prototype.destroy=function(t){return t.reset(),this}},{"../world/IslandNode":60,"./Pool":55}],51:[function(t,e,i){function o(){s.apply(this,arguments)}var n=t("../world/Island"),s=t("./Pool");(((e.exports=o).prototype=new s).constructor=o).prototype.create=function(){return new n},o.prototype.destroy=function(t){return t.reset(),this}},{"../world/Island":58,"./Pool":55}],52:[function(t,e,i){function o(){this.overlappingShapesLastState=new n,this.overlappingShapesCurrentState=new n,this.recordPool=new s({size:16}),this.tmpDict=new n,this.tmpArray1=[]}var n=t("./TupleDictionary"),s=(t("./OverlapKeeperRecord"),t("./OverlapKeeperRecordPool"));t("./Utils"),(e.exports=o).prototype.tick=function(){for(var t=this.overlappingShapesLastState,e=this.overlappingShapesCurrentState,i=t.keys.length;i--;){var o=t.keys[i],n=t.getByKey(o);e.getByKey(o),n&&this.recordPool.release(n)}t.reset(),t.copy(e),e.reset()},o.prototype.setOverlapping=function(t,e,i,o){this.overlappingShapesLastState;var n,s=this.overlappingShapesCurrentState;s.get(e.id,o.id)||((n=this.recordPool.get()).set(t,e,i,o),s.set(e.id,o.id,n))},o.prototype.getNewOverlaps=function(t){return this.getDiff(this.overlappingShapesLastState,this.overlappingShapesCurrentState,t)},o.prototype.getEndOverlaps=function(t){return this.getDiff(this.overlappingShapesCurrentState,this.overlappingShapesLastState,t)},o.prototype.bodiesAreOverlapping=function(t,e){for(var i=this.overlappingShapesCurrentState,o=i.keys.length;o--;){var n=i.keys[o],n=i.data[n];if(n.bodyA===t&&n.bodyB===e||n.bodyA===e&&n.bodyB===t)return!0}return!1},o.prototype.getDiff=function(t,e,i){var o=t,n=e;(i=i||[]).length=0;for(var s=n.keys.length;s--;){var r=n.keys[s],c=n.data[r];if(!c)throw new Error("Key "+r+" had no data!");o.data[r]||i.push(c)}return i},o.prototype.isNewOverlap=function(t,e){var t=0|t.id,e=0|e.id,i=this.overlappingShapesLastState,o=this.overlappingShapesCurrentState;return!i.get(t,e)&&!!o.get(t,e)},o.prototype.getNewBodyOverlaps=function(t){this.tmpArray1.length=0;var e=this.getNewOverlaps(this.tmpArray1);return this.getBodyDiff(e,t)},o.prototype.getEndBodyOverlaps=function(t){this.tmpArray1.length=0;var e=this.getEndOverlaps(this.tmpArray1);return this.getBodyDiff(e,t)},o.prototype.getBodyDiff=function(t,e){e=e||[];for(var i=this.tmpDict,o=t.length;o--;){var n=t[o];i.set(0|n.bodyA.id,0|n.bodyB.id,n)}for(o=i.keys.length;o--;)(n=i.getByKey(i.keys[o]))&&e.push(n.bodyA,n.bodyB);return i.reset(),e}},{"./OverlapKeeperRecord":53,"./OverlapKeeperRecordPool":54,"./TupleDictionary":56,"./Utils":57}],53:[function(t,e,i){function n(t,e,i,o){this.shapeA=e,this.shapeB=o,this.bodyA=t,this.bodyB=i}(e.exports=n).prototype.set=function(t,e,i,o){n.call(this,t,e,i,o)}},{}],54:[function(t,e,i){function o(){s.apply(this,arguments)}var n=t("./OverlapKeeperRecord"),s=t("./Pool");(((e.exports=o).prototype=new s).constructor=o).prototype.create=function(){return new n},o.prototype.destroy=function(t){return t.bodyA=t.bodyB=t.shapeA=t.shapeB=null,this}},{"./OverlapKeeperRecord":53,"./Pool":55}],55:[function(t,e,i){function o(t){t=t||{},this.objects=[],void 0!==t.size&&this.resize(t.size)}(e.exports=o).prototype.resize=function(t){for(var e=this.objects;e.length>t;)e.pop();for(;e.length<t;)e.push(this.create());return this},o.prototype.get=function(){var t=this.objects;return t.length?t.pop():this.create()},o.prototype.release=function(t){return this.destroy(t),this.objects.push(t),this}},{}],56:[function(t,e,i){function o(){this.data={},this.keys=[]}var n=t("./Utils");(e.exports=o).prototype.getKey=function(t,e){return(0|(t|=0))==(0|(e|=0))?-1:0|((0|e)<(0|t)?t<<16|65535&e:e<<16|65535&t)},o.prototype.getByKey=function(t){return this.data[t|=0]},o.prototype.get=function(t,e){return this.data[this.getKey(t,e)]},o.prototype.set=function(t,e,i){if(!i)throw new Error("No data!");t=this.getKey(t,e);return this.data[t]||this.keys.push(t),this.data[t]=i,t},o.prototype.reset=function(){for(var t=this.data,e=this.keys,i=e.length;i--;)delete t[e[i]];e.length=0},o.prototype.copy=function(t){this.reset(),n.appendArray(this.keys,t.keys);for(var e=t.keys.length;e--;){var i=t.keys[e];this.data[i]=t.data[i]}}},{"./Utils":57}],57:[function(t,e,i){function o(){}(e.exports=o).appendArray=function(t,e){if(e.length<15e4)t.push.apply(t,e);else for(var i=0,o=e.length;i!==o;++i)t.push(e[i])},o.splice=function(t,e,i){for(var o=e,n=t.length-(i=i||1);o<n;o++)t[o]=t[o+i];t.length=n},"undefined"!=typeof P2_ARRAY_TYPE?o.ARRAY_TYPE=P2_ARRAY_TYPE:"undefined"!=typeof Float32Array?o.ARRAY_TYPE=Float32Array:o.ARRAY_TYPE=Array,o.extend=function(t,e){for(var i in e)t[i]=e[i]},o.defaults=function(t,e){for(var i in t=t||{},e)i in t||(t[i]=e[i]);return t}},{}],58:[function(t,e,i){function o(){this.equations=[],this.bodies=[]}var n=t("../objects/Body"),s=((e.exports=o).prototype.reset=function(){this.equations.length=this.bodies.length=0},[]);o.prototype.getBodies=function(t){for(var e=t||[],i=this.equations,o=s.length=0;o!==i.length;o++){var n=i[o];-1===s.indexOf(n.bodyA.id)&&(e.push(n.bodyA),s.push(n.bodyA.id)),-1===s.indexOf(n.bodyB.id)&&(e.push(n.bodyB),s.push(n.bodyB.id))}return e},o.prototype.wantsToSleep=function(){for(var t=0;t<this.bodies.length;t++){var e=this.bodies[t];if(e.type===n.DYNAMIC&&!e.wantsToSleep)return!1}return!0},o.prototype.sleep=function(){for(var t=0;t<this.bodies.length;t++)this.bodies[t].sleep();return!0}},{"../objects/Body":31}],59:[function(t,e,i){function p(t){this.nodePool=new o({size:16}),this.islandPool=new n({size:8}),this.equations=[],this.islands=[],this.nodes=[],this.queue=[]}t("../math/vec2"),t("./Island"),t("./IslandNode");var o=t("./../utils/IslandNodePool"),n=t("./../utils/IslandPool"),r=t("../objects/Body");(e.exports=p).getUnvisitedNode=function(t){for(var e=t.length,i=0;i!==e;i++){var o=t[i];if(!o.visited&&o.body.type===r.DYNAMIC)return o}return!1},p.prototype.visit=function(t,e,i){e.push(t.body);for(var o=t.equations.length,n=0;n!==o;n++){var s=t.equations[n];-1===i.indexOf(s)&&i.push(s)}},p.prototype.bfs=function(t,e,i){var o=this.queue;for(o.length=0,o.push(t),t.visited=!0,this.visit(t,e,i);o.length;)for(var n,s=o.pop();n=p.getUnvisitedNode(s.neighbors);)n.visited=!0,this.visit(n,e,i),n.body.type===r.DYNAMIC&&o.push(n)},p.prototype.split=function(t){for(var e=t.bodies,i=this.nodes,o=this.equations;i.length;)this.nodePool.release(i.pop());for(var n=0;n!==e.length;n++){var s=this.nodePool.get();s.body=e[n],i.push(s)}for(var r=0;r!==o.length;r++){var c=o[r],n=e.indexOf(c.bodyA),a=e.indexOf(c.bodyB),h=i[n],a=i[a];h.neighbors.push(a),a.neighbors.push(h),h.equations.push(c),a.equations.push(c)}for(var u,l=this.islands,n=0;n<l.length;n++)this.islandPool.release(l[n]);for(l.length=0;u=p.getUnvisitedNode(i);){var d=this.islandPool.get();this.bfs(u,d.bodies,d.equations),l.push(d)}return l}},{"../math/vec2":30,"../objects/Body":31,"./../utils/IslandNodePool":50,"./../utils/IslandPool":51,"./Island":58,"./IslandNode":60}],60:[function(t,e,i){function o(t){this.body=t,this.neighbors=[],this.equations=[],this.visited=!1}(e.exports=o).prototype.reset=function(){this.equations.length=0,this.neighbors.length=0,this.visited=!1,this.body=null}},{}],61:[function(t,e,i){function N(t){n.apply(this),t=t||{},this.springs=[],this.bodies=[],this.disabledBodyCollisionPairs=[],this.solver=t.solver||new o,this.narrowphase=new h(this),this.islandManager=new l,this.gravity=W.fromValues(0,-9.78),t.gravity&&W.copy(this.gravity,t.gravity),this.frictionGravity=W.length(this.gravity)||10,this.useWorldGravityAsFrictionGravity=!0,this.useFrictionGravityOnZeroGravity=!0,this.broadphase=t.broadphase||new a,this.broadphase.setWorld(this),this.constraints=[],this.defaultMaterial=new s,this.defaultContactMaterial=new r(this.defaultMaterial,this.defaultMaterial),this.lastTimeStep=1/60,this.applySpringForces=!0,this.applyDamping=!0,this.applyGravity=!0,this.solveConstraints=!0,this.contactMaterials=[],this.time=0,this.accumulator=0,this.stepping=!1,this.bodiesToBeRemoved=[],this.islandSplit=void 0===t.islandSplit||!!t.islandSplit,this.emitImpactEvent=!0,this._constraintIdCounter=0,this._bodyIdCounter=0,this.postStepEvent={type:"postStep"},this.addBodyEvent={type:"addBody",body:null},this.removeBodyEvent={type:"removeBody",body:null},this.addSpringEvent={type:"addSpring",spring:null},this.impactEvent={type:"impact",bodyA:null,bodyB:null,shapeA:null,shapeB:null,contactEquation:null},this.postBroadphaseEvent={type:"postBroadphase",pairs:null},this.sleepMode=N.NO_SLEEPING,this.beginContactEvent={type:"beginContact",shapeA:null,shapeB:null,bodyA:null,bodyB:null,contactEquations:[]},this.endContactEvent={type:"endContact",shapeA:null,shapeB:null,bodyA:null,bodyB:null},this.preSolveEvent={type:"preSolve",contactEquations:null,frictionEquations:null},this.overlappingShapesLastState={keys:[]},this.overlappingShapesCurrentState={keys:[]},this.overlapKeeper=new u}var o=t("../solver/GSSolver"),W=(t("../solver/Solver"),t("../collision/Ray"),t("../math/vec2")),f=t("../shapes/Circle"),b=t("../shapes/Convex"),g=(t("../shapes/Line"),t("../shapes/Plane")),y=t("../shapes/Capsule"),m=t("../shapes/Particle"),n=t("../events/EventEmitter"),U=t("../objects/Body"),s=(t("../shapes/Shape"),t("../objects/LinearSpring"),t("../material/Material")),r=t("../material/ContactMaterial"),c=(t("../constraints/DistanceConstraint"),t("../constraints/Constraint"),t("../constraints/LockConstraint"),t("../constraints/RevoluteConstraint"),t("../constraints/PrismaticConstraint"),t("../constraints/GearConstraint"),t("../../package.json"),t("../collision/Broadphase"),t("../collision/AABB")),a=t("../collision/SAPBroadphase"),h=t("../collision/Narrowphase"),X=t("../utils/Utils"),u=t("../utils/OverlapKeeper"),l=t("./IslandManager"),V=(t("../objects/RotationalSpring"),(((e.exports=N).prototype=new Object(n.prototype)).constructor=N).NO_SLEEPING=1,N.BODY_SLEEPING=2,N.ISLAND_SLEEPING=4,N.prototype.addConstraint=function(t){this.constraints.push(t)},N.prototype.addContactMaterial=function(t){this.contactMaterials.push(t)},N.prototype.removeContactMaterial=function(t){t=this.contactMaterials.indexOf(t);-1!==t&&X.splice(this.contactMaterials,t,1)},N.prototype.getContactMaterial=function(t,e){for(var i=this.contactMaterials,o=0,n=i.length;o!==n;o++){var s=i[o];if(s.materialA.id===t.id&&s.materialB.id===e.id||s.materialA.id===e.id&&s.materialB.id===t.id)return s}return!1},N.prototype.removeConstraint=function(t){t=this.constraints.indexOf(t);-1!==t&&X.splice(this.constraints,t,1)},W.create(),W.create(),W.create(),W.create(),W.create(),W.create(),W.create()),j=W.fromValues(0,0),Y=W.fromValues(0,0),H=(W.fromValues(0,0),W.fromValues(0,0),N.prototype.step=function(t,e,i){if(i=i||10,0===(e=e||0))this.internalStep(t),this.time+=t;else{this.accumulator+=e;for(var o=0;this.accumulator>=t&&o<i;)this.internalStep(t),this.time+=t,this.accumulator-=t,o++;for(var n=this.accumulator%t/t,s=0;s!==this.bodies.length;s++){var r=this.bodies[s];W.lerp(r.interpolatedPosition,r.previousPosition,r.position,n),r.interpolatedAngle=r.previousAngle+n*(r.angle-r.previousAngle)}}},[]),x=(N.prototype.internalStep=function(t){this.stepping=!0;var e=this.springs.length,i=this.springs,o=this.bodies,n=this.gravity,s=this.solver,r=this.bodies.length,c=this.broadphase,a=this.narrowphase,h=this.constraints,u=V,M=(W.scale,W.add),l=(W.rotate,this.islandManager);if(this.overlapKeeper.tick(),this.lastTimeStep=t,!this.useWorldGravityAsFrictionGravity||0===(A=W.length(this.gravity))&&this.useFrictionGravityOnZeroGravity||(this.frictionGravity=A),this.applyGravity)for(var d=0;d!==r;d++){var p,F=(p=o[d]).force;p.type===U.DYNAMIC&&p.sleepState!==U.SLEEPING&&(W.scale(u,n,p.mass*p.gravityScale),M(F,F,u))}if(this.applySpringForces)for(d=0;d!==e;d++)i[d].applyForce();if(this.applyDamping)for(d=0;d!==r;d++)(p=o[d]).type===U.DYNAMIC&&p.applyDamping(t);for(var j=c.getCollisionPairs(this),Y=this.disabledBodyCollisionPairs,d=Y.length-2;0<=d;d-=2)for(var f=j.length-2;0<=f;f-=2)(Y[d]===j[f]&&Y[d+1]===j[f+1]||Y[d+1]===j[f]&&Y[d]===j[f+1])&&j.splice(f,2);var b=h.length;for(d=0;d!==b;d++){var g=h[d];if(!g.collideConnected)for(f=j.length-2;0<=f;f-=2)(g.bodyA===j[f]&&g.bodyB===j[f+1]||g.bodyB===j[f]&&g.bodyA===j[f+1])&&j.splice(f,2)}this.postBroadphaseEvent.pairs=j,this.emit(this.postBroadphaseEvent),this.postBroadphaseEvent.pairs=null,a.reset(this);for(var d=0,R=j.length;d!==R;d+=2)for(var y=j[d],m=j[d+1],x=0,L=y.shapes.length;x!==L;x++)for(var v=y.shapes[x],k=v.position,D=v.angle,w=0,O=m.shapes.length;w!==O;w++){var _,E=m.shapes[w],G=E.position,Q=E.angle,S=this.defaultContactMaterial;v.material&&E.material&&((_=this.getContactMaterial(v.material,E.material))&&(S=_)),this.runNarrowphase(a,y,v,k,D,m,E,G,Q,S,this.frictionGravity)}for(d=0;d!==r;d++)(T=o[d])._wakeUpAfterNarrowphase&&(T.wakeUp(),T._wakeUpAfterNarrowphase=!1);if(this.has("endContact")){this.overlapKeeper.getEndOverlaps(H);for(var C=this.endContactEvent,w=H.length;w--;){var P=H[w];C.shapeA=P.shapeA,C.shapeB=P.shapeB,C.bodyA=P.bodyA,C.bodyB=P.bodyB,this.emit(C)}H.length=0}var A=this.preSolveEvent,b=(A.contactEquations=a.contactEquations,A.frictionEquations=a.frictionEquations,this.emit(A),A.contactEquations=A.frictionEquations=null,h.length);for(d=0;d!==b;d++)h[d].update();if(a.contactEquations.length||a.frictionEquations.length||b)if(this.islandSplit){for(l.equations.length=0,X.appendArray(l.equations,a.contactEquations),X.appendArray(l.equations,a.frictionEquations),d=0;d!==b;d++)X.appendArray(l.equations,h[d].equations);l.split(this);for(d=0;d!==l.islands.length;d++)(B=l.islands[d]).equations.length&&s.solveIsland(t,B)}else{for(s.addEquations(a.contactEquations),s.addEquations(a.frictionEquations),d=0;d!==b;d++)s.addEquations(h[d].equations);this.solveConstraints&&s.solve(t,this),s.removeAllEquations()}for(var T,d=0;d!==r;d++)(T=o[d]).integrate(t);for(d=0;d!==r;d++)o[d].setZeroForce();if(this.emitImpactEvent&&this.has("impact"))for(var I=this.impactEvent,d=0;d!==a.contactEquations.length;d++){var q=a.contactEquations[d];q.firstImpact&&(I.bodyA=q.bodyA,I.bodyB=q.bodyB,I.shapeA=q.shapeA,I.shapeB=q.shapeB,I.contactEquation=q,this.emit(I))}if(this.sleepMode===N.BODY_SLEEPING)for(d=0;d!==r;d++)o[d].sleepTick(this.time,!1,t);else if(this.sleepMode===N.ISLAND_SLEEPING&&this.islandSplit){for(d=0;d!==r;d++)o[d].sleepTick(this.time,!0,t);for(var B,d=0;d<this.islandManager.islands.length;d++)(B=this.islandManager.islands[d]).wantsToSleep()&&B.sleep()}this.stepping=!1;for(var J=this.bodiesToBeRemoved,d=0;d!==J.length;d++)this.removeBody(J[d]);J.length=0,this.emit(this.postStepEvent)},N.prototype.runNarrowphase=function(t,e,i,o,n,s,r,c,a,h,u){if(0!=(i.collisionGroup&r.collisionMask)&&0!=(r.collisionGroup&i.collisionMask)){W.rotate(j,o,e.angle),W.rotate(Y,c,s.angle),W.add(j,j,e.position),W.add(Y,Y,s.position);o=n+e.angle,c=a+s.angle,a=(t.enableFriction=0<h.friction,t.frictionCoefficient=h.friction,n=e.type===U.STATIC||e.type===U.KINEMATIC?s.mass:s.type===U.STATIC||s.type===U.KINEMATIC?e.mass:e.mass*s.mass/(e.mass+s.mass),t.slipForce=h.friction*u*n,t.restitution=h.restitution,t.surfaceVelocity=h.surfaceVelocity,t.frictionStiffness=h.frictionStiffness,t.frictionRelaxation=h.frictionRelaxation,t.stiffness=h.stiffness,t.relaxation=h.relaxation,t.contactSkinSize=h.contactSkinSize,t.enabledEquations=e.collisionResponse&&s.collisionResponse&&i.collisionResponse&&r.collisionResponse,t[i.type|r.type]);if(a){var u=i.sensor||r.sensor,n=t.frictionEquations.length,h=i.type<r.type?a.call(t,e,i,j,o,s,r,Y,c,u):a.call(t,s,r,Y,c,e,i,j,o,u),l=t.frictionEquations.length-n;if(h){if(e.allowSleep&&e.type===U.DYNAMIC&&e.sleepState===U.SLEEPING&&s.sleepState===U.AWAKE&&s.type!==U.STATIC&&W.squaredLength(s.velocity)+Math.pow(s.angularVelocity,2)>=2*Math.pow(s.sleepSpeedLimit,2)&&(e._wakeUpAfterNarrowphase=!0),s.allowSleep&&s.type===U.DYNAMIC&&s.sleepState===U.SLEEPING&&e.sleepState===U.AWAKE&&e.type!==U.STATIC&&W.squaredLength(e.velocity)+Math.pow(e.angularVelocity,2)>=2*Math.pow(e.sleepSpeedLimit,2)&&(s._wakeUpAfterNarrowphase=!0),this.overlapKeeper.setOverlapping(e,i,s,r),this.has("beginContact")&&this.overlapKeeper.isNewOverlap(i,r)){var d=this.beginContactEvent;if(d.shapeA=i,d.shapeB=r,d.bodyA=e,d.bodyB=s,d.contactEquations.length=0,"number"==typeof h)for(var p=t.contactEquations.length-h;p<t.contactEquations.length;p++)d.contactEquations.push(t.contactEquations[p]);this.emit(d)}if("number"==typeof h&&1<l)for(p=t.frictionEquations.length-l;p<t.frictionEquations.length;p++){var F=t.frictionEquations[p];F.setSlipForce(F.getSlipForce()/l)}}}}},N.prototype.addSpring=function(t){this.springs.push(t);var e=this.addSpringEvent;e.spring=t,this.emit(e),e.spring=null},N.prototype.removeSpring=function(t){t=this.springs.indexOf(t);-1!==t&&X.splice(this.springs,t,1)},N.prototype.addBody=function(t){var e;-1===this.bodies.indexOf(t)&&(this.bodies.push(t),(e=(t.world=this).addBodyEvent).body=t,this.emit(e),e.body=null)},N.prototype.removeBody=function(t){var e;this.stepping?this.bodiesToBeRemoved.push(t):(t.world=null,-1!==(e=this.bodies.indexOf(t))&&(X.splice(this.bodies,e,1),(this.removeBodyEvent.body=t).resetConstraintVelocity(),this.emit(this.removeBodyEvent),this.removeBodyEvent.body=null))},N.prototype.getBodyById=function(t){for(var e=this.bodies,i=0;i<e.length;i++){var o=e[i];if(o.id===t)return o}return!1},N.prototype.disableBodyCollision=function(t,e){this.disabledBodyCollisionPairs.push(t,e)},N.prototype.enableBodyCollision=function(t,e){for(var i=this.disabledBodyCollisionPairs,o=0;o<i.length;o+=2)if(i[o]===t&&i[o+1]===e||i[o+1]===t&&i[o]===e)return void i.splice(o,2)},N.prototype.clear=function(){this.time=0,this.solver&&this.solver.equations.length&&this.solver.removeAllEquations();for(var t=this.constraints,e=t.length-1;0<=e;e--)this.removeConstraint(t[e]);for(var i=this.bodies,e=i.length-1;0<=e;e--)this.removeBody(i[e]);for(var o=this.springs,e=o.length-1;0<=e;e--)this.removeSpring(o[e]);for(var n=this.contactMaterials,e=n.length-1;0<=e;e--)this.removeContactMaterial(n[e]);N.apply(this)},W.create()),v=(W.fromValues(0,0),W.fromValues(0,0)),d=(N.prototype.hitTest=function(t,e,i){i=i||0;var o=new U({position:t}),n=new m,s=t,r=x,c=v;o.addShape(n);for(var a=this.narrowphase,h=[],u=0,l=e.length;u!==l;u++)for(var d=e[u],p=0,F=d.shapes.length;p!==F;p++){var j=d.shapes[p],Y=(W.rotate(r,j.position,d.angle),W.add(r,r,d.position),j.angle+d.angle);(j instanceof f&&a.circleParticle(d,j,r,Y,o,n,s,0,!0)||j instanceof b&&a.particleConvex(o,n,s,0,d,j,r,Y,!0)||j instanceof g&&a.particlePlane(o,n,s,0,d,j,r,Y,!0)||j instanceof y&&a.particleCapsule(o,n,s,0,d,j,r,Y,!0)||j instanceof m&&W.squaredLength(W.sub(c,r,t))<i*i)&&h.push(d)}return h},N.prototype.setGlobalStiffness=function(t){for(var e=this.constraints,i=0;i!==e.length;i++)for(var o=e[i],n=0;n!==o.equations.length;n++){var s=o.equations[n];s.stiffness=t,s.needsUpdate=!0}for(var r=this.contactMaterials,i=0;i!==r.length;i++)(o=r[i]).stiffness=o.frictionStiffness=t;(o=this.defaultContactMaterial).stiffness=o.frictionStiffness=t},N.prototype.setGlobalRelaxation=function(t){for(var e=0;e!==this.constraints.length;e++)for(var i=this.constraints[e],o=0;o!==i.equations.length;o++){var n=i.equations[o];n.relaxation=t,n.needsUpdate=!0}for(e=0;e!==this.contactMaterials.length;e++)(i=this.contactMaterials[e]).relaxation=i.frictionRelaxation=t;(i=this.defaultContactMaterial).relaxation=i.frictionRelaxation=t},new c),p=[];N.prototype.raycast=function(t,e){return e.getAABB(d),this.broadphase.aabbQuery(this,d,p),e.intersectBodies(t,p),p.length=0,t.hasHit()}},{"../../package.json":6,"../collision/AABB":7,"../collision/Broadphase":8,"../collision/Narrowphase":10,"../collision/Ray":11,"../collision/SAPBroadphase":13,"../constraints/Constraint":14,"../constraints/DistanceConstraint":15,"../constraints/GearConstraint":16,"../constraints/LockConstraint":17,"../constraints/PrismaticConstraint":18,"../constraints/RevoluteConstraint":19,"../events/EventEmitter":26,"../material/ContactMaterial":27,"../material/Material":28,"../math/vec2":30,"../objects/Body":31,"../objects/LinearSpring":32,"../objects/RotationalSpring":33,"../shapes/Capsule":38,"../shapes/Circle":39,"../shapes/Convex":40,"../shapes/Line":42,"../shapes/Particle":43,"../shapes/Plane":44,"../shapes/Shape":45,"../solver/GSSolver":46,"../solver/Solver":47,"../utils/OverlapKeeper":52,"../utils/Utils":57,"./IslandManager":59}]},{},[36])(36)}),function(){var t=this,E={game:null,WEBGL_RENDERER:0,CANVAS_RENDERER:1,VERSION:"v2.2.9",_UID:0};return"undefined"!=typeof Float32Array?(E.Float32Array=Float32Array,E.Uint16Array=Uint16Array,E.Uint32Array=Uint32Array,E.ArrayBuffer=ArrayBuffer):(E.Float32Array=Array,E.Uint16Array=Array),E.PI_2=2*Math.PI,E.RAD_TO_DEG=180/Math.PI,E.DEG_TO_RAD=Math.PI/180,E.RETINA_PREFIX="@2x",E.DisplayObject=function(){this.position=new E.Point(0,0),this.scale=new E.Point(1,1),this.pivot=new E.Point(0,0),this.rotation=0,this.alpha=1,this.visible=!0,this.hitArea=null,this.renderable=!1,this.parent=null,this.worldAlpha=1,this.worldTransform=new E.Matrix,this.worldPosition=new E.Point(0,0),this.worldScale=new E.Point(1,1),this.worldRotation=0,this.filterArea=null,this._sr=0,this._cr=1,this._bounds=new E.Rectangle(0,0,0,0),this._currentBounds=null,this._mask=null,this._cacheAsBitmap=!1,this._cacheIsDirty=!1},E.DisplayObject.prototype.constructor=E.DisplayObject,E.DisplayObject.prototype={destroy:function(){if(this.children){for(var t=this.children.length;t--;)this.children[t].destroy();this.children=[]}this.hitArea=null,this.parent=null,this.worldTransform=null,this.filterArea=null,this.renderable=!1,this._bounds=null,this._currentBounds=null,this._mask=null,this._destroyCachedSprite()},updateTransform:function(t){if(!t&&!this.parent&&!this.game)return this;var e=this.parent;t?e=t:this.parent||(e=this.game.world);var i,o,n,s,r,c,t=e.worldTransform,a=this.worldTransform;return this.rotation%E.PI_2?(this.rotation!==this.rotationCache&&(this.rotationCache=this.rotation,this._sr=Math.sin(this.rotation),this._cr=Math.cos(this.rotation)),i=this._cr*this.scale.x,o=this._sr*this.scale.x,n=-this._sr*this.scale.y,s=this._cr*this.scale.y,r=this.position.x,c=this.position.y,(this.pivot.x||this.pivot.y)&&(r-=this.pivot.x*i+this.pivot.y*n,c-=this.pivot.x*o+this.pivot.y*s),a.a=i*t.a+o*t.c,a.b=i*t.b+o*t.d,a.c=n*t.a+s*t.c,a.d=n*t.b+s*t.d):(i=this.scale.x,s=this.scale.y,r=this.position.x-this.pivot.x*i,c=this.position.y-this.pivot.y*s,a.a=i*t.a,a.b=i*t.b,a.c=s*t.c,a.d=s*t.d),a.tx=r*t.a+c*t.c+t.tx,a.ty=r*t.b+c*t.d+t.ty,this.worldAlpha=this.alpha*e.worldAlpha,this.worldPosition.set(a.tx,a.ty),this.worldScale.set(this.scale.x*Math.sqrt(a.a*a.a+a.c*a.c),this.scale.y*Math.sqrt(a.b*a.b+a.d*a.d)),this.worldRotation=Math.atan2(-a.c,a.d),this._currentBounds=null,this.transformCallback&&this.transformCallback.call(this.transformCallbackContext,a,t),this},preUpdate:function(){},generateTexture:function(t,e,i){var o=this.getLocalBounds(),i=new E.RenderTexture(0|o.width,0|o.height,i,e,t);return E.DisplayObject._tempMatrix.tx=-o.x,E.DisplayObject._tempMatrix.ty=-o.y,i.render(this,E.DisplayObject._tempMatrix),i},updateCache:function(){return this._generateCachedSprite(),this},toGlobal:function(t){return this.updateTransform(),this.worldTransform.apply(t)},toLocal:function(t,e){return e&&(t=e.toGlobal(t)),this.updateTransform(),this.worldTransform.applyInverse(t)},_renderCachedSprite:function(t){this._cachedSprite.worldAlpha=this.worldAlpha,(t.gl?E.Sprite.prototype._renderWebGL:E.Sprite.prototype._renderCanvas).call(this._cachedSprite,t)},_generateCachedSprite:function(){this._cacheAsBitmap=!1;var t=this.getLocalBounds(),e=(t.width=Math.max(1,Math.ceil(t.width)),t.height=Math.max(1,Math.ceil(t.height)),this.updateTransform(),this._cachedSprite?this._cachedSprite.texture.resize(t.width,t.height):(e=new E.RenderTexture(t.width,t.height),this._cachedSprite=new E.Sprite(e),this._cachedSprite.worldTransform=this.worldTransform),this._filters);this._filters=null,this._cachedSprite.filters=e,E.DisplayObject._tempMatrix.tx=-t.x,E.DisplayObject._tempMatrix.ty=-t.y,this._cachedSprite.texture.render(this,E.DisplayObject._tempMatrix,!0),this._cachedSprite.anchor.x=-t.x/t.width,this._cachedSprite.anchor.y=-t.y/t.height,this._filters=e,this._cacheAsBitmap=!0},_destroyCachedSprite:function(){this._cachedSprite&&(this._cachedSprite.texture.destroy(!0),this._cachedSprite=null)}},E.DisplayObject.prototype.displayObjectUpdateTransform=E.DisplayObject.prototype.updateTransform,Object.defineProperties(E.DisplayObject.prototype,{x:{get:function(){return this.position.x},set:function(t){this.position.x=t}},y:{get:function(){return this.position.y},set:function(t){this.position.y=t}},worldVisible:{get:function(){if(this.visible){var t=this.parent;if(!t)return this.visible;do{if(!t.visible)return!1}while(t=t.parent);return!0}return!1}},mask:{get:function(){return this._mask},set:function(t){this._mask&&(this._mask.isMask=!1),(this._mask=t)&&(this._mask.isMask=!0)}},filters:{get:function(){return this._filters},set:function(t){if(Array.isArray(t)){for(var e=[],i=0;i<t.length;i++)for(var o=t[i].passes,n=0;n<o.length;n++)e.push(o[n]);this._filterBlock={target:this,filterPasses:e}}this._filters=t,this.blendMode&&this.blendMode===E.blendModes.MULTIPLY&&(this.blendMode=E.blendModes.NORMAL)}},cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){this._cacheAsBitmap!==t&&(t?this._generateCachedSprite():this._destroyCachedSprite(),this._cacheAsBitmap=t)}}}),E.DisplayObjectContainer=function(){E.DisplayObject.call(this),this.children=[],this.ignoreChildInput=!1},E.DisplayObjectContainer.prototype=Object.create(E.DisplayObject.prototype),E.DisplayObjectContainer.prototype.constructor=E.DisplayObjectContainer,E.DisplayObjectContainer.prototype.addChild=function(t){return this.addChildAt(t,this.children.length)},E.DisplayObjectContainer.prototype.addChildAt=function(t,e){if(0<=e&&e<=this.children.length)return t.parent&&t.parent.removeChild(t),(t.parent=this).children.splice(e,0,t),t;throw new Error(t+"addChildAt: The index "+e+" supplied is out of bounds "+this.children.length)},E.DisplayObjectContainer.prototype.swapChildren=function(t,e){if(t!==e){var i=this.getChildIndex(t),o=this.getChildIndex(e);if(i<0||o<0)throw new Error("swapChildren: Both the supplied DisplayObjects must be a child of the caller.");this.children[i]=e,this.children[o]=t}},E.DisplayObjectContainer.prototype.getChildIndex=function(t){t=this.children.indexOf(t);if(-1===t)throw new Error("The supplied DisplayObject must be a child of the caller");return t},E.DisplayObjectContainer.prototype.setChildIndex=function(t,e){if(e<0||e>=this.children.length)throw new Error("The supplied index is out of bounds");var i=this.getChildIndex(t);this.children.splice(i,1),this.children.splice(e,0,t)},E.DisplayObjectContainer.prototype.getChildAt=function(t){if(t<0||t>=this.children.length)throw new Error("getChildAt: Supplied index "+t+" does not exist in the child list, or the supplied DisplayObject must be a child of the caller");return this.children[t]},E.DisplayObjectContainer.prototype.removeChild=function(t){t=this.children.indexOf(t);if(-1!==t)return this.removeChildAt(t)},E.DisplayObjectContainer.prototype.removeChildAt=function(t){var e=this.getChildAt(t);return e&&(e.parent=void 0,this.children.splice(t,1)),e},E.DisplayObjectContainer.prototype.removeChildren=function(t,e){var i=(e=void 0===e?this.children.length:e)-(t=void 0===t?0:t);if(0<i&&i<=e){for(var o=this.children.splice(t,i),n=0;n<o.length;n++)o[n].parent=void 0;return o}if(0==i&&0===this.children.length)return[];throw new Error("removeChildren: Range Error, numeric values are outside the acceptable range")},E.DisplayObjectContainer.prototype.updateTransform=function(){if(this.visible&&(this.displayObjectUpdateTransform(),!this._cacheAsBitmap))for(var t=0;t<this.children.length;t++)this.children[t].updateTransform()},E.DisplayObjectContainer.prototype.displayObjectContainerUpdateTransform=E.DisplayObjectContainer.prototype.updateTransform,E.DisplayObjectContainer.prototype.getBounds=function(t){var e=t&&t instanceof E.DisplayObject,i=!0;if(e?i=t instanceof E.DisplayObjectContainer&&t.contains(this):t=this,e){var o=t.worldTransform;for(t.worldTransform=E.identityMatrix,l=0;l<t.children.length;l++)t.children[l].updateTransform()}for(var n,s,r=1/0,c=1/0,a=-1/0,h=-1/0,u=!1,l=0;l<this.children.length;l++)this.children[l].visible&&(u=!0,r=r<(n=this.children[l].getBounds()).x?r:n.x,c=c<n.y?c:n.y,a=(s=n.width+n.x)<a?a:s,h=(s=n.height+n.y)<h?h:s);var d,p,F,j,Y,f,b,g,y,m,x,v,w,_=this._bounds;if(u||(f=(_=new E.Rectangle).x,d=_.width+_.x,g=_.y,p=_.height+_.y,Y=(m=this.worldTransform).a,F=m.b,j=m.c,w=m.d,r=(x=Y*d+j*g+(v=m.tx))<(r=(y=Y*f+j*g+v)<(r=(b=Y*f+j*p+v)<(r=Y=Y*d+j*p+v)?b:r)?y:r)?x:r,c=(v=w*g+F*d+(j=m.ty))<(c=(m=w*g+F*f+j)<(c=(g=w*p+F*f+j)<(c=f=w*p+F*d+j)?g:c)?m:c)?v:c,a=(a=(a=(a=Y)<b?b:a)<y?y:a)<x?x:a,h=(h=(h=(h=f)<g?g:h)<m?m:h)<v?v:h),_.x=r,_.y=c,_.width=a-r,_.height=h-c,e)for(t.worldTransform=o,l=0;l<t.children.length;l++)t.children[l].updateTransform();return i||(w=t.getBounds(),_.x-=w.x,_.y-=w.y),_},E.DisplayObjectContainer.prototype.getLocalBounds=function(){return this.getBounds(this)},E.DisplayObjectContainer.prototype.contains=function(t){return!!t&&(t===this||this.contains(t.parent))},E.DisplayObjectContainer.prototype._renderWebGL=function(t){var e;if(this.visible&&!(this.alpha<=0))if(this._cacheAsBitmap)this._renderCachedSprite(t);else if(this._mask||this._filters){for(this._filters&&(t.spriteBatch.flush(),t.filterManager.pushFilter(this._filterBlock)),this._mask&&(t.spriteBatch.stop(),t.maskManager.pushMask(this.mask,t),t.spriteBatch.start()),e=0;e<this.children.length;e++)this.children[e]._renderWebGL(t);t.spriteBatch.stop(),this._mask&&t.maskManager.popMask(this._mask,t),this._filters&&t.filterManager.popFilter(),t.spriteBatch.start()}else for(e=0;e<this.children.length;e++)this.children[e]._renderWebGL(t)},E.DisplayObjectContainer.prototype._renderCanvas=function(t){if(!1!==this.visible&&0!==this.alpha)if(this._cacheAsBitmap)this._renderCachedSprite(t);else{this._mask&&t.maskManager.pushMask(this._mask,t);for(var e=0;e<this.children.length;e++)this.children[e]._renderCanvas(t);this._mask&&t.maskManager.popMask(t)}},Object.defineProperty(E.DisplayObjectContainer.prototype,"width",{get:function(){return this.getLocalBounds().width*this.scale.x},set:function(t){var e=this.getLocalBounds().width;this.scale.x=0!==e?t/e:1,this._width=t}}),Object.defineProperty(E.DisplayObjectContainer.prototype,"height",{get:function(){return this.getLocalBounds().height*this.scale.y},set:function(t){var e=this.getLocalBounds().height;this.scale.y=0!==e?t/e:1,this._height=t}}),E.Sprite=function(t){E.DisplayObjectContainer.call(this),this.anchor=new E.Point,this.texture=t||E.Texture.emptyTexture,this._width=0,this._height=0,this.tint=16777215,this.cachedTint=-1,this.tintedTexture=null,this.blendMode=E.blendModes.NORMAL,this.shader=null,this.exists=!0,this.texture.baseTexture.hasLoaded&&this.onTextureUpdate(),this.renderable=!0},E.Sprite.prototype=Object.create(E.DisplayObjectContainer.prototype),E.Sprite.prototype.constructor=E.Sprite,Object.defineProperty(E.Sprite.prototype,"width",{get:function(){return this.scale.x*this.texture.frame.width},set:function(t){this.scale.x=t/this.texture.frame.width,this._width=t}}),Object.defineProperty(E.Sprite.prototype,"height",{get:function(){return this.scale.y*this.texture.frame.height},set:function(t){this.scale.y=t/this.texture.frame.height,this._height=t}}),E.Sprite.prototype.setTexture=function(t,e){void 0!==e&&this.texture.baseTexture.destroy(),this.texture.baseTexture.skipRender=!1,this.texture=t,this.texture.valid=!0,this.cachedTint=-1},E.Sprite.prototype.onTextureUpdate=function(){this._width&&(this.scale.x=this._width/this.texture.frame.width),this._height&&(this.scale.y=this._height/this.texture.frame.height)},E.Sprite.prototype.getBounds=function(t){var e,i,o,n=this.texture.frame.width,s=this.texture.frame.height,r=n*(1-this.anchor.x),n=n*-this.anchor.x,c=s*(1-this.anchor.y),s=s*-this.anchor.y,t=t||this.worldTransform,a=t.a,h=t.b,u=t.c,l=t.d,d=t.tx,t=t.ty,p=-1/0,F=-1/0,j=1/0,Y=1/0,F=0===h&&0===u?(a<0&&(a*=-1,o=r,r=-n,n=-o),l<0&&(l*=-1,o=c,c=-s,s=-o),j=a*n+d,p=a*r+d,Y=l*s+t,l*c+t):(j=(o=a*n+u*c+d)<(j=(i=a*r+u*c+d)<(j=(e=a*r+u*s+d)<(j=(a=a*n+u*s+d)<j?a:j)?e:j)?i:j)?o:j,Y=(u=l*c+h*n+t)<(Y=(d=l*c+h*r+t)<(Y=(c=l*s+h*r+t)<(Y=(r=l*s+h*n+t)<Y?r:Y)?c:Y)?d:Y)?u:Y,p=(p=(p=(p=p<a?a:p)<e?e:p)<i?i:p)<o?o:p,(F=(F=(F=F<r?r:F)<c?c:F)<d?d:F)<u?u:F),l=this._bounds;return l.x=j,l.width=p-j,l.y=Y,l.height=F-Y,this._currentBounds=l},E.Sprite.prototype.getLocalBounds=function(){var t=this.worldTransform;this.worldTransform=E.identityMatrix;for(var e=0;e<this.children.length;e++)this.children[e].updateTransform();var i=this.getBounds();for(this.worldTransform=t,e=0;e<this.children.length;e++)this.children[e].updateTransform();return i},E.Sprite.prototype._renderWebGL=function(t,e){if(this.visible&&!(this.alpha<=0)&&this.renderable){var i=this.worldTransform;if(e&&(i=e),this._mask||this._filters){e=t.spriteBatch;this._filters&&(e.flush(),t.filterManager.pushFilter(this._filterBlock)),this._mask&&(e.stop(),t.maskManager.pushMask(this.mask,t),e.start()),e.render(this);for(var o=0;o<this.children.length;o++)this.children[o]._renderWebGL(t);e.stop(),this._mask&&t.maskManager.popMask(this._mask,t),this._filters&&t.filterManager.popFilter(),e.start()}else{t.spriteBatch.render(this);for(o=0;o<this.children.length;o++)this.children[o]._renderWebGL(t,i)}}},E.Sprite.prototype._renderCanvas=function(t,e){if(!(!this.visible||0===this.alpha||!this.renderable||this.texture.crop.width<=0||this.texture.crop.height<=0)){var i,o,n,s,r,c=this.worldTransform;e&&(c=e),this.blendMode!==t.currentBlendMode&&(t.currentBlendMode=this.blendMode,t.context.globalCompositeOperation=E.blendModesCanvas[t.currentBlendMode]),this._mask&&t.maskManager.pushMask(this._mask,t),this.texture.valid&&(e=this.texture.baseTexture.resolution/t.resolution,t.context.globalAlpha=this.worldAlpha,t.smoothProperty&&t.scaleMode!==this.texture.baseTexture.scaleMode&&(t.scaleMode=this.texture.baseTexture.scaleMode,t.context[t.smoothProperty]=t.scaleMode===E.scaleModes.LINEAR),i=this.texture.trim?this.texture.trim.x-this.anchor.x*this.texture.trim.width:this.anchor.x*-this.texture.frame.width,o=this.texture.trim?this.texture.trim.y-this.anchor.y*this.texture.trim.height:this.anchor.y*-this.texture.frame.height,n=c.tx*t.resolution+t.shakeX,s=c.ty*t.resolution+t.shakeY,t.roundPixels?(t.context.setTransform(c.a,c.b,c.c,c.d,0|n,0|s),i|=0,o|=0):t.context.setTransform(c.a,c.b,c.c,c.d,n,s),c=this.texture.crop.width,n=this.texture.crop.height,i/=e,o/=e,16777215!==this.tint?(!this.texture.requiresReTint&&this.cachedTint===this.tint||(this.tintedTexture=E.CanvasTinter.getTintedTexture(this,this.tint),this.cachedTint=this.tint,this.texture.requiresReTint=!1),t.context.drawImage(this.tintedTexture,0,0,c,n,i,o,c/e,n/e)):(s=this.texture.crop.x,r=this.texture.crop.y,t.context.drawImage(this.texture.baseTexture.source,s,r,c,n,i,o,c/e,n/e)));for(var a=0;a<this.children.length;a++)this.children[a]._renderCanvas(t);this._mask&&t.maskManager.popMask(t)}},E.SpriteBatch=function(t){E.DisplayObjectContainer.call(this),this.textureThing=t,this.ready=!1},E.SpriteBatch.prototype=Object.create(E.DisplayObjectContainer.prototype),E.SpriteBatch.prototype.constructor=E.SpriteBatch,E.SpriteBatch.prototype.initWebGL=function(t){this.fastSpriteBatch=new E.WebGLFastSpriteBatch(t),this.ready=!0},E.SpriteBatch.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},E.SpriteBatch.prototype._renderWebGL=function(t){!this.visible||this.alpha<=0||!this.children.length||(this.ready||this.initWebGL(t.gl),this.fastSpriteBatch.gl!==t.gl&&this.fastSpriteBatch.setContext(t.gl),t.spriteBatch.stop(),t.shaderManager.setShader(t.shaderManager.fastShader),this.fastSpriteBatch.begin(this,t),this.fastSpriteBatch.render(this),t.spriteBatch.start())},E.SpriteBatch.prototype._renderCanvas=function(t){if(this.visible&&!(this.alpha<=0)&&this.children.length){var e=t.context;e.globalAlpha=this.worldAlpha,this.displayObjectUpdateTransform();for(var i=this.worldTransform,o=!0,n=0;n<this.children.length;n++){var s,r,c,a,h,u=this.children[n];u.visible&&(r=(s=u.texture).frame,e.globalAlpha=this.worldAlpha*u.alpha,u.rotation%(2*Math.PI)==0?(o&&(e.setTransform(i.a,i.b,i.c,i.d,i.tx,i.ty),o=!1),e.drawImage(s.baseTexture.source,r.x,r.y,r.width,r.height,u.anchor.x*(-r.width*u.scale.x)+u.position.x+.5+t.shakeX|0,u.anchor.y*(-r.height*u.scale.y)+u.position.y+.5+t.shakeY|0,r.width*u.scale.x,r.height*u.scale.y)):(o=o||!0,u.displayObjectUpdateTransform(),a=(c=u.worldTransform).tx*t.resolution+t.shakeX,h=c.ty*t.resolution+t.shakeY,t.roundPixels?e.setTransform(c.a,c.b,c.c,c.d,0|a,0|h):e.setTransform(c.a,c.b,c.c,c.d,a,h),e.drawImage(s.baseTexture.source,r.x,r.y,r.width,r.height,u.anchor.x*-r.width+.5|0,u.anchor.y*-r.height+.5|0,r.width,r.height)))}}},E.hex2rgb=function(t){return[(t>>16&255)/255,(t>>8&255)/255,(255&t)/255]},E.rgb2hex=function(t){return(255*t[0]<<16)+(255*t[1]<<8)+255*t[2]},E.canUseNewCanvasBlendModes=function(){if(void 0===document)return!1;var t="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",e="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",i=new Image,o=(i.src=t+"AP804Oa6"+e,new Image);o.src=t+"/wCKxvRF"+e;t=E.CanvasPool.create(this,6,1).getContext("2d");if(t.globalCompositeOperation="multiply",t.drawImage(i,0,0),t.drawImage(o,2,0),!t.getImageData(2,0,1,1))return!1;e=t.getImageData(2,0,1,1).data;return E.CanvasPool.remove(this),255===e[0]&&0===e[1]&&0===e[2]},E.getNextPowerOfTwo=function(t){if(0<t&&0==(t&t-1))return t;for(var e=1;e<t;)e<<=1;return e},E.isPowerOfTwo=function(t,e){return 0<t&&0==(t&t-1)&&0<e&&0==(e&e-1)},E.CanvasPool={create:function(t,e,i){var o=E.CanvasPool.getFirst(),n=-1===o?(n={parent:t,canvas:document.createElement("canvas")},E.CanvasPool.pool.push(n),n.canvas):(E.CanvasPool.pool[o].parent=t,E.CanvasPool.pool[o].canvas);return void 0!==e&&(n.width=e,n.height=i),n},getFirst:function(){for(var t=E.CanvasPool.pool,e=0;e<t.length;e++)if(!t[e].parent)return e;return-1},remove:function(t){for(var e=E.CanvasPool.pool,i=0;i<e.length;i++)e[i].parent===t&&(e[i].parent=null,e[i].canvas.width=1,e[i].canvas.height=1)},removeByCanvas:function(t){for(var e=E.CanvasPool.pool,i=0;i<e.length;i++)e[i].canvas===t&&(e[i].parent=null,e[i].canvas.width=1,e[i].canvas.height=1)},getTotal:function(){for(var t=E.CanvasPool.pool,e=0,i=0;i<t.length;i++)t[i].parent&&e++;return e},getFree:function(){for(var t=E.CanvasPool.pool,e=0,i=0;i<t.length;i++)t[i].parent||e++;return e}},E.CanvasPool.pool=[],E.initDefaultShaders=function(){},E.CompileVertexShader=function(t,e){return E._CompileShader(t,e,t.VERTEX_SHADER)},E.CompileFragmentShader=function(t,e){return E._CompileShader(t,e,t.FRAGMENT_SHADER)},E._CompileShader=function(t,e,i){var o=e,e=(Array.isArray(e)&&(o=e.join("\n")),t.createShader(i));return t.shaderSource(e,o),t.compileShader(e),t.getShaderParameter(e,t.COMPILE_STATUS)?e:(window.console.log(t.getShaderInfoLog(e)),null)},E.compileProgram=function(t,e,i){var i=E.CompileFragmentShader(t,i),e=E.CompileVertexShader(t,e),o=t.createProgram();return t.attachShader(o,e),t.attachShader(o,i),t.linkProgram(o),t.getProgramParameter(o,t.LINK_STATUS)||(window.console.log(t.getProgramInfoLog(o)),window.console.log("Could not initialise shaders")),o},E.PixiShader=function(t){this._UID=E._UID++,this.gl=t,this.program=null,this.fragmentSrc=["precision lowp float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","void main(void) {","   gl_FragColor = texture2D(uSampler, vTextureCoord) * vColor ;","}"],this.textureCount=0,this.firstRun=!0,this.dirty=!0,this.attributes=[],this.init()},E.PixiShader.prototype.constructor=E.PixiShader,E.PixiShader.prototype.init=function(){var t,e=this.gl,i=E.compileProgram(e,this.vertexSrc||E.PixiShader.defaultVertexSrc,this.fragmentSrc);for(t in e.useProgram(i),this.uSampler=e.getUniformLocation(i,"uSampler"),this.projectionVector=e.getUniformLocation(i,"projectionVector"),this.offsetVector=e.getUniformLocation(i,"offsetVector"),this.dimensions=e.getUniformLocation(i,"dimensions"),this.aVertexPosition=e.getAttribLocation(i,"aVertexPosition"),this.aTextureCoord=e.getAttribLocation(i,"aTextureCoord"),this.colorAttribute=e.getAttribLocation(i,"aColor"),-1===this.colorAttribute&&(this.colorAttribute=2),this.attributes=[this.aVertexPosition,this.aTextureCoord,this.colorAttribute],this.uniforms)this.uniforms[t].uniformLocation=e.getUniformLocation(i,t);this.initUniforms(),this.program=i},E.PixiShader.prototype.initUniforms=function(){this.textureCount=1;var t,e=this.gl;for(t in this.uniforms){var i,o=(i=this.uniforms[t]).type;"sampler2D"===o?(i._init=!1,null!==i.value&&this.initSampler2D(i)):"mat2"===o||"mat3"===o||"mat4"===o?(i.glMatrix=!0,i.glValueLength=1,"mat2"===o?i.glFunc=e.uniformMatrix2fv:"mat3"===o?i.glFunc=e.uniformMatrix3fv:"mat4"===o&&(i.glFunc=e.uniformMatrix4fv)):(i.glFunc=e["uniform"+o],i.glValueLength="2f"===o||"2i"===o?2:"3f"===o||"3i"===o?3:"4f"===o||"4i"===o?4:1)}},E.PixiShader.prototype.initSampler2D=function(t){var e,i,o,n,s,r,c,a,h;t.value&&t.value.baseTexture&&t.value.baseTexture.hasLoaded&&((e=this.gl).activeTexture(e["TEXTURE"+this.textureCount]),e.bindTexture(e.TEXTURE_2D,t.value.baseTexture._glTextures[e.id]),t.textureData&&(i=(h=t.textureData).magFilter||e.LINEAR,o=h.minFilter||e.LINEAR,n=h.wrapS||e.CLAMP_TO_EDGE,s=h.wrapT||e.CLAMP_TO_EDGE,r=h.luminance?e.LUMINANCE:e.RGBA,h.repeat&&(n=e.REPEAT,s=e.REPEAT),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,!!h.flipY),h.width?(c=h.width||512,a=h.height||2,h=h.border||0,e.texImage2D(e.TEXTURE_2D,0,r,c,a,h,r,e.UNSIGNED_BYTE,null)):e.texImage2D(e.TEXTURE_2D,0,r,e.RGBA,e.UNSIGNED_BYTE,t.value.baseTexture.source),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,i),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,o),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,n),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,s)),e.uniform1i(t.uniformLocation,this.textureCount),t._init=!0,this.textureCount++)},E.PixiShader.prototype.syncUniforms=function(){this.textureCount=1;var t,e,i=this.gl;for(e in this.uniforms)t=this.uniforms[e],1===t.glValueLength?!0===t.glMatrix?t.glFunc.call(i,t.uniformLocation,t.transpose,t.value):t.glFunc.call(i,t.uniformLocation,t.value):2===t.glValueLength?t.glFunc.call(i,t.uniformLocation,t.value.x,t.value.y):3===t.glValueLength?t.glFunc.call(i,t.uniformLocation,t.value.x,t.value.y,t.value.z):4===t.glValueLength?t.glFunc.call(i,t.uniformLocation,t.value.x,t.value.y,t.value.z,t.value.w):"sampler2D"===t.type&&(t._init?(i.activeTexture(i["TEXTURE"+this.textureCount]),t.value.baseTexture._dirty[i.id]?E.instances[i.id].updateTexture(t.value.baseTexture):i.bindTexture(i.TEXTURE_2D,t.value.baseTexture._glTextures[i.id]),i.uniform1i(t.uniformLocation,this.textureCount),this.textureCount++):this.initSampler2D(t))},E.PixiShader.prototype.destroy=function(){this.gl.deleteProgram(this.program),this.uniforms=null,this.gl=null,this.attributes=null},E.PixiShader.defaultVertexSrc=["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute vec4 aColor;","uniform vec2 projectionVector;","uniform vec2 offsetVector;","varying vec2 vTextureCoord;","varying vec4 vColor;","const vec2 center = vec2(-1.0, 1.0);","void main(void) {","   gl_Position = vec4( ((aVertexPosition + offsetVector) / projectionVector) + center , 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vColor = vec4(aColor.rgb * aColor.a, aColor.a);","}"],E.PixiFastShader=function(t){this._UID=E._UID++,this.gl=t,this.program=null,this.fragmentSrc=["precision lowp float;","varying vec2 vTextureCoord;","varying float vColor;","uniform sampler2D uSampler;","void main(void) {","   gl_FragColor = texture2D(uSampler, vTextureCoord) * vColor ;","}"],this.vertexSrc=["attribute vec2 aVertexPosition;","attribute vec2 aPositionCoord;","attribute vec2 aScale;","attribute float aRotation;","attribute vec2 aTextureCoord;","attribute float aColor;","uniform vec2 projectionVector;","uniform vec2 offsetVector;","uniform mat3 uMatrix;","varying vec2 vTextureCoord;","varying float vColor;","const vec2 center = vec2(-1.0, 1.0);","void main(void) {","   vec2 v;","   vec2 sv = aVertexPosition * aScale;","   v.x = (sv.x) * cos(aRotation) - (sv.y) * sin(aRotation);","   v.y = (sv.x) * sin(aRotation) + (sv.y) * cos(aRotation);","   v = ( uMatrix * vec3(v + aPositionCoord , 1.0) ).xy ;","   gl_Position = vec4( ( v / projectionVector) + center , 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vColor = aColor;","}"],this.textureCount=0,this.init()},E.PixiFastShader.prototype.constructor=E.PixiFastShader,E.PixiFastShader.prototype.init=function(){var t=this.gl,e=E.compileProgram(t,this.vertexSrc,this.fragmentSrc);t.useProgram(e),this.uSampler=t.getUniformLocation(e,"uSampler"),this.projectionVector=t.getUniformLocation(e,"projectionVector"),this.offsetVector=t.getUniformLocation(e,"offsetVector"),this.dimensions=t.getUniformLocation(e,"dimensions"),this.uMatrix=t.getUniformLocation(e,"uMatrix"),this.aVertexPosition=t.getAttribLocation(e,"aVertexPosition"),this.aPositionCoord=t.getAttribLocation(e,"aPositionCoord"),this.aScale=t.getAttribLocation(e,"aScale"),this.aRotation=t.getAttribLocation(e,"aRotation"),this.aTextureCoord=t.getAttribLocation(e,"aTextureCoord"),this.colorAttribute=t.getAttribLocation(e,"aColor"),-1===this.colorAttribute&&(this.colorAttribute=2),this.attributes=[this.aVertexPosition,this.aPositionCoord,this.aScale,this.aRotation,this.aTextureCoord,this.colorAttribute],this.program=e},E.PixiFastShader.prototype.destroy=function(){this.gl.deleteProgram(this.program),this.uniforms=null,this.gl=null,this.attributes=null},E.StripShader=function(t){this._UID=E._UID++,this.gl=t,this.program=null,this.fragmentSrc=["precision mediump float;","varying vec2 vTextureCoord;","uniform float alpha;","uniform sampler2D uSampler;","void main(void) {","   gl_FragColor = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y)) * alpha;","}"],this.vertexSrc=["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform mat3 translationMatrix;","uniform vec2 projectionVector;","uniform vec2 offsetVector;","varying vec2 vTextureCoord;","void main(void) {","   vec3 v = translationMatrix * vec3(aVertexPosition , 1.0);","   v -= offsetVector.xyx;","   gl_Position = vec4( v.x / projectionVector.x -1.0, v.y / -projectionVector.y + 1.0 , 0.0, 1.0);","   vTextureCoord = aTextureCoord;","}"],this.init()},E.StripShader.prototype.constructor=E.StripShader,E.StripShader.prototype.init=function(){var t=this.gl,e=E.compileProgram(t,this.vertexSrc,this.fragmentSrc);t.useProgram(e),this.uSampler=t.getUniformLocation(e,"uSampler"),this.projectionVector=t.getUniformLocation(e,"projectionVector"),this.offsetVector=t.getUniformLocation(e,"offsetVector"),this.colorAttribute=t.getAttribLocation(e,"aColor"),this.aVertexPosition=t.getAttribLocation(e,"aVertexPosition"),this.aTextureCoord=t.getAttribLocation(e,"aTextureCoord"),this.attributes=[this.aVertexPosition,this.aTextureCoord],this.translationMatrix=t.getUniformLocation(e,"translationMatrix"),this.alpha=t.getUniformLocation(e,"alpha"),this.program=e},E.StripShader.prototype.destroy=function(){this.gl.deleteProgram(this.program),this.uniforms=null,this.gl=null,this.attribute=null},E.PrimitiveShader=function(t){this._UID=E._UID++,this.gl=t,this.program=null,this.fragmentSrc=["precision mediump float;","varying vec4 vColor;","void main(void) {","   gl_FragColor = vColor;","}"],this.vertexSrc=["attribute vec2 aVertexPosition;","attribute vec4 aColor;","uniform mat3 translationMatrix;","uniform vec2 projectionVector;","uniform vec2 offsetVector;","uniform float alpha;","uniform float flipY;","uniform vec3 tint;","varying vec4 vColor;","void main(void) {","   vec3 v = translationMatrix * vec3(aVertexPosition , 1.0);","   v -= offsetVector.xyx;","   gl_Position = vec4( v.x / projectionVector.x -1.0, (v.y / projectionVector.y * -flipY) + flipY , 0.0, 1.0);","   vColor = aColor * vec4(tint * alpha, alpha);","}"],this.init()},E.PrimitiveShader.prototype.constructor=E.PrimitiveShader,E.PrimitiveShader.prototype.init=function(){var t=this.gl,e=E.compileProgram(t,this.vertexSrc,this.fragmentSrc);t.useProgram(e),this.projectionVector=t.getUniformLocation(e,"projectionVector"),this.offsetVector=t.getUniformLocation(e,"offsetVector"),this.tintColor=t.getUniformLocation(e,"tint"),this.flipY=t.getUniformLocation(e,"flipY"),this.aVertexPosition=t.getAttribLocation(e,"aVertexPosition"),this.colorAttribute=t.getAttribLocation(e,"aColor"),this.attributes=[this.aVertexPosition,this.colorAttribute],this.translationMatrix=t.getUniformLocation(e,"translationMatrix"),this.alpha=t.getUniformLocation(e,"alpha"),this.program=e},E.PrimitiveShader.prototype.destroy=function(){this.gl.deleteProgram(this.program),this.uniforms=null,this.gl=null,this.attributes=null},E.ComplexPrimitiveShader=function(t){this._UID=E._UID++,this.gl=t,this.program=null,this.fragmentSrc=["precision mediump float;","varying vec4 vColor;","void main(void) {","   gl_FragColor = vColor;","}"],this.vertexSrc=["attribute vec2 aVertexPosition;","uniform mat3 translationMatrix;","uniform vec2 projectionVector;","uniform vec2 offsetVector;","uniform vec3 tint;","uniform float alpha;","uniform vec3 color;","uniform float flipY;","varying vec4 vColor;","void main(void) {","   vec3 v = translationMatrix * vec3(aVertexPosition , 1.0);","   v -= offsetVector.xyx;","   gl_Position = vec4( v.x / projectionVector.x -1.0, (v.y / projectionVector.y * -flipY) + flipY , 0.0, 1.0);","   vColor = vec4(color * alpha * tint, alpha);","}"],this.init()},E.ComplexPrimitiveShader.prototype.constructor=E.ComplexPrimitiveShader,E.ComplexPrimitiveShader.prototype.init=function(){var t=this.gl,e=E.compileProgram(t,this.vertexSrc,this.fragmentSrc);t.useProgram(e),this.projectionVector=t.getUniformLocation(e,"projectionVector"),this.offsetVector=t.getUniformLocation(e,"offsetVector"),this.tintColor=t.getUniformLocation(e,"tint"),this.color=t.getUniformLocation(e,"color"),this.flipY=t.getUniformLocation(e,"flipY"),this.aVertexPosition=t.getAttribLocation(e,"aVertexPosition"),this.attributes=[this.aVertexPosition,this.colorAttribute],this.translationMatrix=t.getUniformLocation(e,"translationMatrix"),this.alpha=t.getUniformLocation(e,"alpha"),this.program=e},E.ComplexPrimitiveShader.prototype.destroy=function(){this.gl.deleteProgram(this.program),this.uniforms=null,this.gl=null,this.attribute=null},E.glContexts=[],E.instances=[],E.WebGLRenderer=function(t){this.game=t,E.defaultRenderer||(E.defaultRenderer=this),this.type=E.WEBGL_RENDERER,this.resolution=t.resolution,this.transparent=t.transparent,this.autoResize=!1,this.preserveDrawingBuffer=t.preserveDrawingBuffer,this.clearBeforeRender=t.clearBeforeRender,this.width=t.width,this.height=t.height,this.view=t.canvas,this._contextOptions={alpha:this.transparent,antialias:t.antialias,premultipliedAlpha:this.transparent&&"notMultiplied"!==this.transparent,stencil:!0,preserveDrawingBuffer:this.preserveDrawingBuffer},this.projection=new E.Point,this.offset=new E.Point,this.shaderManager=new E.WebGLShaderManager,this.spriteBatch=new E.WebGLSpriteBatch,this.maskManager=new E.WebGLMaskManager,this.filterManager=new E.WebGLFilterManager,this.stencilManager=new E.WebGLStencilManager,this.blendModeManager=new E.WebGLBlendModeManager,this.renderSession={},this.renderSession.game=this.game,this.renderSession.gl=this.gl,this.renderSession.drawCount=0,this.renderSession.shaderManager=this.shaderManager,this.renderSession.maskManager=this.maskManager,this.renderSession.filterManager=this.filterManager,this.renderSession.blendModeManager=this.blendModeManager,this.renderSession.spriteBatch=this.spriteBatch,this.renderSession.stencilManager=this.stencilManager,(this.renderSession.renderer=this).renderSession.resolution=this.resolution,this.initContext(),this.mapBlendModes()},E.WebGLRenderer.prototype.constructor=E.WebGLRenderer,E.WebGLRenderer.prototype.initContext=function(){var t=this.view.getContext("webgl",this._contextOptions)||this.view.getContext("experimental-webgl",this._contextOptions);if(!(this.gl=t))throw new Error("This browser does not support webGL. Try using the canvas renderer");this.glContextId=t.id=E.WebGLRenderer.glContextId++,E.glContexts[this.glContextId]=t,E.instances[this.glContextId]=this,t.disable(t.DEPTH_TEST),t.disable(t.CULL_FACE),t.enable(t.BLEND),this.shaderManager.setContext(t),this.spriteBatch.setContext(t),this.maskManager.setContext(t),this.filterManager.setContext(t),this.blendModeManager.setContext(t),this.stencilManager.setContext(t),this.renderSession.gl=this.gl,this.resize(this.width,this.height)},E.WebGLRenderer.prototype.render=function(t){var e;this.contextLost||((e=this.gl).viewport(0,0,this.width,this.height),e.bindFramebuffer(e.FRAMEBUFFER,null),this.game.clearBeforeRender&&(e.clearColor(t._bgColor.r,t._bgColor.g,t._bgColor.b,t._bgColor.a),e.clear(e.COLOR_BUFFER_BIT)),this.offset.x=this.game.camera._shake.x,this.offset.y=this.game.camera._shake.y,this.renderDisplayObject(t,this.projection))},E.WebGLRenderer.prototype.renderDisplayObject=function(t,e,i,o){this.renderSession.blendModeManager.setBlendMode(E.blendModes.NORMAL),this.renderSession.drawCount=0,this.renderSession.flipY=i?-1:1,this.renderSession.projection=e,this.renderSession.offset=this.offset,this.spriteBatch.begin(this.renderSession),this.filterManager.begin(this.renderSession,i),t._renderWebGL(this.renderSession,o),this.spriteBatch.end()},E.WebGLRenderer.prototype.resize=function(t,e){this.width=t*this.resolution,this.height=e*this.resolution,this.view.width=this.width,this.view.height=this.height,this.autoResize&&(this.view.style.width=this.width/this.resolution+"px",this.view.style.height=this.height/this.resolution+"px"),this.gl.viewport(0,0,this.width,this.height),this.projection.x=this.width/2/this.resolution,this.projection.y=-this.height/2/this.resolution},E.WebGLRenderer.prototype.updateTexture=function(t){if(!t.hasLoaded)return!1;var e=this.gl;return t._glTextures[e.id]||(t._glTextures[e.id]=e.createTexture()),e.bindTexture(e.TEXTURE_2D,t._glTextures[e.id]),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.premultipliedAlpha),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t.source),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,t.scaleMode===E.scaleModes.LINEAR?e.LINEAR:e.NEAREST),t.mipmap&&E.isPowerOfTwo(t.width,t.height)?(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t.scaleMode===E.scaleModes.LINEAR?e.LINEAR_MIPMAP_LINEAR:e.NEAREST_MIPMAP_NEAREST),e.generateMipmap(e.TEXTURE_2D)):e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t.scaleMode===E.scaleModes.LINEAR?e.LINEAR:e.NEAREST),t._powerOf2?(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT)):(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)),!(t._dirty[e.id]=!1)},E.WebGLRenderer.prototype.destroy=function(){E.glContexts[this.glContextId]=null,this.projection=null,this.offset=null,this.shaderManager.destroy(),this.spriteBatch.destroy(),this.maskManager.destroy(),this.filterManager.destroy(),this.shaderManager=null,this.spriteBatch=null,this.maskManager=null,this.filterManager=null,this.gl=null,this.renderSession=null,E.CanvasPool.remove(this),E.instances[this.glContextId]=null,E.WebGLRenderer.glContextId--},E.WebGLRenderer.prototype.mapBlendModes=function(){var t,e,i=this.gl;E.blendModesWebGL||((t=[])[(e=E.blendModes).NORMAL]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],t[e.ADD]=[i.SRC_ALPHA,i.DST_ALPHA],t[e.MULTIPLY]=[i.DST_COLOR,i.ONE_MINUS_SRC_ALPHA],t[e.SCREEN]=[i.SRC_ALPHA,i.ONE],t[e.OVERLAY]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],t[e.DARKEN]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],t[e.LIGHTEN]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],t[e.COLOR_DODGE]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],t[e.COLOR_BURN]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],t[e.HARD_LIGHT]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],t[e.SOFT_LIGHT]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],t[e.DIFFERENCE]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],t[e.EXCLUSION]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],t[e.HUE]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],t[e.SATURATION]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],t[e.COLOR]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],t[e.LUMINOSITY]=[i.ONE,i.ONE_MINUS_SRC_ALPHA],E.blendModesWebGL=t)},E.WebGLRenderer.glContextId=0,E.WebGLBlendModeManager=function(){this.currentBlendMode=99999},E.WebGLBlendModeManager.prototype.constructor=E.WebGLBlendModeManager,E.WebGLBlendModeManager.prototype.setContext=function(t){this.gl=t},E.WebGLBlendModeManager.prototype.setBlendMode=function(t){if(this.currentBlendMode===t)return!1;this.currentBlendMode=t;t=E.blendModesWebGL[this.currentBlendMode];return t&&this.gl.blendFunc(t[0],t[1]),!0},E.WebGLBlendModeManager.prototype.destroy=function(){this.gl=null},E.WebGLMaskManager=function(){},E.WebGLMaskManager.prototype.constructor=E.WebGLMaskManager,E.WebGLMaskManager.prototype.setContext=function(t){this.gl=t},E.WebGLMaskManager.prototype.pushMask=function(t,e){var i=e.gl;t.dirty&&E.WebGLGraphics.updateGraphics(t,i),void 0!==t._webGL[i.id]&&void 0!==t._webGL[i.id].data&&0!==t._webGL[i.id].data.length&&e.stencilManager.pushStencil(t,t._webGL[i.id].data[0],e)},E.WebGLMaskManager.prototype.popMask=function(t,e){var i=this.gl;void 0!==t._webGL[i.id]&&void 0!==t._webGL[i.id].data&&0!==t._webGL[i.id].data.length&&e.stencilManager.popStencil(t,t._webGL[i.id].data[0],e)},E.WebGLMaskManager.prototype.destroy=function(){this.gl=null},E.WebGLStencilManager=function(){this.stencilStack=[],this.reverse=!0,this.count=0},E.WebGLStencilManager.prototype.setContext=function(t){this.gl=t},E.WebGLStencilManager.prototype.pushStencil=function(t,e,i){var o=this.gl,t=(this.bindGraphics(t,e,i),0===this.stencilStack.length&&(o.enable(o.STENCIL_TEST),o.clear(o.STENCIL_BUFFER_BIT),this.reverse=!0,this.count=0),this.stencilStack.push(e),this.count);o.colorMask(!1,!1,!1,!1),o.stencilFunc(o.ALWAYS,0,255),o.stencilOp(o.KEEP,o.KEEP,o.INVERT),1===e.mode?(o.drawElements(o.TRIANGLE_FAN,e.indices.length-4,o.UNSIGNED_SHORT,0),this.reverse?(o.stencilFunc(o.EQUAL,255-t,255),o.stencilOp(o.KEEP,o.KEEP,o.DECR)):(o.stencilFunc(o.EQUAL,t,255),o.stencilOp(o.KEEP,o.KEEP,o.INCR)),o.drawElements(o.TRIANGLE_FAN,4,o.UNSIGNED_SHORT,2*(e.indices.length-4)),this.reverse?o.stencilFunc(o.EQUAL,255-(t+1),255):o.stencilFunc(o.EQUAL,t+1,255),this.reverse=!this.reverse):(this.reverse?(o.stencilFunc(o.EQUAL,t,255),o.stencilOp(o.KEEP,o.KEEP,o.INCR)):(o.stencilFunc(o.EQUAL,255-t,255),o.stencilOp(o.KEEP,o.KEEP,o.DECR)),o.drawElements(o.TRIANGLE_STRIP,e.indices.length,o.UNSIGNED_SHORT,0),this.reverse?o.stencilFunc(o.EQUAL,t+1,255):o.stencilFunc(o.EQUAL,255-(t+1),255)),o.colorMask(!0,!0,!0,!0),o.stencilOp(o.KEEP,o.KEEP,o.KEEP),this.count++},E.WebGLStencilManager.prototype.bindGraphics=function(t,e,i){this._currentGraphics=t;var o,n=this.gl,s=i.projection,r=i.offset;1===e.mode?(o=i.shaderManager.complexPrimitiveShader,i.shaderManager.setShader(o),n.uniform1f(o.flipY,i.flipY),n.uniformMatrix3fv(o.translationMatrix,!1,t.worldTransform.toArray(!0)),n.uniform2f(o.projectionVector,s.x,-s.y),n.uniform2f(o.offsetVector,-r.x,-r.y),n.uniform3fv(o.tintColor,E.hex2rgb(t.tint)),n.uniform3fv(o.color,e.color),n.uniform1f(o.alpha,t.worldAlpha*e.alpha),n.bindBuffer(n.ARRAY_BUFFER,e.buffer),n.vertexAttribPointer(o.aVertexPosition,2,n.FLOAT,!1,8,0)):(o=i.shaderManager.primitiveShader,i.shaderManager.setShader(o),n.uniformMatrix3fv(o.translationMatrix,!1,t.worldTransform.toArray(!0)),n.uniform1f(o.flipY,i.flipY),n.uniform2f(o.projectionVector,s.x,-s.y),n.uniform2f(o.offsetVector,-r.x,-r.y),n.uniform3fv(o.tintColor,E.hex2rgb(t.tint)),n.uniform1f(o.alpha,t.worldAlpha),n.bindBuffer(n.ARRAY_BUFFER,e.buffer),n.vertexAttribPointer(o.aVertexPosition,2,n.FLOAT,!1,24,0),n.vertexAttribPointer(o.colorAttribute,4,n.FLOAT,!1,24,8)),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.indexBuffer)},E.WebGLStencilManager.prototype.popStencil=function(t,e,i){var o,n=this.gl;this.stencilStack.pop(),this.count--,0===this.stencilStack.length?n.disable(n.STENCIL_TEST):(o=this.count,this.bindGraphics(t,e,i),n.colorMask(!1,!1,!1,!1),1===e.mode?(this.reverse=!this.reverse,this.reverse?(n.stencilFunc(n.EQUAL,255-(o+1),255),n.stencilOp(n.KEEP,n.KEEP,n.INCR)):(n.stencilFunc(n.EQUAL,o+1,255),n.stencilOp(n.KEEP,n.KEEP,n.DECR)),n.drawElements(n.TRIANGLE_FAN,4,n.UNSIGNED_SHORT,2*(e.indices.length-4)),n.stencilFunc(n.ALWAYS,0,255),n.stencilOp(n.KEEP,n.KEEP,n.INVERT),n.drawElements(n.TRIANGLE_FAN,e.indices.length-4,n.UNSIGNED_SHORT,0)):(this.reverse?(n.stencilFunc(n.EQUAL,o+1,255),n.stencilOp(n.KEEP,n.KEEP,n.DECR)):(n.stencilFunc(n.EQUAL,255-(o+1),255),n.stencilOp(n.KEEP,n.KEEP,n.INCR)),n.drawElements(n.TRIANGLE_STRIP,e.indices.length,n.UNSIGNED_SHORT,0)),this.reverse?n.stencilFunc(n.EQUAL,o,255):n.stencilFunc(n.EQUAL,255-o,255),n.colorMask(!0,!0,!0,!0),n.stencilOp(n.KEEP,n.KEEP,n.KEEP))},E.WebGLStencilManager.prototype.destroy=function(){this.stencilStack=null,this.gl=null},E.WebGLShaderManager=function(){this.maxAttibs=10,this.attribState=[],this.tempAttribState=[];for(var t=0;t<this.maxAttibs;t++)this.attribState[t]=!1;this.stack=[]},E.WebGLShaderManager.prototype.constructor=E.WebGLShaderManager,E.WebGLShaderManager.prototype.setContext=function(t){this.gl=t,this.primitiveShader=new E.PrimitiveShader(t),this.complexPrimitiveShader=new E.ComplexPrimitiveShader(t),this.defaultShader=new E.PixiShader(t),this.fastShader=new E.PixiFastShader(t),this.stripShader=new E.StripShader(t),this.setShader(this.defaultShader)},E.WebGLShaderManager.prototype.setAttribs=function(t){for(var e=0;e<this.tempAttribState.length;e++)this.tempAttribState[e]=!1;for(e=0;e<t.length;e++){var i=t[e];this.tempAttribState[i]=!0}var o=this.gl;for(e=0;e<this.attribState.length;e++)this.attribState[e]!==this.tempAttribState[e]&&(this.attribState[e]=this.tempAttribState[e],this.tempAttribState[e]?o.enableVertexAttribArray(e):o.disableVertexAttribArray(e))},E.WebGLShaderManager.prototype.setShader=function(t){return this._currentId!==t._UID&&(this._currentId=t._UID,this.currentShader=t,this.gl.useProgram(t.program),this.setAttribs(t.attributes),!0)},E.WebGLShaderManager.prototype.destroy=function(){this.attribState=null,this.tempAttribState=null,this.primitiveShader.destroy(),this.complexPrimitiveShader.destroy(),this.defaultShader.destroy(),this.fastShader.destroy(),this.stripShader.destroy(),this.gl=null},E.WebGLSpriteBatch=function(){this.vertSize=5,this.size=2e3;var t=4*this.size*4*this.vertSize,e=6*this.size;this.vertices=new E.ArrayBuffer(t),this.positions=new E.Float32Array(this.vertices),this.colors=new E.Uint32Array(this.vertices),this.indices=new E.Uint16Array(e);for(var i=this.lastIndexCount=0,o=0;i<e;i+=6,o+=4)this.indices[i+0]=o+0,this.indices[i+1]=o+1,this.indices[i+2]=o+2,this.indices[i+3]=o+0,this.indices[i+4]=o+2,this.indices[i+5]=o+3;this.drawing=!1,this.currentBatchSize=0,this.currentBaseTexture=null,this.dirty=!0,this.textures=[],this.blendModes=[],this.shaders=[],this.sprites=[],this.defaultShader=new E.AbstractFilter(["precision lowp float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","void main(void) {","   gl_FragColor = texture2D(uSampler, vTextureCoord) * vColor ;","}"])},E.WebGLSpriteBatch.prototype.setContext=function(t){this.gl=t,this.vertexBuffer=t.createBuffer(),this.indexBuffer=t.createBuffer(),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.indices,t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),t.bufferData(t.ARRAY_BUFFER,this.vertices,t.DYNAMIC_DRAW),this.currentBlendMode=99999;var e=new E.PixiShader(t);e.fragmentSrc=this.defaultShader.fragmentSrc,e.uniforms={},e.init(),this.defaultShader.shaders[t.id]=e},E.WebGLSpriteBatch.prototype.begin=function(t){this.renderSession=t,this.shader=this.renderSession.shaderManager.defaultShader,this.start()},E.WebGLSpriteBatch.prototype.end=function(){this.flush()},E.WebGLSpriteBatch.prototype.render=function(t,e){var i,o,n,s,r,c,a,h,u,l,d,p=t.texture,F=t.worldTransform,e=(e&&(F=e),this.currentBatchSize>=this.size&&(this.flush(),this.currentBaseTexture=p.baseTexture),p._uvs);e&&(s=t.anchor.x,a=t.anchor.y,p.trim?(o=(i=(d=p.trim).x-s*d.width)+p.crop.width,n=(d=d.y-a*d.height)+p.crop.height):(o=p.frame.width*(1-s),i=p.frame.width*-s,n=p.frame.height*(1-a),d=p.frame.height*-a),s=4*this.currentBatchSize*this.vertSize,a=p.baseTexture.resolution,p=F.a/a,r=F.b/a,c=F.c/a,a=F.d/a,h=F.tx,F=F.ty,u=this.colors,l=this.positions,this.renderSession.roundPixels?(l[s]=p*i+c*d+h|0,l[1+s]=a*d+r*i+F|0,l[5+s]=p*o+c*d+h|0,l[6+s]=a*d+r*o+F|0,l[10+s]=p*o+c*n+h|0,l[11+s]=a*n+r*o+F|0,l[15+s]=p*i+c*n+h|0,l[16+s]=a*n+r*i+F|0):(l[s]=p*i+c*d+h,l[1+s]=a*d+r*i+F,l[5+s]=p*o+c*d+h,l[6+s]=a*d+r*o+F,l[10+s]=p*o+c*n+h,l[11+s]=a*n+r*o+F,l[15+s]=p*i+c*n+h,l[16+s]=a*n+r*i+F),l[2+s]=e.x0,l[3+s]=e.y0,l[7+s]=e.x1,l[8+s]=e.y1,l[12+s]=e.x2,l[13+s]=e.y2,l[17+s]=e.x3,l[18+s]=e.y3,d=t.tint,u[4+s]=u[9+s]=u[14+s]=u[19+s]=(d>>16)+(65280&d)+((255&d)<<16)+(255*t.worldAlpha<<24),this.sprites[this.currentBatchSize++]=t)},E.WebGLSpriteBatch.prototype.renderTilingSprite=function(t){var e=t.tilingTexture,i=(this.currentBatchSize>=this.size&&(this.flush(),this.currentBaseTexture=e.baseTexture),t._uvs||(t._uvs=new E.TextureUvs),t._uvs),o=e.baseTexture.width,n=e.baseTexture.height,s=(t.tilePosition.x%=o*t.tileScaleOffset.x,t.tilePosition.y%=n*t.tileScaleOffset.y,t.tilePosition.x/(o*t.tileScaleOffset.x)),r=t.tilePosition.y/(n*t.tileScaleOffset.y),o=t.width/o/(t.tileScale.x*t.tileScaleOffset.x),n=t.height/n/(t.tileScale.y*t.tileScaleOffset.y),o=(i.x0=0-s,i.y0=0-r,i.x1=o-s,i.y1=0-r,i.x2=o-s,i.y2=n-r,i.x3=0-s,i.y3=n-r,t.tint),s=(o>>16)+(65280&o)+((255&o)<<16)+(255*t.worldAlpha<<24),n=this.positions,r=this.colors,o=t.width,c=t.height,a=t.anchor.x,h=t.anchor.y,u=o*(1-a),o=o*-a,a=c*(1-h),c=c*-h,h=4*this.currentBatchSize*this.vertSize,e=e.baseTexture.resolution,l=t.worldTransform,d=l.a/e,p=l.b/e,F=l.c/e,e=l.d/e,j=l.tx,l=l.ty;n[h++]=d*o+F*c+j,n[h++]=e*c+p*o+l,n[h++]=i.x0,n[h++]=i.y0,r[h++]=s,n[h++]=d*u+F*c+j,n[h++]=e*c+p*u+l,n[h++]=i.x1,n[h++]=i.y1,r[h++]=s,n[h++]=d*u+F*a+j,n[h++]=e*a+p*u+l,n[h++]=i.x2,n[h++]=i.y2,r[h++]=s,n[h++]=d*o+F*a+j,n[h++]=e*a+p*o+l,n[h++]=i.x3,n[h++]=i.y3,r[+h]=s,this.sprites[this.currentBatchSize++]=t},E.WebGLSpriteBatch.prototype.flush=function(){if(0!==this.currentBatchSize){var t,e,i=this.gl;this.dirty&&(this.dirty=!1,i.activeTexture(i.TEXTURE0),i.bindBuffer(i.ARRAY_BUFFER,this.vertexBuffer),i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,this.indexBuffer),t=this.defaultShader.shaders[i.id],e=4*this.vertSize,i.vertexAttribPointer(t.aVertexPosition,2,i.FLOAT,!1,e,0),i.vertexAttribPointer(t.aTextureCoord,2,i.FLOAT,!1,e,8),i.vertexAttribPointer(t.colorAttribute,4,i.UNSIGNED_BYTE,!0,e,16)),this.currentBatchSize>.5*this.size?i.bufferSubData(i.ARRAY_BUFFER,0,this.vertices):(e=this.positions.subarray(0,4*this.currentBatchSize*this.vertSize),i.bufferSubData(i.ARRAY_BUFFER,0,e));for(var o=0,n=0,s=null,r=this.renderSession.blendModeManager.currentBlendMode,c=null,a=0,h=this.currentBatchSize;a<h;a++){var u,l,d,p=((d=this.sprites[a]).tilingTexture||d.texture).baseTexture,F=r!==(u=d.blendMode),j=c!==(l=d.shader||this.defaultShader),Y=p.skipRender;Y&&0<d.children.length&&(Y=!1),(s!==p&&!Y||F||j)&&(this.renderBatch(s,o,n),n=a,o=0,s=p,F&&this.renderSession.blendModeManager.setBlendMode(r=u),j)&&((t=(c=l).shaders[i.id])||((t=new E.PixiShader(i)).fragmentSrc=c.fragmentSrc,t.uniforms=c.uniforms,t.init(),c.shaders[i.id]=t),this.renderSession.shaderManager.setShader(t),t.dirty&&t.syncUniforms(),d=this.renderSession.projection,i.uniform2f(t.projectionVector,d.x,d.y),Y=this.renderSession.offset,i.uniform2f(t.offsetVector,Y.x,Y.y)),o++}this.renderBatch(s,o,n),this.currentBatchSize=0}},E.WebGLSpriteBatch.prototype.renderBatch=function(t,e,i){if(0!==e){var o=this.gl;if(t._dirty[o.id]){if(!this.renderSession.renderer.updateTexture(t))return}else o.bindTexture(o.TEXTURE_2D,t._glTextures[o.id]);o.drawElements(o.TRIANGLES,6*e,o.UNSIGNED_SHORT,6*i*2),this.renderSession.drawCount++}},E.WebGLSpriteBatch.prototype.stop=function(){this.flush(),this.dirty=!0},E.WebGLSpriteBatch.prototype.start=function(){this.dirty=!0},E.WebGLSpriteBatch.prototype.destroy=function(){this.vertices=null,this.indices=null,this.gl.deleteBuffer(this.vertexBuffer),this.gl.deleteBuffer(this.indexBuffer),this.currentBaseTexture=null,this.gl=null},E.WebGLFastSpriteBatch=function(t){this.vertSize=10,this.maxSize=6e3,this.size=this.maxSize;var e=4*this.size*this.vertSize,i=6*this.maxSize;this.vertices=new E.Float32Array(e),this.indices=new E.Uint16Array(i),this.vertexBuffer=null,this.indexBuffer=null;for(var o=this.lastIndexCount=0,n=0;o<i;o+=6,n+=4)this.indices[o+0]=n+0,this.indices[o+1]=n+1,this.indices[o+2]=n+2,this.indices[o+3]=n+0,this.indices[o+4]=n+2,this.indices[o+5]=n+3;this.drawing=!1,this.currentBatchSize=0,this.currentBaseTexture=null,this.currentBlendMode=0,this.renderSession=null,this.shader=null,this.matrix=null,this.setContext(t)},E.WebGLFastSpriteBatch.prototype.constructor=E.WebGLFastSpriteBatch,E.WebGLFastSpriteBatch.prototype.setContext=function(t){this.gl=t,this.vertexBuffer=t.createBuffer(),this.indexBuffer=t.createBuffer(),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.indices,t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),t.bufferData(t.ARRAY_BUFFER,this.vertices,t.DYNAMIC_DRAW)},E.WebGLFastSpriteBatch.prototype.begin=function(t,e){this.renderSession=e,this.shader=this.renderSession.shaderManager.fastShader,this.matrix=t.worldTransform.toArray(!0),this.start()},E.WebGLFastSpriteBatch.prototype.end=function(){this.flush()},E.WebGLFastSpriteBatch.prototype.render=function(t){var e=t.children,t=e[0];if(t.texture._uvs){this.currentBaseTexture=t.texture.baseTexture,t.blendMode!==this.renderSession.blendModeManager.currentBlendMode&&(this.flush(),this.renderSession.blendModeManager.setBlendMode(t.blendMode));for(var i=0,o=e.length;i<o;i++)this.renderSprite(e[i]);this.flush()}},E.WebGLFastSpriteBatch.prototype.renderSprite=function(t){var e,i,o,n,s,r,c;t.visible&&(t.texture.baseTexture===this.currentBaseTexture||t.texture.baseTexture.skipRender||(this.flush(),this.currentBaseTexture=t.texture.baseTexture,t.texture._uvs))&&(i=this.vertices,c=t.texture._uvs,t.texture.frame.width,t.texture.frame.height,t.texture.trim?(n=(o=(s=t.texture.trim).x-t.anchor.x*s.width)+t.texture.crop.width,r=(s=s.y-t.anchor.y*s.height)+t.texture.crop.height):(n=t.texture.frame.width*(1-t.anchor.x),o=t.texture.frame.width*-t.anchor.x,r=t.texture.frame.height*(1-t.anchor.y),s=t.texture.frame.height*-t.anchor.y),e=4*this.currentBatchSize*this.vertSize,i[e++]=o,i[e++]=s,i[e++]=t.position.x,i[e++]=t.position.y,i[e++]=t.scale.x,i[e++]=t.scale.y,i[e++]=t.rotation,i[e++]=c.x0,i[e++]=c.y1,i[e++]=t.alpha,i[e++]=n,i[e++]=s,i[e++]=t.position.x,i[e++]=t.position.y,i[e++]=t.scale.x,i[e++]=t.scale.y,i[e++]=t.rotation,i[e++]=c.x1,i[e++]=c.y1,i[e++]=t.alpha,i[e++]=n,i[e++]=r,i[e++]=t.position.x,i[e++]=t.position.y,i[e++]=t.scale.x,i[e++]=t.scale.y,i[e++]=t.rotation,i[e++]=c.x2,i[e++]=c.y2,i[e++]=t.alpha,i[e++]=o,i[e++]=r,i[e++]=t.position.x,i[e++]=t.position.y,i[e++]=t.scale.x,i[e++]=t.scale.y,i[e++]=t.rotation,i[e++]=c.x3,i[e++]=c.y3,i[+e]=t.alpha,this.currentBatchSize++,this.currentBatchSize>=this.size&&this.flush())},E.WebGLFastSpriteBatch.prototype.flush=function(){var t,e;0!==this.currentBatchSize&&(t=this.gl,this.currentBaseTexture._glTextures[t.id]||this.renderSession.renderer.updateTexture(this.currentBaseTexture,t),t.bindTexture(t.TEXTURE_2D,this.currentBaseTexture._glTextures[t.id]),this.currentBatchSize>.5*this.size?t.bufferSubData(t.ARRAY_BUFFER,0,this.vertices):(e=this.vertices.subarray(0,4*this.currentBatchSize*this.vertSize),t.bufferSubData(t.ARRAY_BUFFER,0,e)),t.drawElements(t.TRIANGLES,6*this.currentBatchSize,t.UNSIGNED_SHORT,0),this.currentBatchSize=0,this.renderSession.drawCount++)},E.WebGLFastSpriteBatch.prototype.stop=function(){this.flush()},E.WebGLFastSpriteBatch.prototype.start=function(){var t=this.gl,e=(t.activeTexture(t.TEXTURE0),t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer),this.renderSession.projection),e=(t.uniform2f(this.shader.projectionVector,e.x,e.y),t.uniformMatrix3fv(this.shader.uMatrix,!1,this.matrix),4*this.vertSize);t.vertexAttribPointer(this.shader.aVertexPosition,2,t.FLOAT,!1,e,0),t.vertexAttribPointer(this.shader.aPositionCoord,2,t.FLOAT,!1,e,8),t.vertexAttribPointer(this.shader.aScale,2,t.FLOAT,!1,e,16),t.vertexAttribPointer(this.shader.aRotation,1,t.FLOAT,!1,e,24),t.vertexAttribPointer(this.shader.aTextureCoord,2,t.FLOAT,!1,e,28),t.vertexAttribPointer(this.shader.colorAttribute,1,t.FLOAT,!1,e,36)},E.WebGLFilterManager=function(){this.filterStack=[],this.offsetX=0,this.offsetY=0},E.WebGLFilterManager.prototype.constructor=E.WebGLFilterManager,E.WebGLFilterManager.prototype.setContext=function(t){this.gl=t,this.texturePool=[],this.initShaderBuffers()},E.WebGLFilterManager.prototype.begin=function(t,e){this.renderSession=t,this.defaultShader=t.shaderManager.defaultShader;t=this.renderSession.projection;this.width=2*t.x,this.height=2*-t.y,this.buffer=e},E.WebGLFilterManager.prototype.pushFilter=function(t){var e=this.gl,i=this.renderSession.projection,o=this.renderSession.offset,n=(t._filterArea=t.target.filterArea||t.target.getBounds(),t._previous_stencil_mgr=this.renderSession.stencilManager,this.renderSession.stencilManager=new E.WebGLStencilManager,this.renderSession.stencilManager.setContext(e),e.disable(e.STENCIL_TEST),this.filterStack.push(t),t.filterPasses[0]),s=(this.offsetX+=t._filterArea.x,this.offsetY+=t._filterArea.y,this.texturePool.pop()),r=(s?s.resize(this.width*this.renderSession.resolution,this.height*this.renderSession.resolution):s=new E.FilterTexture(this.gl,this.width*this.renderSession.resolution,this.height*this.renderSession.resolution),e.bindTexture(e.TEXTURE_2D,s.texture),t._filterArea),n=n.padding;r.x-=n,r.y-=n,r.width+=2*n,r.height+=2*n,r.x<0&&(r.x=0),r.width>this.width&&(r.width=this.width),r.y<0&&(r.y=0),r.height>this.height&&(r.height=this.height),e.bindFramebuffer(e.FRAMEBUFFER,s.frameBuffer),e.viewport(0,0,r.width*this.renderSession.resolution,r.height*this.renderSession.resolution),i.x=r.width/2,i.y=-r.height/2,o.x=-r.x,o.y=-r.y,e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT),t._glFilterTexture=s},E.WebGLFilterManager.prototype.popFilter=function(){var t=this.gl,e=this.filterStack.pop(),i=e._filterArea,o=e._glFilterTexture,n=this.renderSession.projection,s=this.renderSession.offset;if(1<e.filterPasses.length){t.viewport(0,0,i.width*this.renderSession.resolution,i.height*this.renderSession.resolution),t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),this.vertexArray[0]=0,this.vertexArray[1]=i.height,this.vertexArray[2]=i.width,this.vertexArray[3]=i.height,this.vertexArray[4]=0,this.vertexArray[5]=0,this.vertexArray[6]=i.width,this.vertexArray[7]=0,t.bufferSubData(t.ARRAY_BUFFER,0,this.vertexArray),t.bindBuffer(t.ARRAY_BUFFER,this.uvBuffer),this.uvArray[2]=i.width/this.width,this.uvArray[5]=i.height/this.height,this.uvArray[6]=i.width/this.width,this.uvArray[7]=i.height/this.height,t.bufferSubData(t.ARRAY_BUFFER,0,this.uvArray);var r=o;(h=(h=this.texturePool.pop())||new E.FilterTexture(this.gl,this.width*this.renderSession.resolution,this.height*this.renderSession.resolution)).resize(this.width*this.renderSession.resolution,this.height*this.renderSession.resolution),t.bindFramebuffer(t.FRAMEBUFFER,h.frameBuffer),t.clear(t.COLOR_BUFFER_BIT),t.disable(t.BLEND);for(var c=0;c<e.filterPasses.length-1;c++)var a=e.filterPasses[c],a=(t.bindFramebuffer(t.FRAMEBUFFER,h.frameBuffer),t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,r.texture),this.applyFilterPass(a,i,i.width,i.height),r),r=h,h=a;t.enable(t.BLEND),o=r,this.texturePool.push(h)}var u=e.filterPasses[e.filterPasses.length-1],l=(this.offsetX-=i.x,this.offsetY-=i.y,this.width),d=this.height,p=0,F=0,j=this.buffer,Y=(0===this.filterStack.length?t.colorMask(!0,!0,!0,!0):(l=(i=(Y=this.filterStack[this.filterStack.length-1])._filterArea).width,d=i.height,p=i.x,F=i.y,j=Y._glFilterTexture.frameBuffer),n.x=l/2,n.y=-d/2,s.x=p,s.y=F,(i=e._filterArea).x-p),n=i.y-F;t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),this.vertexArray[0]=Y,this.vertexArray[1]=n+i.height,this.vertexArray[2]=Y+i.width,this.vertexArray[3]=n+i.height,this.vertexArray[4]=Y,this.vertexArray[5]=n,this.vertexArray[6]=Y+i.width,this.vertexArray[7]=n,t.bufferSubData(t.ARRAY_BUFFER,0,this.vertexArray),t.bindBuffer(t.ARRAY_BUFFER,this.uvBuffer),this.uvArray[2]=i.width/this.width,this.uvArray[5]=i.height/this.height,this.uvArray[6]=i.width/this.width,this.uvArray[7]=i.height/this.height,t.bufferSubData(t.ARRAY_BUFFER,0,this.uvArray),t.viewport(0,0,l*this.renderSession.resolution,d*this.renderSession.resolution),t.bindFramebuffer(t.FRAMEBUFFER,j),t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,o.texture),this.renderSession.stencilManager&&this.renderSession.stencilManager.destroy(),this.renderSession.stencilManager=e._previous_stencil_mgr,e._previous_stencil_mgr=null,0<this.renderSession.stencilManager.count?t.enable(t.STENCIL_TEST):t.disable(t.STENCIL_TEST),this.applyFilterPass(u,i,l,d),this.texturePool.push(o),e._glFilterTexture=null},E.WebGLFilterManager.prototype.applyFilterPass=function(t,e,i,o){var n=this.gl,s=t.shaders[n.id];s||((s=new E.PixiShader(n)).fragmentSrc=t.fragmentSrc,s.uniforms=t.uniforms,s.init(),t.shaders[n.id]=s),this.renderSession.shaderManager.setShader(s),n.uniform2f(s.projectionVector,i/2,-o/2),n.uniform2f(s.offsetVector,0,0),t.uniforms.dimensions&&(t.uniforms.dimensions.value[0]=this.width,t.uniforms.dimensions.value[1]=this.height,t.uniforms.dimensions.value[2]=this.vertexArray[0],t.uniforms.dimensions.value[3]=this.vertexArray[5]),s.syncUniforms(),n.bindBuffer(n.ARRAY_BUFFER,this.vertexBuffer),n.vertexAttribPointer(s.aVertexPosition,2,n.FLOAT,!1,0,0),n.bindBuffer(n.ARRAY_BUFFER,this.uvBuffer),n.vertexAttribPointer(s.aTextureCoord,2,n.FLOAT,!1,0,0),n.bindBuffer(n.ARRAY_BUFFER,this.colorBuffer),n.vertexAttribPointer(s.colorAttribute,2,n.FLOAT,!1,0,0),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,this.indexBuffer),n.drawElements(n.TRIANGLES,6,n.UNSIGNED_SHORT,0),this.renderSession.drawCount++},E.WebGLFilterManager.prototype.initShaderBuffers=function(){var t=this.gl;this.vertexBuffer=t.createBuffer(),this.uvBuffer=t.createBuffer(),this.colorBuffer=t.createBuffer(),this.indexBuffer=t.createBuffer(),this.vertexArray=new E.Float32Array([0,0,1,0,0,1,1,1]),t.bindBuffer(t.ARRAY_BUFFER,this.vertexBuffer),t.bufferData(t.ARRAY_BUFFER,this.vertexArray,t.STATIC_DRAW),this.uvArray=new E.Float32Array([0,0,1,0,0,1,1,1]),t.bindBuffer(t.ARRAY_BUFFER,this.uvBuffer),t.bufferData(t.ARRAY_BUFFER,this.uvArray,t.STATIC_DRAW),this.colorArray=new E.Float32Array([1,16777215,1,16777215,1,16777215,1,16777215]),t.bindBuffer(t.ARRAY_BUFFER,this.colorBuffer),t.bufferData(t.ARRAY_BUFFER,this.colorArray,t.STATIC_DRAW),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2,1,3,2]),t.STATIC_DRAW)},E.WebGLFilterManager.prototype.destroy=function(){var t=this.gl;this.filterStack=null,this.offsetX=0;for(var e=this.offsetY=0;e<this.texturePool.length;e++)this.texturePool[e].destroy();this.texturePool=null,t.deleteBuffer(this.vertexBuffer),t.deleteBuffer(this.uvBuffer),t.deleteBuffer(this.colorBuffer),t.deleteBuffer(this.indexBuffer)},E.FilterTexture=function(t,e,i,o){this.gl=t,this.frameBuffer=t.createFramebuffer(),this.texture=t.createTexture(),o=o||E.scaleModes.DEFAULT,t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,o===E.scaleModes.LINEAR?t.LINEAR:t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,o===E.scaleModes.LINEAR?t.LINEAR:t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.bindFramebuffer(t.FRAMEBUFFER,this.frameBuffer),t.bindFramebuffer(t.FRAMEBUFFER,this.frameBuffer),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.texture,0),this.renderBuffer=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,this.renderBuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,this.renderBuffer),this.resize(e,i)},E.FilterTexture.prototype.constructor=E.FilterTexture,E.FilterTexture.prototype.clear=function(){var t=this.gl;t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT)},E.FilterTexture.prototype.resize=function(t,e){var i;this.width===t&&this.height===e||(this.width=t,this.height=e,(i=this.gl).bindTexture(i.TEXTURE_2D,this.texture),i.texImage2D(i.TEXTURE_2D,0,i.RGBA,t,e,0,i.RGBA,i.UNSIGNED_BYTE,null),i.bindRenderbuffer(i.RENDERBUFFER,this.renderBuffer),i.renderbufferStorage(i.RENDERBUFFER,i.DEPTH_STENCIL,t,e))},E.FilterTexture.prototype.destroy=function(){var t=this.gl;t.deleteFramebuffer(this.frameBuffer),t.deleteTexture(this.texture),this.frameBuffer=null,this.texture=null},E.CanvasBuffer=function(t,e){this.width=t,this.height=e,this.canvas=E.CanvasPool.create(this,this.width,this.height),this.context=this.canvas.getContext("2d"),this.canvas.width=t,this.canvas.height=e},E.CanvasBuffer.prototype.constructor=E.CanvasBuffer,E.CanvasBuffer.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.width,this.height)},E.CanvasBuffer.prototype.resize=function(t,e){this.width=this.canvas.width=t,this.height=this.canvas.height=e},E.CanvasBuffer.prototype.destroy=function(){E.CanvasPool.remove(this)},E.CanvasMaskManager=function(){},E.CanvasMaskManager.prototype.constructor=E.CanvasMaskManager,E.CanvasMaskManager.prototype.pushMask=function(t,e){var i=e.context,o=(i.save(),t.alpha),n=t.worldTransform,e=e.resolution;i.setTransform(n.a*e,n.b*e,n.c*e,n.d*e,n.tx*e,n.ty*e),E.CanvasGraphics.renderGraphicsMask(t,i),i.clip(),t.worldAlpha=o},E.CanvasMaskManager.prototype.popMask=function(t){t.context.restore()},E.CanvasTinter=function(){},E.CanvasTinter.getTintedTexture=function(t,e){var i=t.tintedTexture||E.CanvasPool.create(this);return E.CanvasTinter.tintMethod(t.texture,e,i),i},E.CanvasTinter.tintWithMultiply=function(t,e,i){var o=i.getContext("2d"),n=t.crop;i.width===n.width&&i.height===n.height||(i.width=n.width,i.height=n.height),o.clearRect(0,0,n.width,n.height),o.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),o.fillRect(0,0,n.width,n.height),o.globalCompositeOperation="multiply",o.drawImage(t.baseTexture.source,n.x,n.y,n.width,n.height,0,0,n.width,n.height),o.globalCompositeOperation="destination-atop",o.drawImage(t.baseTexture.source,n.x,n.y,n.width,n.height,0,0,n.width,n.height)},E.CanvasTinter.tintWithPerPixel=function(t,e,i){var o=i.getContext("2d"),n=t.crop;i.width=n.width,i.height=n.height,o.globalCompositeOperation="copy",o.drawImage(t.baseTexture.source,n.x,n.y,n.width,n.height,0,0,n.width,n.height);for(var s,i=E.hex2rgb(e),r=i[0],c=i[1],a=i[2],t=o.getImageData(0,0,n.width,n.height),h=t.data,u=0;u<h.length;u+=4)h[u+0]*=r,h[u+1]*=c,h[u+2]*=a,E.CanvasTinter.canHandleAlpha||(s=h[u+3],h[u+0]/=255/s,h[u+1]/=255/s,h[u+2]/=255/s);o.putImageData(t,0,0)},E.CanvasTinter.checkInverseAlpha=function(){var t=new E.CanvasBuffer(2,1),e=(t.context.fillStyle="rgba(10, 20, 30, 0.5)",t.context.fillRect(0,0,1,1),t.context.getImageData(0,0,1,1));if(null===e)return!1;t.context.putImageData(e,1,0);t=t.context.getImageData(1,0,1,1);return t.data[0]===e.data[0]&&t.data[1]===e.data[1]&&t.data[2]===e.data[2]&&t.data[3]===e.data[3]},E.CanvasTinter.canHandleAlpha=E.CanvasTinter.checkInverseAlpha(),E.CanvasTinter.canUseMultiply=E.canUseNewCanvasBlendModes(),E.CanvasTinter.tintMethod=E.CanvasTinter.canUseMultiply?E.CanvasTinter.tintWithMultiply:E.CanvasTinter.tintWithPerPixel,E.CanvasRenderer=function(t){this.game=t,E.defaultRenderer||(E.defaultRenderer=this),this.type=E.CANVAS_RENDERER,this.resolution=t.resolution,this.clearBeforeRender=t.clearBeforeRender,this.transparent=t.transparent,this.autoResize=!1,this.width=t.width*this.resolution,this.height=t.height*this.resolution,this.view=t.canvas,this.context=this.view.getContext("2d",{alpha:this.transparent}),this.refresh=!0,this.count=0,this.maskManager=new E.CanvasMaskManager,this.renderSession={context:this.context,maskManager:this.maskManager,scaleMode:null,smoothProperty:Phaser.Canvas.getSmoothingPrefix(this.context),roundPixels:!1},this.mapBlendModes(),this.resize(this.width,this.height)},E.CanvasRenderer.prototype.constructor=E.CanvasRenderer,E.CanvasRenderer.prototype.render=function(t){this.context.setTransform(1,0,0,1,0,0),this.context.globalAlpha=1,this.renderSession.currentBlendMode=0,this.renderSession.shakeX=this.game.camera._shake.x,this.renderSession.shakeY=this.game.camera._shake.y,this.context.globalCompositeOperation="source-over",navigator.isCocoonJS&&this.view.screencanvas&&(this.context.fillStyle="black",this.context.clear()),this.clearBeforeRender&&(this.transparent?this.context.clearRect(0,0,this.width,this.height):t._bgColor&&(this.context.fillStyle=t._bgColor.rgba,this.context.fillRect(0,0,this.width,this.height))),this.renderDisplayObject(t)},E.CanvasRenderer.prototype.destroy=function(t){(t=void 0===t?!0:t)&&this.view.parent&&this.view.parent.removeChild(this.view),this.view=null,this.context=null,this.maskManager=null,this.renderSession=null},E.CanvasRenderer.prototype.resize=function(t,e){this.width=t*this.resolution,this.height=e*this.resolution,this.view.width=this.width,this.view.height=this.height,this.autoResize&&(this.view.style.width=this.width/this.resolution+"px",this.view.style.height=this.height/this.resolution+"px"),this.renderSession.smoothProperty&&(this.context[this.renderSession.smoothProperty]=this.renderSession.scaleMode===E.scaleModes.LINEAR)},E.CanvasRenderer.prototype.renderDisplayObject=function(t,e,i){this.renderSession.context=e||this.context,this.renderSession.resolution=this.resolution,t._renderCanvas(this.renderSession,i)},E.CanvasRenderer.prototype.mapBlendModes=function(){var t,e,i;E.blendModesCanvas||(t=[],e=E.blendModes,i=E.canUseNewCanvasBlendModes(),t[e.NORMAL]="source-over",t[e.ADD]="lighter",t[e.MULTIPLY]=i?"multiply":"source-over",t[e.SCREEN]=i?"screen":"source-over",t[e.OVERLAY]=i?"overlay":"source-over",t[e.DARKEN]=i?"darken":"source-over",t[e.LIGHTEN]=i?"lighten":"source-over",t[e.COLOR_DODGE]=i?"color-dodge":"source-over",t[e.COLOR_BURN]=i?"color-burn":"source-over",t[e.HARD_LIGHT]=i?"hard-light":"source-over",t[e.SOFT_LIGHT]=i?"soft-light":"source-over",t[e.DIFFERENCE]=i?"difference":"source-over",t[e.EXCLUSION]=i?"exclusion":"source-over",t[e.HUE]=i?"hue":"source-over",t[e.SATURATION]=i?"saturation":"source-over",t[e.COLOR]=i?"color":"source-over",t[e.LUMINOSITY]=i?"luminosity":"source-over",E.blendModesCanvas=t)},E.BaseTexture=function(t,e){this.resolution=1,this.width=100,this.height=100,this.scaleMode=e||E.scaleModes.DEFAULT,this.hasLoaded=!1,this.source=t,this.premultipliedAlpha=!0,this._glTextures=[],this.mipmap=!1,this._dirty=[!0,!0,!0,!0],t&&((this.source.complete||this.source.getContext)&&this.source.width&&this.source.height&&(this.hasLoaded=!0,this.width=this.source.naturalWidth||this.source.width,this.height=this.source.naturalHeight||this.source.height,this.dirty()),this.skipRender=!1,this._powerOf2=!1)},E.BaseTexture.prototype.constructor=E.BaseTexture,E.BaseTexture.prototype.forceLoaded=function(t,e){this.hasLoaded=!0,this.width=t,this.height=e,this.dirty()},E.BaseTexture.prototype.destroy=function(){this.source&&E.CanvasPool.removeByCanvas(this.source),this.source=null,this.unloadFromGPU()},E.BaseTexture.prototype.updateSourceImage=function(t){},E.BaseTexture.prototype.dirty=function(){for(var t=0;t<this._glTextures.length;t++)this._dirty[t]=!0},E.BaseTexture.prototype.unloadFromGPU=function(){this.dirty();for(var t=this._glTextures.length-1;0<=t;t--){var e=this._glTextures[t],i=E.glContexts[t];i&&e&&i.deleteTexture(e)}this._glTextures.length=0,this.dirty()},E.BaseTexture.fromCanvas=function(t,e){return 0===t.width&&(t.width=1),0===t.height&&(t.height=1),new E.BaseTexture(t,e)},E.TextureSilentFail=!1,E.Texture=function(t,e,i,o){this.noFrame=!1,e||(this.noFrame=!0,e=new E.Rectangle(0,0,1,1)),t instanceof E.Texture&&(t=t.baseTexture),this.baseTexture=t,this.frame=e,this.trim=o,this.valid=!1,this.isTiling=!1,this.requiresUpdate=!1,this.requiresReTint=!1,this._uvs=null,this.width=0,this.height=0,this.crop=i||new E.Rectangle(0,0,1,1),t.hasLoaded&&(this.noFrame&&(e=new E.Rectangle(0,0,t.width,t.height)),this.setFrame(e))},E.Texture.prototype.constructor=E.Texture,E.Texture.prototype.onBaseTextureLoaded=function(){var t=this.baseTexture;this.noFrame&&(this.frame=new E.Rectangle(0,0,t.width,t.height)),this.setFrame(this.frame)},E.Texture.prototype.destroy=function(t){t&&this.baseTexture.destroy(),this.valid=!1},E.Texture.prototype.setFrame=function(t){if(this.noFrame=!1,this.frame=t,this.width=t.width,this.height=t.height,this.crop.x=t.x,this.crop.y=t.y,this.crop.width=t.width,this.crop.height=t.height,!this.trim&&(t.x+t.width>this.baseTexture.width||t.y+t.height>this.baseTexture.height)){if(E.TextureSilentFail)return void(this.valid=!1);throw new Error("Texture Error: frame does not fit inside the base Texture dimensions "+this)}this.valid=t&&t.width&&t.height&&this.baseTexture.source&&this.baseTexture.hasLoaded,this.trim&&(this.width=this.trim.width,this.height=this.trim.height,this.frame.width=this.trim.width,this.frame.height=this.trim.height),this.valid&&this._updateUvs()},E.Texture.prototype._updateUvs=function(){this._uvs||(this._uvs=new E.TextureUvs);var t=this.crop,e=this.baseTexture.width,i=this.baseTexture.height;this._uvs.x0=t.x/e,this._uvs.y0=t.y/i,this._uvs.x1=(t.x+t.width)/e,this._uvs.y1=t.y/i,this._uvs.x2=(t.x+t.width)/e,this._uvs.y2=(t.y+t.height)/i,this._uvs.x3=t.x/e,this._uvs.y3=(t.y+t.height)/i},E.Texture.fromCanvas=function(t,e){t=E.BaseTexture.fromCanvas(t,e);return new E.Texture(t)},E.TextureUvs=function(){this.x0=0,this.y0=0,this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.x3=0,this.y3=0},E.RenderTexture=function(t,e,i,o,n){this.width=t||100,this.height=e||100,this.resolution=n||1,this.frame=new E.Rectangle(0,0,this.width*this.resolution,this.height*this.resolution),this.crop=new E.Rectangle(0,0,this.width*this.resolution,this.height*this.resolution),this.baseTexture=new E.BaseTexture,this.baseTexture.width=this.width*this.resolution,this.baseTexture.height=this.height*this.resolution,this.baseTexture._glTextures=[],this.baseTexture.resolution=this.resolution,this.baseTexture.scaleMode=o||E.scaleModes.DEFAULT,this.baseTexture.hasLoaded=!0,E.Texture.call(this,this.baseTexture,new E.Rectangle(0,0,this.width*this.resolution,this.height*this.resolution)),this.renderer=i||E.defaultRenderer,this.renderer.type===E.WEBGL_RENDERER?(t=this.renderer.gl,this.baseTexture._dirty[t.id]=!1,this.textureBuffer=new E.FilterTexture(t,this.width,this.height,this.baseTexture.scaleMode),this.baseTexture._glTextures[t.id]=this.textureBuffer.texture,this.render=this.renderWebGL,this.projection=new E.Point(.5*this.width,.5*-this.height)):(this.render=this.renderCanvas,this.textureBuffer=new E.CanvasBuffer(this.width*this.resolution,this.height*this.resolution),this.baseTexture.source=this.textureBuffer.canvas),this.valid=!0,this.tempMatrix=new Phaser.Matrix,this._updateUvs()},E.RenderTexture.prototype=Object.create(E.Texture.prototype),E.RenderTexture.prototype.constructor=E.RenderTexture,E.RenderTexture.prototype.resize=function(t,e,i){t===this.width&&e===this.height||(this.valid=0<t&&0<e,this.width=t,this.height=e,this.frame.width=this.crop.width=t*this.resolution,this.frame.height=this.crop.height=e*this.resolution,i&&(this.baseTexture.width=this.width*this.resolution,this.baseTexture.height=this.height*this.resolution),this.renderer.type===E.WEBGL_RENDERER&&(this.projection.x=this.width/2,this.projection.y=-this.height/2),this.valid&&this.textureBuffer.resize(this.width,this.height))},E.RenderTexture.prototype.clear=function(){this.valid&&(this.renderer.type===E.WEBGL_RENDERER&&this.renderer.gl.bindFramebuffer(this.renderer.gl.FRAMEBUFFER,this.textureBuffer.frameBuffer),this.textureBuffer.clear())},E.RenderTexture.prototype.renderWebGL=function(t,e,i){if(this.valid&&0!==t.alpha){var o=t.worldTransform;o.identity(),o.translate(0,2*this.projection.y),e&&o.append(e),o.scale(1,-1);for(var n=0;n<t.children.length;n++)t.children[n].updateTransform();o=this.renderer.gl;o.viewport(0,0,this.width*this.resolution,this.height*this.resolution),o.bindFramebuffer(o.FRAMEBUFFER,this.textureBuffer.frameBuffer),i&&this.textureBuffer.clear(),this.renderer.spriteBatch.dirty=!0,this.renderer.renderDisplayObject(t,this.projection,this.textureBuffer.frameBuffer,e),this.renderer.spriteBatch.dirty=!0}},E.RenderTexture.prototype.renderCanvas=function(t,e,i){if(this.valid&&0!==t.alpha){var o=t.worldTransform;o.identity(),e&&o.append(e);for(var n=0;n<t.children.length;n++)t.children[n].updateTransform();i&&this.textureBuffer.clear();o=this.renderer.resolution;this.renderer.resolution=this.resolution,this.renderer.renderDisplayObject(t,this.textureBuffer.context,e),this.renderer.resolution=o}},E.RenderTexture.prototype.getImage=function(){var t=new Image;return t.src=this.getBase64(),t},E.RenderTexture.prototype.getBase64=function(){return this.getCanvas().toDataURL()},E.RenderTexture.prototype.getCanvas=function(){var t,e,i,o;return this.renderer.type===E.WEBGL_RENDERER?(i=this.renderer.gl,o=this.textureBuffer.width,t=this.textureBuffer.height,e=new Uint8Array(4*o*t),i.bindFramebuffer(i.FRAMEBUFFER,this.textureBuffer.frameBuffer),i.readPixels(0,0,o,t,i.RGBA,i.UNSIGNED_BYTE,e),i.bindFramebuffer(i.FRAMEBUFFER,null),(o=(i=new E.CanvasBuffer(o,t)).context.getImageData(0,0,o,t)).data.set(e),i.context.putImageData(o,0,0),i.canvas):this.textureBuffer.canvas},E.AbstractFilter=function(t,e){this.passes=[this],this.shaders=[],this.dirty=!0,this.padding=0,this.uniforms=e||{},this.fragmentSrc=t||[]},E.AbstractFilter.prototype.constructor=E.AbstractFilter,E.AbstractFilter.prototype.syncUniforms=function(){for(var t=0,e=this.shaders.length;t<e;t++)this.shaders[t].dirty=!0},E.Strip=function(t){E.DisplayObjectContainer.call(this),this.texture=t,this.uvs=new E.Float32Array([0,1,1,1,1,0,0,1]),this.vertices=new E.Float32Array([0,0,100,0,100,100,0,100]),this.colors=new E.Float32Array([1,1,1,1]),this.indices=new E.Uint16Array([0,1,2,3]),this.dirty=!0,this.blendMode=E.blendModes.NORMAL,this.canvasPadding=0,this.drawMode=E.Strip.DrawModes.TRIANGLE_STRIP},E.Strip.prototype=Object.create(E.DisplayObjectContainer.prototype),E.Strip.prototype.constructor=E.Strip,E.Strip.prototype._renderWebGL=function(t){!this.visible||this.alpha<=0||(t.spriteBatch.stop(),this._vertexBuffer||this._initWebGL(t),t.shaderManager.setShader(t.shaderManager.stripShader),this._renderStrip(t),t.spriteBatch.start())},E.Strip.prototype._initWebGL=function(t){t=t.gl;this._vertexBuffer=t.createBuffer(),this._indexBuffer=t.createBuffer(),this._uvBuffer=t.createBuffer(),this._colorBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this._vertexBuffer),t.bufferData(t.ARRAY_BUFFER,this.vertices,t.DYNAMIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,this._uvBuffer),t.bufferData(t.ARRAY_BUFFER,this.uvs,t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,this._colorBuffer),t.bufferData(t.ARRAY_BUFFER,this.colors,t.STATIC_DRAW),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this._indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.indices,t.STATIC_DRAW)},E.Strip.prototype._renderStrip=function(t){var e=t.gl,i=t.projection,o=t.offset,n=t.shaderManager.stripShader,s=this.drawMode===E.Strip.DrawModes.TRIANGLE_STRIP?e.TRIANGLE_STRIP:e.TRIANGLES;t.blendModeManager.setBlendMode(this.blendMode),e.uniformMatrix3fv(n.translationMatrix,!1,this.worldTransform.toArray(!0)),e.uniform2f(n.projectionVector,i.x,-i.y),e.uniform2f(n.offsetVector,-o.x,-o.y),e.uniform1f(n.alpha,this.worldAlpha),this.dirty?(this.dirty=!1,e.bindBuffer(e.ARRAY_BUFFER,this._vertexBuffer),e.bufferData(e.ARRAY_BUFFER,this.vertices,e.STATIC_DRAW),e.vertexAttribPointer(n.aVertexPosition,2,e.FLOAT,!1,0,0),e.bindBuffer(e.ARRAY_BUFFER,this._uvBuffer),e.bufferData(e.ARRAY_BUFFER,this.uvs,e.STATIC_DRAW),e.vertexAttribPointer(n.aTextureCoord,2,e.FLOAT,!1,0,0),e.activeTexture(e.TEXTURE0),this.texture.baseTexture._dirty[e.id]?t.renderer.updateTexture(this.texture.baseTexture):e.bindTexture(e.TEXTURE_2D,this.texture.baseTexture._glTextures[e.id]),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this._indexBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,this.indices,e.STATIC_DRAW)):(e.bindBuffer(e.ARRAY_BUFFER,this._vertexBuffer),e.bufferSubData(e.ARRAY_BUFFER,0,this.vertices),e.vertexAttribPointer(n.aVertexPosition,2,e.FLOAT,!1,0,0),e.bindBuffer(e.ARRAY_BUFFER,this._uvBuffer),e.vertexAttribPointer(n.aTextureCoord,2,e.FLOAT,!1,0,0),e.activeTexture(e.TEXTURE0),this.texture.baseTexture._dirty[e.id]?t.renderer.updateTexture(this.texture.baseTexture):e.bindTexture(e.TEXTURE_2D,this.texture.baseTexture._glTextures[e.id]),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this._indexBuffer)),e.drawElements(s,this.indices.length,e.UNSIGNED_SHORT,0)},E.Strip.prototype._renderCanvas=function(t){var e=t.context,i=this.worldTransform,o=i.tx*t.resolution+t.shakeX,n=i.ty*t.resolution+t.shakeY;t.roundPixels?e.setTransform(i.a,i.b,i.c,i.d,0|o,0|n):e.setTransform(i.a,i.b,i.c,i.d,o,n),this.drawMode===E.Strip.DrawModes.TRIANGLE_STRIP?this._renderCanvasTriangleStrip(e):this._renderCanvasTriangles(e)},E.Strip.prototype._renderCanvasTriangleStrip=function(t){var e=this.vertices,i=this.uvs,o=e.length/2;this.count++;for(var n=0;n<o-2;n++){var s=2*n;this._renderCanvasDrawTriangle(t,e,i,s,2+s,4+s)}},E.Strip.prototype._renderCanvasTriangles=function(t){var e=this.vertices,i=this.uvs,o=this.indices,n=o.length;this.count++;for(var s=0;s<n;s+=3){var r=2*o[s],c=2*o[s+1],a=2*o[s+2];this._renderCanvasDrawTriangle(t,e,i,r,c,a)}},E.Strip.prototype._renderCanvasDrawTriangle=function(t,e,i,o,n,s){var r,c,a,h,u=this.texture.baseTexture.source,l=this.texture.width,d=this.texture.height,p=e[o],F=e[n],j=e[s],Y=e[o+1],f=e[n+1],e=e[s+1],b=i[o]*l,g=i[n]*l,l=i[s]*l,o=i[o+1]*d,n=i[n+1]*d,i=i[s+1]*d,y=(0<this.canvasPadding&&(s=this.canvasPadding/this.worldTransform.a,d=this.canvasPadding/this.worldTransform.d,a=Y-(r=(Y+f+e)/3),p=(y=(p+F+j)/3)+(c=p-y)/(h=Math.sqrt(c*c+a*a))*(h+s),Y=r+a/h*(h+d),a=f-r,F=y+(c=F-y)/(h=Math.sqrt(c*c+a*a))*(h+s),f=r+a/h*(h+d),a=e-r,j=y+(c=j-y)/(h=Math.sqrt(c*c+a*a))*(h+s),e=r+a/h*(h+d)),t.save(),t.beginPath(),t.moveTo(p,Y),t.lineTo(F,f),t.lineTo(j,e),t.closePath(),t.clip(),b*n+o*l+g*i-n*l-o*g-b*i);t.transform((p*n+o*j+F*i-n*j-o*F-p*i)/y,(Y*n+o*e+f*i-n*e-o*f-Y*i)/y,(b*F+p*l+g*j-F*l-p*g-b*j)/y,(b*f+Y*l+g*e-f*l-Y*g-b*e)/y,(b*n*j+o*F*l+p*g*i-p*n*l-o*g*j-b*F*i)/y,(b*n*e+o*f*l+Y*g*i-Y*n*l-o*g*e-b*f*i)/y),t.drawImage(u,0,0),t.restore()},E.Strip.prototype.renderStripFlat=function(t){var e=this.context,i=t.vertices,o=i.length/2;this.count++,e.beginPath();for(var n=1;n<o-2;n++){var s=2*n,r=i[s],c=i[2+s],a=i[4+s],h=i[1+s],u=i[3+s],s=i[5+s];e.moveTo(r,h),e.lineTo(c,u),e.lineTo(a,s)}e.fillStyle="#FF0000",e.fill(),e.closePath()},E.Strip.prototype.onTextureUpdate=function(){this.updateFrame=!0},E.Strip.prototype.getBounds=function(t){for(var t=t||this.worldTransform,e=t.a,i=t.b,o=t.c,n=t.d,s=t.tx,r=t.ty,c=-1/0,a=-1/0,h=1/0,u=1/0,l=this.vertices,d=0,p=l.length;d<p;d+=2)var F=l[d],j=l[d+1],Y=e*F+o*j+s,j=n*j+i*F+r,h=Y<h?Y:h,u=j<u?j:u,c=c<Y?Y:c,a=a<j?j:a;if(h===-1/0||a===1/0)return E.EmptyRectangle;t=this._bounds;return t.x=h,t.width=c-h,t.y=u,t.height=a-u,this._currentBounds=t},E.Strip.DrawModes={TRIANGLE_STRIP:0,TRIANGLES:1},E.Rope=function(t,e){E.Strip.call(this,t),this.points=e,this.vertices=new E.Float32Array(4*e.length),this.uvs=new E.Float32Array(4*e.length),this.colors=new E.Float32Array(2*e.length),this.indices=new E.Uint16Array(2*e.length),this.refresh()},E.Rope.prototype=Object.create(E.Strip.prototype),E.Rope.prototype.constructor=E.Rope,E.Rope.prototype.refresh=function(){var t=this.points;if(!(t.length<1)){var e=this.uvs,i=(t[0],this.indices),o=this.colors;this.count-=.2,e[0]=0,e[1]=0,e[2]=0,e[3]=1,o[0]=1,o[1]=1,i[0]=0,i[1]=1;for(var n,s,r=t.length,c=1;c<r;c++)t[c],e[n=4*c]=s=c/(r-1),e[1+n]=0,e[2+n]=s,e[3+n]=1,o[n=2*c]=1,o[1+n]=1,i[n=2*c]=n,i[1+n]=1+n}},E.Rope.prototype.updateTransform=function(){var t=this.points;if(!(t.length<1)){var e=t[0],i={x:0,y:0};this.count-=.2;for(var o,n,s,r,c=this.vertices,a=t.length,h=0;h<a;h++)o=t[h],n=4*h,s=h<t.length-1?t[h+1]:o,i.y=-(s.x-e.x),i.x=s.y-e.y,s=Math.sqrt(i.x*i.x+i.y*i.y),r=this.texture.height/2,i.x/=s,i.y/=s,i.x*=r,i.y*=r,c[n]=o.x+i.x,c[1+n]=o.y+i.y,c[2+n]=o.x-i.x,c[3+n]=o.y-i.y,e=o;E.DisplayObjectContainer.prototype.updateTransform.call(this)}},E.Rope.prototype.setTexture=function(t){this.texture=t},E.TilingSprite=function(t,e,i){E.Sprite.call(this,t),this._width=e||128,this._height=i||128,this.tileScale=new E.Point(1,1),this.tileScaleOffset=new E.Point(1,1),this.tilePosition=new E.Point,this.renderable=!0,this.tint=16777215,this.textureDebug=!1,this.blendMode=E.blendModes.NORMAL,this.canvasBuffer=null,this.tilingTexture=null,this.tilePattern=null,this.refreshTexture=!0,this.frameWidth=0,this.frameHeight=0},E.TilingSprite.prototype=Object.create(E.Sprite.prototype),E.TilingSprite.prototype.constructor=E.TilingSprite,E.TilingSprite.prototype.setTexture=function(t){this.texture!==t&&(this.texture=t,this.refreshTexture=!0,this.cachedTint=16777215)},E.TilingSprite.prototype._renderWebGL=function(t){if(this.visible&&this.renderable&&0!==this.alpha){if(this._mask&&(t.spriteBatch.stop(),t.maskManager.pushMask(this.mask,t),t.spriteBatch.start()),this._filters&&(t.spriteBatch.flush(),t.filterManager.pushFilter(this._filterBlock)),this.refreshTexture){if(this.generateTilingTexture(!0,t),!this.tilingTexture)return;this.tilingTexture.needsUpdate&&(t.renderer.updateTexture(this.tilingTexture.baseTexture),this.tilingTexture.needsUpdate=!1)}t.spriteBatch.renderTilingSprite(this);for(var e=0;e<this.children.length;e++)this.children[e]._renderWebGL(t);t.spriteBatch.stop(),this._filters&&t.filterManager.popFilter(),this._mask&&t.maskManager.popMask(this._mask,t),t.spriteBatch.start()}},E.TilingSprite.prototype._renderCanvas=function(t){if(this.visible&&this.renderable&&0!==this.alpha){var e=t.context,i=(this._mask&&t.maskManager.pushMask(this._mask,t),e.globalAlpha=this.worldAlpha,this.worldTransform),o=t.resolution,n=i.tx*o+t.shakeX,s=i.ty*o+t.shakeY;if(e.setTransform(i.a*o,i.b*o,i.c*o,i.d*o,n,s),this.refreshTexture){if(this.generateTilingTexture(!1,t),!this.tilingTexture)return;this.tilePattern=e.createPattern(this.tilingTexture.baseTexture.source,"repeat")}var i=t.currentBlendMode,o=(this.blendMode!==t.currentBlendMode&&(t.currentBlendMode=this.blendMode,e.globalCompositeOperation=E.blendModesCanvas[t.currentBlendMode]),this.tilePosition),r=this.tileScale,n=(o.x%=this.tilingTexture.baseTexture.width,o.y%=this.tilingTexture.baseTexture.height,e.scale(r.x,r.y),e.translate(o.x+this.anchor.x*-this._width,o.y+this.anchor.y*-this._height),e.fillStyle=this.tilePattern,-o.x),s=-o.y,c=this._width/r.x,a=this._height/r.y;t.roundPixels&&(n|=0,s|=0,c|=0,a|=0),e.fillRect(n,s,c,a),e.scale(1/r.x,1/r.y),e.translate(-o.x+this.anchor.x*this._width,-o.y+this.anchor.y*this._height),this._mask&&t.maskManager.popMask(t);for(var h=0;h<this.children.length;h++)this.children[h]._renderCanvas(t);i!==this.blendMode&&(t.currentBlendMode=i,e.globalCompositeOperation=E.blendModesCanvas[i])}},E.TilingSprite.prototype.onTextureUpdate=function(){},E.TilingSprite.prototype.generateTilingTexture=function(t,e){var i,o,n,s,r,c,a;this.texture.baseTexture.hasLoaded&&(o=(i=this.texture).frame,n=this._frame.sourceSizeW||this._frame.width,s=this._frame.sourceSizeH||this._frame.height,c=r=0,this._frame.trimmed&&(r=this._frame.spriteSourceSizeX,c=this._frame.spriteSourceSizeY),t&&(n=E.getNextPowerOfTwo(n),s=E.getNextPowerOfTwo(s)),this.canvasBuffer?(this.canvasBuffer.resize(n,s),this.tilingTexture.baseTexture.width=n,this.tilingTexture.baseTexture.height=s):(this.canvasBuffer=new E.CanvasBuffer(n,s),this.tilingTexture=E.Texture.fromCanvas(this.canvasBuffer.canvas),this.tilingTexture.isTiling=!0),this.tilingTexture.needsUpdate=!0,this.textureDebug&&(this.canvasBuffer.context.strokeStyle="#00ff00",this.canvasBuffer.context.strokeRect(0,0,n,s)),t=i.crop.width,a=i.crop.height,t===n&&a===s||(t=n,a=s),this.canvasBuffer.context.drawImage(i.baseTexture.source,i.crop.x,i.crop.y,i.crop.width,i.crop.height,r,c,t,a),this.tileScaleOffset.x=o.width/n,this.tileScaleOffset.y=o.height/s,this.refreshTexture=!1,this.tilingTexture.baseTexture._powerOf2=!0)},E.TilingSprite.prototype.getBounds=function(){var t=this._width,e=this._height,i=t*(1-this.anchor.x),t=t*-this.anchor.x,o=e*(1-this.anchor.y),e=e*-this.anchor.y,n=this.worldTransform,s=n.a,r=n.b,c=n.c,a=n.d,h=n.tx,n=n.ty,u=s*t+c*e+h,l=a*e+r*t+n,d=s*i+c*e+h,e=a*e+r*i+n,p=s*i+c*o+h,i=a*o+r*i+n,s=s*t+c*o+h,c=a*o+r*t+n,h=u<(h=1/0)?u:h,a=c<(a=i<(a=e<(a=l<(a=1/0)?l:a)?e:a)?i:a)?c:a,o=(o=(o=(o=(o=-1/0)<u?u:o)<d?d:o)<p?p:o)<s?s:o,r=(r=(r=(r=(r=-1/0)<l?l:r)<e?e:r)<i?i:r)<c?c:r,t=this._bounds;return t.x=h=s<(h=p<(h=d<h?d:h)?p:h)?s:h,t.width=o-h,t.y=a,t.height=r-a,this._currentBounds=t},E.TilingSprite.prototype.destroy=function(){E.Sprite.prototype.destroy.call(this),this.canvasBuffer&&(this.canvasBuffer.destroy(),this.canvasBuffer=null),this.tileScale=null,this.tileScaleOffset=null,this.tilePosition=null,this.tilingTexture&&(this.tilingTexture.destroy(!0),this.tilingTexture=null)},Object.defineProperty(E.TilingSprite.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t}}),Object.defineProperty(E.TilingSprite.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t}}),"undefined"!=typeof exports?(exports="undefined"!=typeof module&&module.exports?module.exports=E:exports).PIXI=E:"undefined"!=typeof define&&define.amd?define("PIXI",t.PIXI=E):t.PIXI=E,E}.call(this),function(){function o(t,e){this._scaleFactor=t,this._deltaMode=e,this.originalEvent=null}var t,s,e,i,n=this,G={VERSION:"2.6.15",GAMES:[],AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,NONE:0,LEFT:1,RIGHT:2,UP:3,DOWN:4,SPRITE:0,BUTTON:1,IMAGE:2,GRAPHICS:3,TEXT:4,TILESPRITE:5,BITMAPTEXT:6,GROUP:7,RENDERTEXTURE:8,TILEMAP:9,TILEMAPLAYER:10,EMITTER:11,POLYGON:12,BITMAPDATA:13,CANVAS_FILTER:14,WEBGL_FILTER:15,ELLIPSE:16,SPRITEBATCH:17,RETROFONT:18,POINTER:19,ROPE:20,CIRCLE:21,RECTANGLE:22,LINE:23,MATRIX:24,POINT:25,ROUNDEDRECTANGLE:26,CREATURE:27,VIDEO:28,PENDING_ATLAS:-1,HORIZONTAL:0,VERTICAL:1,LANDSCAPE:0,PORTRAIT:1,ANGLE_UP:270,ANGLE_DOWN:90,ANGLE_LEFT:180,ANGLE_RIGHT:0,ANGLE_NORTH_EAST:315,ANGLE_NORTH_WEST:225,ANGLE_SOUTH_EAST:45,ANGLE_SOUTH_WEST:135,TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12,blendModes:{NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16},scaleModes:{DEFAULT:0,LINEAR:0,NEAREST:1},PIXI:PIXI||{}};for(e in Math.trunc||(Math.trunc=function(t){return t<0?Math.ceil(t):Math.floor(t)}),Function.prototype.bind||(Function.prototype.bind=(s=Array.prototype.slice,function(e){function i(){var t=n.concat(s.call(arguments));o.apply(this instanceof i?this:e,t)}var o=this,n=s.call(arguments,1);if("function"!=typeof o)throw new TypeError;return i.prototype=function t(e){if(e&&(t.prototype=e),!(this instanceof t))return new t}(o.prototype),i})),Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),Array.prototype.forEach||(Array.prototype.forEach=function(t){"use strict";if(null==this)throw new TypeError;var e=Object(this),i=e.length>>>0;if("function"!=typeof t)throw new TypeError;for(var o=2<=arguments.length?arguments[1]:void 0,n=0;n<i;n++)n in e&&t.call(o,e[n],n,e)}),"function"!=typeof window.Uint32Array&&"object"!=typeof window.Uint32Array&&((t=function(t){var e=new Array;window[t]=function(t){if("number"==typeof t){Array.call(this,t),this.length=t;for(var e=0;e<this.length;e++)this[e]=0}else{Array.call(this,t.length),this.length=t.length;for(e=0;e<this.length;e++)this[e]=t[e]}},window[t].prototype=e,window[t].constructor=window[t]})("Uint32Array"),t("Int16Array")),window.console||(window.console={},window.console.log=window.console.assert=function(){},window.console.warn=window.console.assert=function(){}),/firefox/i.test(navigator.userAgent)&&(window.oldGetComputedStyle=window.getComputedStyle,window.getComputedStyle=function(t,e){t=window.oldGetComputedStyle(t,e);return null===t?{getPropertyValue:function(){}}:t}),G.Utils={reverseString:function(t){return t.split("").reverse().join("")},getProperty:function(t,e){for(var i=e.split("."),e=i.pop(),o=i.length,n=1,s=i[0];n<o&&(t=t[s]);)s=i[n],n++;return t?t[e]:null},setProperty:function(t,e,i){for(var o=e.split("."),e=o.pop(),n=o.length,s=1,r=o[0];s<n&&(t=t[r]);)r=o[s],s++;return t&&(t[e]=i),t},chanceRoll:function(t){return 0<(t=void 0===t?50:t)&&100*Math.random()<=t},randomChoice:function(t,e){return Math.random()<.5?t:e},parseDimension:function(t,e){var i;return"string"==typeof t?"%"===t.substr(-1)?(i=parseInt(t,10)/100,0===e?window.innerWidth*i:window.innerHeight*i):parseInt(t,10):t},pad:function(t,e,i,o){var n;void 0===i&&(i=" "),void 0===o&&(o=3);if((e=void 0===e?0:e)+1>=(t=t.toString()).length)switch(o){case 1:t=new Array(e+1-t.length).join(i)+t;break;case 3:var s=Math.ceil((n=e-t.length)/2);t=new Array(1+(n-s)).join(i)+t+new Array(s+1).join(i);break;default:t+=new Array(e+1-t.length).join(i)}return t},isPlainObject:function(t){if("object"!=typeof t||t.nodeType||t===t.window)return!1;try{if(t.constructor&&!{}.hasOwnProperty.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}return!0},extend:function(){var t,e,i,o,n,s=arguments[0]||{},r=1,c=arguments.length,a=!1;for("boolean"==typeof s&&(a=s,s=arguments[1]||{},r=2),c===r&&(s=this,--r);r<c;r++)if(null!=(t=arguments[r]))for(e in t)n=s[e],i=t[e],s!==i&&(a&&i&&(G.Utils.isPlainObject(i)||(o=Array.isArray(i)))?(n=o?(o=!1,n&&Array.isArray(n)?n:[]):n&&G.Utils.isPlainObject(n)?n:{},s[e]=G.Utils.extend(a,n,i)):void 0!==i&&(s[e]=i));return s},mixinPrototype:function(t,e,i){void 0===i&&(i=!1);for(var o=Object.keys(e),n=0;n<o.length;n++){var s=o[n],r=e[s];!i&&s in t||(!r||"function"!=typeof r.get&&"function"!=typeof r.set?t[s]=r:"function"==typeof r.clone?t[s]=r.clone():Object.defineProperty(t,s,r))}},mixin:function(t,e){if(!t||"object"!=typeof t)return e;for(var i in t){var o,n=t[i];n.childNodes||n.cloneNode||(o=typeof t[i],t[i]&&"object"==o?typeof e[i]==o?e[i]=G.Utils.mixin(t[i],e[i]):e[i]=G.Utils.mixin(t[i],new n.constructor):e[i]=t[i])}return e}},G.Circle=function(t,e,i){e=e||0,i=i||0,this.x=t=t||0,this.y=e,this._diameter=i,(this._radius=0)<i&&(this._radius=.5*i),this.type=G.CIRCLE},G.Circle.prototype={circumference:function(){return Math.PI*this._radius*2},random:function(t){void 0===t&&(t=new G.Point);var e=2*Math.PI*Math.random(),i=Math.random()+Math.random(),i=1<i?2-i:i,o=i*Math.cos(e),i=i*Math.sin(e);return t.x=this.x+o*this.radius,t.y=this.y+i*this.radius,t},getBounds:function(){return new G.Rectangle(this.x-this.radius,this.y-this.radius,this.diameter,this.diameter)},setTo:function(t,e,i){return this.x=t,this.y=e,this._diameter=i,this._radius=.5*i,this},copyFrom:function(t){return this.setTo(t.x,t.y,t.diameter)},copyTo:function(t){return t.x=this.x,t.y=this.y,t.diameter=this._diameter,t},distance:function(t,e){t=G.Math.distance(this.x,this.y,t.x,t.y);return e?Math.round(t):t},clone:function(t){return null==t?t=new G.Circle(this.x,this.y,this.diameter):t.setTo(this.x,this.y,this.diameter),t},contains:function(t,e){return G.Circle.contains(this,t,e)},circumferencePoint:function(t,e,i){return G.Circle.circumferencePoint(this,t,e,i)},offset:function(t,e){return this.x+=t,this.y+=e,this},offsetPoint:function(t){return this.offset(t.x,t.y)},toString:function(){return"[{Phaser.Circle (x="+this.x+" y="+this.y+" diameter="+this.diameter+" radius="+this.radius+")}]"}},G.Circle.prototype.constructor=G.Circle,Object.defineProperty(G.Circle.prototype,"diameter",{get:function(){return this._diameter},set:function(t){0<t&&(this._diameter=t,this._radius=.5*t)}}),Object.defineProperty(G.Circle.prototype,"radius",{get:function(){return this._radius},set:function(t){0<t&&(this._radius=t,this._diameter=2*t)}}),Object.defineProperty(G.Circle.prototype,"left",{get:function(){return this.x-this._radius},set:function(t){t>this.x?(this._radius=0,this._diameter=0):this.radius=this.x-t}}),Object.defineProperty(G.Circle.prototype,"right",{get:function(){return this.x+this._radius},set:function(t){t<this.x?(this._radius=0,this._diameter=0):this.radius=t-this.x}}),Object.defineProperty(G.Circle.prototype,"top",{get:function(){return this.y-this._radius},set:function(t){t>this.y?(this._radius=0,this._diameter=0):this.radius=this.y-t}}),Object.defineProperty(G.Circle.prototype,"bottom",{get:function(){return this.y+this._radius},set:function(t){t<this.y?(this._radius=0,this._diameter=0):this.radius=t-this.y}}),Object.defineProperty(G.Circle.prototype,"area",{get:function(){return 0<this._radius?Math.PI*this._radius*this._radius:0}}),Object.defineProperty(G.Circle.prototype,"empty",{get:function(){return 0===this._diameter},set:function(t){!0===t&&this.setTo(0,0,0)}}),G.Circle.contains=function(t,e,i){return 0<t.radius&&e>=t.left&&e<=t.right&&i>=t.top&&i<=t.bottom&&(t.x-e)*(t.x-e)+(t.y-i)*(t.y-i)<=t.radius*t.radius},G.Circle.equals=function(t,e){return t.x===e.x&&t.y===e.y&&t.diameter===e.diameter},G.Circle.intersects=function(t,e){return G.Math.distance(t.x,t.y,e.x,e.y)<=t.radius+e.radius},G.Circle.circumferencePoint=function(t,e,i,o){return void 0===i&&(i=!1),void 0===o&&(o=new G.Point),!0===i&&(e=G.Math.degToRad(e)),o.x=t.x+t.radius*Math.cos(e),o.y=t.y+t.radius*Math.sin(e),o},G.Circle.intersectsRectangle=function(t,e){var i=Math.abs(t.x-e.x-e.halfWidth);if(i>e.halfWidth+t.radius)return!1;var o=Math.abs(t.y-e.y-e.halfHeight);if(o>e.halfHeight+t.radius)return!1;if(i<=e.halfWidth||o<=e.halfHeight)return!0;i-=e.halfWidth,o-=e.halfHeight;return i*i+o*o<=t.radius*t.radius},PIXI.Circle=G.Circle,G.Ellipse=function(t,e,i,o){e=e||0,i=i||0,o=o||0,this.x=t=t||0,this.y=e,this.width=i,this.height=o,this.type=G.ELLIPSE},G.Ellipse.prototype={setTo:function(t,e,i,o){return this.x=t,this.y=e,this.width=i,this.height=o,this},getBounds:function(){return new G.Rectangle(this.x-this.width,this.y-this.height,this.width,this.height)},copyFrom:function(t){return this.setTo(t.x,t.y,t.width,t.height)},copyTo:function(t){return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t},clone:function(t){return null==t?t=new G.Ellipse(this.x,this.y,this.width,this.height):t.setTo(this.x,this.y,this.width,this.height),t},contains:function(t,e){return G.Ellipse.contains(this,t,e)},random:function(t){void 0===t&&(t=new G.Point);var e=Math.random()*Math.PI*2,i=Math.random();return t.x=Math.sqrt(i)*Math.cos(e),t.y=Math.sqrt(i)*Math.sin(e),t.x=this.x+t.x*this.width/2,t.y=this.y+t.y*this.height/2,t},toString:function(){return"[{Phaser.Ellipse (x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+")}]"}},G.Ellipse.prototype.constructor=G.Ellipse,Object.defineProperty(G.Ellipse.prototype,"left",{get:function(){return this.x},set:function(t){this.x=t}}),Object.defineProperty(G.Ellipse.prototype,"right",{get:function(){return this.x+this.width},set:function(t){t<this.x?this.width=0:this.width=t-this.x}}),Object.defineProperty(G.Ellipse.prototype,"top",{get:function(){return this.y},set:function(t){this.y=t}}),Object.defineProperty(G.Ellipse.prototype,"bottom",{get:function(){return this.y+this.height},set:function(t){t<this.y?this.height=0:this.height=t-this.y}}),Object.defineProperty(G.Ellipse.prototype,"empty",{get:function(){return 0===this.width||0===this.height},set:function(t){!0===t&&this.setTo(0,0,0,0)}}),G.Ellipse.contains=function(t,e,i){if(t.width<=0||t.height<=0)return!1;e=(e-t.x)/t.width-.5,i=(i-t.y)/t.height-.5;return(e*=e)+(i*=i)<.25},PIXI.Ellipse=G.Ellipse,G.Line=function(t,e,i,o){i=i||0,o=o||0,this.start=new G.Point(t=t||0,e=e||0),this.end=new G.Point(i,o),this.type=G.LINE},G.Line.prototype={setTo:function(t,e,i,o){return this.start.setTo(t,e),this.end.setTo(i,o),this},fromSprite:function(t,e,i){return(i=void 0===i?!1:i)?this.setTo(t.center.x,t.center.y,e.center.x,e.center.y):this.setTo(t.x,t.y,e.x,e.y)},fromAngle:function(t,e,i,o){return this.start.setTo(t,e),this.end.setTo(t+Math.cos(i)*o,e+Math.sin(i)*o),this},rotate:function(t,e){var i=(this.start.x+this.end.x)/2,o=(this.start.y+this.end.y)/2;return this.start.rotate(i,o,t,e),this.end.rotate(i,o,t,e),this},rotateAround:function(t,e,i,o){return this.start.rotate(t,e,i,o),this.end.rotate(t,e,i,o),this},intersects:function(t,e,i){return G.Line.intersectsPoints(this.start,this.end,t.start,t.end,e,i)},reflect:function(t){return G.Line.reflect(this,t)},midPoint:function(t){return(t=void 0===t?new G.Point:t).x=(this.start.x+this.end.x)/2,t.y=(this.start.y+this.end.y)/2,t},centerOn:function(t,e){t-=(this.start.x+this.end.x)/2,e-=(this.start.y+this.end.y)/2;this.start.add(t,e),this.end.add(t,e)},pointOnLine:function(t,e){return(t-this.start.x)*(this.end.y-this.start.y)==(this.end.x-this.start.x)*(e-this.start.y)},pointOnSegment:function(t,e){var i=Math.min(this.start.x,this.end.x),o=Math.max(this.start.x,this.end.x),n=Math.min(this.start.y,this.end.y),s=Math.max(this.start.y,this.end.y);return this.pointOnLine(t,e)&&i<=t&&t<=o&&n<=e&&e<=s},random:function(t){void 0===t&&(t=new G.Point);var e=Math.random();return t.x=this.start.x+e*(this.end.x-this.start.x),t.y=this.start.y+e*(this.end.y-this.start.y),t},coordinatesOnLine:function(t,e){void 0===t&&(t=1),void 0===e&&(e=[]);var i=Math.round(this.start.x),o=Math.round(this.start.y),n=Math.round(this.end.x),s=Math.round(this.end.y),r=Math.abs(n-i),c=Math.abs(s-o),a=i<n?1:-1,h=o<s?1:-1,u=r-c;e.push([i,o]);for(var l=1;i!==n||o!==s;){var d=u<<1;-c<d&&(u-=c,i+=a),d<r&&(u+=r,o+=h),l%t==0&&e.push([i,o]),l++}return e},clone:function(t){return null==t?t=new G.Line(this.start.x,this.start.y,this.end.x,this.end.y):t.setTo(this.start.x,this.start.y,this.end.x,this.end.y),t}},Object.defineProperty(G.Line.prototype,"length",{get:function(){return Math.sqrt((this.end.x-this.start.x)*(this.end.x-this.start.x)+(this.end.y-this.start.y)*(this.end.y-this.start.y))}}),Object.defineProperty(G.Line.prototype,"angle",{get:function(){return Math.atan2(this.end.y-this.start.y,this.end.x-this.start.x)}}),Object.defineProperty(G.Line.prototype,"slope",{get:function(){return(this.end.y-this.start.y)/(this.end.x-this.start.x)}}),Object.defineProperty(G.Line.prototype,"perpSlope",{get:function(){return-(this.end.x-this.start.x)/(this.end.y-this.start.y)}}),Object.defineProperty(G.Line.prototype,"x",{get:function(){return Math.min(this.start.x,this.end.x)}}),Object.defineProperty(G.Line.prototype,"y",{get:function(){return Math.min(this.start.y,this.end.y)}}),Object.defineProperty(G.Line.prototype,"left",{get:function(){return Math.min(this.start.x,this.end.x)}}),Object.defineProperty(G.Line.prototype,"right",{get:function(){return Math.max(this.start.x,this.end.x)}}),Object.defineProperty(G.Line.prototype,"top",{get:function(){return Math.min(this.start.y,this.end.y)}}),Object.defineProperty(G.Line.prototype,"bottom",{get:function(){return Math.max(this.start.y,this.end.y)}}),Object.defineProperty(G.Line.prototype,"width",{get:function(){return Math.abs(this.start.x-this.end.x)}}),Object.defineProperty(G.Line.prototype,"height",{get:function(){return Math.abs(this.start.y-this.end.y)}}),Object.defineProperty(G.Line.prototype,"normalX",{get:function(){return Math.cos(this.angle-1.5707963267948966)}}),Object.defineProperty(G.Line.prototype,"normalY",{get:function(){return Math.sin(this.angle-1.5707963267948966)}}),Object.defineProperty(G.Line.prototype,"normalAngle",{get:function(){return G.Math.wrap(this.angle-1.5707963267948966,-Math.PI,Math.PI)}}),G.Line.intersectsPoints=function(t,e,i,o,n,s){void 0===n&&(n=!0),void 0===s&&(s=new G.Point);var r=e.y-t.y,c=o.y-i.y,a=t.x-e.x,h=i.x-o.x,u=e.x*t.y-t.x*e.y,l=o.x*i.y-i.x*o.y,d=r*h-c*a;return 0==d?null:(s.x=(a*l-h*u)/d,s.y=(c*u-r*l)/d,n?(a=(o.y-i.y)*(e.x-t.x)-(o.x-i.x)*(e.y-t.y),h=((o.x-i.x)*(t.y-i.y)-(o.y-i.y)*(t.x-i.x))/a,c=((e.x-t.x)*(t.y-i.y)-(e.y-t.y)*(t.x-i.x))/a,0<=h&&h<=1&&0<=c&&c<=1?s:null):s)},G.Line.intersects=function(t,e,i,o){return G.Line.intersectsPoints(t.start,t.end,e.start,e.end,i,o)},G.Line.intersectsRectangle=function(t,e){if(!G.Rectangle.intersects(t,e))return!1;var i=t.start.x,o=t.start.y,n=t.end.x,t=t.end.y,s=e.x,r=e.y,c=e.right,e=e.bottom,a=0;if(s<=i&&i<=c&&r<=o&&o<=e||s<=n&&n<=c&&r<=t&&t<=e)return!0;if(i<s&&s<=n){if((a=o+(t-o)*(s-i)/(n-i))>r&&a<=e)return!0}else if(c<i&&n<=c&&(a=o+(t-o)*(c-i)/(n-i))>=r&&a<=e)return!0;if(o<r&&r<=t){if((a=i+(n-i)*(r-o)/(t-o))>=s&&a<=c)return!0}else if(e<o&&t<=e&&(a=i+(n-i)*(e-o)/(t-o))>=s&&a<=c)return!0;return!1},G.Line.reflect=function(t,e){return 2*e.normalAngle-3.141592653589793-t.angle},G.Matrix=function(t,e,i,o,n,s){null==e&&(e=0),null==i&&(i=0),null==o&&(o=1),null==n&&(n=0),null==s&&(s=0),this.a=t=null==t?1:t,this.b=e,this.c=i,this.d=o,this.tx=n,this.ty=s,this.type=G.MATRIX},G.Matrix.prototype={fromArray:function(t){return this.setTo(t[0],t[1],t[3],t[4],t[2],t[5])},setTo:function(t,e,i,o,n,s){return this.a=t,this.b=e,this.c=i,this.d=o,this.tx=n,this.ty=s,this},clone:function(t){return null==t?t=new G.Matrix(this.a,this.b,this.c,this.d,this.tx,this.ty):(t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty),t},copyTo:function(t){return t.copyFrom(this),t},copyFrom:function(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this},toArray:function(t,e){return void 0===e&&(e=new PIXI.Float32Array(9)),t?(e[0]=this.a,e[1]=this.b,e[2]=0,e[3]=this.c,e[4]=this.d,e[5]=0,e[6]=this.tx,e[7]=this.ty):(e[0]=this.a,e[1]=this.c,e[2]=this.tx,e[3]=this.b,e[4]=this.d,e[5]=this.ty,e[6]=0,e[7]=0),e[8]=1,e},apply:function(t,e){return(e=void 0===e?new G.Point:e).x=this.a*t.x+this.c*t.y+this.tx,e.y=this.b*t.x+this.d*t.y+this.ty,e},applyInverse:function(t,e){void 0===e&&(e=new G.Point);var i=1/(this.a*this.d+this.c*-this.b),o=t.x,t=t.y;return e.x=this.d*i*o+-this.c*i*t+(this.ty*this.c-this.tx*this.d)*i,e.y=this.a*i*t+-this.b*i*o+(-this.ty*this.a+this.tx*this.b)*i,e},translate:function(t,e){return this.tx+=t,this.ty+=e,this},scale:function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},rotate:function(t){var e=Math.cos(t),t=Math.sin(t),i=this.a,o=this.c,n=this.tx;return this.a=i*e-this.b*t,this.b=i*t+this.b*e,this.c=o*e-this.d*t,this.d=o*t+this.d*e,this.tx=n*e-this.ty*t,this.ty=n*t+this.ty*e,this},append:function(t){var e=this.a,i=this.b,o=this.c,n=this.d;return this.a=t.a*e+t.b*o,this.b=t.a*i+t.b*n,this.c=t.c*e+t.d*o,this.d=t.c*i+t.d*n,this.tx=t.tx*e+t.ty*o+this.tx,this.ty=t.tx*i+t.ty*n+this.ty,this},identity:function(){return this.setTo(1,0,0,1,0,0)}},G.identityMatrix=new G.Matrix,PIXI.Matrix=G.Matrix,PIXI.identityMatrix=G.identityMatrix,G.Point=function(t,e){e=e||0,this.x=t=t||0,this.y=e,this.type=G.POINT},G.Point.prototype={copyFrom:function(t){return this.setTo(t.x,t.y)},invert:function(){return this.setTo(this.y,this.x)},setTo:function(t,e){return this.x=t||0,this.y=e||(0!==e?this.x:0),this},set:function(t,e){return this.x=t||0,this.y=e||(0!==e?this.x:0),this},add:function(t,e){return this.x+=t,this.y+=e,this},subtract:function(t,e){return this.x-=t,this.y-=e,this},multiply:function(t,e){return this.x*=t,this.y*=e,this},divide:function(t,e){return this.x/=t,this.y/=e,this},clampX:function(t,e){return this.x=G.Math.clamp(this.x,t,e),this},clampY:function(t,e){return this.y=G.Math.clamp(this.y,t,e),this},clamp:function(t,e){return this.x=G.Math.clamp(this.x,t,e),this.y=G.Math.clamp(this.y,t,e),this},clone:function(t){return null==t?t=new G.Point(this.x,this.y):t.setTo(this.x,this.y),t},copyTo:function(t){return t.x=this.x,t.y=this.y,t},distance:function(t,e){return G.Point.distance(this,t,e)},equals:function(t){return t.x===this.x&&t.y===this.y},angle:function(t,e){return(e=void 0===e?!1:e)?G.Math.radToDeg(Math.atan2(t.y-this.y,t.x-this.x)):Math.atan2(t.y-this.y,t.x-this.x)},rotate:function(t,e,i,o,n){return G.Point.rotate(this,t,e,i,o,n)},getMagnitude:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},getMagnitudeSq:function(){return this.x*this.x+this.y*this.y},setMagnitude:function(t){return this.normalize().multiply(t,t)},normalize:function(){var t;return this.isZero()||(t=this.getMagnitude(),this.x/=t,this.y/=t),this},isZero:function(){return 0===this.x&&0===this.y},dot:function(t){return this.x*t.x+this.y*t.y},cross:function(t){return this.x*t.y-this.y*t.x},perp:function(){return this.setTo(-this.y,this.x)},rperp:function(){return this.setTo(this.y,-this.x)},normalRightHand:function(){return this.setTo(-1*this.y,this.x)},floor:function(){return this.setTo(Math.floor(this.x),Math.floor(this.y))},ceil:function(){return this.setTo(Math.ceil(this.x),Math.ceil(this.y))},toString:function(){return"[{Point (x="+this.x+" y="+this.y+")}]"}},G.Point.prototype.constructor=G.Point,G.Point.add=function(t,e,i){return(i=void 0===i?new G.Point:i).x=t.x+e.x,i.y=t.y+e.y,i},G.Point.subtract=function(t,e,i){return(i=void 0===i?new G.Point:i).x=t.x-e.x,i.y=t.y-e.y,i},G.Point.multiply=function(t,e,i){return(i=void 0===i?new G.Point:i).x=t.x*e.x,i.y=t.y*e.y,i},G.Point.divide=function(t,e,i){return(i=void 0===i?new G.Point:i).x=t.x/e.x,i.y=t.y/e.y,i},G.Point.equals=function(t,e){return t.x===e.x&&t.y===e.y},G.Point.angle=function(t,e){return Math.atan2(t.y-e.y,t.x-e.x)},G.Point.negative=function(t,e){return(e=void 0===e?new G.Point:e).setTo(-t.x,-t.y)},G.Point.multiplyAdd=function(t,e,i,o){return(o=void 0===o?new G.Point:o).setTo(t.x+e.x*i,t.y+e.y*i)},G.Point.interpolate=function(t,e,i,o){return(o=void 0===o?new G.Point:o).setTo(t.x+(e.x-t.x)*i,t.y+(e.y-t.y)*i)},G.Point.perp=function(t,e){return(e=void 0===e?new G.Point:e).setTo(-t.y,t.x)},G.Point.rperp=function(t,e){return(e=void 0===e?new G.Point:e).setTo(t.y,-t.x)},G.Point.distance=function(t,e,i){t=G.Math.distance(t.x,t.y,e.x,e.y);return i?Math.round(t):t},G.Point.project=function(t,e,i){void 0===i&&(i=new G.Point);t=t.dot(e)/e.getMagnitudeSq();return 0!=t&&i.setTo(t*e.x,t*e.y),i},G.Point.projectUnit=function(t,e,i){void 0===i&&(i=new G.Point);t=t.dot(e);return 0!==t&&i.setTo(t*e.x,t*e.y),i},G.Point.normalRightHand=function(t,e){return(e=void 0===e?new G.Point:e).setTo(-1*t.y,t.x)},G.Point.normalize=function(t,e){void 0===e&&(e=new G.Point);var i=t.getMagnitude();return 0!==i&&e.setTo(t.x/i,t.y/i),e},G.Point.rotate=function(t,e,i,o,n,s){var r,c;return n&&(o=G.Math.degToRad(o)),void 0===s?(t.subtract(e,i),n=Math.sin(o),r=(c=Math.cos(o))*t.x-n*t.y,n=n*t.x+c*t.y,t.x=r+e,t.y=n+i):(c=o+Math.atan2(t.y-i,t.x-e),t.x=e+s*Math.cos(c),t.y=i+s*Math.sin(c)),t},G.Point.centroid=function(t,e){if(void 0===e&&(e=new G.Point),"[object Array]"!==Object.prototype.toString.call(t))throw new Error("Phaser.Point. Parameter 'points' must be an array");var i=t.length;if(i<1)throw new Error("Phaser.Point. Parameter 'points' array must not be empty");if(1===i)return e.copyFrom(t[0]),e;for(var o=0;o<i;o++)G.Point.add(e,t[o],e);return e.divide(i,i),e},G.Point.parse=function(t,e,i){e=e||"x",i=i||"y";var o=new G.Point;return t[e]&&(o.x=parseInt(t[e],10)),t[i]&&(o.y=parseInt(t[i],10)),o},PIXI.Point=G.Point,G.Polygon=function(){this.area=0,this._points=[],0<arguments.length&&this.setTo.apply(this,arguments),this.closed=!0,this.flattened=!1,this.type=G.POLYGON},G.Polygon.prototype={toNumberArray:function(t){void 0===t&&(t=[]);for(var e=0;e<this._points.length;e++)"number"==typeof this._points[e]?(t.push(this._points[e]),t.push(this._points[e+1]),e++):(t.push(this._points[e].x),t.push(this._points[e].y));return t},flatten:function(){return this._points=this.toNumberArray(),this.flattened=!0,this},clone:function(t){var e=this._points.slice();return null==t?t=new G.Polygon(e):t.setTo(e),t},contains:function(t,e){var i=!1;if(this.flattened)for(var o=-2,n=this._points.length-2;(o+=2)<this._points.length;n=o){var s=this._points[o],r=this._points[o+1],c=this._points[n],a=this._points[n+1];(r<=e&&e<a||a<=e&&e<r)&&t<(c-s)*(e-r)/(a-r)+s&&(i=!i)}else for(o=-1,n=this._points.length-1;++o<this._points.length;n=o){s=this._points[o].x,r=this._points[o].y,c=this._points[n].x,a=this._points[n].y;(r<=e&&e<a||a<=e&&e<r)&&t<(c-s)*(e-r)/(a-r)+s&&(i=!i)}return i},setTo:function(t){if(this.area=0,this._points=[],0<arguments.length){Array.isArray(t)||(t=Array.prototype.slice.call(arguments));for(var e,i=Number.MAX_VALUE,o=0,n=t.length;o<n;o++)"number"==typeof t[o]?(e=new PIXI.Point(t[o],t[o+1]),o++):e=Array.isArray(t[o])?new PIXI.Point(t[o][0],t[o][1]):new PIXI.Point(t[o].x,t[o].y),this._points.push(e),e.y<i&&(i=e.y);this.calculateArea(i)}return this},calculateArea:function(t){for(var e,i,o,n=0,s=this._points.length;n<s;n++)o=this._points[n],e=n===s-1?this._points[0]:this._points[n+1],i=(o.y-t+(e.y-t))/2,o=o.x-e.x,this.area+=i*o;return this.area}},G.Polygon.prototype.constructor=G.Polygon,Object.defineProperty(G.Polygon.prototype,"points",{get:function(){return this._points},set:function(t){null!=t?this.setTo(t):this.setTo()}}),PIXI.Polygon=G.Polygon,G.Rectangle=function(t,e,i,o){e=e||0,i=i||0,o=o||0,this.x=t=t||0,this.y=e,this.width=i,this.height=o,this.type=G.RECTANGLE},G.Rectangle.prototype={offset:function(t,e){return this.x+=t,this.y+=e,this},offsetPoint:function(t){return this.offset(t.x,t.y)},setTo:function(t,e,i,o){return this.x=t,this.y=e,this.width=i,this.height=o,this},scale:function(t,e){return void 0===e&&(e=t),this.width*=t,this.height*=e,this},centerOn:function(t,e){return this.centerX=t,this.centerY=e,this},floor:function(){this.x=Math.floor(this.x),this.y=Math.floor(this.y)},floorAll:function(){this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.width=Math.floor(this.width),this.height=Math.floor(this.height)},ceil:function(){this.x=Math.ceil(this.x),this.y=Math.ceil(this.y)},ceilAll:function(){this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.width=Math.ceil(this.width),this.height=Math.ceil(this.height)},copyFrom:function(t){return this.setTo(t.x,t.y,t.width,t.height)},copyTo:function(t){return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t},inflate:function(t,e){return G.Rectangle.inflate(this,t,e)},size:function(t){return G.Rectangle.size(this,t)},resize:function(t,e){return this.width=t,this.height=e,this},clone:function(t){return G.Rectangle.clone(this,t)},contains:function(t,e){return G.Rectangle.contains(this,t,e)},containsRect:function(t){return G.Rectangle.containsRect(t,this)},equals:function(t){return G.Rectangle.equals(this,t)},intersection:function(t,e){return G.Rectangle.intersection(this,t,e)},intersects:function(t){return G.Rectangle.intersects(this,t)},intersectsRaw:function(t,e,i,o,n){return G.Rectangle.intersectsRaw(this,t,e,i,o,n)},union:function(t,e){return G.Rectangle.union(this,t,e)},random:function(t){return(t=void 0===t?new G.Point:t).x=this.randomX,t.y=this.randomY,t},getPoint:function(t,e){switch(void 0===e&&(e=new G.Point),t){default:case G.TOP_LEFT:return e.set(this.x,this.y);case G.TOP_CENTER:return e.set(this.centerX,this.y);case G.TOP_RIGHT:return e.set(this.right,this.y);case G.LEFT_CENTER:return e.set(this.x,this.centerY);case G.CENTER:return e.set(this.centerX,this.centerY);case G.RIGHT_CENTER:return e.set(this.right,this.centerY);case G.BOTTOM_LEFT:return e.set(this.x,this.bottom);case G.BOTTOM_CENTER:return e.set(this.centerX,this.bottom);case G.BOTTOM_RIGHT:return e.set(this.right,this.bottom)}},toString:function(){return"[{Rectangle (x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+" empty="+this.empty+")}]"}},Object.defineProperty(G.Rectangle.prototype,"halfWidth",{get:function(){return Math.round(this.width/2)}}),Object.defineProperty(G.Rectangle.prototype,"halfHeight",{get:function(){return Math.round(this.height/2)}}),Object.defineProperty(G.Rectangle.prototype,"bottom",{get:function(){return this.y+this.height},set:function(t){t<=this.y?this.height=0:this.height=t-this.y}}),Object.defineProperty(G.Rectangle.prototype,"bottomLeft",{get:function(){return new G.Point(this.x,this.bottom)},set:function(t){this.x=t.x,this.bottom=t.y}}),Object.defineProperty(G.Rectangle.prototype,"bottomRight",{get:function(){return new G.Point(this.right,this.bottom)},set:function(t){this.right=t.x,this.bottom=t.y}}),Object.defineProperty(G.Rectangle.prototype,"left",{get:function(){return this.x},set:function(t){t>=this.right?this.width=0:this.width=this.right-t,this.x=t}}),Object.defineProperty(G.Rectangle.prototype,"right",{get:function(){return this.x+this.width},set:function(t){t<=this.x?this.width=0:this.width=t-this.x}}),Object.defineProperty(G.Rectangle.prototype,"volume",{get:function(){return this.width*this.height}}),Object.defineProperty(G.Rectangle.prototype,"perimeter",{get:function(){return 2*this.width+2*this.height}}),Object.defineProperty(G.Rectangle.prototype,"centerX",{get:function(){return this.x+this.halfWidth},set:function(t){this.x=t-this.halfWidth}}),Object.defineProperty(G.Rectangle.prototype,"centerY",{get:function(){return this.y+this.halfHeight},set:function(t){this.y=t-this.halfHeight}}),Object.defineProperty(G.Rectangle.prototype,"randomX",{get:function(){return this.x+Math.random()*this.width}}),Object.defineProperty(G.Rectangle.prototype,"randomY",{get:function(){return this.y+Math.random()*this.height}}),Object.defineProperty(G.Rectangle.prototype,"top",{get:function(){return this.y},set:function(t){t>=this.bottom?(this.height=0,this.y=t):this.height=this.bottom-t}}),Object.defineProperty(G.Rectangle.prototype,"topLeft",{get:function(){return new G.Point(this.x,this.y)},set:function(t){this.x=t.x,this.y=t.y}}),Object.defineProperty(G.Rectangle.prototype,"topRight",{get:function(){return new G.Point(this.x+this.width,this.y)},set:function(t){this.right=t.x,this.y=t.y}}),Object.defineProperty(G.Rectangle.prototype,"empty",{get:function(){return!this.width||!this.height},set:function(t){!0===t&&this.setTo(0,0,0,0)}}),G.Rectangle.prototype.constructor=G.Rectangle,G.Rectangle.inflate=function(t,e,i){return t.x-=e,t.width+=2*e,t.y-=i,t.height+=2*i,t},G.Rectangle.inflatePoint=function(t,e){return G.Rectangle.inflate(t,e.x,e.y)},G.Rectangle.size=function(t,e){return null==e?e=new G.Point(t.width,t.height):e.setTo(t.width,t.height),e},G.Rectangle.clone=function(t,e){return null==e?e=new G.Rectangle(t.x,t.y,t.width,t.height):e.setTo(t.x,t.y,t.width,t.height),e},G.Rectangle.contains=function(t,e,i){return!(t.width<=0||t.height<=0)&&e>=t.x&&e<t.right&&i>=t.y&&i<t.bottom},G.Rectangle.containsRaw=function(t,e,i,o,n,s){return t<=n&&n<t+i&&e<=s&&s<e+o},G.Rectangle.containsPoint=function(t,e){return G.Rectangle.contains(t,e.x,e.y)},G.Rectangle.containsRect=function(t,e){return!(t.volume>e.volume)&&t.x>=e.x&&t.y>=e.y&&t.right<e.right&&t.bottom<e.bottom},G.Rectangle.equals=function(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height},G.Rectangle.sameDimensions=function(t,e){return t.width===e.width&&t.height===e.height},G.Rectangle.intersection=function(t,e,i){return void 0===i&&(i=new G.Rectangle),G.Rectangle.intersects(t,e)&&(i.x=Math.max(t.x,e.x),i.y=Math.max(t.y,e.y),i.width=Math.min(t.right,e.right)-i.x,i.height=Math.min(t.bottom,e.bottom)-i.y),i},G.Rectangle.intersects=function(t,e){return!(t.width<=0||t.height<=0||e.width<=0||e.height<=0||t.right<e.x||t.bottom<e.y||t.x>e.right||t.y>e.bottom)},G.Rectangle.intersectsRaw=function(t,e,i,o,n,s){return!(e>t.right+(s=void 0===s?0:s)||i<t.left-s||o>t.bottom+s||n<t.top-s)},G.Rectangle.union=function(t,e,i){return(i=void 0===i?new G.Rectangle:i).setTo(Math.min(t.x,e.x),Math.min(t.y,e.y),Math.max(t.right,e.right)-Math.min(t.left,e.left),Math.max(t.bottom,e.bottom)-Math.min(t.top,e.top))},G.Rectangle.aabb=function(t,e){void 0===e&&(e=new G.Rectangle);var i=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY,s=Number.POSITIVE_INFINITY;return t.forEach(function(t){t.x>i&&(i=t.x),t.x<o&&(o=t.x),t.y>n&&(n=t.y),t.y<s&&(s=t.y)}),e.setTo(o,s,i-o,n-s),e},PIXI.Rectangle=G.Rectangle,PIXI.EmptyRectangle=new G.Rectangle(0,0,0,0),G.RoundedRectangle=function(t,e,i,o,n){void 0===e&&(e=0),void 0===i&&(i=0),void 0===o&&(o=0),void 0===n&&(n=20),this.x=t=void 0===t?0:t,this.y=e,this.width=i,this.height=o,this.radius=n||20,this.type=G.ROUNDEDRECTANGLE},G.RoundedRectangle.prototype={clone:function(){return new G.RoundedRectangle(this.x,this.y,this.width,this.height,this.radius)},contains:function(t,e){if(this.width<=0||this.height<=0)return!1;var i=this.x;if(i<=t&&t<=i+this.width){t=this.y;if(t<=e&&e<=t+this.height)return!0}return!1}},G.RoundedRectangle.prototype.constructor=G.RoundedRectangle,PIXI.RoundedRectangle=G.RoundedRectangle,G.Camera=function(t,e,i,o,n,s){this.game=t,this.world=t.world,this.id=0,this.view=new G.Rectangle(i,o,n,s),this.bounds=new G.Rectangle(i,o,n,s),this.deadzone=null,this.visible=!0,this.roundPx=!0,this.atLimit={x:!1,y:!1},this.target=null,this.displayObject=null,this.scale=null,this.totalInView=0,this.lerp=new G.Point(1,1),this.onShakeComplete=new G.Signal,this.onFlashComplete=new G.Signal,this.onFadeComplete=new G.Signal,this.fx=null,this._targetPosition=new G.Point,this._edge=0,this._position=new G.Point,this._shake={intensity:0,duration:0,horizontal:!1,vertical:!1,shakeBounds:!0,x:0,y:0},this._fxDuration=0,this._fxType=0},G.Camera.FOLLOW_LOCKON=0,G.Camera.FOLLOW_PLATFORMER=1,G.Camera.FOLLOW_TOPDOWN=2,G.Camera.FOLLOW_TOPDOWN_TIGHT=3,G.Camera.SHAKE_BOTH=4,G.Camera.SHAKE_HORIZONTAL=5,G.Camera.SHAKE_VERTICAL=6,G.Camera.ENABLE_FX=!0,G.Camera.prototype={boot:function(){this.displayObject=this.game.world,this.scale=this.game.world.scale,this.game.camera=this,G.Graphics&&G.Camera.ENABLE_FX&&(this.fx=new G.Graphics(this.game),this.game.stage.addChild(this.fx))},preUpdate:function(){this.totalInView=0},follow:function(t,e,i,o){var n;switch(void 0===e&&(e=G.Camera.FOLLOW_LOCKON),void 0===i&&(i=1),void 0===o&&(o=1),this.target=t,this.lerp.set(i,o),e){case G.Camera.FOLLOW_PLATFORMER:var s=this.width/8,r=this.height/3;this.deadzone=new G.Rectangle((this.width-s)/2,(this.height-r)/2-.25*r,s,r);break;case G.Camera.FOLLOW_TOPDOWN:n=Math.max(this.width,this.height)/4,this.deadzone=new G.Rectangle((this.width-n)/2,(this.height-n)/2,n,n);break;case G.Camera.FOLLOW_TOPDOWN_TIGHT:n=Math.max(this.width,this.height)/8,this.deadzone=new G.Rectangle((this.width-n)/2,(this.height-n)/2,n,n);break;default:G.Camera.FOLLOW_LOCKON;this.deadzone=null}},unfollow:function(){this.target=null},focusOn:function(t){this.setPosition(Math.round(t.x-this.view.halfWidth),Math.round(t.y-this.view.halfHeight))},focusOnXY:function(t,e){this.setPosition(Math.round(t-this.view.halfWidth),Math.round(e-this.view.halfHeight))},shake:function(t,e,i,o,n){return void 0===t&&(t=.05),void 0===e&&(e=500),void 0===o&&(o=G.Camera.SHAKE_BOTH),void 0===n&&(n=!0),!(!(i=void 0===i?!0:i)&&0<this._shake.duration||(this._shake.intensity=t,this._shake.duration=e,this._shake.shakeBounds=n,this._shake.x=0,this._shake.y=0,this._shake.horizontal=o===G.Camera.SHAKE_BOTH||o===G.Camera.SHAKE_HORIZONTAL,this._shake.vertical=o===G.Camera.SHAKE_BOTH||o===G.Camera.SHAKE_VERTICAL,0))},flash:function(t,e,i){return void 0===t&&(t=16777215),void 0===e&&(e=500),void 0===i&&(i=!1),!(!this.fx||!i&&0<this._fxDuration||(this.fx.clear(),this.fx.beginFill(t),this.fx.drawRect(0,0,this.width,this.height),this.fx.endFill(),this.fx.alpha=1,this._fxDuration=e,this._fxType=0))},fade:function(t,e,i){return void 0===t&&(t=0),void 0===e&&(e=500),void 0===i&&(i=!1),!(!this.fx||!i&&0<this._fxDuration||(this.fx.clear(),this.fx.beginFill(t),this.fx.drawRect(0,0,this.width,this.height),this.fx.endFill(),this.fx.alpha=0,this._fxDuration=e,this._fxType=1,0))},update:function(){0<this._fxDuration&&this.updateFX(),0<this._shake.duration&&this.updateShake(),this.bounds&&this.checkBounds(),this.roundPx&&(this.view.floor(),this._shake.x=Math.floor(this._shake.x),this._shake.y=Math.floor(this._shake.y)),this.displayObject.position.x=-this.view.x,this.displayObject.position.y=-this.view.y},updateFX:function(){0===this._fxType?(this.fx.alpha-=this.game.time.elapsedMS/this._fxDuration,this.fx.alpha<=0&&(this._fxDuration=0,this.fx.alpha=0,this.onFlashComplete.dispatch())):(this.fx.alpha+=this.game.time.elapsedMS/this._fxDuration,1<=this.fx.alpha&&(this._fxDuration=0,this.fx.alpha=1,this.onFadeComplete.dispatch()))},updateShake:function(){this._shake.duration-=this.game.time.elapsedMS,this._shake.duration<=0?(this.onShakeComplete.dispatch(),this._shake.x=0,this._shake.y=0):(this._shake.horizontal&&(this._shake.x=this.game.rnd.frac()*this._shake.intensity*this.view.width*2-this._shake.intensity*this.view.width),this._shake.vertical&&(this._shake.y=this.game.rnd.frac()*this._shake.intensity*this.view.height*2-this._shake.intensity*this.view.height))},updateTarget:function(){this._targetPosition.x=this.view.x+this.target.worldPosition.x,this._targetPosition.y=this.view.y+this.target.worldPosition.y,this.deadzone?(this._edge=this._targetPosition.x-this.view.x,this._edge<this.deadzone.left?this.view.x=this.game.math.linear(this.view.x,this._targetPosition.x-this.deadzone.left,this.lerp.x):this._edge>this.deadzone.right&&(this.view.x=this.game.math.linear(this.view.x,this._targetPosition.x-this.deadzone.right,this.lerp.x)),this._edge=this._targetPosition.y-this.view.y,this._edge<this.deadzone.top?this.view.y=this.game.math.linear(this.view.y,this._targetPosition.y-this.deadzone.top,this.lerp.y):this._edge>this.deadzone.bottom&&(this.view.y=this.game.math.linear(this.view.y,this._targetPosition.y-this.deadzone.bottom,this.lerp.y))):(this.view.x=this.game.math.linear(this.view.x,this._targetPosition.x-this.view.halfWidth,this.lerp.x),this.view.y=this.game.math.linear(this.view.y,this._targetPosition.y-this.view.halfHeight,this.lerp.y)),this.bounds&&this.checkBounds(),this.roundPx&&this.view.floor(),this.displayObject.position.x=-this.view.x,this.displayObject.position.y=-this.view.y},setBoundsToWorld:function(){this.bounds&&this.bounds.copyFrom(this.game.world.bounds)},checkBounds:function(){this.atLimit.x=!1,this.atLimit.y=!1;var t=this.view.x+this._shake.x,e=this.view.right+this._shake.x,i=this.view.y+this._shake.y,o=this.view.bottom+this._shake.y;t<=this.bounds.x*this.scale.x&&(this.atLimit.x=!0,this.view.x=this.bounds.x*this.scale.x,this._shake.shakeBounds||(this._shake.x=0)),e>=this.bounds.right*this.scale.x&&(this.atLimit.x=!0,this.view.x=this.bounds.right*this.scale.x-this.width,this._shake.shakeBounds||(this._shake.x=0)),i<=this.bounds.top*this.scale.y&&(this.atLimit.y=!0,this.view.y=this.bounds.top*this.scale.y,this._shake.shakeBounds||(this._shake.y=0)),o>=this.bounds.bottom*this.scale.y&&(this.atLimit.y=!0,this.view.y=this.bounds.bottom*this.scale.y-this.height,this._shake.shakeBounds||(this._shake.y=0))},setPosition:function(t,e){this.view.x=t,this.view.y=e,this.bounds&&this.checkBounds()},setSize:function(t,e){this.view.width=t,this.view.height=e},reset:function(){this.target=null,this.view.x=0,this.view.y=0,this._shake.duration=0,this.resetFX()},resetFX:function(){this.fx&&(this.fx.clear(),this.fx.alpha=0,this._fxDuration=0)}},G.Camera.prototype.constructor=G.Camera,Object.defineProperty(G.Camera.prototype,"x",{get:function(){return this.view.x},set:function(t){this.view.x=t,this.bounds&&this.checkBounds()}}),Object.defineProperty(G.Camera.prototype,"y",{get:function(){return this.view.y},set:function(t){this.view.y=t,this.bounds&&this.checkBounds()}}),Object.defineProperty(G.Camera.prototype,"position",{get:function(){return this._position.set(this.view.x,this.view.y),this._position},set:function(t){void 0!==t.x&&(this.view.x=t.x),void 0!==t.y&&(this.view.y=t.y),this.bounds&&this.checkBounds()}}),Object.defineProperty(G.Camera.prototype,"width",{get:function(){return this.view.width},set:function(t){this.view.width=t}}),Object.defineProperty(G.Camera.prototype,"height",{get:function(){return this.view.height},set:function(t){this.view.height=t}}),Object.defineProperty(G.Camera.prototype,"shakeIntensity",{get:function(){return this._shake.intensity},set:function(t){this._shake.intensity=t}}),G.State=function(){this.game=null,this.key="",this.add=null,this.make=null,this.camera=null,this.cache=null,this.input=null,this.load=null,this.math=null,this.sound=null,this.scale=null,this.stage=null,this.state=null,this.time=null,this.tweens=null,this.world=null,this.particles=null,this.physics=null,this.rnd=null},G.State.prototype={init:function(){},preload:function(){},loadUpdate:function(){},loadRender:function(){},create:function(){},update:function(){},preRender:function(){},render:function(){},resize:function(){},paused:function(){},resumed:function(){},pauseUpdate:function(){},shutdown:function(){}},G.State.prototype.constructor=G.State,G.StateManager=function(t,e){this.game=t,this.states={},(this._pendingState=null)!=e&&(this._pendingState=e),this._clearWorld=!1,this._clearCache=!1,this._created=!1,this._args=[],this.current="",this.onStateChange=new G.Signal,this.onInitCallback=null,this.onPreloadCallback=null,this.onCreateCallback=null,this.onUpdateCallback=null,this.onRenderCallback=null,this.onResizeCallback=null,this.onPreRenderCallback=null,this.onLoadUpdateCallback=null,this.onLoadRenderCallback=null,this.onPausedCallback=null,this.onResumedCallback=null,this.onPauseUpdateCallback=null,this.onShutDownCallback=null},G.StateManager.prototype={boot:function(){this.game.onPause.add(this.pause,this),this.game.onResume.add(this.resume,this),null!==this._pendingState&&"string"!=typeof this._pendingState&&this.add("default",this._pendingState,!0)},add:function(t,e,i){var o;return void 0===i&&(i=!1),e instanceof G.State?o=e:"object"==typeof e?(o=e).game=this.game:"function"==typeof e&&(o=new e(this.game)),this.states[t]=o,i&&(this.game.isBooted?this.start(t):this._pendingState=t),o},remove:function(t){this.current===t&&(this.callbackContext=null,this.onInitCallback=null,this.onShutDownCallback=null,this.onPreloadCallback=null,this.onLoadRenderCallback=null,this.onLoadUpdateCallback=null,this.onCreateCallback=null,this.onUpdateCallback=null,this.onPreRenderCallback=null,this.onRenderCallback=null,this.onResizeCallback=null,this.onPausedCallback=null,this.onResumedCallback=null,this.onPauseUpdateCallback=null),delete this.states[t]},start:function(t,e,i){void 0===e&&(e=!0),void 0===i&&(i=!1),this.checkState(t)&&(this._pendingState=t,this._clearWorld=e,this._clearCache=i,3<arguments.length&&(this._args=Array.prototype.splice.call(arguments,3)))},restart:function(t,e){void 0===t&&(t=!0),void 0===e&&(e=!1),this._pendingState=this.current,this._clearWorld=t,this._clearCache=e,2<arguments.length&&(this._args=Array.prototype.slice.call(arguments,2))},dummy:function(){},preUpdate:function(){var t;this._pendingState&&this.game.isBooted&&(t=this.current,this.clearCurrentState(),this.setCurrentState(this._pendingState),this.onStateChange.dispatch(this.current,t),this.current===this._pendingState&&(this._pendingState=null,this.onPreloadCallback?(this.game.load.reset(!0),this.onPreloadCallback.call(this.callbackContext,this.game),0===this.game.load.totalQueuedFiles()&&0===this.game.load.totalQueuedPacks()?this.loadComplete():this.game.load.start()):this.loadComplete()))},clearCurrentState:function(){this.current&&(this.onShutDownCallback&&this.onShutDownCallback.call(this.callbackContext,this.game),this.game.tweens.removeAll(),this.game.camera.reset(),this.game.input.reset(!0),this.game.physics.clear(),this.game.time.removeAll(),this.game.scale.reset(this._clearWorld),this.game.debug&&this.game.debug.reset(),this._clearWorld&&(this.game.world.shutdown(),this._clearCache&&this.game.cache.destroy()))},checkState:function(t){return this.states[t]&&!!(this.states[t].preload||this.states[t].create||this.states[t].update||this.states[t].render)||!1},link:function(t){this.states[t].game=this.game,this.states[t].add=this.game.add,this.states[t].make=this.game.make,this.states[t].camera=this.game.camera,this.states[t].cache=this.game.cache,this.states[t].input=this.game.input,this.states[t].load=this.game.load,this.states[t].math=this.game.math,this.states[t].sound=this.game.sound,this.states[t].scale=this.game.scale,(this.states[t].state=this).states[t].stage=this.game.stage,this.states[t].time=this.game.time,this.states[t].tweens=this.game.tweens,this.states[t].world=this.game.world,this.states[t].particles=this.game.particles,this.states[t].rnd=this.game.rnd,this.states[t].physics=this.game.physics,this.states[t].key=t},unlink:function(t){this.states[t]&&(this.states[t].game=null,this.states[t].add=null,this.states[t].make=null,this.states[t].camera=null,this.states[t].cache=null,this.states[t].input=null,this.states[t].load=null,this.states[t].math=null,this.states[t].sound=null,this.states[t].scale=null,this.states[t].state=null,this.states[t].stage=null,this.states[t].time=null,this.states[t].tweens=null,this.states[t].world=null,this.states[t].particles=null,this.states[t].rnd=null,this.states[t].physics=null)},setCurrentState:function(t){this.callbackContext=this.states[t],this.link(t),this.onInitCallback=this.states[t].init||this.dummy,this.onPreloadCallback=this.states[t].preload||null,this.onLoadRenderCallback=this.states[t].loadRender||null,this.onLoadUpdateCallback=this.states[t].loadUpdate||null,this.onCreateCallback=this.states[t].create||null,this.onUpdateCallback=this.states[t].update||null,this.onPreRenderCallback=this.states[t].preRender||null,this.onRenderCallback=this.states[t].render||null,this.onResizeCallback=this.states[t].resize||null,this.onPausedCallback=this.states[t].paused||null,this.onResumedCallback=this.states[t].resumed||null,this.onPauseUpdateCallback=this.states[t].pauseUpdate||null,this.onShutDownCallback=this.states[t].shutdown||this.dummy,""!==this.current&&this.game.physics.reset(),this.current=t,this._created=!1,this.onInitCallback.apply(this.callbackContext,this._args),t===this._pendingState&&(this._args=[]),this.game._kickstart=!0},getCurrentState:function(){return this.states[this.current]},loadComplete:function(){!1===this._created&&this.onLoadUpdateCallback&&this.onLoadUpdateCallback.call(this.callbackContext,this.game),!1===this._created&&this.onCreateCallback?(this._created=!0,this.onCreateCallback.call(this.callbackContext,this.game)):this._created=!0},pause:function(){this._created&&this.onPausedCallback&&this.onPausedCallback.call(this.callbackContext,this.game)},resume:function(){this._created&&this.onResumedCallback&&this.onResumedCallback.call(this.callbackContext,this.game)},update:function(){this._created?this.onUpdateCallback&&this.onUpdateCallback.call(this.callbackContext,this.game):this.onLoadUpdateCallback&&this.onLoadUpdateCallback.call(this.callbackContext,this.game)},pauseUpdate:function(){this._created?this.onPauseUpdateCallback&&this.onPauseUpdateCallback.call(this.callbackContext,this.game):this.onLoadUpdateCallback&&this.onLoadUpdateCallback.call(this.callbackContext,this.game)},preRender:function(t){this._created&&this.onPreRenderCallback&&this.onPreRenderCallback.call(this.callbackContext,this.game,t)},resize:function(t,e){this.onResizeCallback&&this.onResizeCallback.call(this.callbackContext,t,e)},render:function(){this._created?this.onRenderCallback&&(this.game.renderType===G.CANVAS?(this.game.context.save(),this.game.context.setTransform(1,0,0,1,0,0),this.onRenderCallback.call(this.callbackContext,this.game),this.game.context.restore()):this.onRenderCallback.call(this.callbackContext,this.game)):this.onLoadRenderCallback&&this.onLoadRenderCallback.call(this.callbackContext,this.game)},destroy:function(){this._clearWorld=!0,this._clearCache=!0,this.clearCurrentState(),this.callbackContext=null,this.onInitCallback=null,this.onShutDownCallback=null,this.onPreloadCallback=null,this.onLoadRenderCallback=null,this.onLoadUpdateCallback=null,this.onCreateCallback=null,this.onUpdateCallback=null,this.onRenderCallback=null,this.onPausedCallback=null,this.onResumedCallback=null,this.onPauseUpdateCallback=null,this.game=null,this.states={},this._pendingState=null,this.current=""}},G.StateManager.prototype.constructor=G.StateManager,Object.defineProperty(G.StateManager.prototype,"created",{get:function(){return this._created}}),G.Signal=function(){},G.Signal.prototype={_bindings:null,_prevParams:null,memorize:!1,_shouldPropagate:!0,active:!0,_boundDispatch:!1,validateListener:function(t,e){if("function"!=typeof t)throw new Error("Phaser.Signal: listener is a required param of {fn}() and should be a Function.".replace("{fn}",e))},_registerListener:function(t,e,i,o,n){var s,r=this._indexOfListener(t,i);if(-1!==r){if((s=this._bindings[r]).isOnce()!==e)throw new Error("You cannot add"+(e?"":"Once")+"() then add"+(e?"Once":"")+"() the same listener without removing the relationship first.")}else s=new G.SignalBinding(this,t,e,i,o,n),this._addBinding(s);return this.memorize&&this._prevParams&&s.execute(this._prevParams),s},_addBinding:function(t){this._bindings||(this._bindings=[]);for(var e=this._bindings.length;this._bindings[--e]&&t._priority<=this._bindings[e]._priority;);this._bindings.splice(e+1,0,t)},_indexOfListener:function(t,e){if(!this._bindings)return-1;void 0===e&&(e=null);for(var i,o=this._bindings.length;o--;)if((i=this._bindings[o])._listener===t&&i.context===e)return o;return-1},has:function(t,e){return-1!==this._indexOfListener(t,e)},add:function(t,e,i){this.validateListener(t,"add");var o=[];if(3<arguments.length)for(var n=3;n<arguments.length;n++)o.push(arguments[n]);return this._registerListener(t,!1,e,i,o)},addOnce:function(t,e,i){this.validateListener(t,"addOnce");var o=[];if(3<arguments.length)for(var n=3;n<arguments.length;n++)o.push(arguments[n]);return this._registerListener(t,!0,e,i,o)},remove:function(t,e){this.validateListener(t,"remove");e=this._indexOfListener(t,e);return-1!==e&&(this._bindings[e]._destroy(),this._bindings.splice(e,1)),t},removeAll:function(t){if(void 0===t&&(t=null),this._bindings){for(var e=this._bindings.length;e--;)t?this._bindings[e].context===t&&(this._bindings[e]._destroy(),this._bindings.splice(e,1)):this._bindings[e]._destroy();t||(this._bindings.length=0)}},getNumListeners:function(){return this._bindings?this._bindings.length:0},halt:function(){this._shouldPropagate=!1},dispatch:function(){if(this.active&&this._bindings){var t,e=Array.prototype.slice.call(arguments),i=this._bindings.length;if(this.memorize&&(this._prevParams=e),i)for(t=this._bindings.slice(),this._shouldPropagate=!0;t[--i]&&this._shouldPropagate&&!1!==t[i].execute(e););}},forget:function(){this._prevParams&&(this._prevParams=null)},dispose:function(){this.removeAll(),this._bindings=null,this._prevParams&&(this._prevParams=null)},toString:function(){return"[Phaser.Signal active:"+this.active+" numListeners:"+this.getNumListeners()+"]"}},Object.defineProperty(G.Signal.prototype,"boundDispatch",{get:function(){var t=this;return this._boundDispatch||(this._boundDispatch=function(){return t.dispatch.apply(t,arguments)})}}),G.Signal.prototype.constructor=G.Signal,G.SignalBinding=function(t,e,i,o,n,s){this._listener=e,i&&(this._isOnce=!0),null!=o&&(this.context=o),this._signal=t,n&&(this._priority=n),s&&s.length&&(this._args=s)},G.SignalBinding.prototype={context:null,_isOnce:!1,_priority:0,_args:null,callCount:0,active:!0,params:null,execute:function(t){var e;return this.active&&this._listener&&(t=this.params?this.params.concat(t):t,this._args&&(t=t.concat(this._args)),e=this._listener.apply(this.context,t),this.callCount++,this._isOnce&&this.detach()),e},detach:function(){return this.isBound()?this._signal.remove(this._listener,this.context):null},isBound:function(){return!!this._signal&&!!this._listener},isOnce:function(){return this._isOnce},getListener:function(){return this._listener},getSignal:function(){return this._signal},_destroy:function(){delete this._signal,delete this._listener,delete this.context},toString:function(){return"[Phaser.SignalBinding isOnce:"+this._isOnce+", isBound:"+this.isBound()+", active:"+this.active+"]"}},G.SignalBinding.prototype.constructor=G.SignalBinding,G.Filter=function(t,e,i){this.game=t,this.type=G.WEBGL_FILTER,this.passes=[this],this.shaders=[],this.dirty=!0,this.padding=0,this.prevPoint=new G.Point;t=new Date;if(this.uniforms={resolution:{type:"2f",value:{x:256,y:256}},time:{type:"1f",value:0},mouse:{type:"2f",value:{x:0,y:0}},date:{type:"4fv",value:[t.getFullYear(),t.getMonth(),t.getDate(),60*t.getHours()*60+60*t.getMinutes()+t.getSeconds()]},sampleRate:{type:"1f",value:44100},iChannel0:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel1:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel2:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel3:{type:"sampler2D",value:null,textureData:{repeat:!0}}},e)for(var o in e)this.uniforms[o]=e[o];this.fragmentSrc=i||""},G.Filter.prototype={init:function(){},setResolution:function(t,e){this.uniforms.resolution.value.x=t,this.uniforms.resolution.value.y=e},update:function(t){var e;void 0!==t&&(e=t.x/this.game.width,t=1-t.y/this.game.height,e===this.prevPoint.x&&t===this.prevPoint.y||(this.uniforms.mouse.value.x=e.toFixed(2),this.uniforms.mouse.value.y=t.toFixed(2),this.prevPoint.set(e,t))),this.uniforms.time.value=this.game.time.totalElapsedSeconds()},addToWorld:function(t,e,i,o,n,s){void 0===n&&(n=0),void 0===s&&(s=0),null!=i?this.width=i:i=this.width,null!=o?this.height=o:o=this.height;t=this.game.add.image(t,e,"__default");return t.width=i,t.height=o,t.anchor.set(n,s),t.filters=[this],t},destroy:function(){this.game=null}},G.Filter.prototype.constructor=G.Filter,Object.defineProperty(G.Filter.prototype,"width",{get:function(){return this.uniforms.resolution.value.x},set:function(t){this.uniforms.resolution.value.x=t}}),Object.defineProperty(G.Filter.prototype,"height",{get:function(){return this.uniforms.resolution.value.y},set:function(t){this.uniforms.resolution.value.y=t}}),G.Plugin=function(t,e){void 0===e&&(e=null),this.game=t,this.parent=e,this.active=!1,this.visible=!1,this.hasPreUpdate=!1,this.hasUpdate=!1,this.hasPostUpdate=!1,this.hasRender=!1,this.hasPostRender=!1},G.Plugin.prototype={preUpdate:function(){},update:function(){},render:function(){},postRender:function(){},destroy:function(){this.game=null,this.parent=null,this.active=!1,this.visible=!1}},G.Plugin.prototype.constructor=G.Plugin,G.PluginManager=function(t){this.game=t,this.plugins=[],this._len=0,this._i=0},G.PluginManager.prototype={add:function(t){var e=Array.prototype.slice.call(arguments,1),i=!1;return"function"==typeof t?t=new t(this.game,this):(t.game=this.game,t.parent=this),"function"==typeof t.preUpdate&&(i=t.hasPreUpdate=!0),"function"==typeof t.update&&(i=t.hasUpdate=!0),"function"==typeof t.postUpdate&&(i=t.hasPostUpdate=!0),"function"==typeof t.render&&(i=t.hasRender=!0),(i="function"==typeof t.postRender?t.hasPostRender=!0:i)?((t.hasPreUpdate||t.hasUpdate||t.hasPostUpdate)&&(t.active=!0),(t.hasRender||t.hasPostRender)&&(t.visible=!0),this._len=this.plugins.push(t),"function"==typeof t.init&&t.init.apply(t,e),t):null},remove:function(t,e){for(void 0===e&&(e=!0),this._i=this._len;this._i--;)if(this.plugins[this._i]===t)return e&&t.destroy(),this.plugins.splice(this._i,1),void this._len--},removeAll:function(){for(this._i=this._len;this._i--;)this.plugins[this._i].destroy();this.plugins.length=0,this._len=0},preUpdate:function(){for(this._i=this._len;this._i--;)this.plugins[this._i].active&&this.plugins[this._i].hasPreUpdate&&this.plugins[this._i].preUpdate()},update:function(){for(this._i=this._len;this._i--;)this.plugins[this._i].active&&this.plugins[this._i].hasUpdate&&this.plugins[this._i].update()},postUpdate:function(){for(this._i=this._len;this._i--;)this.plugins[this._i].active&&this.plugins[this._i].hasPostUpdate&&this.plugins[this._i].postUpdate()},render:function(){for(this._i=this._len;this._i--;)this.plugins[this._i].visible&&this.plugins[this._i].hasRender&&this.plugins[this._i].render()},postRender:function(){for(this._i=this._len;this._i--;)this.plugins[this._i].visible&&this.plugins[this._i].hasPostRender&&this.plugins[this._i].postRender()},destroy:function(){this.removeAll(),this.game=null}},G.PluginManager.prototype.constructor=G.PluginManager,G.Stage=function(t){this.game=t,PIXI.DisplayObjectContainer.call(this),this.name="_stage_root",this.disableVisibilityChange=!1,this.exists=!0,this.worldTransform=new PIXI.Matrix,(this.stage=this).currentRenderOrderID=0,this._hiddenVar="hidden",this._onChange=null,this._bgColor={r:0,g:0,b:0,a:0,color:0,rgba:"#000000"},this.game.transparent||(this._bgColor.a=1),t.config&&this.parseConfig(t.config)},G.Stage.prototype=Object.create(PIXI.DisplayObjectContainer.prototype),G.Stage.prototype.constructor=G.Stage,G.Stage.prototype.parseConfig=function(t){t.disableVisibilityChange&&(this.disableVisibilityChange=t.disableVisibilityChange),t.backgroundColor&&this.setBackgroundColor(t.backgroundColor)},G.Stage.prototype.boot=function(){G.DOM.getOffset(this.game.canvas,this.offset),G.Canvas.setUserSelect(this.game.canvas,"none"),G.Canvas.setTouchAction(this.game.canvas,"none"),this.checkVisibility()},G.Stage.prototype.preUpdate=function(){for(var t=this.currentRenderOrderID=0;t<this.children.length;){var e=this.children[t];e.preUpdate(),this===e.parent&&t++}},G.Stage.prototype.update=function(){for(var t=this.children.length;t--;)this.children[t].update()},G.Stage.prototype.postUpdate=function(){this.game.camera.update(),this.game.camera.target&&(this.game.camera.target.postUpdate(),this.updateTransform(),this.game.camera.updateTarget());for(var t=0;t<this.children.length;t++)this.children[t].postUpdate();this.updateTransform()},G.Stage.prototype.updateTransform=function(){this.worldAlpha=1;for(var t=0;t<this.children.length;t++)this.children[t].updateTransform()},G.Stage.prototype.checkVisibility=function(){void 0!==document.hidden?this._hiddenVar="visibilitychange":void 0!==document.webkitHidden?this._hiddenVar="webkitvisibilitychange":void 0!==document.mozHidden?this._hiddenVar="mozvisibilitychange":void 0!==document.msHidden?this._hiddenVar="msvisibilitychange":this._hiddenVar=null;var e=this;this._onChange=function(t){return e.visibilityChange(t)},this._onClick=function(t){document.hasFocus()||e.visibilityChange(t)},this._hiddenVar&&document.addEventListener(this._hiddenVar,this._onChange,!1),window.onblur=this._onChange,window.onfocus=this._onChange,window.onpagehide=this._onChange,window.onpageshow=this._onChange,window.addEventListener("click",this._onClick),this.game.device.cocoonJSApp&&(CocoonJS.App.onSuspended.addEventListener(function(){G.Stage.prototype.visibilityChange.call(e,{type:"pause"})}),CocoonJS.App.onActivated.addEventListener(function(){G.Stage.prototype.visibilityChange.call(e,{type:"resume"})}))},G.Stage.prototype.visibilityChange=function(t){switch(t.type){case"blur":case"pagehide":return void this.game.focusLoss(t);case"click":case"focus":case"pageshow":return void this.game.focusGain(t)}this.disableVisibilityChange||(document.hidden||document.mozHidden||document.msHidden||document.webkitHidden||"pause"===t.type?this.game.gamePaused(t):this.game.gameResumed(t))},G.Stage.prototype.setBackgroundColor=function(t){this.game.transparent||(G.Color.valueToColor(t,this._bgColor),G.Color.updateColor(this._bgColor),this._bgColor.r/=255,this._bgColor.g/=255,this._bgColor.b/=255,this._bgColor.a=1)},G.Stage.prototype.destroy=function(){this._hiddenVar&&document.removeEventListener(this._hiddenVar,this._onChange,!1),window.onpagehide=null,window.onpageshow=null,window.onblur=null,window.onfocus=null,window.removeEventListener("click",this._onClick)},Object.defineProperty(G.Stage.prototype,"backgroundColor",{get:function(){return this._bgColor.color},set:function(t){this.setBackgroundColor(t)}}),Object.defineProperty(G.Stage.prototype,"smoothed",{get:function(){return PIXI.scaleModes.DEFAULT===PIXI.scaleModes.LINEAR},set:function(t){PIXI.scaleModes.DEFAULT=t?PIXI.scaleModes.LINEAR:PIXI.scaleModes.NEAREST}}),G.Group=function(t,e,i,o,n,s){void 0===o&&(o=!1),void 0===n&&(n=!1),void 0===s&&(s=G.Physics.ARCADE),this.game=t,void 0===e&&(e=t.world),this.name=i||"group",this.z=0,PIXI.DisplayObjectContainer.call(this),o?(this.game.stage.addChild(this),this.z=this.game.stage.children.length):e&&(e.addChild(this),this.z=e.children.length),this.type=G.GROUP,this.physicsType=G.GROUP,this.alive=!0,this.exists=!0,this.ignoreDestroy=!1,this.pendingDestroy=!1,this.classType=G.Sprite,this.cursor=null,this.inputEnableChildren=!1,this.onChildInputDown=new G.Signal,this.onChildInputUp=new G.Signal,this.onChildInputOver=new G.Signal,this.onChildInputOut=new G.Signal,this.enableBody=n,this.enableBodyDebug=!1,this.physicsBodyType=s,this.physicsSortDirection=null,this.onDestroy=new G.Signal,this.cursorIndex=0,this.fixedToCamera=!1,this.cameraOffset=new G.Point,this.hash=[],this._sortProperty="z"},G.Group.prototype=Object.create(PIXI.DisplayObjectContainer.prototype),G.Group.prototype.constructor=G.Group,G.Group.RETURN_NONE=0,G.Group.RETURN_TOTAL=1,G.Group.RETURN_CHILD=2,G.Group.RETURN_ALL=3,G.Group.SORT_ASCENDING=-1,G.Group.SORT_DESCENDING=1,G.Group.prototype.add=function(t,e,i){return void 0===e&&(e=!1),t.parent===this||(t.body&&t.parent&&t.parent.hash&&t.parent.removeFromHash(t),void 0===i?(t.z=this.children.length,this.addChild(t)):(this.addChildAt(t,i),this.updateZ()),this.enableBody&&t.hasOwnProperty("body")&&null===t.body?this.game.physics.enable(t,this.physicsBodyType):t.body&&this.addToHash(t),!this.inputEnableChildren||t.input&&!t.inputEnabled||(t.inputEnabled=!0),!e&&t.events&&t.events.onAddedToGroup$dispatch(t,this),null===this.cursor&&(this.cursor=t)),t},G.Group.prototype.addAt=function(t,e,i){this.add(t,i,e)},G.Group.prototype.addToHash=function(t){return t.parent===this&&-1===this.hash.indexOf(t)&&(this.hash.push(t),!0)},G.Group.prototype.removeFromHash=function(t){if(t){t=this.hash.indexOf(t);if(-1!==t)return this.hash.splice(t,1),!0}return!1},G.Group.prototype.addMultiple=function(t,e){if(t instanceof G.Group)t.moveAll(this,e);else if(Array.isArray(t))for(var i=0;i<t.length;i++)this.add(t[i],e);return t},G.Group.prototype.getAt=function(t){return t<0||t>=this.children.length?-1:this.getChildAt(t)},G.Group.prototype.create=function(t,e,i,o,n,s){void 0===n&&(n=!0);t=new this.classType(this.game,t,e,i,o);return t.exists=n,t.visible=n,t.alive=n,this.add(t,!1,s)},G.Group.prototype.createMultiple=function(o,t,e,n){void 0===e&&(e=0),void 0===n&&(n=!1),Array.isArray(t)||(t=[t]),Array.isArray(e)||(e=[e]);var s=this,r=[];return t.forEach(function(i){e.forEach(function(t){for(var e=0;e<o;e++)r.push(s.create(0,0,i,t,n))})}),r},G.Group.prototype.updateZ=function(){for(var t=this.children.length;t--;)this.children[t].z=t},G.Group.prototype.align=function(t,e,i,o,n,s){if(void 0===n&&(n=G.TOP_LEFT),void 0===s&&(s=0),0===this.children.length||s>this.children.length||-1===t&&-1===e)return!1;for(var r=new G.Rectangle(0,0,i,o),c=t*i,a=e*o,h=s;h<this.children.length;h++){var u=this.children[h];if(u.alignIn)if(u.alignIn(r,n),-1===t)r.y+=o,r.y===a&&(r.x+=i,r.y=0);else if(-1===e)r.x+=i,r.x===c&&(r.x=0,r.y+=o);else if(r.x+=i,r.x===c&&(r.x=0,r.y+=o,r.y===a))return!0}return!0},G.Group.prototype.resetCursor=function(t){if((t=void 0===t?0:t)>this.children.length-1&&(t=0),this.cursor)return this.cursorIndex=t,this.cursor=this.children[this.cursorIndex],this.cursor},G.Group.prototype.next=function(){if(this.cursor)return this.cursorIndex>=this.children.length-1?this.cursorIndex=0:this.cursorIndex++,this.cursor=this.children[this.cursorIndex],this.cursor},G.Group.prototype.previous=function(){if(this.cursor)return 0===this.cursorIndex?this.cursorIndex=this.children.length-1:this.cursorIndex--,this.cursor=this.children[this.cursorIndex],this.cursor},G.Group.prototype.swap=function(t,e){this.swapChildren(t,e),this.updateZ()},G.Group.prototype.bringToTop=function(t){return t.parent===this&&this.getIndex(t)<this.children.length&&(this.remove(t,!1,!0),this.add(t,!0)),t},G.Group.prototype.sendToBack=function(t){return t.parent===this&&0<this.getIndex(t)&&(this.remove(t,!1,!0),this.addAt(t,0,!0)),t},G.Group.prototype.moveUp=function(t){var e;return t.parent===this&&this.getIndex(t)<this.children.length-1&&(e=this.getIndex(t),(e=this.getAt(e+1))&&this.swap(t,e)),t},G.Group.prototype.moveDown=function(t){var e;return t.parent===this&&0<this.getIndex(t)&&(e=this.getIndex(t),(e=this.getAt(e-1))&&this.swap(t,e)),t},G.Group.prototype.xy=function(t,e,i){if(t<0||t>this.children.length)return-1;this.getChildAt(t).x=e,this.getChildAt(t).y=i},G.Group.prototype.reverse=function(){this.children.reverse(),this.updateZ()},G.Group.prototype.getIndex=function(t){return this.children.indexOf(t)},G.Group.prototype.getByName=function(t){for(var e=0;e<this.children.length;e++)if(this.children[e].name===t)return this.children[e];return null},G.Group.prototype.replace=function(t,e){var i=this.getIndex(t);if(-1!==i)return e.parent&&(e.parent instanceof G.Group?e.parent.remove(e):e.parent.removeChild(e)),this.remove(t),this.addAt(e,i),t},G.Group.prototype.hasProperty=function(t,e){var i=e.length;return 1===i&&e[0]in t||2===i&&e[0]in t&&e[1]in t[e[0]]||3===i&&e[0]in t&&e[1]in t[e[0]]&&e[2]in t[e[0]][e[1]]||4===i&&e[0]in t&&e[1]in t[e[0]]&&e[2]in t[e[0]][e[1]]&&e[3]in t[e[0]][e[1]][e[2]]},G.Group.prototype.setProperty=function(t,e,i,o,n){if(void 0===n&&(n=!1),o=o||0,!this.hasProperty(t,e)&&(!n||0<o))return!1;n=e.length;return 1===n?0===o?t[e[0]]=i:1===o?t[e[0]]+=i:2===o?t[e[0]]-=i:3===o?t[e[0]]*=i:4===o&&(t[e[0]]/=i):2===n?0===o?t[e[0]][e[1]]=i:1===o?t[e[0]][e[1]]+=i:2===o?t[e[0]][e[1]]-=i:3===o?t[e[0]][e[1]]*=i:4===o&&(t[e[0]][e[1]]/=i):3===n?0===o?t[e[0]][e[1]][e[2]]=i:1===o?t[e[0]][e[1]][e[2]]+=i:2===o?t[e[0]][e[1]][e[2]]-=i:3===o?t[e[0]][e[1]][e[2]]*=i:4===o&&(t[e[0]][e[1]][e[2]]/=i):4===n&&(0===o?t[e[0]][e[1]][e[2]][e[3]]=i:1===o?t[e[0]][e[1]][e[2]][e[3]]+=i:2===o?t[e[0]][e[1]][e[2]][e[3]]-=i:3===o?t[e[0]][e[1]][e[2]][e[3]]*=i:4===o&&(t[e[0]][e[1]][e[2]][e[3]]/=i)),!0},G.Group.prototype.checkProperty=function(t,e,i,o){return void 0===o&&(o=!1),!(!G.Utils.getProperty(t,e)&&o)&&G.Utils.getProperty(t,e)===i},G.Group.prototype.set=function(t,e,i,o,n,s,r){if(void 0===r&&(r=!1),e=e.split("."),void 0===n&&(n=!1),(!1===(o=void 0===o?!1:o)||o&&t.alive)&&(!1===n||n&&t.visible))return this.setProperty(t,e,i,s,r)},G.Group.prototype.setAll=function(t,e,i,o,n,s){void 0===i&&(i=!1),void 0===o&&(o=!1),void 0===s&&(s=!1),t=t.split("."),n=n||0;for(var r=0;r<this.children.length;r++)i&&!this.children[r].alive||o&&!this.children[r].visible||this.setProperty(this.children[r],t,e,n,s)},G.Group.prototype.setAllChildren=function(t,e,i,o,n,s){void 0===i&&(i=!1),void 0===o&&(o=!1),void 0===s&&(s=!1),n=n||0;for(var r=0;r<this.children.length;r++)i&&!this.children[r].alive||o&&!this.children[r].visible||(this.children[r]instanceof G.Group?this.children[r].setAllChildren(t,e,i,o,n,s):this.setProperty(this.children[r],t.split("."),e,n,s))},G.Group.prototype.checkAll=function(t,e,i,o,n){void 0===i&&(i=!1),void 0===o&&(o=!1),void 0===n&&(n=!1);for(var s=0;s<this.children.length;s++)if((!i||this.children[s].alive)&&(!o||this.children[s].visible)&&!this.checkProperty(this.children[s],t,e,n))return!1;return!0},G.Group.prototype.addAll=function(t,e,i,o){this.setAll(t,e,i,o,1)},G.Group.prototype.subAll=function(t,e,i,o){this.setAll(t,e,i,o,2)},G.Group.prototype.multiplyAll=function(t,e,i,o){this.setAll(t,e,i,o,3)},G.Group.prototype.divideAll=function(t,e,i,o){this.setAll(t,e,i,o,4)},G.Group.prototype.callAllExists=function(t,e){if(2<arguments.length)for(var i=[],o=2;o<arguments.length;o++)i.push(arguments[o]);for(o=0;o<this.children.length;o++)this.children[o].exists===e&&this.children[o][t]&&this.children[o][t].apply(this.children[o],i)},G.Group.prototype.callbackFromArray=function(t,e,i){if(1===i){if(t[e[0]])return t[e[0]]}else if(2===i){if(t[e[0]][e[1]])return t[e[0]][e[1]]}else if(3===i){if(t[e[0]][e[1]][e[2]])return t[e[0]][e[1]][e[2]]}else if(4===i){if(t[e[0]][e[1]][e[2]][e[3]])return t[e[0]][e[1]][e[2]][e[3]]}else if(t[e])return t[e];return!1},G.Group.prototype.callAll=function(t,e){if(void 0!==t){var i,o=(t=t.split(".")).length;if(null==e||""===e?e=null:"string"==typeof e&&(i=(e=e.split(".")).length),2<arguments.length)for(var n=[],s=2;s<arguments.length;s++)n.push(arguments[s]);for(var r,c=null,s=0;s<this.children.length;s++)c=this.callbackFromArray(this.children[s],t,o),e&&c?(r=this.callbackFromArray(this.children[s],e,i),c&&c.apply(r,n)):c&&c.apply(this.children[s],n)}},G.Group.prototype.preUpdate=function(){if(this.pendingDestroy)return this.destroy(),!1;if(!this.exists||!this.parent.exists)return!(this.renderOrderID=-1);for(var t=0;t<this.children.length;t++)this.children[t].preUpdate();return!0},G.Group.prototype.update=function(){for(var t=this.children.length;t--;)this.children[t].update()},G.Group.prototype.postUpdate=function(){this.fixedToCamera&&(this.x=this.game.camera.view.x+this.cameraOffset.x,this.y=this.game.camera.view.y+this.cameraOffset.y);for(var t=0;t<this.children.length;t++)this.children[t].postUpdate()},G.Group.prototype.filter=function(t,e){for(var i=-1,o=this.children.length,n=[];++i<o;){var s=this.children[i];e&&!s.exists||!t(s,i,this.children)||n.push(s)}return new G.ArraySet(n)},G.Group.prototype.forEach=function(t,e,i){if(void 0===i&&(i=!1),arguments.length<=3)for(var o=0;o<this.children.length;o++)i&&!this.children[o].exists||t.call(e,this.children[o]);else{for(var n=[null],o=3;o<arguments.length;o++)n.push(arguments[o]);for(o=0;o<this.children.length;o++)i&&!this.children[o].exists||(n[0]=this.children[o],t.apply(e,n))}},G.Group.prototype.forEachExists=function(t,e){if(2<arguments.length)for(var i=[null],o=2;o<arguments.length;o++)i.push(arguments[o]);this.iterate("exists",!0,G.Group.RETURN_TOTAL,t,e,i)},G.Group.prototype.forEachAlive=function(t,e){if(2<arguments.length)for(var i=[null],o=2;o<arguments.length;o++)i.push(arguments[o]);this.iterate("alive",!0,G.Group.RETURN_TOTAL,t,e,i)},G.Group.prototype.forEachDead=function(t,e){if(2<arguments.length)for(var i=[null],o=2;o<arguments.length;o++)i.push(arguments[o]);this.iterate("alive",!1,G.Group.RETURN_TOTAL,t,e,i)},G.Group.prototype.sort=function(t,e){this.children.length<2||(void 0===e&&(e=G.Group.SORT_ASCENDING),this._sortProperty=t=void 0===t?"z":t,e===G.Group.SORT_ASCENDING?this.children.sort(this.ascendingSortHandler.bind(this)):this.children.sort(this.descendingSortHandler.bind(this)),this.updateZ())},G.Group.prototype.customSort=function(t,e){this.children.length<2||(this.children.sort(t.bind(e)),this.updateZ())},G.Group.prototype.ascendingSortHandler=function(t,e){return t[this._sortProperty]<e[this._sortProperty]||!(t[this._sortProperty]>e[this._sortProperty])&&t.z<e.z?-1:1},G.Group.prototype.descendingSortHandler=function(t,e){return t[this._sortProperty]<e[this._sortProperty]?1:t[this._sortProperty]>e[this._sortProperty]?-1:0},G.Group.prototype.iterate=function(t,e,i,o,n,s){if(0===this.children.length){if(i===G.Group.RETURN_TOTAL)return 0;if(i===G.Group.RETURN_ALL)return[]}var r,c=0;i===G.Group.RETURN_ALL&&(r=[]);for(var a=0;a<this.children.length;a++)if(this.children[a][t]===e){if(c++,o&&(s?(s[0]=this.children[a],o.apply(n,s)):o.call(n,this.children[a])),i===G.Group.RETURN_CHILD)return this.children[a];i===G.Group.RETURN_ALL&&r.push(this.children[a])}return i===G.Group.RETURN_TOTAL?c:i===G.Group.RETURN_ALL?r:null},G.Group.prototype.getFirstExists=function(t,e,i,o,n,s){void 0===e&&(e=!1);t=this.iterate("exists",t="boolean"!=typeof t?!0:t,G.Group.RETURN_CHILD);return null===t&&e?this.create(i,o,n,s):this.resetChild(t,i,o,n,s)},G.Group.prototype.getFirstAlive=function(t,e,i,o,n){void 0===t&&(t=!1);var s=this.iterate("alive",!0,G.Group.RETURN_CHILD);return null===s&&t?this.create(e,i,o,n):this.resetChild(s,e,i,o,n)},G.Group.prototype.getFirstDead=function(t,e,i,o,n){void 0===t&&(t=!1);var s=this.iterate("alive",!1,G.Group.RETURN_CHILD);return null===s&&t?this.create(e,i,o,n):this.resetChild(s,e,i,o,n)},G.Group.prototype.resetChild=function(t,e,i,o,n){return null===t?null:(void 0===i&&(i=null),null!==(e=void 0===e?null:e)&&null!==i&&t.reset(e,i),void 0!==o&&t.loadTexture(o,n),t)},G.Group.prototype.getTop=function(){if(0<this.children.length)return this.children[this.children.length-1]},G.Group.prototype.getBottom=function(){if(0<this.children.length)return this.children[0]},G.Group.prototype.getClosestTo=function(t,e,i){for(var o=Number.MAX_VALUE,n=0,s=null,r=0;r<this.children.length;r++){var c=this.children[r];c.exists&&(n=Math.abs(G.Point.distance(t,c)))<o&&(!e||e.call(i,c,n))&&(o=n,s=c)}return s},G.Group.prototype.getFurthestFrom=function(t,e,i){for(var o=0,n=0,s=null,r=0;r<this.children.length;r++){var c=this.children[r];c.exists&&(n=Math.abs(G.Point.distance(t,c)))>o&&(!e||e.call(i,c,n))&&(o=n,s=c)}return s},G.Group.prototype.countLiving=function(){return this.iterate("alive",!0,G.Group.RETURN_TOTAL)},G.Group.prototype.countDead=function(){return this.iterate("alive",!1,G.Group.RETURN_TOTAL)},G.Group.prototype.getRandom=function(t,e){return void 0===t&&(t=0),0===(e=void 0===e?this.children.length:e)?null:G.ArrayUtils.getRandomItem(this.children,t,e)},G.Group.prototype.getRandomExists=function(t,e){t=this.getAll("exists",!0,t,e);return this.game.rnd.pick(t)},G.Group.prototype.getAll=function(t,e,i,o){void 0===o&&(o=this.children.length);for(var n=[],s=i=void 0===i?0:i;s<o;s++){var r=this.children[s];t&&r[t]===e&&n.push(r)}return n},G.Group.prototype.remove=function(t,e,i){if(void 0===e&&(e=!1),void 0===i&&(i=!1),0===this.children.length||-1===this.children.indexOf(t))return!1;i||!t.events||t.destroyPhase||t.events.onRemovedFromGroup$dispatch(t,this);i=this.removeChild(t);return this.removeFromHash(t),this.updateZ(),this.cursor===t&&this.next(),e&&i&&i.destroy(!0),!0},G.Group.prototype.moveAll=function(t,e){if(void 0===e&&(e=!1),0<this.children.length&&t instanceof G.Group){for(;t.add(this.children[0],e),0<this.children.length;);this.hash=[],this.cursor=null}return t},G.Group.prototype.removeAll=function(t,e,i){if(void 0===t&&(t=!1),void 0===e&&(e=!1),void 0===i&&(i=!1),0!==this.children.length){do{!e&&this.children[0].events&&this.children[0].events.onRemovedFromGroup$dispatch(this.children[0],this);var o=this.removeChild(this.children[0])}while(this.removeFromHash(o),t&&o&&o.destroy(!0,i),0<this.children.length);this.hash=[],this.cursor=null}},G.Group.prototype.removeBetween=function(t,e,i,o){if(void 0===e&&(e=this.children.length-1),void 0===i&&(i=!1),void 0===o&&(o=!1),0!==this.children.length){if(e<t||t<0||e>this.children.length)return!1;for(var n=e;t<=n;){!o&&this.children[n].events&&this.children[n].events.onRemovedFromGroup$dispatch(this.children[n],this);var s=this.removeChild(this.children[n]);this.removeFromHash(s),i&&s&&s.destroy(!0),this.cursor===this.children[n]&&(this.cursor=null),n--}this.updateZ()}},G.Group.prototype.destroy=function(t,e){null===this.game||this.ignoreDestroy||(this.onDestroy.dispatch(this,t=void 0===t?!0:t,e=void 0===e?!1:e),this.removeAll(t),this.cursor=null,this.filters=null,this.pendingDestroy=!1,e||(this.parent&&this.parent.removeChild(this),this.game=null,this.exists=!1))},Object.defineProperty(G.Group.prototype,"total",{get:function(){return this.iterate("exists",!0,G.Group.RETURN_TOTAL)}}),Object.defineProperty(G.Group.prototype,"length",{get:function(){return this.children.length}}),Object.defineProperty(G.Group.prototype,"angle",{get:function(){return G.Math.radToDeg(this.rotation)},set:function(t){this.rotation=G.Math.degToRad(t)}}),Object.defineProperty(G.Group.prototype,"centerX",{get:function(){return this.getBounds(this.parent).centerX},set:function(t){var e=this.getBounds(this.parent),i=this.x-e.x;this.x=t+i-e.halfWidth}}),Object.defineProperty(G.Group.prototype,"centerY",{get:function(){return this.getBounds(this.parent).centerY},set:function(t){var e=this.getBounds(this.parent),i=this.y-e.y;this.y=t+i-e.halfHeight}}),Object.defineProperty(G.Group.prototype,"left",{get:function(){return this.getBounds(this.parent).left},set:function(t){var e=this.getBounds(this.parent),e=this.x-e.x;this.x=t+e}}),Object.defineProperty(G.Group.prototype,"right",{get:function(){return this.getBounds(this.parent).right},set:function(t){var e=this.getBounds(this.parent),i=this.x-e.x;this.x=t+i-e.width}}),Object.defineProperty(G.Group.prototype,"top",{get:function(){return this.getBounds(this.parent).top},set:function(t){var e=this.getBounds(this.parent),e=this.y-e.y;this.y=t+e}}),Object.defineProperty(G.Group.prototype,"bottom",{get:function(){return this.getBounds(this.parent).bottom},set:function(t){var e=this.getBounds(this.parent),i=this.y-e.y;this.y=t+i-e.height}}),G.World=function(t){G.Group.call(this,t,null,"__world",!1),this.bounds=new G.Rectangle(0,0,t.width,t.height),this.camera=null,this._definedSize=!1,this._width=t.width,this._height=t.height,this.game.state.onStateChange.add(this.stateChange,this)},G.World.prototype=Object.create(G.Group.prototype),G.World.prototype.constructor=G.World,G.World.prototype.boot=function(){this.camera=new G.Camera(this.game,0,0,0,this.game.width,this.game.height),this.game.stage.addChild(this),this.camera.boot()},G.World.prototype.stateChange=function(){this.x=0,this.y=0,this.camera.reset()},G.World.prototype.setBounds=function(t,e,i,o){this._definedSize=!0,this._width=i,this._height=o,this.bounds.setTo(t,e,i,o),this.x=t,this.y=e,this.camera.bounds&&this.camera.bounds.setTo(t,e,Math.max(i,this.game.width),Math.max(o,this.game.height)),this.game.physics.setBoundsToWorld()},G.World.prototype.resize=function(t,e){this._definedSize&&(t<this._width&&(t=this._width),e<this._height&&(e=this._height)),this.bounds.width=t,this.bounds.height=e,this.game.camera.setBoundsToWorld(),this.game.physics.setBoundsToWorld()},G.World.prototype.shutdown=function(){this.destroy(!0,!0)},G.World.prototype.wrap=function(t,e,i,o,n){void 0===e&&(e=0),void 0===o&&(o=!0),void 0===n&&(n=!0),(i=void 0===i?!1:i)?(t.getBounds(),o&&(t.x+t._currentBounds.width<this.bounds.x?t.x=this.bounds.right:t.x>this.bounds.right&&(t.x=this.bounds.left)),n&&(t.y+t._currentBounds.height<this.bounds.top?t.y=this.bounds.bottom:t.y>this.bounds.bottom&&(t.y=this.bounds.top))):(o&&t.x+e<this.bounds.x?t.x=this.bounds.right+e:o&&t.x-e>this.bounds.right&&(t.x=this.bounds.left-e),n&&t.y+e<this.bounds.top?t.y=this.bounds.bottom+e:n&&t.y-e>this.bounds.bottom&&(t.y=this.bounds.top-e))},Object.defineProperty(G.World.prototype,"width",{get:function(){return this.bounds.width},set:function(t){t<this.game.width&&(t=this.game.width),this.bounds.width=t,this._width=t,this._definedSize=!0}}),Object.defineProperty(G.World.prototype,"height",{get:function(){return this.bounds.height},set:function(t){t<this.game.height&&(t=this.game.height),this.bounds.height=t,this._height=t,this._definedSize=!0}}),Object.defineProperty(G.World.prototype,"centerX",{get:function(){return this.bounds.halfWidth+this.bounds.x}}),Object.defineProperty(G.World.prototype,"centerY",{get:function(){return this.bounds.halfHeight+this.bounds.y}}),Object.defineProperty(G.World.prototype,"randomX",{get:function(){return this.bounds.x<0?this.game.rnd.between(this.bounds.x,this.bounds.width-Math.abs(this.bounds.x)):this.game.rnd.between(this.bounds.x,this.bounds.width)}}),Object.defineProperty(G.World.prototype,"randomY",{get:function(){return this.bounds.y<0?this.game.rnd.between(this.bounds.y,this.bounds.height-Math.abs(this.bounds.y)):this.game.rnd.between(this.bounds.y,this.bounds.height)}}),G.Game=function(t,e,i,o,n,s,r,c){return this.id=G.GAMES.push(this)-1,this.config=null,this.physicsConfig=c,this.parent="",this.width=800,this.height=600,this.resolution=1,this._width=800,this._height=600,this.transparent=!1,this.antialias=!0,this.preserveDrawingBuffer=!1,this.clearBeforeRender=!0,this.renderer=null,this.renderType=G.AUTO,this.state=null,this.isBooted=!1,this.isRunning=!1,this.raf=null,this.add=null,this.make=null,this.cache=null,this.input=null,this.load=null,this.math=null,this.net=null,this.scale=null,this.sound=null,this.stage=null,this.time=null,this.tweens=null,this.world=null,this.physics=null,this.plugins=null,this.rnd=null,this.device=G.Device,this.camera=null,this.canvas=null,this.context=null,this.debug=null,this.particles=null,this.create=null,this.lockRender=!1,this.stepping=!1,this.pendingStep=!1,this.stepCount=0,this.onPause=null,this.onResume=null,this.onBlur=null,this.onFocus=null,this._paused=!1,this._codePaused=!1,this.currentUpdateID=0,this.updatesThisFrame=1,this._deltaTime=0,this._lastCount=0,this._spiraling=0,this._kickstart=!0,this.fpsProblemNotifier=new G.Signal,this.forceSingleUpdate=!0,this._nextFpsNotification=0,1===arguments.length&&"object"==typeof t?this.parseConfig(t):(this.config={enableDebug:!0},void 0!==t&&(this._width=t),void 0!==e&&(this._height=e),void 0!==i&&(this.renderType=i),void 0!==o&&(this.parent=o),void 0!==s&&(this.transparent=s),void 0!==r&&(this.antialias=r),this.rnd=new G.RandomDataGenerator([(Date.now()*Math.random()).toString()]),this.state=new G.StateManager(this,n)),this.device.whenReady(this.boot,this),this},G.Game.prototype={parseConfig:function(t){void 0===(this.config=t).enableDebug&&(this.config.enableDebug=!0),t.width&&(this._width=t.width),t.height&&(this._height=t.height),t.renderer&&(this.renderType=t.renderer),t.parent&&(this.parent=t.parent),void 0!==t.transparent&&(this.transparent=t.transparent),void 0!==t.antialias&&(this.antialias=t.antialias),t.resolution&&(this.resolution=t.resolution),void 0!==t.preserveDrawingBuffer&&(this.preserveDrawingBuffer=t.preserveDrawingBuffer),t.physicsConfig&&(this.physicsConfig=t.physicsConfig);var e=[(Date.now()*Math.random()).toString()],e=(t.seed&&(e=t.seed),this.rnd=new G.RandomDataGenerator(e),null);t.state&&(e=t.state),this.state=new G.StateManager(this,e)},boot:function(){this.isBooted||(this.onPause=new G.Signal,this.onResume=new G.Signal,this.onBlur=new G.Signal,this.onFocus=new G.Signal,this.isBooted=!0,(PIXI.game=this).math=G.Math,this.scale=new G.ScaleManager(this,this._width,this._height),this.stage=new G.Stage(this),this.setUpRenderer(),this.world=new G.World(this),this.add=new G.GameObjectFactory(this),this.make=new G.GameObjectCreator(this),this.cache=new G.Cache(this),this.load=new G.Loader(this),this.time=new G.Time(this),this.tweens=new G.TweenManager(this),this.input=new G.Input(this),this.sound=new G.SoundManager(this),this.physics=new G.Physics(this,this.physicsConfig),this.particles=new G.Particles(this),this.create=new G.Create(this),this.plugins=new G.PluginManager(this),this.net=new G.Net(this),this.time.boot(),this.stage.boot(),this.world.boot(),this.scale.boot(),this.input.boot(),this.sound.boot(),this.state.boot(),this.config.enableDebug?(this.debug=new G.Utils.Debug(this),this.debug.boot()):this.debug={preUpdate:function(){},update:function(){},reset:function(){}},this.showDebugHeader(),this.isRunning=!0,this.config&&this.config.forceSetTimeOut?this.raf=new G.RequestAnimationFrame(this,this.config.forceSetTimeOut):this.raf=new G.RequestAnimationFrame(this,!1),this._kickstart=!0,window.focus&&(!window.PhaserGlobal||window.PhaserGlobal&&!window.PhaserGlobal.stopFocus)&&window.focus(),this.raf.start())},showDebugHeader:function(){if(!window.PhaserGlobal||!window.PhaserGlobal.hideBanner){var t=G.VERSION,e="Canvas",i="HTML Audio",o=1;if(this.renderType===G.WEBGL?(e="WebGL",o++):this.renderType===G.HEADLESS&&(e="Headless"),this.device.webAudio&&(i="WebAudio",o++),this.device.chrome)for(var n=["%c %c %c @azerion/phaser v"+t+" | Pixi.js | "+e+" | "+i+"  %c %c %c https://github.com/azerion / https://www.azerion.com %c%c%c","background: #7ab3eb","background: #378ce1","color: #ffffff; background: #207cd8;","background: #378ce1","background: #7ab3eb","background: #ffffff"],s=0;s<3;s++)s<o?n.push("color: #ff2424; background: #fff"):n.push("color: #959595; background: #fff");else window.console}},setUpRenderer:function(){if(this.config.canvas?this.canvas=this.config.canvas:this.canvas=G.Canvas.create(this,this.width,this.height,this.config.canvasID,!0),this.config.canvasStyle?this.canvas.style=this.config.canvasStyle:this.canvas.style["-webkit-full-screen"]="width: 100%; height: 100%",this.renderType===G.HEADLESS||this.renderType===G.CANVAS||this.renderType===G.AUTO&&!this.device.webGL){if(!this.device.canvas)throw new Error("Phaser.Game - Cannot create Canvas or WebGL context, aborting.");this.renderType=G.CANVAS,this.renderer=new PIXI.CanvasRenderer(this),this.context=this.renderer.context}else this.renderType=G.WEBGL,this.renderer=new PIXI.WebGLRenderer(this),this.context=null,this.canvas.addEventListener("webglcontextlost",this.contextLost.bind(this),!1),this.canvas.addEventListener("webglcontextrestored",this.contextRestored.bind(this),!1);this.device.cocoonJS&&(this.canvas.screencanvas=this.renderType===G.CANVAS),this.renderType!==G.HEADLESS&&(this.stage.smoothed=this.antialias,G.Canvas.addToDOM(this.canvas,this.parent,!1),G.Canvas.setTouchAction(this.canvas))},contextLost:function(t){t.preventDefault(),this.renderer.contextLost=!0},contextRestored:function(){this.renderer.initContext(),this.cache.clearGLTextures(),this.renderer.contextLost=!1},update:function(t){if(this.time.update(t),this._kickstart)return this.updateLogic(this.time.desiredFpsMult),this.updateRender(this.time.slowMotion*this.time.desiredFps),void(this._kickstart=!1);if(1<this._spiraling&&!this.forceSingleUpdate)this.time.time>this._nextFpsNotification&&(this._nextFpsNotification=this.time.time+1e4,this.fpsProblemNotifier.dispatch()),this._deltaTime=0,this._spiraling=0,this.updateRender(this.time.slowMotion*this.time.desiredFps);else{var e=1e3*this.time.slowMotion/this.time.desiredFps,i=(this._deltaTime+=Math.max(Math.min(3*e,this.time.elapsed),0),0);for(this.updatesThisFrame=Math.floor(this._deltaTime/e),this.forceSingleUpdate&&(this.updatesThisFrame=Math.min(1,this.updatesThisFrame));this._deltaTime>=e&&(this._deltaTime-=e,this.currentUpdateID=i,this.updateLogic(this.time.desiredFpsMult),i++,!this.forceSingleUpdate||1!==i);)this.time.refresh();i>this._lastCount?this._spiraling++:i<this._lastCount&&(this._spiraling=0),this._lastCount=i,this.updateRender(this._deltaTime/e)}},updateLogic:function(t){this._paused||this.pendingStep?(this.scale.pauseUpdate(),this.state.pauseUpdate(),this.debug.preUpdate()):(this.stepping&&(this.pendingStep=!0),this.scale.preUpdate(),this.debug.preUpdate(),this.camera.preUpdate(),this.physics.preUpdate(),this.state.preUpdate(t),this.plugins.preUpdate(t),this.stage.preUpdate(),this.state.update(),this.stage.update(),this.tweens.update(),this.sound.update(),this.input.update(),this.physics.update(),this.particles.update(),this.plugins.update(),this.stage.postUpdate(),this.plugins.postUpdate()),this.stage.updateTransform()},updateRender:function(t){this.lockRender||(this.state.preRender(t),this.renderType!==G.HEADLESS&&(this.renderer.render(this.stage),this.plugins.render(t),this.state.render(t)),this.plugins.postRender(t))},enableStep:function(){this.stepping=!0,this.pendingStep=!1,this.stepCount=0},disableStep:function(){this.stepping=!1,this.pendingStep=!1},step:function(){this.pendingStep=!1,this.stepCount++},destroy:function(){this.raf.stop(),this.state.destroy(),this.sound.destroy(),this.scale.destroy(),this.stage.destroy(),this.input.destroy(),this.physics.destroy(),this.plugins.destroy(),this.state=null,this.sound=null,this.scale=null,this.stage=null,this.input=null,this.physics=null,this.plugins=null,this.cache=null,this.load=null,this.time=null,this.world=null,this.isBooted=!1,this.renderer.destroy(!1),G.Canvas.removeFromDOM(this.canvas),PIXI.defaultRenderer=null,G.GAMES[this.id]=null},gamePaused:function(t){this._paused||(this._paused=!0,this.time.gamePaused(),this.sound.muteOnPause&&this.sound.setMute(),this.onPause.dispatch(t),this.device.cordova&&this.device.iOS&&(this.lockRender=!0))},gameResumed:function(t){this._paused&&!this._codePaused&&(this._paused=!1,this.time.gameResumed(),this.input.reset(),this.sound.muteOnPause&&this.sound.unsetMute(),this.onResume.dispatch(t),this.device.cordova&&this.device.iOS&&(this.lockRender=!1))},focusLoss:function(t){this.onBlur.dispatch(t),this.stage.disableVisibilityChange||this.gamePaused(t)},focusGain:function(t){this.onFocus.dispatch(t),this.stage.disableVisibilityChange||this.gameResumed(t)}},G.Game.prototype.constructor=G.Game,Object.defineProperty(G.Game.prototype,"paused",{get:function(){return this._paused},set:function(t){!0===t?(!1===this._paused&&(this._paused=!0,this.sound.setMute(),this.time.gamePaused(),this.onPause.dispatch(this)),this._codePaused=!0):(this._paused&&(this._paused=!1,this.input.reset(),this.sound.unsetMute(),this.time.gameResumed(),this.onResume.dispatch(this)),this._codePaused=!1)}}),G.Input=function(t){this.game=t,this.hitCanvas=null,this.hitContext=null,this.moveCallbacks=[],this.customCandidateHandler=null,this.customCandidateHandlerContext=null,this.pollRate=0,this.enabled=!0,this.multiInputOverride=G.Input.MOUSE_TOUCH_COMBINE,this.position=null,this.speed=null,this.circle=null,this.scale=null,this.maxPointers=-1,this.tapRate=200,this.doubleTapRate=300,this.holdRate=2e3,this.justPressedRate=200,this.justReleasedRate=200,this.recordPointerHistory=!1,this.recordRate=100,this.recordLimit=100,this.pointer1=null,this.pointer2=null,this.pointer3=null,this.pointer4=null,this.pointer5=null,this.pointer6=null,this.pointer7=null,this.pointer8=null,this.pointer9=null,this.pointer10=null,this.pointers=[],this.activePointer=null,this.mousePointer=null,this.mouse=null,this.keyboard=null,this.touch=null,this.mspointer=null,this.gamepad=null,this.resetLocked=!1,this.onDown=null,this.onUp=null,this.onTap=null,this.onHold=null,this.minPriorityID=0,this.interactiveItems=new G.ArraySet,this._localPoint=new G.Point,this._pollCounter=0,this._oldPosition=null,this._x=0,this._y=0},G.Input.MOUSE_OVERRIDES_TOUCH=0,G.Input.TOUCH_OVERRIDES_MOUSE=1,G.Input.MOUSE_TOUCH_COMBINE=2,G.Input.MAX_POINTERS=10,G.Input.prototype={boot:function(){this.mousePointer=new G.Pointer(this.game,0,G.PointerMode.CURSOR),this.addPointer(),this.addPointer(),this.mouse=new G.Mouse(this.game),this.touch=new G.Touch(this.game),this.mspointer=new G.MSPointer(this.game),G.Keyboard&&(this.keyboard=new G.Keyboard(this.game)),G.Gamepad&&(this.gamepad=new G.Gamepad(this.game)),this.onDown=new G.Signal,this.onUp=new G.Signal,this.onTap=new G.Signal,this.onHold=new G.Signal,this.scale=new G.Point(1,1),this.speed=new G.Point,this.position=new G.Point,this._oldPosition=new G.Point,this.circle=new G.Circle(0,0,45),this.activePointer=this.mousePointer,this.hitCanvas=PIXI.CanvasPool.create(this,1,1),this.hitContext=this.hitCanvas.getContext("2d"),this.game.device.mspointer?this.mspointer.start():this.game.device.touch&&this.touch.start(),this.mspointer.active||this.mouse.start(),this.mousePointer.active=!0,this.keyboard&&this.keyboard.start();var e=this;this._onClickTrampoline=function(t){e.onClickTrampoline(t)},this.game.canvas.addEventListener("click",this._onClickTrampoline,!1)},destroy:function(){this.mouse.stop(),this.touch.stop(),this.mspointer.stop(),this.keyboard&&this.keyboard.stop(),this.gamepad&&this.gamepad.stop(),this.moveCallbacks=[],PIXI.CanvasPool.remove(this),this.game.canvas.removeEventListener("click",this._onClickTrampoline)},setInteractiveCandidateHandler:function(t,e){this.customCandidateHandler=t,this.customCandidateHandlerContext=e},addMoveCallback:function(t,e){this.moveCallbacks.push({callback:t,context:e})},deleteMoveCallback:function(t,e){for(var i=this.moveCallbacks.length;i--;)if(this.moveCallbacks[i].callback===t&&this.moveCallbacks[i].context===e)return void this.moveCallbacks.splice(i,1)},addPointer:function(){if(this.pointers.length>=G.Input.MAX_POINTERS)return null;var t=this.pointers.length+1,e=new G.Pointer(this.game,t,G.PointerMode.TOUCH);return this.pointers.push(e),this["pointer"+t]=e},update:function(){if(this.keyboard&&this.keyboard.update(),0<this.pollRate&&this._pollCounter<this.pollRate)this._pollCounter++;else{this.speed.x=this.position.x-this._oldPosition.x,this.speed.y=this.position.y-this._oldPosition.y,this._oldPosition.copyFrom(this.position),this.mousePointer.update(),this.gamepad&&this.gamepad.active&&this.gamepad.update();for(var t=0;t<this.pointers.length;t++)this.pointers[t].update();this._pollCounter=0}},reset:function(t){if(this.game.isBooted&&!this.resetLocked){void 0===t&&(t=!1),this.mousePointer.reset(),this.keyboard&&this.keyboard.reset(t),this.gamepad&&this.gamepad.reset();for(var e=0;e<this.pointers.length;e++)this.pointers[e].reset();"none"!==this.game.canvas.style.cursor&&(this.game.canvas.style.cursor="inherit"),t&&(this.onDown.dispose(),this.onUp.dispose(),this.onTap.dispose(),this.onHold.dispose(),this.onDown=new G.Signal,this.onUp=new G.Signal,this.onTap=new G.Signal,this.onHold=new G.Signal,this.moveCallbacks=[]),this._pollCounter=0}},resetSpeed:function(t,e){this._oldPosition.setTo(t,e),this.speed.setTo(0,0)},startPointer:function(t){if(0<=this.maxPointers&&this.countActivePointers(this.maxPointers)>=this.maxPointers)return null;if(!this.pointer1.active)return this.pointer1.start(t);if(!this.pointer2.active)return this.pointer2.start(t);for(var e=2;e<this.pointers.length;e++){var i=this.pointers[e];if(!i.active)return i.start(t)}return null},updatePointer:function(t){if(this.pointer1.active&&this.pointer1.identifier===t.identifier)return this.pointer1.move(t);if(this.pointer2.active&&this.pointer2.identifier===t.identifier)return this.pointer2.move(t);for(var e=2;e<this.pointers.length;e++){var i=this.pointers[e];if(i.active&&i.identifier===t.identifier)return i.move(t)}return null},stopPointer:function(t){if(this.pointer1.active&&this.pointer1.identifier===t.identifier)return this.pointer1.stop(t);if(this.pointer2.active&&this.pointer2.identifier===t.identifier)return this.pointer2.stop(t);for(var e=2;e<this.pointers.length;e++){var i=this.pointers[e];if(i.active&&i.identifier===t.identifier)return i.stop(t)}return null},countActivePointers:function(t){for(var e=t=void 0===t?this.pointers.length:t,i=0;i<this.pointers.length&&0<e;i++)this.pointers[i].active&&e--;return t-e},getPointer:function(t){void 0===t&&(t=!1);for(var e=0;e<this.pointers.length;e++){var i=this.pointers[e];if(i.active===t)return i}return null},getPointerFromIdentifier:function(t){for(var e=0;e<this.pointers.length;e++){var i=this.pointers[e];if(i.identifier===t)return i}return null},getPointerFromId:function(t){for(var e=0;e<this.pointers.length;e++){var i=this.pointers[e];if(i.pointerId===t)return i}return null},getLocalPosition:function(t,e,i){void 0===i&&(i=new G.Point);var t=t.worldTransform,o=1/(t.a*t.d+t.c*-t.b);return i.setTo(t.d*o*e.x+-t.c*o*e.y+(t.ty*t.c-t.tx*t.d)*o,t.a*o*e.y+-t.b*o*e.x+(-t.ty*t.a+t.tx*t.b)*o)},hitTest:function(t,e,i){if(!t.worldVisible)return!1;if(this.getLocalPosition(t,e,this._localPoint),i.copyFrom(this._localPoint),t.hitArea&&t.hitArea.contains)return t.hitArea.contains(this._localPoint.x,this._localPoint.y);if(t instanceof G.TileSprite){var o=t.width,n=t.height,s=-o*t.anchor.x;if(this._localPoint.x>=s&&this._localPoint.x<s+o){var r=-n*t.anchor.y;if(this._localPoint.y>=r&&this._localPoint.y<r+n)return!0}}else if(t instanceof PIXI.Sprite){o=t.texture.frame.width,n=t.texture.frame.height,s=-o*t.anchor.x;if(this._localPoint.x>=s&&this._localPoint.x<s+o){r=-n*t.anchor.y;if(this._localPoint.y>=r&&this._localPoint.y<r+n)return!0}}else if(G.Graphics&&t instanceof G.Graphics)for(var c=0;c<t.graphicsData.length;c++){var a=t.graphicsData[c];if(a.fill&&a.shape&&a.shape.contains(this._localPoint.x,this._localPoint.y))return!0}for(c=0;c<t.children.length;c++)if(this.hitTest(t.children[c],e,i))return!0;return!1},onClickTrampoline:function(){this.activePointer.processClickTrampolines()}},G.Input.prototype.constructor=G.Input,Object.defineProperty(G.Input.prototype,"x",{get:function(){return this._x},set:function(t){this._x=Math.floor(t)}}),Object.defineProperty(G.Input.prototype,"y",{get:function(){return this._y},set:function(t){this._y=Math.floor(t)}}),Object.defineProperty(G.Input.prototype,"pollLocked",{get:function(){return 0<this.pollRate&&this._pollCounter<this.pollRate}}),Object.defineProperty(G.Input.prototype,"totalInactivePointers",{get:function(){return this.pointers.length-this.countActivePointers()}}),Object.defineProperty(G.Input.prototype,"totalActivePointers",{get:function(){return this.countActivePointers()}}),Object.defineProperty(G.Input.prototype,"worldX",{get:function(){return this.game.camera.view.x+this.x}}),Object.defineProperty(G.Input.prototype,"worldY",{get:function(){return this.game.camera.view.y+this.y}}),G.Mouse=function(t){this.game=t,this.input=t.input,this.callbackContext=this.game,this.mouseDownCallback=null,this.mouseUpCallback=null,this.mouseOutCallback=null,this.mouseOverCallback=null,this.mouseWheelCallback=null,this.capture=!1,this.button=-1,this.wheelDelta=0,this.enabled=!0,this.locked=!1,this.stopOnGameOut=!1,this.pointerLock=new G.Signal,this.event=null,this._onMouseDown=null,this._onMouseMove=null,this._onMouseUp=null,this._onMouseOut=null,this._onMouseOver=null,this._onMouseWheel=null,this._wheelEvent=null},G.Mouse.NO_BUTTON=-1,G.Mouse.LEFT_BUTTON=0,G.Mouse.MIDDLE_BUTTON=1,G.Mouse.RIGHT_BUTTON=2,G.Mouse.BACK_BUTTON=3,G.Mouse.FORWARD_BUTTON=4,G.Mouse.WHEEL_UP=1,G.Mouse.WHEEL_DOWN=-1,G.Mouse.prototype={start:function(){var e,t,i;this.game.device.android&&!1===this.game.device.chrome||null!==this._onMouseDown||((e=this)._onMouseDown=function(t){return e.onMouseDown(t)},this._onMouseMove=function(t){return e.onMouseMove(t)},this._onMouseUp=function(t){return e.onMouseUp(t)},this._onMouseUpGlobal=function(t){return e.onMouseUpGlobal(t)},this._onMouseOutGlobal=function(t){return e.onMouseOutGlobal(t)},this._onMouseOut=function(t){return e.onMouseOut(t)},this._onMouseOver=function(t){return e.onMouseOver(t)},this._onMouseWheel=function(t){return e.onMouseWheel(t)},(t=this.game.canvas).addEventListener("mousedown",this._onMouseDown,!0),t.addEventListener("mousemove",this._onMouseMove,!0),t.addEventListener("mouseup",this._onMouseUp,!0),this.game.device.cocoonJS||(window.addEventListener("mouseup",this._onMouseUpGlobal,!0),window.addEventListener("mouseout",this._onMouseOutGlobal,!0),t.addEventListener("mouseover",this._onMouseOver,!0),t.addEventListener("mouseout",this._onMouseOut,!0)),(i=this.game.device.wheelEvent)&&(t.addEventListener(i,this._onMouseWheel,!0),"mousewheel"===i?this._wheelEvent=new o(-.025,1):"DOMMouseScroll"===i&&(this._wheelEvent=new o(1,1))))},onMouseDown:function(t){this.event=t,this.capture&&t.preventDefault(),this.mouseDownCallback&&this.mouseDownCallback.call(this.callbackContext,t),this.input.enabled&&this.enabled&&(t.identifier=0,this.input.mousePointer.start(t))},onMouseMove:function(t){this.event=t,this.capture&&t.preventDefault(),this.mouseMoveCallback&&this.mouseMoveCallback.call(this.callbackContext,t),this.input.enabled&&this.enabled&&(t.identifier=0,this.input.mousePointer.move(t))},onMouseUp:function(t){this.event=t,this.capture&&t.preventDefault(),this.mouseUpCallback&&this.mouseUpCallback.call(this.callbackContext,t),this.input.enabled&&this.enabled&&(t.identifier=0,this.input.mousePointer.stop(t))},onMouseUpGlobal:function(t){this.input.mousePointer.withinGame||(this.mouseUpCallback&&this.mouseUpCallback.call(this.callbackContext,t),t.identifier=0,this.input.mousePointer.stop(t))},onMouseOutGlobal:function(t){this.event=t,this.capture&&t.preventDefault(),this.input.mousePointer.withinGame=!1,this.input.enabled&&this.enabled&&(this.input.mousePointer.stop(t),this.input.mousePointer.leftButton.stop(t),this.input.mousePointer.rightButton.stop(t))},onMouseOut:function(t){this.event=t,this.capture&&t.preventDefault(),this.input.mousePointer.withinGame=!1,this.mouseOutCallback&&this.mouseOutCallback.call(this.callbackContext,t),this.input.enabled&&this.enabled&&this.stopOnGameOut&&(t.identifier=0,this.input.mousePointer.stop(t))},onMouseOver:function(t){this.event=t,this.capture&&t.preventDefault(),this.input.mousePointer.withinGame=!0,this.mouseOverCallback&&this.mouseOverCallback.call(this.callbackContext,t)},onMouseWheel:function(t){this._wheelEvent&&(t=this._wheelEvent.bindEvent(t)),this.event=t,this.capture&&t.preventDefault(),this.wheelDelta=G.Math.clamp(-t.deltaY,-1,1),this.mouseWheelCallback&&this.mouseWheelCallback.call(this.callbackContext,t)},requestPointerLock:function(){var t,e;this.game.device.pointerLock&&((t=this.game.canvas).requestPointerLock=t.requestPointerLock||t.mozRequestPointerLock||t.webkitRequestPointerLock,t.requestPointerLock(),(e=this)._pointerLockChange=function(t){return e.pointerLockChange(t)},document.addEventListener("pointerlockchange",this._pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this._pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",this._pointerLockChange,!0))},pointerLockChange:function(t){var e=this.game.canvas;document.pointerLockElement===e||document.mozPointerLockElement===e||document.webkitPointerLockElement===e?(this.locked=!0,this.pointerLock.dispatch(!0,t)):(this.locked=!1,this.pointerLock.dispatch(!1,t))},releasePointerLock:function(){document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock(),document.removeEventListener("pointerlockchange",this._pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this._pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this._pointerLockChange,!0)},stop:function(){var t=this.game.canvas,e=(t.removeEventListener("mousedown",this._onMouseDown,!0),t.removeEventListener("mousemove",this._onMouseMove,!0),t.removeEventListener("mouseup",this._onMouseUp,!0),t.removeEventListener("mouseover",this._onMouseOver,!0),t.removeEventListener("mouseout",this._onMouseOut,!0),this.game.device.wheelEvent);e&&t.removeEventListener(e,this._onMouseWheel,!0),window.removeEventListener("mouseup",this._onMouseUpGlobal,!0),window.removeEventListener("mouseout",this._onMouseOutGlobal,!0),document.removeEventListener("pointerlockchange",this._pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this._pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this._pointerLockChange,!0)}},G.Mouse.prototype.constructor=G.Mouse,((o.prototype={}).constructor=o).prototype.bindEvent=function(t){if(!o._stubsGenerated&&t){for(var e in t)e in o.prototype||Object.defineProperty(o.prototype,e,{get:function(e){return function(){var t=this.originalEvent[e];return"function"!=typeof t?t:t.bind(this.originalEvent)}}(e)});o._stubsGenerated=!0}return this.originalEvent=t,this},Object.defineProperties(o.prototype,{type:{value:"wheel"},deltaMode:{get:function(){return this._deltaMode}},deltaY:{get:function(){return this._scaleFactor*(this.originalEvent.wheelDelta||this.originalEvent.detail)||0}},deltaX:{get:function(){return this._scaleFactor*this.originalEvent.wheelDeltaX||0}},deltaZ:{value:0}}),G.MSPointer=function(t){this.game=t,this.input=t.input,this.callbackContext=this.game,this.pointerDownCallback=null,this.pointerMoveCallback=null,this.pointerUpCallback=null,this.capture=!1,this.event=null,this.active=!1,this.enabled=!0,this._onMSPointerDown=null,this._onMSPointerMove=null,this._onMSPointerUp=null,this._onMSPointerUpGlobal=null,this._onMSPointerOut=null,this._onMSPointerOver=null},G.MSPointer.prototype={start:function(){if(!this.game.device.mspointer)return!1;if(null!==this._onMSPointerDown)return!1;var e=this,t=(this._onMSPointerDown=function(t){return e.onPointerDown(t)},this._onMSPointerMove=function(t){return e.onPointerMove(t)},this._onMSPointerUp=function(t){return e.onPointerUp(t)},this._onMSPointerUpGlobal=function(t){return e.onPointerUpGlobal(t)},this._onMSPointerOut=function(t){return e.onPointerOut(t)},this._onMSPointerOver=function(t){return e.onPointerOver(t)},this.game.canvas);return t.addEventListener("MSPointerDown",this._onMSPointerDown,!1),t.addEventListener("MSPointerMove",this._onMSPointerMove,!1),t.addEventListener("MSPointerUp",this._onMSPointerUp,!1),t.addEventListener("pointerdown",this._onMSPointerDown,!1),t.addEventListener("pointermove",this._onMSPointerMove,!1),t.addEventListener("pointerup",this._onMSPointerUp,!1),t.style["-ms-content-zooming"]="none",t.style["-ms-touch-action"]="none",this.game.device.cocoonJS||(window.addEventListener("MSPointerUp",this._onMSPointerUpGlobal,!0),t.addEventListener("MSPointerOver",this._onMSPointerOver,!0),t.addEventListener("MSPointerOut",this._onMSPointerOut,!0),window.addEventListener("pointerup",this._onMSPointerUpGlobal,!0),t.addEventListener("pointerover",this._onMSPointerOver,!0),t.addEventListener("pointerout",this._onMSPointerOut,!0)),this.active=!0},onPointerDown:function(t){this.event=t,this.capture&&t.preventDefault(),this.pointerDownCallback&&this.pointerDownCallback.call(this.callbackContext,t),this.input.enabled&&this.enabled&&(t.identifier=t.pointerId,"mouse"===t.pointerType||4===t.pointerType?this.input.mousePointer.start(t):this.input.startPointer(t))},onPointerMove:function(t){this.event=t,this.capture&&t.preventDefault(),this.pointerMoveCallback&&this.pointerMoveCallback.call(this.callbackContext,t),this.input.enabled&&this.enabled&&(t.identifier=t.pointerId,"mouse"===t.pointerType||4===t.pointerType?this.input.mousePointer.move(t):this.input.updatePointer(t))},onPointerUp:function(t){this.event=t,this.capture&&t.preventDefault(),this.pointerUpCallback&&this.pointerUpCallback.call(this.callbackContext,t),this.input.enabled&&this.enabled&&(t.identifier=t.pointerId,"mouse"===t.pointerType||4===t.pointerType?this.input.mousePointer.stop(t):this.input.stopPointer(t))},onPointerUpGlobal:function(t){var e;(!("mouse"!==t.pointerType&&4!==t.pointerType||this.input.mousePointer.withinGame)||(e=this.input.getPointerFromIdentifier(t.identifier))&&e.withinGame)&&this.onPointerUp(t)},onPointerOut:function(t){var e;this.event=t,this.capture&&t.preventDefault(),"mouse"===t.pointerType||4===t.pointerType?this.input.mousePointer.withinGame=!1:(e=this.input.getPointerFromIdentifier(t.identifier))&&(e.withinGame=!1),this.input.mouse.mouseOutCallback&&this.input.mouse.mouseOutCallback.call(this.input.mouse.callbackContext,t),this.input.enabled&&this.enabled&&this.input.mouse.stopOnGameOut&&(t.identifier=0,(e||this.input.mousePointer).stop(t))},onPointerOver:function(t){var e;this.event=t,this.capture&&t.preventDefault(),"mouse"===t.pointerType||4===t.pointerType?this.input.mousePointer.withinGame=!0:(e=this.input.getPointerFromIdentifier(t.identifier))&&(e.withinGame=!0),this.input.mouse.mouseOverCallback&&this.input.mouse.mouseOverCallback.call(this.input.mouse.callbackContext,t)},stop:function(){var t=this.game.canvas;t.removeEventListener("MSPointerDown",this._onMSPointerDown,!1),t.removeEventListener("MSPointerMove",this._onMSPointerMove,!1),t.removeEventListener("MSPointerUp",this._onMSPointerUp,!1),t.removeEventListener("pointerdown",this._onMSPointerDown,!1),t.removeEventListener("pointermove",this._onMSPointerMove,!1),t.removeEventListener("pointerup",this._onMSPointerUp,!1),window.removeEventListener("MSPointerUp",this._onMSPointerUpGlobal,!0),t.removeEventListener("MSPointerOver",this._onMSPointerOver,!0),t.removeEventListener("MSPointerOut",this._onMSPointerOut,!0),window.removeEventListener("pointerup",this._onMSPointerUpGlobal,!0),t.removeEventListener("pointerover",this._onMSPointerOver,!0),t.removeEventListener("pointerout",this._onMSPointerOut,!0),this.active=!1}},G.MSPointer.prototype.constructor=G.MSPointer,G.DeviceButton=function(t,e){this.parent=t,this.game=t.game,this.event=null,this.isDown=!1,this.isUp=!0,this.timeDown=0,this.timeUp=0,this.repeats=0,this.altKey=!1,this.shiftKey=!1,this.ctrlKey=!1,this.value=0,this.buttonCode=e,this.onDown=new G.Signal,this.onUp=new G.Signal,this.onFloat=new G.Signal},G.DeviceButton.prototype={start:function(t,e){this.isDown||(this.isDown=!0,this.isUp=!1,this.timeDown=this.game.time.time,this.repeats=0,this.event=t,this.value=e,t&&(this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.ctrlKey=t.ctrlKey),this.onDown.dispatch(this,e))},stop:function(t,e){this.isUp||(this.isDown=!1,this.isUp=!0,this.timeUp=this.game.time.time,this.event=t,this.value=e,t&&(this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.ctrlKey=t.ctrlKey),this.onUp.dispatch(this,e))},padFloat:function(t){this.value=t,this.onFloat.dispatch(this,t)},justPressed:function(t){return t=t||250,this.isDown&&this.timeDown+t>this.game.time.time},justReleased:function(t){return t=t||250,this.isUp&&this.timeUp+t>this.game.time.time},reset:function(){this.isDown=!1,this.isUp=!0,this.timeDown=this.game.time.time,this.repeats=0,this.altKey=!1,this.shiftKey=!1,this.ctrlKey=!1},destroy:function(){this.onDown.dispose(),this.onUp.dispose(),this.onFloat.dispose(),this.parent=null,this.game=null}},G.DeviceButton.prototype.constructor=G.DeviceButton,Object.defineProperty(G.DeviceButton.prototype,"duration",{get:function(){return this.isUp?-1:this.game.time.time-this.timeDown}}),G.Pointer=function(t,e,i){this.game=t,this.id=e,this.type=G.POINTER,this.exists=!0,this.identifier=0,this.pointerId=null,this.pointerMode=i||G.PointerMode.CURSOR|G.PointerMode.CONTACT,this.target=null,this.button=null,this.leftButton=new G.DeviceButton(this,G.Pointer.LEFT_BUTTON),this.middleButton=new G.DeviceButton(this,G.Pointer.MIDDLE_BUTTON),this.rightButton=new G.DeviceButton(this,G.Pointer.RIGHT_BUTTON),this.backButton=new G.DeviceButton(this,G.Pointer.BACK_BUTTON),this.forwardButton=new G.DeviceButton(this,G.Pointer.FORWARD_BUTTON),this.eraserButton=new G.DeviceButton(this,G.Pointer.ERASER_BUTTON),this._holdSent=!1,this._history=[],this._nextDrop=0,this._stateReset=!1,this.withinGame=!1,this.clientX=-1,this.clientY=-1,this.pageX=-1,this.pageY=-1,this.screenX=-1,this.screenY=-1,this.rawMovementX=0,this.rawMovementY=0,this.movementX=0,this.movementY=0,this.x=-1,this.y=-1,this.isMouse=0===e,this.isDown=!1,this.isUp=!0,this.timeDown=0,this.timeUp=0,this.previousTapTime=0,this.totalTouches=0,this.msSinceLastClick=Number.MAX_VALUE,this.targetObject=null,this.interactiveCandidates=[],this.active=!1,this.dirty=!1,this.position=new G.Point,this.positionDown=new G.Point,this.positionUp=new G.Point,this.circle=new G.Circle(0,0,44),this._clickTrampolines=null,this._trampolineTargetObject=null},G.Pointer.NO_BUTTON=0,G.Pointer.LEFT_BUTTON=1,G.Pointer.RIGHT_BUTTON=2,G.Pointer.MIDDLE_BUTTON=4,G.Pointer.BACK_BUTTON=8,G.Pointer.FORWARD_BUTTON=16,G.Pointer.ERASER_BUTTON=32,G.Pointer.prototype={resetButtons:function(){this.isDown=!1,this.isUp=!0,this.isMouse&&(this.leftButton.reset(),this.middleButton.reset(),this.rightButton.reset(),this.backButton.reset(),this.forwardButton.reset(),this.eraserButton.reset())},processButtonsDown:function(t,e){G.Pointer.LEFT_BUTTON&t&&this.leftButton.start(e),G.Pointer.RIGHT_BUTTON&t&&this.rightButton.start(e),G.Pointer.MIDDLE_BUTTON&t&&this.middleButton.start(e),G.Pointer.BACK_BUTTON&t&&this.backButton.start(e),G.Pointer.FORWARD_BUTTON&t&&this.forwardButton.start(e),G.Pointer.ERASER_BUTTON&t&&this.eraserButton.start(e)},processButtonsUp:function(t,e){t===G.Mouse.LEFT_BUTTON&&this.leftButton.stop(e),t===G.Mouse.RIGHT_BUTTON&&this.rightButton.stop(e),t===G.Mouse.MIDDLE_BUTTON&&this.middleButton.stop(e),t===G.Mouse.BACK_BUTTON&&this.backButton.stop(e),t===G.Mouse.FORWARD_BUTTON&&this.forwardButton.stop(e),5===t&&this.eraserButton.stop(e)},updateButtons:function(t){this.button=t.button;var e="down"===t.type.toLowerCase().substr(-4);void 0!==t.buttons?e?this.processButtonsDown(t.buttons,t):this.processButtonsUp(t.button,t):e?this.leftButton.start(t):(this.leftButton.stop(t),this.rightButton.stop(t)),1===t.buttons&&t.ctrlKey&&this.leftButton.isDown&&(this.leftButton.stop(t),this.rightButton.start(t)),this.isUp=!0,this.isDown=!1,(this.leftButton.isDown||this.rightButton.isDown||this.middleButton.isDown||this.backButton.isDown||this.forwardButton.isDown||this.eraserButton.isDown)&&(this.isUp=!1,this.isDown=!0)},start:function(t){var e=this.game.input;return t.pointerId&&(this.pointerId=t.pointerId),this.identifier=t.identifier,this.target=t.target,this.isMouse?this.updateButtons(t):(this.isDown=!0,this.isUp=!1),this.active=!0,this.withinGame=!0,this.dirty=!1,this._history=[],this._clickTrampolines=null,this._trampolineTargetObject=null,this.msSinceLastClick=this.game.time.time-this.timeDown,this.timeDown=this.game.time.time,this._holdSent=!1,this.move(t,!0),this.positionDown.setTo(this.x,this.y),(e.multiInputOverride===G.Input.MOUSE_OVERRIDES_TOUCH||e.multiInputOverride===G.Input.MOUSE_TOUCH_COMBINE||e.multiInputOverride===G.Input.TOUCH_OVERRIDES_MOUSE&&0===e.totalActivePointers)&&(e.x=this.x,e.y=this.y,e.position.setTo(this.x,this.y),e.onDown.dispatch(this,t),e.resetSpeed(this.x,this.y)),this._stateReset=!1,this.totalTouches++,null!==this.targetObject&&this.targetObject._touchedHandler(this),this},update:function(){var t=this.game.input;this.active&&(this.dirty&&(0<t.interactiveItems.total&&this.processInteractiveObjects(!1),this.dirty=!1),!1===this._holdSent&&this.duration>=t.holdRate&&((t.multiInputOverride===G.Input.MOUSE_OVERRIDES_TOUCH||t.multiInputOverride===G.Input.MOUSE_TOUCH_COMBINE||t.multiInputOverride===G.Input.TOUCH_OVERRIDES_MOUSE&&0===t.totalActivePointers)&&t.onHold.dispatch(this),this._holdSent=!0),t.recordPointerHistory&&this.game.time.time>=this._nextDrop&&(this._nextDrop=this.game.time.time+t.recordRate,this._history.push({x:this.position.x,y:this.position.y}),this._history.length>t.recordLimit&&this._history.shift()))},move:function(t,e){var i=this.game.input;if(!i.pollLocked){void 0===e&&(e=!1),void 0!==t.button&&(this.button=t.button),e&&this.isMouse&&this.updateButtons(t),this.clientX=t.clientX,this.clientY=t.clientY,this.pageX=t.pageX,this.pageY=t.pageY,this.screenX=t.screenX,this.screenY=t.screenY,this.isMouse&&i.mouse.locked&&!e&&(this.rawMovementX=t.movementX||t.mozMovementX||t.webkitMovementX||0,this.rawMovementY=t.movementY||t.mozMovementY||t.webkitMovementY||0,this.movementX+=this.rawMovementX,this.movementY+=this.rawMovementY),this.x=(this.pageX-this.game.scale.offset.x)*i.scale.x,this.y=(this.pageY-this.game.scale.offset.y)*i.scale.y,this.position.setTo(this.x,this.y),this.circle.x=this.x,this.circle.y=this.y,(i.multiInputOverride===G.Input.MOUSE_OVERRIDES_TOUCH||i.multiInputOverride===G.Input.MOUSE_TOUCH_COMBINE||i.multiInputOverride===G.Input.TOUCH_OVERRIDES_MOUSE&&0===i.totalActivePointers)&&(i.activePointer=this,i.x=this.x,i.y=this.y,i.position.setTo(i.x,i.y),i.circle.x=i.x,i.circle.y=i.y),this.withinGame=this.game.scale.bounds.contains(this.pageX,this.pageY);for(var o=i.moveCallbacks.length;o--;)i.moveCallbacks[o].callback.call(i.moveCallbacks[o].context,this,this.x,this.y,e);return null!==this.targetObject&&!0===this.targetObject.isDragged?!1===this.targetObject.update(this)&&(this.targetObject=null):0<i.interactiveItems.total&&this.processInteractiveObjects(e),this}},processInteractiveObjects:function(t){var e=0,i=-1,o=null,n=this.game.input.interactiveItems.first;for(this.interactiveCandidates=[];n;)n.checked=!1,n.validForInput(i,e,!1)&&(n.checked=!0,(t&&n.checkPointerDown(this,!0)||!t&&n.checkPointerOver(this,!0))&&(e=n.sprite.renderOrderID,i=n.priorityID,o=n,this.interactiveCandidates.push(n))),n=this.game.input.interactiveItems.next;for(n=this.game.input.interactiveItems.first;n;)!n.checked&&n.validForInput(i,e,!0)&&(t&&n.checkPointerDown(this,!1)||!t&&n.checkPointerOver(this,!1))&&(e=n.sprite.renderOrderID,i=n.priorityID,o=n,this.interactiveCandidates.push(n)),n=this.game.input.interactiveItems.next;return this.game.input.customCandidateHandler&&(o=this.game.input.customCandidateHandler.call(this.game.input.customCandidateHandlerContext,this,this.interactiveCandidates,o)),this.swapTarget(o,!1),null!==this.targetObject},swapTarget:function(t,e){void 0===e&&(e=!1),null===t?this.targetObject&&(this.targetObject._pointerOutHandler(this,e),this.targetObject=null):null===this.targetObject?(this.targetObject=t)._pointerOverHandler(this,e):this.targetObject===t?!1===t.update(this)&&(this.targetObject=null):(this.targetObject._pointerOutHandler(this,e),this.targetObject=t,this.targetObject._pointerOverHandler(this,e))},leave:function(t){this.withinGame=!1,this.move(t,!1)},stop:function(t){var e=this.game.input;return this._stateReset&&this.withinGame?void t.preventDefault():(this.timeUp=this.game.time.time,(e.multiInputOverride===G.Input.MOUSE_OVERRIDES_TOUCH||e.multiInputOverride===G.Input.MOUSE_TOUCH_COMBINE||e.multiInputOverride===G.Input.TOUCH_OVERRIDES_MOUSE&&0===e.totalActivePointers)&&(e.onUp.dispatch(this,t),0<=this.duration&&this.duration<=e.tapRate&&(this.timeUp-this.previousTapTime<e.doubleTapRate?e.onTap.dispatch(this,!0):e.onTap.dispatch(this,!1),this.previousTapTime=this.timeUp)),this.isMouse?this.updateButtons(t):(this.isDown=!1,this.isUp=!0),0<this.id&&(this.active=!1),this.withinGame=this.game.scale.bounds.contains(t.pageX,t.pageY),this.pointerId=null,this.identifier=null,this.positionUp.setTo(this.x,this.y),!1===this.isMouse&&e.currentPointers--,e.interactiveItems.callAll("_releasedHandler",this),this._clickTrampolines&&(this._trampolineTargetObject=this.targetObject),this.targetObject=null,this)},justPressed:function(t){return t=t||this.game.input.justPressedRate,!0===this.isDown&&this.timeDown+t>this.game.time.time},justReleased:function(t){return t=t||this.game.input.justReleasedRate,this.isUp&&this.timeUp+t>this.game.time.time},addClickTrampoline:function(t,e,i,o){if(this.isDown){for(var n=this._clickTrampolines=this._clickTrampolines||[],s=0;s<n.length;s++)if(n[s].name===t){n.splice(s,1);break}n.push({name:t,targetObject:this.targetObject,callback:e,callbackContext:i,callbackArgs:o})}},processClickTrampolines:function(){var t=this._clickTrampolines;if(t){for(var e=0;e<t.length;e++){var i=t[e];i.targetObject===this._trampolineTargetObject&&i.callback.apply(i.callbackContext,i.callbackArgs)}this._clickTrampolines=null,this._trampolineTargetObject=null}},reset:function(){!1===this.isMouse&&(this.active=!1),this.pointerId=null,this.identifier=null,this.dirty=!1,this.totalTouches=0,this._holdSent=!1,this._history.length=0,this._stateReset=!0,this.resetButtons(),this.targetObject&&this.targetObject._releasedHandler(this),this.targetObject=null},resetMovement:function(){this.movementX=0,this.movementY=0}},G.Pointer.prototype.constructor=G.Pointer,Object.defineProperty(G.Pointer.prototype,"duration",{get:function(){return this.isUp?-1:this.game.time.time-this.timeDown}}),Object.defineProperty(G.Pointer.prototype,"worldX",{get:function(){return this.game.world.camera.x+this.x}}),Object.defineProperty(G.Pointer.prototype,"worldY",{get:function(){return this.game.world.camera.y+this.y}}),G.PointerMode={CURSOR:1,CONTACT:2},G.Touch=function(t){this.game=t,this.enabled=!0,this.touchLockCallbacks=[],this.callbackContext=this.game,this.touchStartCallback=null,this.touchMoveCallback=null,this.touchEndCallback=null,this.touchEnterCallback=null,this.touchLeaveCallback=null,this.touchCancelCallback=null,this.preventDefault=!0,this.event=null,this._onTouchStart=null,this._onTouchMove=null,this._onTouchEnd=null,this._onTouchEnter=null,this._onTouchLeave=null,this._onTouchCancel=null,this._onTouchMove=null},G.Touch.prototype={start:function(){var e;null===this._onTouchStart&&(e=this).game.device.touch&&(this._onTouchStart=function(t){return e.onTouchStart(t)},this._onTouchMove=function(t){return e.onTouchMove(t)},this._onTouchEnd=function(t){return e.onTouchEnd(t)},this._onTouchEnter=function(t){return e.onTouchEnter(t)},this._onTouchLeave=function(t){return e.onTouchLeave(t)},this._onTouchCancel=function(t){return e.onTouchCancel(t)},this.game.canvas.addEventListener("touchstart",this._onTouchStart,!1),this.game.canvas.addEventListener("touchmove",this._onTouchMove,!1),this.game.canvas.addEventListener("touchend",this._onTouchEnd,!1),this.game.canvas.addEventListener("touchcancel",this._onTouchCancel,!1),this.game.device.cocoonJS||(this.game.canvas.addEventListener("touchenter",this._onTouchEnter,!1),this.game.canvas.addEventListener("touchleave",this._onTouchLeave,!1)))},consumeDocumentTouches:function(){this._documentTouchMove=function(t){t.preventDefault()},document.addEventListener("touchmove",this._documentTouchMove,!1)},addTouchLockCallback:function(t,e,i){this.touchLockCallbacks.push({callback:t,context:e,onEnd:i=void 0===i?!1:i})},removeTouchLockCallback:function(t,e){for(var i=this.touchLockCallbacks.length;i--;)if(this.touchLockCallbacks[i].callback===t&&this.touchLockCallbacks[i].context===e)return this.touchLockCallbacks.splice(i,1),!0;return!1},onTouchStart:function(t){for(var e=this.touchLockCallbacks.length;e--;){var i=this.touchLockCallbacks[e];!i.onEnd&&i.callback.call(i.context,this,t)&&this.touchLockCallbacks.splice(e,1)}if(this.event=t,this.game.input.enabled&&this.enabled){this.touchStartCallback&&this.touchStartCallback.call(this.callbackContext,t),this.preventDefault&&t.preventDefault();for(e=0;e<t.changedTouches.length;e++)this.game.input.startPointer(t.changedTouches[e])}},onTouchCancel:function(t){if(this.event=t,this.touchCancelCallback&&this.touchCancelCallback.call(this.callbackContext,t),this.game.input.enabled&&this.enabled){this.preventDefault&&t.preventDefault();for(var e=0;e<t.changedTouches.length;e++)this.game.input.stopPointer(t.changedTouches[e])}},onTouchEnter:function(t){this.event=t,this.touchEnterCallback&&this.touchEnterCallback.call(this.callbackContext,t),this.game.input.enabled&&this.enabled&&this.preventDefault&&t.preventDefault()},onTouchLeave:function(t){this.event=t,this.touchLeaveCallback&&this.touchLeaveCallback.call(this.callbackContext,t),this.preventDefault&&t.preventDefault()},onTouchMove:function(t){this.event=t,this.touchMoveCallback&&this.touchMoveCallback.call(this.callbackContext,t),this.preventDefault&&t.preventDefault();for(var e=0;e<t.changedTouches.length;e++)this.game.input.updatePointer(t.changedTouches[e])},onTouchEnd:function(t){for(var e=this.touchLockCallbacks.length;e--;){var i=this.touchLockCallbacks[e];i.onEnd&&i.callback.call(i.context,this,t)&&this.touchLockCallbacks.splice(e,1)}this.event=t,this.touchEndCallback&&this.touchEndCallback.call(this.callbackContext,t),this.preventDefault&&t.preventDefault();for(e=0;e<t.changedTouches.length;e++)this.game.input.stopPointer(t.changedTouches[e])},stop:function(){this.game.device.touch&&(this.game.canvas.removeEventListener("touchstart",this._onTouchStart),this.game.canvas.removeEventListener("touchmove",this._onTouchMove),this.game.canvas.removeEventListener("touchend",this._onTouchEnd),this.game.canvas.removeEventListener("touchenter",this._onTouchEnter),this.game.canvas.removeEventListener("touchleave",this._onTouchLeave),this.game.canvas.removeEventListener("touchcancel",this._onTouchCancel))}},G.Touch.prototype.constructor=G.Touch,G.InputHandler=function(t){this.sprite=t,this.game=t.game,this.enabled=!1,this.checked=!1,this.priorityID=0,this.useHandCursor=!1,this._setHandCursor=!1,this.isDragged=!1,this.allowHorizontalDrag=!0,this.allowVerticalDrag=!0,this.bringToTop=!1,this.snapOffset=null,this.snapOnDrag=!1,this.snapOnRelease=!1,this.snapX=0,this.snapY=0,this.snapOffsetX=0,this.snapOffsetY=0,this.pixelPerfectOver=!1,this.pixelPerfectClick=!1,this.pixelPerfectAlpha=255,this.draggable=!1,this.boundsRect=null,this.boundsSprite=null,this.scaleLayer=!1,this.dragOffset=new G.Point,this.dragFromCenter=!1,this.dragStopBlocksInputUp=!1,this.dragStartPoint=new G.Point,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this.downPoint=new G.Point,this.snapPoint=new G.Point,this._dragPoint=new G.Point,this._dragPhase=!1,this._pendingDrag=!1,this._dragTimePass=!1,this._dragDistancePass=!1,this._wasEnabled=!1,this._tempPoint=new G.Point,this._pointerData=[],this._pointerData.push({id:0,x:0,y:0,camX:0,camY:0,isDown:!1,isUp:!1,isOver:!1,isOut:!1,timeOver:0,timeOut:0,timeDown:0,timeUp:0,downDuration:0,isDragged:!1})},G.InputHandler.prototype={start:function(t,e){if(t=t||0,void 0===e&&(e=!1),!1===this.enabled){this.game.input.interactiveItems.add(this),this.useHandCursor=e,this.priorityID=t;for(var i=0;i<10;i++)this._pointerData[i]={id:i,x:0,y:0,isDown:!1,isUp:!1,isOver:!1,isOut:!1,timeOver:0,timeOut:0,timeDown:0,timeUp:0,downDuration:0,isDragged:!1};this.snapOffset=new G.Point,this.enabled=!0,this._wasEnabled=!0}return this.sprite.events.onAddedToGroup.add(this.addedToGroup,this),this.sprite.events.onRemovedFromGroup.add(this.removedFromGroup,this),this.sprite},addedToGroup:function(){this._dragPhase||this._wasEnabled&&!this.enabled&&this.start()},removedFromGroup:function(){this._dragPhase||(this.enabled?(this._wasEnabled=!0,this.stop()):this._wasEnabled=!1)},reset:function(){this.enabled=!1;for(var t=0;t<10;t++)this._pointerData[t]={id:t,x:0,y:0,isDown:!1,isUp:!1,isOver:!1,isOut:!1,timeOver:0,timeOut:0,timeDown:0,timeUp:0,downDuration:0,isDragged:!1}},stop:function(){!1!==this.enabled&&(this.enabled=!1,this.game.input.interactiveItems.remove(this))},destroy:function(){this.sprite&&(this._setHandCursor&&(this.game.canvas.style.cursor="default",this._setHandCursor=!1),this.enabled=!1,this.game.input.interactiveItems.remove(this),this._pointerData.length=0,this.boundsRect=null,this.boundsSprite=null,this.sprite=null)},validForInput:function(t,e,i){return void 0===i&&(i=!0),!(!this.enabled||0===this.sprite.scale.x||0===this.sprite.scale.y||this.priorityID<this.game.input.minPriorityID||this.sprite.parent&&this.sprite.parent.ignoreChildInput||!i&&(this.pixelPerfectClick||this.pixelPerfectOver)||!(this.priorityID>t||this.priorityID===t&&this.sprite.renderOrderID>e))},isPixelPerfect:function(){return this.pixelPerfectClick||this.pixelPerfectOver},pointerX:function(t){return this._pointerData[t=t||0].x},pointerY:function(t){return this._pointerData[t=t||0].y},pointerDown:function(t){return this._pointerData[t=t||0].isDown},pointerUp:function(t){return this._pointerData[t=t||0].isUp},pointerTimeDown:function(t){return this._pointerData[t=t||0].timeDown},pointerTimeUp:function(t){return this._pointerData[t=t||0].timeUp},pointerOver:function(t){if(!this.enabled)return!1;if(void 0!==t)return this._pointerData[t].isOver;for(var e=0;e<10;e++)if(this._pointerData[e].isOver)return!0;return!1},pointerOut:function(t){if(!this.enabled)return!1;if(void 0!==t)return this._pointerData[t].isOut;for(var e=0;e<10;e++)if(this._pointerData[e].isOut)return!0},pointerTimeOver:function(t){return this._pointerData[t=t||0].timeOver},pointerTimeOut:function(t){return this._pointerData[t=t||0].timeOut},pointerDragged:function(t){return this._pointerData[t=t||0].isDragged},checkPointerDown:function(t,e){return!!(t.isDown&&this.enabled&&this.sprite&&this.sprite.parent&&this.sprite.visible&&this.sprite.parent.visible&&0!==this.sprite.worldScale.x&&0!==this.sprite.worldScale.y)&&!!this.game.input.hitTest(this.sprite,t,this._tempPoint)&&(!(!(e=void 0===e?!1:e)&&this.pixelPerfectClick)||this.checkPixel(this._tempPoint.x,this._tempPoint.y))},checkPointerOver:function(t,e){return!!(this.enabled&&this.sprite&&this.sprite.parent&&this.sprite.visible&&this.sprite.parent.visible&&0!==this.sprite.worldScale.x&&0!==this.sprite.worldScale.y)&&!!this.game.input.hitTest(this.sprite,t,this._tempPoint)&&(!(!(e=void 0===e?!1:e)&&this.pixelPerfectOver)||this.checkPixel(this._tempPoint.x,this._tempPoint.y))},checkPixel:function(t,e,i){if(this.sprite.texture.baseTexture.source){if(null===t&&null===e&&(this.game.input.getLocalPosition(this.sprite,i,this._tempPoint),t=this._tempPoint.x,e=this._tempPoint.y),0!==this.sprite.anchor.x&&(t-=-this.sprite.texture.frame.width*this.sprite.anchor.x),0!==this.sprite.anchor.y&&(e-=-this.sprite.texture.frame.height*this.sprite.anchor.y),t+=this.sprite.texture.frame.x,e+=this.sprite.texture.frame.y,this.sprite.texture.trim&&(t-=this.sprite.texture.trim.x,e-=this.sprite.texture.trim.y,t<this.sprite.texture.crop.x||t>this.sprite.texture.crop.right||e<this.sprite.texture.crop.y||e>this.sprite.texture.crop.bottom))return this._dx=t,this._dy=e,!1;if(this._dx=t,this._dy=e,this.game.input.hitContext.clearRect(0,0,1,1),this.game.input.hitContext.drawImage(this.sprite.texture.baseTexture.source,t,e,1,1,0,0,1,1),this.game.input.hitContext.getImageData(0,0,1,1).data[3]>=this.pixelPerfectAlpha)return!0}return!1},update:function(t){if(null!==this.sprite&&void 0!==this.sprite.parent)return this.enabled&&this.sprite.visible&&this.sprite.parent.visible?this._pendingDrag?(this._dragDistancePass||(this._dragDistancePass=G.Math.distance(t.x,t.y,this.downPoint.x,this.downPoint.y)>=this.dragDistanceThreshold),this._dragDistancePass&&this._dragTimePass&&this.startDrag(t),!0):this.draggable&&this._draggedPointerID===t.id?this.updateDrag(t,!1):this._pointerData[t.id].isOver?this.checkPointerOver(t)?(this._pointerData[t.id].x=t.x-this.sprite.x,this._pointerData[t.id].y=t.y-this.sprite.y,!0):(this._pointerOutHandler(t),!1):void 0:(this._pointerOutHandler(t),!1)},_pointerOverHandler:function(t,e){var i,o;null===this.sprite||!1!==(i=this._pointerData[t.id]).isOver&&!t.dirty||(o=!1===i.isOver,i.isOver=!0,i.isOut=!1,i.timeOver=this.game.time.time,i.x=t.x-this.sprite.x,i.y=t.y-this.sprite.y,this.useHandCursor&&!1===i.isDragged&&(this.game.canvas.style.cursor="pointer",this._setHandCursor=!0),!e&&o&&this.sprite&&this.sprite.events&&this.sprite.events.onInputOver$dispatch(this.sprite,t),this.sprite.parent&&this.sprite.parent.type===G.GROUP&&this.sprite.parent.onChildInputOver.dispatch(this.sprite,t))},_pointerOutHandler:function(t,e){var i;null!==this.sprite&&((i=this._pointerData[t.id]).isOver=!1,i.isOut=!0,i.timeOut=this.game.time.time,this.useHandCursor&&!1===i.isDragged&&(this.game.canvas.style.cursor="default",this._setHandCursor=!1),!e&&this.sprite&&this.sprite.events&&(this.sprite.events.onInputOut$dispatch(this.sprite,t),this.sprite&&this.sprite.parent&&this.sprite.parent.type===G.GROUP&&this.sprite.parent.onChildInputOut.dispatch(this.sprite,t)))},_touchedHandler:function(t){var e;null===this.sprite||(e=this._pointerData[t.id]).isDown||!e.isOver||this.pixelPerfectClick&&!this.checkPixel(null,null,t)||(e.isDown=!0,e.isUp=!1,e.timeDown=this.game.time.time,this.downPoint.set(t.x,t.y),t.dirty=!0,this.sprite&&this.sprite.events&&(this.sprite.events.onInputDown$dispatch(this.sprite,t),this.sprite&&this.sprite.parent&&this.sprite.parent.type===G.GROUP&&this.sprite.parent.onChildInputDown.dispatch(this.sprite,t),null===this.sprite)||(this.draggable&&!1===this.isDragged&&(0===this.dragTimeThreshold&&0===this.dragDistanceThreshold?this.startDrag(t):(this._pendingDrag=!0,this._dragDistancePass=0===this.dragDistanceThreshold,0<this.dragTimeThreshold?(this._dragTimePass=!1,this.game.time.events.add(this.dragTimeThreshold,this.dragTimeElapsed,this,t)):this._dragTimePass=!0)),this.bringToTop&&this.sprite.bringToTop()))},dragTimeElapsed:function(t){this._dragTimePass=!0,this._pendingDrag&&this.sprite&&this._dragDistancePass&&this.startDrag(t)},_releasedHandler:function(t){var e,i;null!==this.sprite&&(e=this._pointerData[t.id]).isDown&&t.isUp&&(e.isDown=!1,e.isUp=!0,e.timeUp=this.game.time.time,e.downDuration=e.timeUp-e.timeDown,i=this.checkPointerOver(t),this.sprite&&this.sprite.events&&(this.dragStopBlocksInputUp&&(!this.dragStopBlocksInputUp||this.draggable&&this.isDragged&&this._draggedPointerID===t.id)||this.sprite.events.onInputUp$dispatch(this.sprite,t,i),this.sprite&&this.sprite.parent&&this.sprite.parent.type===G.GROUP&&this.sprite.parent.onChildInputUp.dispatch(this.sprite,t,i),i=i&&this.checkPointerOver(t)),!(e.isOver=i)&&this.useHandCursor&&(this.game.canvas.style.cursor="default",this._setHandCursor=!1),t.dirty=!0,this._pendingDrag=!1,this.draggable&&this.isDragged&&this._draggedPointerID===t.id&&this.stopDrag(t))},updateDrag:function(t,e){if(void 0===e&&(e=!1),t.isUp)return this.stopDrag(t),!1;var i,o,n=this.globalToLocalX(t.x)+this._dragPoint.x+this.dragOffset.x,s=this.globalToLocalY(t.y)+this._dragPoint.y+this.dragOffset.y;return this.sprite.fixedToCamera?(this.allowHorizontalDrag&&(this.sprite.cameraOffset.x=n),this.allowVerticalDrag&&(this.sprite.cameraOffset.y=s),this.boundsRect&&this.checkBoundsRect(),this.boundsSprite&&this.checkBoundsSprite(),this.snapOnDrag&&(this.sprite.cameraOffset.x=Math.round((this.sprite.cameraOffset.x-this.snapOffsetX%this.snapX)/this.snapX)*this.snapX+this.snapOffsetX%this.snapX,this.sprite.cameraOffset.y=Math.round((this.sprite.cameraOffset.y-this.snapOffsetY%this.snapY)/this.snapY)*this.snapY+this.snapOffsetY%this.snapY,this.snapPoint.set(this.sprite.cameraOffset.x,this.sprite.cameraOffset.y))):(i=this.game.camera.x-this._pointerData[t.id].camX,o=this.game.camera.y-this._pointerData[t.id].camY,this.allowHorizontalDrag&&(this.sprite.x=n+i),this.allowVerticalDrag&&(this.sprite.y=s+o),this.boundsRect&&this.checkBoundsRect(),this.boundsSprite&&this.checkBoundsSprite(),this.snapOnDrag&&(this.sprite.x=Math.round((this.sprite.x-this.snapOffsetX%this.snapX)/this.snapX)*this.snapX+this.snapOffsetX%this.snapX,this.sprite.y=Math.round((this.sprite.y-this.snapOffsetY%this.snapY)/this.snapY)*this.snapY+this.snapOffsetY%this.snapY,this.snapPoint.set(this.sprite.x,this.sprite.y))),this.sprite.events.onDragUpdate.dispatch(this.sprite,t,n,s,this.snapPoint,e),!0},justOver:function(t,e){return e=e||500,this._pointerData[t=t||0].isOver&&this.overDuration(t)<e},justOut:function(t,e){return e=e||500,this._pointerData[t=t||0].isOut&&this.game.time.time-this._pointerData[t].timeOut<e},justPressed:function(t,e){return e=e||500,this._pointerData[t=t||0].isDown&&this.downDuration(t)<e},justReleased:function(t,e){return e=e||500,this._pointerData[t=t||0].isUp&&this.game.time.time-this._pointerData[t].timeUp<e},overDuration:function(t){return this._pointerData[t=t||0].isOver?this.game.time.time-this._pointerData[t].timeOver:-1},downDuration:function(t){return this._pointerData[t=t||0].isDown?this.game.time.time-this._pointerData[t].timeDown:-1},enableDrag:function(t,e,i,o,n,s){void 0===t&&(t=!1),void 0===e&&(e=!1),void 0===i&&(i=!1),void 0===o&&(o=255),void 0===n&&(n=null),void 0===s&&(s=null),this._dragPoint=new G.Point,this.draggable=!0,this.bringToTop=e,this.dragOffset=new G.Point,this.dragFromCenter=t,this.pixelPerfectClick=i,this.pixelPerfectAlpha=o,n&&(this.boundsRect=n),s&&(this.boundsSprite=s)},disableDrag:function(){if(this._pointerData)for(var t=0;t<10;t++)this._pointerData[t].isDragged=!1;this.draggable=!1,this.isDragged=!1,this._draggedPointerID=-1,this._pendingDrag=!1},startDrag:function(t){var e,i=this.sprite.x,o=this.sprite.y;this.isDragged=!0,this._draggedPointerID=t.id,this._pointerData[t.id].camX=this.game.camera.x,this._pointerData[t.id].camY=this.game.camera.y,this._pointerData[t.id].isDragged=!0,this.sprite.fixedToCamera?(this.dragFromCenter&&(e=this.sprite.getBounds(),this.sprite.cameraOffset.x=this.globalToLocalX(t.x)+(this.sprite.cameraOffset.x-e.centerX),this.sprite.cameraOffset.y=this.globalToLocalY(t.y)+(this.sprite.cameraOffset.y-e.centerY)),this._dragPoint.setTo(this.sprite.cameraOffset.x-t.x,this.sprite.cameraOffset.y-t.y)):(this.dragFromCenter&&(e=this.sprite.getBounds(),this.sprite.x=this.globalToLocalX(t.x)+(this.sprite.x-e.centerX),this.sprite.y=this.globalToLocalY(t.y)+(this.sprite.y-e.centerY)),this._dragPoint.setTo(this.sprite.x-this.globalToLocalX(t.x),this.sprite.y-this.globalToLocalY(t.y))),this.updateDrag(t,!0),this.bringToTop&&(this._dragPhase=!0,this.sprite.bringToTop()),this.dragStartPoint.set(i,o),this.sprite.events.onDragStart$dispatch(this.sprite,t,i,o),this._pendingDrag=!1},globalToLocalX:function(t){return t=this.scaleLayer?(t-=this.game.scale.grid.boundsFluid.x)*this.game.scale.grid.scaleFluidInversed.x:t},globalToLocalY:function(t){return t=this.scaleLayer?(t-=this.game.scale.grid.boundsFluid.y)*this.game.scale.grid.scaleFluidInversed.y:t},stopDrag:function(t){this.isDragged=!1,this._draggedPointerID=-1,this._pointerData[t.id].isDragged=!1,this._dragPhase=!1,this._pendingDrag=!1,this.snapOnRelease&&(this.sprite.fixedToCamera?(this.sprite.cameraOffset.x=Math.round((this.sprite.cameraOffset.x-this.snapOffsetX%this.snapX)/this.snapX)*this.snapX+this.snapOffsetX%this.snapX,this.sprite.cameraOffset.y=Math.round((this.sprite.cameraOffset.y-this.snapOffsetY%this.snapY)/this.snapY)*this.snapY+this.snapOffsetY%this.snapY):(this.sprite.x=Math.round((this.sprite.x-this.snapOffsetX%this.snapX)/this.snapX)*this.snapX+this.snapOffsetX%this.snapX,this.sprite.y=Math.round((this.sprite.y-this.snapOffsetY%this.snapY)/this.snapY)*this.snapY+this.snapOffsetY%this.snapY)),this.sprite.events.onDragStop$dispatch(this.sprite,t),!1===this.checkPointerOver(t)&&this._pointerOutHandler(t)},setDragLock:function(t,e){void 0===e&&(e=!0),this.allowHorizontalDrag=t=void 0===t?!0:t,this.allowVerticalDrag=e},enableSnap:function(t,e,i,o,n,s){void 0===i&&(i=!0),void 0===o&&(o=!1),void 0===n&&(n=0),void 0===s&&(s=0),this.snapX=t,this.snapY=e,this.snapOffsetX=n,this.snapOffsetY=s,this.snapOnDrag=i,this.snapOnRelease=o},disableSnap:function(){this.snapOnDrag=!1,this.snapOnRelease=!1},checkBoundsRect:function(){this.sprite.fixedToCamera?(this.sprite.cameraOffset.x<this.boundsRect.left?this.sprite.cameraOffset.x=this.boundsRect.left:this.sprite.cameraOffset.x+this.sprite.width>this.boundsRect.right&&(this.sprite.cameraOffset.x=this.boundsRect.right-this.sprite.width),this.sprite.cameraOffset.y<this.boundsRect.top?this.sprite.cameraOffset.y=this.boundsRect.top:this.sprite.cameraOffset.y+this.sprite.height>this.boundsRect.bottom&&(this.sprite.cameraOffset.y=this.boundsRect.bottom-this.sprite.height)):(this.sprite.left<this.boundsRect.left?this.sprite.x=this.boundsRect.x+this.sprite.offsetX:this.sprite.right>this.boundsRect.right&&(this.sprite.x=this.boundsRect.right-(this.sprite.width-this.sprite.offsetX)),this.sprite.top<this.boundsRect.top?this.sprite.y=this.boundsRect.top+this.sprite.offsetY:this.sprite.bottom>this.boundsRect.bottom&&(this.sprite.y=this.boundsRect.bottom-(this.sprite.height-this.sprite.offsetY)))},checkBoundsSprite:function(){this.sprite.fixedToCamera&&this.boundsSprite.fixedToCamera?(this.sprite.cameraOffset.x<this.boundsSprite.cameraOffset.x?this.sprite.cameraOffset.x=this.boundsSprite.cameraOffset.x:this.sprite.cameraOffset.x+this.sprite.width>this.boundsSprite.cameraOffset.x+this.boundsSprite.width&&(this.sprite.cameraOffset.x=this.boundsSprite.cameraOffset.x+this.boundsSprite.width-this.sprite.width),this.sprite.cameraOffset.y<this.boundsSprite.cameraOffset.y?this.sprite.cameraOffset.y=this.boundsSprite.cameraOffset.y:this.sprite.cameraOffset.y+this.sprite.height>this.boundsSprite.cameraOffset.y+this.boundsSprite.height&&(this.sprite.cameraOffset.y=this.boundsSprite.cameraOffset.y+this.boundsSprite.height-this.sprite.height)):(this.sprite.left<this.boundsSprite.left?this.sprite.x=this.boundsSprite.left+this.sprite.offsetX:this.sprite.right>this.boundsSprite.right&&(this.sprite.x=this.boundsSprite.right-(this.sprite.width-this.sprite.offsetX)),this.sprite.top<this.boundsSprite.top?this.sprite.y=this.boundsSprite.top+this.sprite.offsetY:this.sprite.bottom>this.boundsSprite.bottom&&(this.sprite.y=this.boundsSprite.bottom-(this.sprite.height-this.sprite.offsetY)))}},G.InputHandler.prototype.constructor=G.InputHandler,G.Gamepad=function(t){this.game=t,this._gamepadIndexMap={},this._rawPads=[],this._active=!1,this.enabled=!0,this._gamepadSupportAvailable=!!navigator.webkitGetGamepads||!!navigator.webkitGamepads||-1!==navigator.userAgent.indexOf("Firefox/")||!!navigator.getGamepads,this._prevRawGamepadTypes=[],this._prevTimestamps=[],(this.callbackContext=this).onConnectCallback=null,this.onDisconnectCallback=null,this.onDownCallback=null,this.onUpCallback=null,this.onAxisCallback=null,this.onFloatCallback=null,this._ongamepadconnected=null,this._gamepaddisconnected=null,this._gamepads=[new G.SinglePad(t,this),new G.SinglePad(t,this),new G.SinglePad(t,this),new G.SinglePad(t,this)]},G.Gamepad.prototype={addCallbacks:function(t,e){void 0!==e&&(this.onConnectCallback="function"==typeof e.onConnect?e.onConnect:this.onConnectCallback,this.onDisconnectCallback="function"==typeof e.onDisconnect?e.onDisconnect:this.onDisconnectCallback,this.onDownCallback="function"==typeof e.onDown?e.onDown:this.onDownCallback,this.onUpCallback="function"==typeof e.onUp?e.onUp:this.onUpCallback,this.onAxisCallback="function"==typeof e.onAxis?e.onAxis:this.onAxisCallback,this.onFloatCallback="function"==typeof e.onFloat?e.onFloat:this.onFloatCallback,this.callbackContext=t)},start:function(){var e;this._active||(this._active=!0,(e=this)._onGamepadConnected=function(t){return e.onGamepadConnected(t)},this._onGamepadDisconnected=function(t){return e.onGamepadDisconnected(t)},window.addEventListener("gamepadconnected",this._onGamepadConnected,!1),window.addEventListener("gamepaddisconnected",this._onGamepadDisconnected,!1))},onGamepadConnected:function(t){t=t.gamepad;this._rawPads.push(t),this._gamepads[t.index].connect(t)},onGamepadDisconnected:function(t){var e,i=t.gamepad;for(e in this._rawPads)this._rawPads[e].index===i.index&&this._rawPads.splice(e,1);this._gamepads[i.index].disconnect()},update:function(){this._pollGamepads(),this.pad1.pollStatus(),this.pad2.pollStatus(),this.pad3.pollStatus(),this.pad4.pollStatus()},_pollGamepads:function(){var t;if(this._active&&(navigator.getGamepads?t=navigator.getGamepads():navigator.webkitGetGamepads?t=navigator.webkitGetGamepads():navigator.webkitGamepads&&(t=navigator.webkitGamepads()),t)){for(var e=!(this._rawPads=[]),i=0;i<t.length&&(typeof t[i]!==this._prevRawGamepadTypes[i]&&(e=!0,this._prevRawGamepadTypes[i]=typeof t[i]),t[i]&&this._rawPads.push(t[i]),3!==i);i++);for(var o=0;o<this._gamepads.length;o++)this._gamepads[o]._rawPad=this._rawPads[o];if(e){for(var n,s={rawIndices:{},padIndices:{}},r=0;r<this._gamepads.length;r++)if((n=this._gamepads[r]).connected)for(var c=0;c<this._rawPads.length;c++)this._rawPads[c].index===n.index&&(s.rawIndices[n.index]=!0,s.padIndices[r]=!0);for(var a=0;a<this._gamepads.length;a++)if(n=this._gamepads[a],!s.padIndices[a]){this._rawPads.length<1&&n.disconnect();for(var h=0;h<this._rawPads.length&&!s.padIndices[a];h++){var u=this._rawPads[h];!u||s.rawIndices[u.index]?n.disconnect():(n.connect(u),s.rawIndices[u.index]=!0,s.padIndices[a]=!0)}}}}},setDeadZones:function(t){for(var e=0;e<this._gamepads.length;e++)this._gamepads[e].deadZone=t},stop:function(){this._active=!1,window.removeEventListener("gamepadconnected",this._onGamepadConnected),window.removeEventListener("gamepaddisconnected",this._onGamepadDisconnected)},reset:function(){this.update();for(var t=0;t<this._gamepads.length;t++)this._gamepads[t].reset()},justPressed:function(t,e){for(var i=0;i<this._gamepads.length;i++)if(!0===this._gamepads[i].justPressed(t,e))return!0;return!1},justReleased:function(t,e){for(var i=0;i<this._gamepads.length;i++)if(!0===this._gamepads[i].justReleased(t,e))return!0;return!1},isDown:function(t){for(var e=0;e<this._gamepads.length;e++)if(!0===this._gamepads[e].isDown(t))return!0;return!1},destroy:function(){this.stop();for(var t=0;t<this._gamepads.length;t++)this._gamepads[t].destroy()}},G.Gamepad.prototype.constructor=G.Gamepad,Object.defineProperty(G.Gamepad.prototype,"active",{get:function(){return this._active}}),Object.defineProperty(G.Gamepad.prototype,"supported",{get:function(){return this._gamepadSupportAvailable}}),Object.defineProperty(G.Gamepad.prototype,"padsConnected",{get:function(){return this._rawPads.length}}),Object.defineProperty(G.Gamepad.prototype,"pad1",{get:function(){return this._gamepads[0]}}),Object.defineProperty(G.Gamepad.prototype,"pad2",{get:function(){return this._gamepads[1]}}),Object.defineProperty(G.Gamepad.prototype,"pad3",{get:function(){return this._gamepads[2]}}),Object.defineProperty(G.Gamepad.prototype,"pad4",{get:function(){return this._gamepads[3]}}),G.Gamepad.BUTTON_0=0,G.Gamepad.BUTTON_1=1,G.Gamepad.BUTTON_2=2,G.Gamepad.BUTTON_3=3,G.Gamepad.BUTTON_4=4,G.Gamepad.BUTTON_5=5,G.Gamepad.BUTTON_6=6,G.Gamepad.BUTTON_7=7,G.Gamepad.BUTTON_8=8,G.Gamepad.BUTTON_9=9,G.Gamepad.BUTTON_10=10,G.Gamepad.BUTTON_11=11,G.Gamepad.BUTTON_12=12,G.Gamepad.BUTTON_13=13,G.Gamepad.BUTTON_14=14,G.Gamepad.BUTTON_15=15,G.Gamepad.AXIS_0=0,G.Gamepad.AXIS_1=1,G.Gamepad.AXIS_2=2,G.Gamepad.AXIS_3=3,G.Gamepad.AXIS_4=4,G.Gamepad.AXIS_5=5,G.Gamepad.AXIS_6=6,G.Gamepad.AXIS_7=7,G.Gamepad.AXIS_8=8,G.Gamepad.AXIS_9=9,G.Gamepad.XBOX360_A=0,G.Gamepad.XBOX360_B=1,G.Gamepad.XBOX360_X=2,G.Gamepad.XBOX360_Y=3,G.Gamepad.XBOX360_LEFT_BUMPER=4,G.Gamepad.XBOX360_RIGHT_BUMPER=5,G.Gamepad.XBOX360_LEFT_TRIGGER=6,G.Gamepad.XBOX360_RIGHT_TRIGGER=7,G.Gamepad.XBOX360_BACK=8,G.Gamepad.XBOX360_START=9,G.Gamepad.XBOX360_STICK_LEFT_BUTTON=10,G.Gamepad.XBOX360_STICK_RIGHT_BUTTON=11,G.Gamepad.XBOX360_DPAD_LEFT=14,G.Gamepad.XBOX360_DPAD_RIGHT=15,G.Gamepad.XBOX360_DPAD_UP=12,G.Gamepad.XBOX360_DPAD_DOWN=13,G.Gamepad.XBOX360_STICK_LEFT_X=0,G.Gamepad.XBOX360_STICK_LEFT_Y=1,G.Gamepad.XBOX360_STICK_RIGHT_X=2,G.Gamepad.XBOX360_STICK_RIGHT_Y=3,G.Gamepad.PS3XC_X=0,G.Gamepad.PS3XC_CIRCLE=1,G.Gamepad.PS3XC_SQUARE=2,G.Gamepad.PS3XC_TRIANGLE=3,G.Gamepad.PS3XC_L1=4,G.Gamepad.PS3XC_R1=5,G.Gamepad.PS3XC_L2=6,G.Gamepad.PS3XC_R2=7,G.Gamepad.PS3XC_SELECT=8,G.Gamepad.PS3XC_START=9,G.Gamepad.PS3XC_STICK_LEFT_BUTTON=10,G.Gamepad.PS3XC_STICK_RIGHT_BUTTON=11,G.Gamepad.PS3XC_DPAD_UP=12,G.Gamepad.PS3XC_DPAD_DOWN=13,G.Gamepad.PS3XC_DPAD_LEFT=14,G.Gamepad.PS3XC_DPAD_RIGHT=15,G.Gamepad.PS3XC_STICK_LEFT_X=0,G.Gamepad.PS3XC_STICK_LEFT_Y=1,G.Gamepad.PS3XC_STICK_RIGHT_X=2,G.Gamepad.PS3XC_STICK_RIGHT_Y=3,G.SinglePad=function(t,e){this.game=t,this.index=null,this.connected=!1,(this.callbackContext=this).onConnectCallback=null,this.onDisconnectCallback=null,this.onDownCallback=null,this.onUpCallback=null,this.onAxisCallback=null,this.onFloatCallback=null,this.deadZone=.26,this._padParent=e,this._rawPad=null,this._prevTimestamp=null,this._buttons=[],this._buttonsLen=0,this._axes=[],this._axesLen=0},G.SinglePad.prototype={addCallbacks:function(t,e){void 0!==e&&(this.onConnectCallback="function"==typeof e.onConnect?e.onConnect:this.onConnectCallback,this.onDisconnectCallback="function"==typeof e.onDisconnect?e.onDisconnect:this.onDisconnectCallback,this.onDownCallback="function"==typeof e.onDown?e.onDown:this.onDownCallback,this.onUpCallback="function"==typeof e.onUp?e.onUp:this.onUpCallback,this.onAxisCallback="function"==typeof e.onAxis?e.onAxis:this.onAxisCallback,this.onFloatCallback="function"==typeof e.onFloat?e.onFloat:this.onFloatCallback,this.callbackContext=t)},getButton:function(t){return this._buttons[t]||null},pollStatus:function(){if(this.connected&&this.game.input.enabled&&this.game.input.gamepad.enabled&&(!this._rawPad.timestamp||this._rawPad.timestamp!==this._prevTimestamp)){for(var t=0;t<this._buttonsLen;t++){var e=isNaN(this._rawPad.buttons[t])?this._rawPad.buttons[t].value:this._rawPad.buttons[t];e!==this._buttons[t].value&&(1===e?this.processButtonDown(t,e):0===e?this.processButtonUp(t,e):this.processButtonFloat(t,e))}for(var i=0;i<this._axesLen;i++){var o=this._rawPad.axes[i];0<o&&o>this.deadZone||o<0&&o<-this.deadZone?this.processAxisChange(i,o):this.processAxisChange(i,0)}this._prevTimestamp=this._rawPad.timestamp}},connect:function(t){var e=!this.connected;this.connected=!0,this.index=t.index,this._rawPad=t,this._buttons=[],this._buttonsLen=t.buttons.length,this._axes=[],this._axesLen=t.axes.length;for(var i,o=0;o<this._axesLen;o++)this._axes[o]=t.axes[o];for(i in t.buttons)i=parseInt(i,10),this._buttons[i]=new G.DeviceButton(this,i);e&&this._padParent.onConnectCallback&&this._padParent.onConnectCallback.call(this._padParent.callbackContext,this.index),e&&this.onConnectCallback&&this.onConnectCallback.call(this.callbackContext)},disconnect:function(){var t=this.connected,e=this.index;this.connected=!1,this.index=null,this._rawPad=void 0;for(var i=0;i<this._buttonsLen;i++)this._buttons[i].destroy();this._buttons=[],this._buttonsLen=0,this._axes=[],this._axesLen=0,t&&this._padParent.onDisconnectCallback&&this._padParent.onDisconnectCallback.call(this._padParent.callbackContext,e),t&&this.onDisconnectCallback&&this.onDisconnectCallback.call(this.callbackContext)},destroy:function(){this._rawPad=void 0;for(var t=0;t<this._buttonsLen;t++)this._buttons[t].destroy();this._buttons=[],this._buttonsLen=0,this._axes=[],this._axesLen=0,this.onConnectCallback=null,this.onDisconnectCallback=null,this.onDownCallback=null,this.onUpCallback=null,this.onAxisCallback=null,this.onFloatCallback=null},processAxisChange:function(t,e){this._axes[t]!==e&&(this._axes[t]=e,this._padParent.onAxisCallback&&this._padParent.onAxisCallback.call(this._padParent.callbackContext,this,t,e),this.onAxisCallback&&this.onAxisCallback.call(this.callbackContext,this,t,e))},processButtonDown:function(t,e){this._buttons[t]&&this._buttons[t].start(null,e),this._padParent.onDownCallback&&this._padParent.onDownCallback.call(this._padParent.callbackContext,t,e,this.index),this.onDownCallback&&this.onDownCallback.call(this.callbackContext,t,e)},processButtonUp:function(t,e){this._padParent.onUpCallback&&this._padParent.onUpCallback.call(this._padParent.callbackContext,t,e,this.index),this.onUpCallback&&this.onUpCallback.call(this.callbackContext,t,e),this._buttons[t]&&this._buttons[t].stop(null,e)},processButtonFloat:function(t,e){this._padParent.onFloatCallback&&this._padParent.onFloatCallback.call(this._padParent.callbackContext,t,e,this.index),this.onFloatCallback&&this.onFloatCallback.call(this.callbackContext,t,e),this._buttons[t]&&this._buttons[t].padFloat(e)},axis:function(t){return!!this._axes[t]&&this._axes[t]},isDown:function(t){return!!this._buttons[t]&&this._buttons[t].isDown},isUp:function(t){return!!this._buttons[t]&&this._buttons[t].isUp},justReleased:function(t,e){if(this._buttons[t])return this._buttons[t].justReleased(e)},justPressed:function(t,e){if(this._buttons[t])return this._buttons[t].justPressed(e)},buttonValue:function(t){return this._buttons[t]?this._buttons[t].value:null},reset:function(){for(var t=0;t<this._axes.length;t++)this._axes[t]=0}},G.SinglePad.prototype.constructor=G.SinglePad,G.Key=function(t,e){this.game=t,this._enabled=!0,this.event=null,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.timeDown=0,this.duration=0,this.timeUp=-2500,this.repeats=0,this.keyCode=e,this.onDown=new G.Signal,this.onHoldCallback=null,this.onHoldContext=null,this.onUp=new G.Signal,this._justDown=!1,this._justUp=!1},G.Key.prototype={update:function(){this._enabled&&this.isDown&&(this.duration=this.game.time.time-this.timeDown,this.repeats++,this.onHoldCallback&&this.onHoldCallback.call(this.onHoldContext,this))},processKeyDown:function(t){this._enabled&&(this.event=t,this.isDown||(this.altKey=t.altKey,this.ctrlKey=t.ctrlKey,this.shiftKey=t.shiftKey,this.isDown=!0,this.isUp=!1,this.timeDown=this.game.time.time,this.duration=0,this.repeats=0,this._justDown=!0,this.onDown.dispatch(this)))},processKeyUp:function(t){this._enabled&&(this.event=t,this.isUp||(this.isDown=!1,this.isUp=!0,this.timeUp=this.game.time.time,this.duration=this.game.time.time-this.timeDown,this._justUp=!0,this.onUp.dispatch(this)))},reset:function(t){void 0===t&&(t=!0),this.isDown=!1,this.isUp=!0,this.timeUp=this.game.time.time,this.duration=0,this._enabled=!0,this._justDown=!1,this._justUp=!1,t&&(this.onDown.removeAll(),this.onUp.removeAll(),this.onHoldCallback=null,this.onHoldContext=null)},downDuration:function(t){return void 0===t&&(t=50),this.isDown&&this.duration<t},upDuration:function(t){return void 0===t&&(t=50),!this.isDown&&this.game.time.time-this.timeUp<t}},Object.defineProperty(G.Key.prototype,"justDown",{get:function(){var t=this._justDown;return this._justDown=!1,t}}),Object.defineProperty(G.Key.prototype,"justUp",{get:function(){var t=this._justUp;return this._justUp=!1,t}}),Object.defineProperty(G.Key.prototype,"enabled",{get:function(){return this._enabled},set:function(t){(t=!!t)!==this._enabled&&(t||this.reset(!1),this._enabled=t)}}),G.Key.prototype.constructor=G.Key,G.Keyboard=function(t){this.game=t,this.enabled=!0,this.event=null,this.pressEvent=null,(this.callbackContext=this).onDownCallback=null,this.onPressCallback=null,this.onUpCallback=null,this._keys=[],this._capture=[],this._onKeyDown=null,this._onKeyPress=null,this._onKeyUp=null,this._i=0,this._k=0},G.Keyboard.prototype={addCallbacks:function(t,e,i,o){this.callbackContext=t,null!=e&&(this.onDownCallback=e),null!=i&&(this.onUpCallback=i),null!=o&&(this.onPressCallback=o)},addKey:function(t){return this._keys[t]||(this._keys[t]=new G.Key(this.game,t),this.addKeyCapture(t)),this._keys[t]},addKeys:function(t){var e,i={};for(e in t)i[e]=this.addKey(t[e]);return i},removeKey:function(t){this._keys[t]&&(this._keys[t]=null,this.removeKeyCapture(t))},createCursorKeys:function(){return this.addKeys({up:G.KeyCode.UP,down:G.KeyCode.DOWN,left:G.KeyCode.LEFT,right:G.KeyCode.RIGHT})},start:function(){var e;this.game.device.cocoonJS||null!==this._onKeyDown||((e=this)._onKeyDown=function(t){return e.processKeyDown(t)},this._onKeyUp=function(t){return e.processKeyUp(t)},this._onKeyPress=function(t){return e.processKeyPress(t)},window.addEventListener("keydown",this._onKeyDown,!1),window.addEventListener("keyup",this._onKeyUp,!1),window.addEventListener("keypress",this._onKeyPress,!1))},stop:function(){window.removeEventListener("keydown",this._onKeyDown),window.removeEventListener("keyup",this._onKeyUp),window.removeEventListener("keypress",this._onKeyPress),this._onKeyDown=null,this._onKeyUp=null,this._onKeyPress=null},destroy:function(){this.stop(),this.clearCaptures(),this._keys.length=0,this._i=0},addKeyCapture:function(t){if("object"==typeof t)for(var e in t)this._capture[t[e]]=!0;else this._capture[t]=!0},removeKeyCapture:function(t){delete this._capture[t]},clearCaptures:function(){this._capture={}},update:function(){for(this._i=this._keys.length;this._i--;)this._keys[this._i]&&this._keys[this._i].update()},processKeyDown:function(t){var e;this.event=t,this.game.input.enabled&&this.enabled&&(e=t.keyCode,this._capture[e]&&t.preventDefault(),this._keys[e]||(this._keys[e]=new G.Key(this.game,e)),this._keys[e].processKeyDown(t),this._k=e,this.onDownCallback&&this.onDownCallback.call(this.callbackContext,t))},processKeyPress:function(t){this.pressEvent=t,this.game.input.enabled&&this.enabled&&this.onPressCallback&&this.onPressCallback.call(this.callbackContext,String.fromCharCode(t.charCode),t)},processKeyUp:function(t){var e;this.event=t,this.game.input.enabled&&this.enabled&&(e=t.keyCode,this._capture[e]&&t.preventDefault(),this._keys[e]||(this._keys[e]=new G.Key(this.game,e)),this._keys[e].processKeyUp(t),this.onUpCallback&&this.onUpCallback.call(this.callbackContext,t))},reset:function(t){void 0===t&&(t=!0),this.event=null;for(var e=this._keys.length;e--;)this._keys[e]&&this._keys[e].reset(t)},downDuration:function(t,e){return this._keys[t]?this._keys[t].downDuration(e):null},upDuration:function(t,e){return this._keys[t]?this._keys[t].upDuration(e):null},isDown:function(t){return this._keys[t]?this._keys[t].isDown:null}},Object.defineProperty(G.Keyboard.prototype,"lastChar",{get:function(){return 32===this.event.charCode?"":String.fromCharCode(this.pressEvent.charCode)}}),Object.defineProperty(G.Keyboard.prototype,"lastKey",{get:function(){return this._keys[this._k]}}),G.Keyboard.prototype.constructor=G.Keyboard,G.KeyCode={A:"A".charCodeAt(0),B:"B".charCodeAt(0),C:"C".charCodeAt(0),D:"D".charCodeAt(0),E:"E".charCodeAt(0),F:"F".charCodeAt(0),G:"G".charCodeAt(0),H:"H".charCodeAt(0),I:"I".charCodeAt(0),J:"J".charCodeAt(0),K:"K".charCodeAt(0),L:"L".charCodeAt(0),M:"M".charCodeAt(0),N:"N".charCodeAt(0),O:"O".charCodeAt(0),P:"P".charCodeAt(0),Q:"Q".charCodeAt(0),R:"R".charCodeAt(0),S:"S".charCodeAt(0),T:"T".charCodeAt(0),U:"U".charCodeAt(0),V:"V".charCodeAt(0),W:"W".charCodeAt(0),X:"X".charCodeAt(0),Y:"Y".charCodeAt(0),Z:"Z".charCodeAt(0),ZERO:"0".charCodeAt(0),ONE:"1".charCodeAt(0),TWO:"2".charCodeAt(0),THREE:"3".charCodeAt(0),FOUR:"4".charCodeAt(0),FIVE:"5".charCodeAt(0),SIX:"6".charCodeAt(0),SEVEN:"7".charCodeAt(0),EIGHT:"8".charCodeAt(0),NINE:"9".charCodeAt(0),NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,NUMPAD_MULTIPLY:106,NUMPAD_ADD:107,NUMPAD_ENTER:108,NUMPAD_SUBTRACT:109,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,COLON:186,EQUALS:187,COMMA:188,UNDERSCORE:189,PERIOD:190,QUESTION_MARK:191,TILDE:192,OPEN_BRACKET:219,BACKWARD_SLASH:220,CLOSED_BRACKET:221,QUOTES:222,BACKSPACE:8,TAB:9,CLEAR:12,ENTER:13,SHIFT:16,CONTROL:17,ALT:18,CAPS_LOCK:20,ESC:27,SPACEBAR:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PLUS:43,MINUS:44,INSERT:45,DELETE:46,HELP:47,NUM_LOCK:144},G.KeyCode)G.KeyCode.hasOwnProperty(e)&&!e.match(/[a-z]/)&&(G.Keyboard[e]=G.KeyCode[e]);for(i in G.Component=function(){},G.Component.Angle=function(){},G.Component.Angle.prototype={angle:{get:function(){return G.Math.wrapAngle(G.Math.radToDeg(this.rotation))},set:function(t){this.rotation=G.Math.degToRad(G.Math.wrapAngle(t))}}},G.Component.Animation=function(){},G.Component.Animation.prototype={play:function(t,e,i,o){if(this.animations)return this.animations.play(t,e,i,o)}},G.Component.AutoCull=function(){},G.Component.AutoCull.prototype={autoCull:!1,inCamera:{get:function(){return this.autoCull||this.checkWorldBounds||(this._bounds.copyFrom(this.getBounds()),this._bounds.x+=this.game.camera.view.x,this._bounds.y+=this.game.camera.view.y),this.game.world.camera.view.intersects(this._bounds)}}},G.Component.Bounds=function(){},G.Component.Bounds.prototype={offsetX:{get:function(){return this.anchor.x*this.width}},offsetY:{get:function(){return this.anchor.y*this.height}},centerX:{get:function(){return this.x-this.offsetX+.5*this.width},set:function(t){this.x=t+this.offsetX-.5*this.width}},centerY:{get:function(){return this.y-this.offsetY+.5*this.height},set:function(t){this.y=t+this.offsetY-.5*this.height}},left:{get:function(){return this.x-this.offsetX},set:function(t){this.x=t+this.offsetX}},right:{get:function(){return this.x+this.width-this.offsetX},set:function(t){this.x=t-this.width+this.offsetX}},top:{get:function(){return this.y-this.offsetY},set:function(t){this.y=t+this.offsetY}},bottom:{get:function(){return this.y+this.height-this.offsetY},set:function(t){this.y=t-this.height+this.offsetY}},alignIn:function(t,e,i,o){switch(void 0===i&&(i=0),void 0===o&&(o=0),e){default:case G.TOP_LEFT:this.left=t.left-i,this.top=t.top-o;break;case G.TOP_CENTER:this.centerX=t.centerX+i,this.top=t.top-o;break;case G.TOP_RIGHT:this.right=t.right+i,this.top=t.top-o;break;case G.LEFT_CENTER:this.left=t.left-i,this.centerY=t.centerY+o;break;case G.CENTER:this.centerX=t.centerX+i,this.centerY=t.centerY+o;break;case G.RIGHT_CENTER:this.right=t.right+i,this.centerY=t.centerY+o;break;case G.BOTTOM_LEFT:this.left=t.left-i,this.bottom=t.bottom+o;break;case G.BOTTOM_CENTER:this.centerX=t.centerX+i,this.bottom=t.bottom+o;break;case G.BOTTOM_RIGHT:this.right=t.right+i,this.bottom=t.bottom+o}return this},alignTo:function(t,e,i,o){switch(void 0===i&&(i=0),void 0===o&&(o=0),e){default:case G.TOP_LEFT:this.left=t.left-i,this.bottom=t.top-o;break;case G.TOP_CENTER:this.centerX=t.centerX+i,this.bottom=t.top-o;break;case G.TOP_RIGHT:this.right=t.right+i,this.bottom=t.top-o;break;case G.LEFT_TOP:this.right=t.left-i,this.top=t.top-o;break;case G.LEFT_CENTER:this.right=t.left-i,this.centerY=t.centerY+o;break;case G.LEFT_BOTTOM:this.right=t.left-i,this.bottom=t.bottom+o;break;case G.RIGHT_TOP:this.left=t.right+i,this.top=t.top-o;break;case G.RIGHT_CENTER:this.left=t.right+i,this.centerY=t.centerY+o;break;case G.RIGHT_BOTTOM:this.left=t.right+i,this.bottom=t.bottom+o;break;case G.BOTTOM_LEFT:this.left=t.left-i,this.top=t.bottom+o;break;case G.BOTTOM_CENTER:this.centerX=t.centerX+i,this.top=t.bottom+o;break;case G.BOTTOM_RIGHT:this.right=t.right+i,this.top=t.bottom+o}return this}},G.Group.prototype.alignIn=G.Component.Bounds.prototype.alignIn,G.Group.prototype.alignTo=G.Component.Bounds.prototype.alignTo,G.Component.BringToTop=function(){},G.Component.BringToTop.prototype.bringToTop=function(){return this.parent&&this.parent.bringToTop(this),this},G.Component.BringToTop.prototype.sendToBack=function(){return this.parent&&this.parent.sendToBack(this),this},G.Component.BringToTop.prototype.moveUp=function(){return this.parent&&this.parent.moveUp(this),this},G.Component.BringToTop.prototype.moveDown=function(){return this.parent&&this.parent.moveDown(this),this},G.Component.Core=function(){},G.Component.Core.install=function(t){G.Utils.mixinPrototype(this,G.Component.Core.prototype),this.components={};for(var e=0;e<t.length;e++){var i=t[e],o="Destroy"===i?!0:!1;G.Utils.mixinPrototype(this,G.Component[i].prototype,o),this.components[i]=!0}},G.Component.Core.init=function(t,e,i,o,n){this.game=t,this.key=o,this.data={},this.position.set(e,i),this.world=new G.Point(e,i),this.previousPosition=new G.Point(e,i),this.events=new G.Events(this),this._bounds=new G.Rectangle,this.components.PhysicsBody&&(this.body=this.body),this.components.Animation&&(this.animations=new G.AnimationManager(this)),this.components.LoadTexture&&null!==o&&this.loadTexture(o,n),this.components.FixedToCamera&&(this.cameraOffset=new G.Point(e,i))},G.Component.Core.preUpdate=function(){if(!this.pendingDestroy){if(this.previousPosition.set(this.world.x,this.world.y),this.previousRotation=this.rotation,!this.exists||!this.parent.exists)return!(this.renderOrderID=-1);this.world.setTo(this.game.camera.x+this.worldTransform.tx,this.game.camera.y+this.worldTransform.ty),this.visible&&(this.renderOrderID=this.game.stage.currentRenderOrderID++),this.animations&&this.animations.update(),this.body&&this.body.preUpdate();for(var t=0;t<this.children.length;t++)this.children[t].preUpdate();return!0}this.destroy()},G.Component.Core.prototype={game:null,name:"",data:{},components:{},z:0,events:void 0,animations:void 0,key:"",world:null,debug:!1,previousPosition:null,previousRotation:0,renderOrderID:0,fresh:!0,pendingDestroy:!1,_bounds:null,_exists:!0,exists:{get:function(){return this._exists},set:function(t){t?(this._exists=!0,this.body&&this.body.type===G.Physics.P2JS&&this.body.addToWorld(),this.visible=!0):(this._exists=!1,this.body&&this.body.type===G.Physics.P2JS&&this.body.removeFromWorld(),this.visible=!1)}},update:function(){},postUpdate:function(){this.customRender&&this.key.render(),this.components.PhysicsBody&&G.Component.PhysicsBody.postUpdate.call(this),this.components.FixedToCamera&&G.Component.FixedToCamera.postUpdate.call(this);for(var t=0;t<this.children.length;t++)this.children[t].postUpdate()}},G.Component.Crop=function(){},G.Component.Crop.prototype={cropRect:null,_crop:null,crop:function(t,e){void 0===e&&(e=!1),t?(e&&null!==this.cropRect?this.cropRect.setTo(t.x,t.y,t.width,t.height):e&&null===this.cropRect?this.cropRect=new G.Rectangle(t.x,t.y,t.width,t.height):this.cropRect=t,this.updateCrop()):(this._crop=null,this.cropRect=null,this.resetFrame())},updateCrop:function(){var t,e,i,o,n,s,r,c;this.cropRect&&(t=this.texture.crop.x,e=this.texture.crop.y,i=this.texture.crop.width,o=this.texture.crop.height,this._crop=G.Rectangle.clone(this.cropRect,this._crop),this._crop.x+=this._frame.x,this._crop.y+=this._frame.y,n=Math.max(this._frame.x,this._crop.x),s=Math.max(this._frame.y,this._crop.y),r=Math.min(this._frame.right,this._crop.right)-n,c=Math.min(this._frame.bottom,this._crop.bottom)-s,this.texture.crop.x=n,this.texture.crop.y=s,this.texture.crop.width=r,this.texture.crop.height=c,this.texture.frame.width=Math.min(r,this.cropRect.width),this.texture.frame.height=Math.min(c,this.cropRect.height),this.texture.width=this.texture.frame.width,this.texture.height=this.texture.frame.height,this.texture._updateUvs(),16777215===this.tint||t===n&&e===s&&i===r&&o===c||(this.texture.requiresReTint=!0))}},G.Component.Delta=function(){},G.Component.Delta.prototype={deltaX:{get:function(){return this.world.x-this.previousPosition.x}},deltaY:{get:function(){return this.world.y-this.previousPosition.y}},deltaZ:{get:function(){return this.rotation-this.previousRotation}}},G.Component.Destroy=function(){},G.Component.Destroy.prototype={destroyPhase:!1,destroy:function(t,e){if(null!==this.game&&!this.destroyPhase){void 0===t&&(t=!0),void 0===e&&(e=!1),this.destroyPhase=!0,this.events&&this.events.onDestroy$dispatch(this),this.parent&&(this.parent instanceof G.Group?this.parent.remove(this):this.parent.removeChild(this)),this.input&&this.input.destroy(),this.animations&&this.animations.destroy(),this.body&&this.body.destroy(),this.events&&this.events.destroy(),this.game.tweens.removeFrom(this);var i=this.children.length;if(t)for(;i--;)this.children[i].destroy(t);else for(;i--;)this.removeChild(this.children[i]);this._crop&&(this._crop=null,this.cropRect=null),this._frame&&(this._frame=null),G.Video&&this.key instanceof G.Video&&this.key.onChangeSource.remove(this.resizeFrame,this),G.BitmapText&&this._glyphs&&(this._glyphs=[]),this.alive=!1,this.exists=!1,this.visible=!1,this.filters=null,this.mask=null,this.game=null,this.data={},this.renderable=!1,this.transformCallback&&(this.transformCallback=null,this.transformCallbackContext=null),this.hitArea=null,this.parent=null,this.stage=null,this.worldTransform=null,this.filterArea=null,this._bounds=null,this._currentBounds=null,this._mask=null,this._destroyCachedSprite(),e&&this.texture.destroy(!0),this.destroyPhase=!1,this.pendingDestroy=!1}}},G.Events=function(t){this.parent=t},G.Events.prototype={destroy:function(){this._parent=null,this._onDestroy&&this._onDestroy.dispose(),this._onAddedToGroup&&this._onAddedToGroup.dispose(),this._onRemovedFromGroup&&this._onRemovedFromGroup.dispose(),this._onRemovedFromWorld&&this._onRemovedFromWorld.dispose(),this._onKilled&&this._onKilled.dispose(),this._onRevived&&this._onRevived.dispose(),this._onEnterBounds&&this._onEnterBounds.dispose(),this._onOutOfBounds&&this._onOutOfBounds.dispose(),this._onInputOver&&this._onInputOver.dispose(),this._onInputOut&&this._onInputOut.dispose(),this._onInputDown&&this._onInputDown.dispose(),this._onInputUp&&this._onInputUp.dispose(),this._onDragStart&&this._onDragStart.dispose(),this._onDragUpdate&&this._onDragUpdate.dispose(),this._onDragStop&&this._onDragStop.dispose(),this._onAnimationStart&&this._onAnimationStart.dispose(),this._onAnimationComplete&&this._onAnimationComplete.dispose(),this._onAnimationLoop&&this._onAnimationLoop.dispose()},onAddedToGroup:null,onRemovedFromGroup:null,onRemovedFromWorld:null,onDestroy:null,onKilled:null,onRevived:null,onOutOfBounds:null,onEnterBounds:null,onInputOver:null,onInputOut:null,onInputDown:null,onInputUp:null,onDragStart:null,onDragUpdate:null,onDragStop:null,onAnimationStart:null,onAnimationComplete:null,onAnimationLoop:null},G.Events.prototype.constructor=G.Events,G.Events.prototype)G.Events.prototype.hasOwnProperty(i)&&0===i.indexOf("on")&&null===G.Events.prototype[i]&&function(t,e){"use strict";Object.defineProperty(G.Events.prototype,t,{get:function(){return this[e]||(this[e]=new G.Signal)}}),G.Events.prototype[t+"$dispatch"]=function(){return this[e]?this[e].dispatch.apply(this[e],arguments):null}}(i,"_"+i);G.Component.FixedToCamera=function(){},G.Component.FixedToCamera.postUpdate=function(){this.fixedToCamera&&(this.position.x=(this.game.camera.view.x+this.cameraOffset.x)/this.game.camera.scale.x,this.position.y=(this.game.camera.view.y+this.cameraOffset.y)/this.game.camera.scale.y)},G.Component.FixedToCamera.prototype={_fixedToCamera:!1,fixedToCamera:{get:function(){return this._fixedToCamera},set:function(t){t?(this._fixedToCamera=!0,this.cameraOffset.set(this.x,this.y)):this._fixedToCamera=!1}},cameraOffset:new G.Point},G.Component.Health=function(){},G.Component.Health.prototype={health:1,maxHealth:100,damage:function(t){return this.alive&&(this.health-=t,this.health<=0&&this.kill()),this},setHealth:function(t){return this.health=t,this.health>this.maxHealth&&(this.health=this.maxHealth),this},heal:function(t){return this.alive&&(this.health+=t,this.health>this.maxHealth&&(this.health=this.maxHealth)),this}},G.Component.InCamera=function(){},G.Component.InCamera.prototype={inCamera:{get:function(){return this.game.world.camera.view.intersects(this._bounds)}}},G.Component.InputEnabled=function(){},G.Component.InputEnabled.prototype={input:null,inputEnabled:{get:function(){return this.input&&this.input.enabled},set:function(t){t?null===this.input?(this.input=new G.InputHandler(this),this.input.start()):this.input&&!this.input.enabled&&this.input.start():this.input&&this.input.enabled&&this.input.stop()}}},G.Component.InWorld=function(){},G.Component.InWorld.preUpdate=function(){if(this.autoCull||this.checkWorldBounds){if(this._bounds.copyFrom(this.getBounds()),this._bounds.x+=this.game.camera.view.x,this._bounds.y+=this.game.camera.view.y,this.autoCull)if(this.game.world.camera.view.intersects(this._bounds))this.renderable=!0,this.game.world.camera.totalInView++;else if(this.renderable=!1,this.outOfCameraBoundsKill)return this.kill(),!1;if(this.checkWorldBounds)if(this._outOfBoundsFired&&this.game.world.bounds.intersects(this._bounds))this._outOfBoundsFired=!1,this.events.onEnterBounds$dispatch(this);else if(!this._outOfBoundsFired&&!this.game.world.bounds.intersects(this._bounds)&&(this._outOfBoundsFired=!0,this.events.onOutOfBounds$dispatch(this),this.outOfBoundsKill))return this.kill(),!1}return!0},G.Component.InWorld.prototype={checkWorldBounds:!1,outOfBoundsKill:!1,outOfCameraBoundsKill:!1,_outOfBoundsFired:!1,inWorld:{get:function(){return this.game.world.bounds.intersects(this.getBounds())}}},G.Component.LifeSpan=function(){},G.Component.LifeSpan.preUpdate=function(){return!(0<this.lifespan&&(this.lifespan-=this.game.time.physicsElapsedMS,this.lifespan<=0)&&(this.kill(),1))},G.Component.LifeSpan.prototype={alive:!0,lifespan:0,revive:function(t){return void 0===t&&(t=100),this.alive=!0,this.exists=!0,this.visible=!0,"function"==typeof this.setHealth&&this.setHealth(t),this.events&&this.events.onRevived$dispatch(this),this},kill:function(){return this.alive=!1,this.exists=!1,this.visible=!1,this.events&&this.events.onKilled$dispatch(this),this}},G.Component.LoadTexture=function(){},G.Component.LoadTexture.prototype={customRender:!1,_frame:null,loadTexture:function(t,e,i){e=t===G.PENDING_ATLAS?(t=e,0):e||0,(i||void 0===i)&&this.animations&&this.animations.stop(),this.key=t,this.customRender=!1;var o,i=this.game.cache,n=!0,s=!this.texture.baseTexture.scaleMode;G.RenderTexture&&t instanceof G.RenderTexture?(this.key=t.key,this.setTexture(t)):G.BitmapData&&t instanceof G.BitmapData?(this.customRender=!0,this.setTexture(t.texture),n=i.hasFrameData(t.key,G.Cache.BITMAPDATA)?!this.animations.loadFrameData(i.getFrameData(t.key,G.Cache.BITMAPDATA),e):!this.animations.loadFrameData(t.frameData,0)):G.Video&&t instanceof G.Video?(this.customRender=!0,o=t.texture.valid,this.setTexture(t.texture),this.setFrame(t.texture.frame.clone()),t.onChangeSource.add(this.resizeFrame,this),this.texture.valid=o):G.Tilemap&&t instanceof G.TilemapLayer?this.setTexture(PIXI.Texture.fromCanvas(t.canvas)):t instanceof PIXI.Texture?this.setTexture(t):(o=i.getImage(t,!0),this.key=o.key,this.setTexture(new PIXI.Texture(o.base)),this.texture.baseTexture.skipRender="__default"===t,n=!this.animations.loadFrameData(o.frameData,e)),n&&(this._frame=G.Rectangle.clone(this.texture.frame)),s||(this.texture.baseTexture.scaleMode=1)},setFrame:function(t){this._frame=t,this.texture.frame.x=t.x,this.texture.frame.y=t.y,this.texture.frame.width=t.width,this.texture.frame.height=t.height,this.texture.crop.x=t.x,this.texture.crop.y=t.y,this.texture.crop.width=t.width,this.texture.crop.height=t.height,t.trimmed?(this.texture.trim?(this.texture.trim.x=t.spriteSourceSizeX,this.texture.trim.y=t.spriteSourceSizeY,this.texture.trim.width=t.sourceSizeW,this.texture.trim.height=t.sourceSizeH):this.texture.trim={x:t.spriteSourceSizeX,y:t.spriteSourceSizeY,width:t.sourceSizeW,height:t.sourceSizeH},this.texture.width=t.sourceSizeW,this.texture.height=t.sourceSizeH,this.texture.frame.width=t.sourceSizeW,this.texture.frame.height=t.sourceSizeH):!t.trimmed&&this.texture.trim&&(this.texture.trim=null),this.cropRect&&this.updateCrop(),this.texture.requiresReTint=!0,this.texture._updateUvs(),this.tilingTexture&&(this.refreshTexture=!0)},resizeFrame:function(t,e,i){this.texture.frame.resize(e,i),this.texture.setFrame(this.texture.frame)},resetFrame:function(){this._frame&&this.setFrame(this._frame)},frame:{get:function(){return this.animations.frame},set:function(t){this.animations.frame=t}},frameName:{get:function(){return this.animations.frameName},set:function(t){this.animations.frameName=t}}},G.Component.Overlap=function(){},G.Component.Overlap.prototype={overlap:function(t){return G.Rectangle.intersects(this.getBounds(),t.getBounds())}},G.Component.PhysicsBody=function(){},G.Component.PhysicsBody.preUpdate=function(){return this.fresh&&this.exists?(this.world.setTo(this.parent.position.x+this.position.x,this.parent.position.y+this.position.y),this.worldTransform.tx=this.world.x,this.worldTransform.ty=this.world.y,this.previousPosition.set(this.world.x,this.world.y),this.previousRotation=this.rotation,this.body&&this.body.preUpdate(),this.fresh=!1):(this.previousPosition.set(this.world.x,this.world.y),this.previousRotation=this.rotation,!(!this._exists||!this.parent.exists)||!(this.renderOrderID=-1))},G.Component.PhysicsBody.postUpdate=function(){this.exists&&this.body&&this.body.postUpdate()},G.Component.PhysicsBody.prototype={body:null,x:{get:function(){return this.position.x},set:function(t){this.position.x=t,this.body&&!this.body.dirty&&(this.body._reset=!0)}},y:{get:function(){return this.position.y},set:function(t){this.position.y=t,this.body&&!this.body.dirty&&(this.body._reset=!0)}}},G.Component.Reset=function(){},G.Component.Reset.prototype.reset=function(t,e,i){return void 0===i&&(i=1),this.world.set(t,e),this.position.set(t,e),this.fresh=!0,this.exists=!0,this.visible=!0,this.renderable=!0,this.components.InWorld&&(this._outOfBoundsFired=!1),this.components.LifeSpan&&(this.alive=!0,this.health=i),this.components.PhysicsBody&&this.body&&this.body.reset(t,e,!1,!1),this},G.Component.ScaleMinMax=function(){},G.Component.ScaleMinMax.prototype={transformCallback:null,transformCallbackContext:this,scaleMin:null,scaleMax:null,checkTransform:function(t){this.scaleMin&&(t.a<this.scaleMin.x&&(t.a=this.scaleMin.x),t.d<this.scaleMin.y&&(t.d=this.scaleMin.y)),this.scaleMax&&(t.a>this.scaleMax.x&&(t.a=this.scaleMax.x),t.d>this.scaleMax.y&&(t.d=this.scaleMax.y))},setScaleMinMax:function(t,e,i,o){void 0===e?e=i=o=t:void 0===i&&(i=o=e,e=t),null===t?this.scaleMin=null:this.scaleMin?this.scaleMin.set(t,e):this.scaleMin=new G.Point(t,e),null===i?this.scaleMax=null:this.scaleMax?this.scaleMax.set(i,o):this.scaleMax=new G.Point(i,o),null===this.scaleMin?this.transformCallback=null:(this.transformCallback=this.checkTransform,this.transformCallbackContext=this)}},G.Component.Smoothed=function(){},G.Component.Smoothed.prototype={smoothed:{get:function(){return!this.texture.baseTexture.scaleMode},set:function(t){t?this.texture&&(this.texture.baseTexture.scaleMode=0):this.texture&&(this.texture.baseTexture.scaleMode=1)}}},G.GameObjectFactory=function(t){this.game=t,this.world=this.game.world},G.GameObjectFactory.prototype={existing:function(t){return this.world.add(t)},weapon:function(t,e,i,o){var n=this.game.plugins.add(G.Weapon);return n.createBullets(t,e,i,o),n},image:function(t,e,i,o,n){return(n=void 0===n?this.world:n).add(new G.Image(this.game,t,e,i,o))},sprite:function(t,e,i,o,n){return(n=void 0===n?this.world:n).create(t,e,i,o)},creature:function(t,e,i,o,n){void 0===n&&(n=this.world);t=new G.Creature(this.game,t,e,i,o);return n.add(t),t},tween:function(t){return this.game.tweens.create(t)},group:function(t,e,i,o,n){return new G.Group(this.game,t,e,i,o,n)},physicsGroup:function(t,e,i,o){return new G.Group(this.game,e,i,o,!0,t)},spriteBatch:function(t,e,i){return new G.SpriteBatch(this.game,t=void 0===t?null:t,e=void 0===e?"group":e,i=void 0===i?!1:i)},audio:function(t,e,i,o){return this.game.sound.add(t,e,i,o)},sound:function(t,e,i,o){return this.game.sound.add(t,e,i,o)},audioSprite:function(t){return this.game.sound.addSprite(t)},tileSprite:function(t,e,i,o,n,s,r){return(r=void 0===r?this.world:r).add(new G.TileSprite(this.game,t,e,i,o,n,s))},rope:function(t,e,i,o,n,s){return(s=void 0===s?this.world:s).add(new G.Rope(this.game,t,e,i,o,n))},text:function(t,e,i,o,n){return(n=void 0===n?this.world:n).add(new G.Text(this.game,t,e,i,o))},button:function(t,e,i,o,n,s,r,c,a,h){return(h=void 0===h?this.world:h).add(new G.Button(this.game,t,e,i,o,n,s,r,c,a))},graphics:function(t,e,i){return(i=void 0===i?this.world:i).add(new G.Graphics(this.game,t,e))},emitter:function(t,e,i){return this.game.particles.add(new G.Particles.Arcade.Emitter(this.game,t,e,i))},retroFont:function(t,e,i,o,n,s,r,c,a){return new G.RetroFont(this.game,t,e,i,o,n,s,r,c,a)},bitmapText:function(t,e,i,o,n,s){return(s=void 0===s?this.world:s).add(new G.BitmapText(this.game,t,e,i,o,n))},tilemap:function(t,e,i,o,n){return new G.Tilemap(this.game,t,e,i,o,n)},renderTexture:function(t,e,i,o){void 0!==i&&""!==i||(i=this.game.rnd.uuid()),void 0===o&&(o=!1);t=new G.RenderTexture(this.game,t,e,i);return o&&this.game.cache.addRenderTexture(i,t),t},video:function(t,e){return new G.Video(this.game,t,e)},bitmapData:function(t,e,i,o){void 0===o&&(o=!1),void 0!==i&&""!==i||(i=this.game.rnd.uuid());t=new G.BitmapData(this.game,i,t,e);return o&&this.game.cache.addBitmapData(i,t),t},filter:function(t){var e=Array.prototype.slice.call(arguments,1),t=new G.Filter[t](this.game);return t.init.apply(t,e),t},plugin:function(t){return this.game.plugins.add(t)}},G.GameObjectFactory.prototype.constructor=G.GameObjectFactory,G.GameObjectCreator=function(t){this.game=t,this.world=this.game.world},G.GameObjectCreator.prototype={image:function(t,e,i,o){return new G.Image(this.game,t,e,i,o)},sprite:function(t,e,i,o){return new G.Sprite(this.game,t,e,i,o)},tween:function(t){return new G.Tween(t,this.game,this.game.tweens)},group:function(t,e,i,o,n){return new G.Group(this.game,t,e,i,o,n)},spriteBatch:function(t,e,i){return new G.SpriteBatch(this.game,t,e=void 0===e?"group":e,i=void 0===i?!1:i)},audio:function(t,e,i,o){return this.game.sound.add(t,e,i,o)},audioSprite:function(t){return this.game.sound.addSprite(t)},sound:function(t,e,i,o){return this.game.sound.add(t,e,i,o)},tileSprite:function(t,e,i,o,n,s){return new G.TileSprite(this.game,t,e,i,o,n,s)},rope:function(t,e,i,o,n){return new G.Rope(this.game,t,e,i,o,n)},text:function(t,e,i,o){return new G.Text(this.game,t,e,i,o)},button:function(t,e,i,o,n,s,r,c,a){return new G.Button(this.game,t,e,i,o,n,s,r,c,a)},graphics:function(t,e){return new G.Graphics(this.game,t,e)},emitter:function(t,e,i){return new G.Particles.Arcade.Emitter(this.game,t,e,i)},retroFont:function(t,e,i,o,n,s,r,c,a){return new G.RetroFont(this.game,t,e,i,o,n,s,r,c,a)},bitmapText:function(t,e,i,o,n,s){return new G.BitmapText(this.game,t,e,i,o,n,s)},tilemap:function(t,e,i,o,n){return new G.Tilemap(this.game,t,e,i,o,n)},renderTexture:function(t,e,i,o){void 0!==i&&""!==i||(i=this.game.rnd.uuid()),void 0===o&&(o=!1);t=new G.RenderTexture(this.game,t,e,i);return o&&this.game.cache.addRenderTexture(i,t),t},bitmapData:function(t,e,i,o){void 0===o&&(o=!1),void 0!==i&&""!==i||(i=this.game.rnd.uuid());t=new G.BitmapData(this.game,i,t,e);return o&&this.game.cache.addBitmapData(i,t),t},filter:function(t){var e=Array.prototype.slice.call(arguments,1),t=new G.Filter[t](this.game);return t.init.apply(t,e),t}},G.GameObjectCreator.prototype.constructor=G.GameObjectCreator,G.Sprite=function(t,e,i,o,n){e=e||0,i=i||0,o=o||null,n=n||null,this.type=G.SPRITE,this.physicsType=G.SPRITE,PIXI.Sprite.call(this,G.Cache.DEFAULT),G.Component.Core.init.call(this,t,e,i,o,n)},G.Sprite.prototype=Object.create(PIXI.Sprite.prototype),G.Sprite.prototype.constructor=G.Sprite,G.Component.Core.install.call(G.Sprite.prototype,["Angle","Animation","AutoCull","Bounds","BringToTop","Crop","Delta","Destroy","FixedToCamera","Health","InCamera","InputEnabled","InWorld","LifeSpan","LoadTexture","Overlap","PhysicsBody","Reset","ScaleMinMax","Smoothed"]),G.Sprite.prototype.preUpdatePhysics=G.Component.PhysicsBody.preUpdate,G.Sprite.prototype.preUpdateLifeSpan=G.Component.LifeSpan.preUpdate,G.Sprite.prototype.preUpdateInWorld=G.Component.InWorld.preUpdate,G.Sprite.prototype.preUpdateCore=G.Component.Core.preUpdate,G.Sprite.prototype.preUpdate=function(){return!!(this.preUpdatePhysics()&&this.preUpdateLifeSpan()&&this.preUpdateInWorld())&&this.preUpdateCore()},G.Image=function(t,e,i,o,n){e=e||0,i=i||0,o=o||null,n=n||null,this.type=G.IMAGE,PIXI.Sprite.call(this,G.Cache.DEFAULT),G.Component.Core.init.call(this,t,e,i,o,n)},G.Image.prototype=Object.create(PIXI.Sprite.prototype),G.Image.prototype.constructor=G.Image,G.Component.Core.install.call(G.Image.prototype,["Angle","Animation","AutoCull","Bounds","BringToTop","Crop","Destroy","FixedToCamera","InputEnabled","LifeSpan","LoadTexture","Overlap","Reset","ScaleMinMax","Smoothed"]),G.Image.prototype.preUpdateInWorld=G.Component.InWorld.preUpdate,G.Image.prototype.preUpdateCore=G.Component.Core.preUpdate,G.Image.prototype.preUpdate=function(){return!!this.preUpdateInWorld()&&this.preUpdateCore()},G.Button=function(t,e,i,o,n,s,r,c,a,h){n=n||null,s=s||this,G.Image.call(this,t,e=e||0,i=i||0,o=o||null,c),this.type=G.BUTTON,this.physicsType=G.SPRITE,this._onOverFrame=null,this._onOutFrame=null,this._onDownFrame=null,this._onUpFrame=null,this.onOverSound=null,this.onOutSound=null,this.onDownSound=null,this.onUpSound=null,this.onOverSoundMarker="",this.onOutSoundMarker="",this.onDownSoundMarker="",this.onUpSoundMarker="",this.onInputOver=new G.Signal,this.onInputOut=new G.Signal,this.onInputDown=new G.Signal,this.onInputUp=new G.Signal,this.onOverMouseOnly=!0,this.justReleasedPreventsOver=G.PointerMode.TOUCH,this.freezeFrames=!1,this.forceOut=!1,this.inputEnabled=!0,this.input.start(0,!0),this.input.useHandCursor=!0,this.setFrames(r,c,a,h),null!==n&&this.onInputUp.add(n,s),this.events.onInputOver.add(this.onInputOverHandler,this),this.events.onInputOut.add(this.onInputOutHandler,this),this.events.onInputDown.add(this.onInputDownHandler,this),this.events.onInputUp.add(this.onInputUpHandler,this),this.events.onRemovedFromWorld.add(this.removedFromWorld,this)},G.Button.prototype=Object.create(G.Image.prototype),G.Button.prototype.constructor=G.Button;var a="Over",h="Out",u="Down",l="Up",r=(G.Button.prototype.clearFrames=function(){this.setFrames(null,null,null,null)},G.Button.prototype.removedFromWorld=function(){this.inputEnabled=!1},G.Button.prototype.setStateFrame=function(t,e,i){var o="_on"+t+"Frame";null!==e?(this[o]=e,i&&this.changeStateFrame(t)):this[o]=null},G.Button.prototype.changeStateFrame=function(t){if(this.freezeFrames)return!1;t=this["_on"+t+"Frame"];return"string"==typeof t?(this.frameName=t,!0):"number"==typeof t&&(this.frame=t,!0)},G.Button.prototype.setFrames=function(t,e,i,o){this.setStateFrame(a,t,this.input.pointerOver()),this.setStateFrame(h,e,!this.input.pointerOver()),this.setStateFrame(u,i,this.input.pointerDown()),this.setStateFrame(l,o,this.input.pointerUp())},G.Button.prototype.setStateSound=function(t,e,i){var o="on"+t+"Sound",t="on"+t+"SoundMarker";e instanceof G.Sound||e instanceof G.AudioSprite?(this[o]=e,this[t]="string"==typeof i?i:""):(this[o]=null,this[t]="")},G.Button.prototype.playStateSound=function(t){var e=this["on"+t+"Sound"];return!!e&&(t=this["on"+t+"SoundMarker"],e.play(t),!0)},G.Button.prototype.setSounds=function(t,e,i,o,n,s,r,c){this.setStateSound(a,t,e),this.setStateSound(h,n,s),this.setStateSound(u,i,o),this.setStateSound(l,r,c)},G.Button.prototype.setOverSound=function(t,e){this.setStateSound(a,t,e)},G.Button.prototype.setOutSound=function(t,e){this.setStateSound(h,t,e)},G.Button.prototype.setDownSound=function(t,e){this.setStateSound(u,t,e)},G.Button.prototype.setUpSound=function(t,e){this.setStateSound(l,t,e)},G.Button.prototype.onInputOverHandler=function(t,e){e.justReleased()&&(this.justReleasedPreventsOver&e.pointerMode)===e.pointerMode||(this.changeStateFrame(a),this.onOverMouseOnly&&!e.isMouse||(this.playStateSound(a),this.onInputOver&&this.onInputOver.dispatch(this,e)))},G.Button.prototype.onInputOutHandler=function(t,e){this.changeStateFrame(h),this.playStateSound(h),this.onInputOut&&this.onInputOut.dispatch(this,e)},G.Button.prototype.onInputDownHandler=function(t,e){this.changeStateFrame(u),this.playStateSound(u),this.onInputDown&&this.onInputDown.dispatch(this,e)},G.Button.prototype.onInputUpHandler=function(t,e,i){this.playStateSound(l),this.onInputUp&&this.onInputUp.dispatch(this,e,i),this.freezeFrames||(!0===this.forceOut||(this.forceOut&e.pointerMode)===e.pointerMode?this.changeStateFrame(h):this.changeStateFrame(l)||(i?this.changeStateFrame(a):this.changeStateFrame(h)))},G.SpriteBatch=function(t,e,i,o){null==e&&(e=t.world),PIXI.SpriteBatch.call(this),G.Group.call(this,t,e,i,o),this.type=G.SPRITEBATCH},G.SpriteBatch.prototype=G.Utils.extend(!0,G.SpriteBatch.prototype,PIXI.SpriteBatch.prototype,G.Group.prototype),G.SpriteBatch.prototype.constructor=G.SpriteBatch,G.BitmapData=function(t,e,i,o,n){void 0!==i&&0!==i||(i=256),void 0!==o&&0!==o||(o=256),void 0===n&&(n=!1),this.game=t,this.key=e,this.width=i,this.height=o,this.canvas=G.Canvas.create(this,i,o,null,n),this.context=this.canvas.getContext("2d",{alpha:!0}),this.ctx=this.context,this.smoothProperty=t.renderType===G.CANVAS?t.renderer.renderSession.smoothProperty:G.Canvas.getSmoothingPrefix(this.context),this.imageData=this.context.getImageData(0,0,i,o),this.data=null,this.imageData&&(this.data=this.imageData.data),this.pixels=null,this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data),this.baseTexture=new PIXI.BaseTexture(this.canvas),this.texture=new PIXI.Texture(this.baseTexture),this.frameData=new G.FrameData,this.textureFrame=this.frameData.addFrame(new G.Frame(0,0,0,i,o,"bitmapData")),this.texture.frame=this.textureFrame,this.type=G.BITMAPDATA,this.disableTextureUpload=!1,this.dirty=!1,this.cls=this.clear,this._image=null,this._pos=new G.Point,this._size=new G.Point,this._scale=new G.Point,this._rotate=0,this._alpha={prev:1,current:1},this._anchor=new G.Point,this._tempR=0,this._tempG=0,this._tempB=0,this._circle=new G.Circle,this._swapCanvas=void 0},G.BitmapData.prototype={move:function(t,e,i){return 0!==t&&this.moveH(t,i),0!==e&&this.moveV(e,i),this},moveH:function(t,e){void 0===e&&(e=!0),void 0===this._swapCanvas&&(this._swapCanvas=PIXI.CanvasPool.create(this,this.width,this.height));var i,o=this._swapCanvas.getContext("2d"),n=this.height,s=this.canvas;return o.clearRect(0,0,this.width,this.height),t<0?(t=Math.abs(t),i=this.width-t,e&&o.drawImage(s,0,0,t,n,i,0,t,n),o.drawImage(s,t,0,i,n,0,0,i,n)):(i=this.width-t,e&&o.drawImage(s,i,0,t,n,0,0,t,n),o.drawImage(s,0,0,i,n,t,0,i,n)),this.clear(),this.copy(this._swapCanvas)},moveV:function(t,e){void 0===e&&(e=!0),void 0===this._swapCanvas&&(this._swapCanvas=PIXI.CanvasPool.create(this,this.width,this.height));var i,o=this._swapCanvas.getContext("2d"),n=this.width,s=this.canvas;return o.clearRect(0,0,this.width,this.height),t<0?(t=Math.abs(t),i=this.height-t,e&&o.drawImage(s,0,0,n,t,0,i,n,t),o.drawImage(s,0,t,n,i,0,0,n,i)):(i=this.height-t,e&&o.drawImage(s,0,i,n,t,0,0,n,t),o.drawImage(s,0,0,n,i,0,t,n,i)),this.clear(),this.copy(this._swapCanvas)},add:function(t){if(Array.isArray(t))for(var e=0;e<t.length;e++)t[e].loadTexture&&t[e].loadTexture(this);else t.loadTexture(this);return this},load:function(t){if(t="string"==typeof t?this.game.cache.getImage(t):t)return this.resize(t.width,t.height),this.cls(),this.draw(t),this.update(),this},clear:function(t,e,i,o){return void 0===i&&(i=this.width),void 0===o&&(o=this.height),this.context.clearRect(t=void 0===t?0:t,e=void 0===e?0:e,i,o),this.dirty=!0,this},fill:function(t,e,i,o){return this.context.fillStyle="rgba("+t+","+e+","+i+","+(o=void 0===o?1:o)+")",this.context.fillRect(0,0,this.width,this.height),this.dirty=!0,this},generateTexture:function(t){var e=new Image,t=(e.src=this.canvas.toDataURL("image/png"),this.game.cache.addImage(t,"",e));return new PIXI.Texture(t.base)},resize:function(t,e){return t===this.width&&e===this.height||(this.width=t,this.height=e,this.canvas.width=t,this.canvas.height=e,void 0!==this._swapCanvas&&(this._swapCanvas.width=t,this._swapCanvas.height=e),this.baseTexture.width=t,this.baseTexture.height=e,this.textureFrame.width=t,this.textureFrame.height=e,this.texture.width=t,this.texture.height=e,this.texture.crop.width=t,this.texture.crop.height=e,this.update(),this.dirty=!0),this},update:function(t,e,i,o){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=Math.max(1,this.width)),void 0===o&&(o=Math.max(1,this.height)),this.imageData=this.context.getImageData(t,e,i,o),this.data=this.imageData.data,this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data,this},processPixelRGB:function(t,e,i,o,n,s){for(var r,c=(i=void 0===i?0:i)+(n=void 0===n?this.width:n),a=(o=void 0===o?0:o)+(s=void 0===s?this.height:s),h=G.Color.createColor(),u=!1,l=o;l<a;l++)for(var d=i;d<c;d++)G.Color.unpackPixel(this.getPixel32(d,l),h),!1!==(r=t.call(e,h,d,l))&&null!=r&&(this.setPixel32(d,l,r.r,r.g,r.b,r.a,!1),u=!0);return u&&(this.context.putImageData(this.imageData,0,0),this.dirty=!0),this},processPixel:function(t,e,i,o,n,s){for(var r,c,a=(i=void 0===i?0:i)+(n=void 0===n?this.width:n),h=(o=void 0===o?0:o)+(s=void 0===s?this.height:s),u=!1,l=o;l<h;l++)for(var d=i;d<a;d++)r=this.getPixel32(d,l),(c=t.call(e,r,d,l))!==r&&(this.pixels[l*this.width+d]=c,u=!0);return u&&(this.context.putImageData(this.imageData,0,0),this.dirty=!0),this},replaceRGB:function(t,e,i,o,n,s,r,c,a){var h=0,u=0,l=this.width,d=this.height,p=G.Color.packPixel(t,e,i,o);void 0!==a&&a instanceof G.Rectangle&&(h=a.x,u=a.y,l=a.width,d=a.height);for(var F=0;F<d;F++)for(var j=0;j<l;j++)this.getPixel32(h+j,u+F)===p&&this.setPixel32(h+j,u+F,n,s,r,c,!1);return this.context.putImageData(this.imageData,0,0),this.dirty=!0,this},setHSL:function(t,e,i,o){var n=t||0===t,s=e||0===e,r=i||0===i;if(n||s||r){void 0===o&&(o=new G.Rectangle(0,0,this.width,this.height));for(var c=G.Color.createColor(),a=o.y;a<o.bottom;a++)for(var h=o.x;h<o.right;h++)G.Color.unpackPixel(this.getPixel32(h,a),c,!0),n&&(c.h=t),s&&(c.s=e),r&&(c.l=i),G.Color.HSLtoRGB(c.h,c.s,c.l,c),this.setPixel32(h,a,c.r,c.g,c.b,c.a,!1);return this.context.putImageData(this.imageData,0,0),this.dirty=!0,this}},shiftHSL:function(t,e,i,o){if(null==e&&(e=!1),null==i&&(i=!1),(t=null==t?!1:t)||e||i){void 0===o&&(o=new G.Rectangle(0,0,this.width,this.height));for(var n=G.Color.createColor(),s=o.y;s<o.bottom;s++)for(var r=o.x;r<o.right;r++)G.Color.unpackPixel(this.getPixel32(r,s),n,!0),t&&(n.h=this.game.math.wrap(n.h+t,0,1)),e&&(n.s=this.game.math.clamp(n.s+e,0,1)),i&&(n.l=this.game.math.clamp(n.l+i,0,1)),G.Color.HSLtoRGB(n.h,n.s,n.l,n),this.setPixel32(r,s,n.r,n.g,n.b,n.a,!1);return this.context.putImageData(this.imageData,0,0),this.dirty=!0,this}},setPixel32:function(t,e,i,o,n,s,r){return void 0===r&&(r=!0),0<=t&&t<=this.width&&0<=e&&e<=this.height&&(G.Device.LITTLE_ENDIAN?this.pixels[e*this.width+t]=s<<24|n<<16|o<<8|i:this.pixels[e*this.width+t]=i<<24|o<<16|n<<8|s,r&&(this.context.putImageData(this.imageData,0,0),this.dirty=!0)),this},setPixel:function(t,e,i,o,n,s){return this.setPixel32(t,e,i,o,n,255,s)},getPixel:function(t,e,i){i=i||G.Color.createColor();t=~~(t+e*this.width);return i.r=this.data[t*=4],i.g=this.data[++t],i.b=this.data[++t],i.a=this.data[++t],i},getPixel32:function(t,e){if(0<=t&&t<=this.width&&0<=e&&e<=this.height)return this.pixels[e*this.width+t]},getPixelRGB:function(t,e,i,o,n){return G.Color.unpackPixel(this.getPixel32(t,e),i,o,n)},getPixels:function(t){return this.context.getImageData(t.x,t.y,t.width,t.height)},getFirstPixel:function(t){void 0===t&&(t=0);var e=G.Color.createColor(),i=0,o=0,n=1,s=!1;for(1===t?(n=-1,o=this.height):3===t&&(n=-1,i=this.width);G.Color.unpackPixel(this.getPixel32(i,o),e),0===t||1===t?++i===this.width&&(i=0,((o+=n)>=this.height||o<=0)&&(s=!0)):2!==t&&3!==t||++o===this.height&&(o=0,((i+=n)>=this.width||i<=0)&&(s=!0)),0===e.a&&!s;);return e.x=i,e.y=o,e},getBounds:function(t){return(t=void 0===t?new G.Rectangle:t).x=this.getFirstPixel(2).x,t.x===this.width?t.setTo(0,0,0,0):(t.y=this.getFirstPixel(0).y,t.width=this.getFirstPixel(3).x-t.x+1,t.height=this.getFirstPixel(1).y-t.y+1,t)},addToWorld:function(t,e,i,o,n,s){n=n||1,s=s||1;t=this.game.add.image(t,e,this);return t.anchor.set(i,o),t.scale.set(n,s),t},copy:function(t,e,i,o,n,s,r,c,a,h,u,l,d,p,F,j,Y){if(((t=null==t?this:t)instanceof G.RenderTexture||t instanceof PIXI.RenderTexture)&&(t=t.getCanvas()),(this._image=t)instanceof G.Sprite||t instanceof G.Image||t instanceof G.Text||t instanceof PIXI.Sprite)this._pos.set(t.texture.crop.x,t.texture.crop.y),this._size.set(t.texture.crop.width,t.texture.crop.height),this._scale.set(t.scale.x,t.scale.y),this._anchor.set(t.anchor.x,t.anchor.y),this._rotate=t.rotation,this._alpha.current=t.alpha,t.texture instanceof G.RenderTexture||t.texture instanceof PIXI.RenderTexture?this._image=t.texture.getCanvas():this._image=t.texture.baseTexture.source,null==s&&(s=t.x),null==r&&(r=t.y),t.texture.trim&&(s+=t.texture.trim.x-t.anchor.x*t.texture.trim.width,r+=t.texture.trim.y-t.anchor.y*t.texture.trim.height),16777215!==t.tint&&(t.cachedTint!==t.tint&&(t.cachedTint=t.tint,t.tintedTexture=PIXI.CanvasTinter.getTintedTexture(t,t.tint)),this._image=t.tintedTexture,this._pos.set(0));else{if(this._pos.set(0),this._scale.set(1),this._anchor.set(0),this._rotate=0,this._alpha.current=1,t instanceof G.BitmapData)this._image=t.canvas;else if("string"==typeof t){if(null===(t=this.game.cache.getImage(t)))return;this._image=t}this._size.set(this._image.width,this._image.height)}if(null==e&&(e=0),null==i&&(i=0),o&&(this._size.x=o),n&&(this._size.y=n),null==s&&(s=e),null==r&&(r=i),null==c&&(c=this._size.x),null==a&&(a=this._size.y),"number"==typeof h&&(this._rotate=h),"number"==typeof u&&(this._anchor.x=u),"number"==typeof l&&(this._anchor.y=l),"number"==typeof d&&(this._scale.x=d),"number"==typeof p&&(this._scale.y=p),"number"==typeof F&&(this._alpha.current=F),void 0===j&&(j=null),void 0===Y&&(Y=!1),!(this._alpha.current<=0||0===this._scale.x||0===this._scale.y||0===this._size.x||0===this._size.y))return t=this.context,this._alpha.prev=t.globalAlpha,t.save(),t.globalAlpha=this._alpha.current,j&&(this.op=j),Y&&(s|=0,r|=0),t.translate(s,r),t.scale(this._scale.x,this._scale.y),t.rotate(this._rotate),t.drawImage(this._image,this._pos.x+e,this._pos.y+i,this._size.x,this._size.y,-c*this._anchor.x,-a*this._anchor.y,c,a),t.restore(),t.globalAlpha=this._alpha.prev,this.dirty=!0,this},copyTransform:function(t,e,i){if(void 0===e&&(e=null),void 0===i&&(i=!1),!t.hasOwnProperty("worldTransform")||!t.worldVisible||0===t.worldAlpha)return this;var o=t.worldTransform;if(this._pos.set(t.texture.crop.x,t.texture.crop.y),this._size.set(t.texture.crop.width,t.texture.crop.height),0===o.a||0===o.d||0===this._size.x||0===this._size.y)return this;t.texture instanceof G.RenderTexture||t.texture instanceof PIXI.RenderTexture?this._image=t.texture.getCanvas():this._image=t.texture.baseTexture.source;var n=o.tx,s=o.ty,i=(t.texture.trim&&(n+=t.texture.trim.x-t.anchor.x*t.texture.trim.width,s+=t.texture.trim.y-t.anchor.y*t.texture.trim.height),16777215!==t.tint&&(t.cachedTint!==t.tint&&(t.cachedTint=t.tint,t.tintedTexture=PIXI.CanvasTinter.getTintedTexture(t,t.tint)),this._image=t.tintedTexture,this._pos.set(0)),i&&(n|=0,s|=0),this.context);return this._alpha.prev=i.globalAlpha,i.save(),i.globalAlpha=this._alpha.current,e&&(this.op=e),i[this.smoothProperty]=t.texture.baseTexture.scaleMode===PIXI.scaleModes.LINEAR,i.setTransform(o.a,o.b,o.c,o.d,n,s),i.drawImage(this._image,this._pos.x,this._pos.y,this._size.x,this._size.y,-this._size.x*t.anchor.x,-this._size.y*t.anchor.y,this._size.x,this._size.y),i.restore(),i.globalAlpha=this._alpha.prev,this.dirty=!0,this},copyRect:function(t,e,i,o,n,s,r){return this.copy(t,e.x,e.y,e.width,e.height,i,o,e.width,e.height,0,0,0,1,1,n,s,r)},draw:function(t,e,i,o,n,s,r){return this.copy(t,null,null,null,null,e,i,o,n,null,null,null,null,null,null,s,r)},drawGroup:function(t,e,i){return 0<t.total&&t.forEachExists(this.drawGroupProxy,this,e,i),this},drawGroupProxy:function(t,e,i){if(t.hasOwnProperty("texture")&&this.copyTransform(t,e,i),t.type===G.GROUP&&t.exists)this.drawGroup(t,e,i);else if(t.hasOwnProperty("children")&&0<t.children.length)for(var o=0;o<t.children.length;o++)t.children[o].exists&&this.copyTransform(t.children[o],e,i)},drawFull:function(t,e,i){if(!1===t.worldVisible||0===t.worldAlpha||t.hasOwnProperty("exists")&&!1===t.exists)return this;var o;if(t.type!==G.GROUP&&t.type!==G.EMITTER&&t.type!==G.BITMAPTEXT&&(t.type===G.GRAPHICS?(o=t.getBounds(),this.ctx.save(),this.ctx.translate(o.x,o.y),PIXI.CanvasGraphics.renderGraphics(t,this.ctx),this.ctx.restore()):this.copy(t,null,null,null,null,t.worldPosition.x,t.worldPosition.y,null,null,t.worldRotation,null,null,t.worldScale.x,t.worldScale.y,t.worldAlpha,e,i)),t.children)for(var n=0;n<t.children.length;n++)this.drawFull(t.children[n],e,i);return this},shadow:function(t,e,i,o){var n=this.context;return null==t?n.shadowColor="rgba(0,0,0,0)":(n.shadowColor=t,n.shadowBlur=e||5,n.shadowOffsetX=i||10,n.shadowOffsetY=o||10),this},alphaMask:function(t,e,i,o){return(null==o?this.draw(e):this.draw(e,o.x,o.y,o.width,o.height)).blendSourceAtop(),(null==i?this.draw(t):this.draw(t,i.x,i.y,i.width,i.height)).blendReset(),this},extract:function(o,n,s,r,c,t,a,h,u){return void 0===c&&(c=255),void 0===a&&(a=n),void 0===h&&(h=s),void 0===u&&(u=r),(t=void 0===t?!1:t)&&o.resize(this.width,this.height),this.processPixelRGB(function(t,e,i){return t.r===n&&t.g===s&&t.b===r&&o.setPixel32(e,i,a,h,u,c,!1),!1},this),o.context.putImageData(o.imageData,0,0),o.dirty=!0,o},rect:function(t,e,i,o,n){return void 0!==n&&(this.context.fillStyle=n),this.context.fillRect(t,e,i,o),this},text:function(t,e,i,o,n,s){void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n="rgb(255,255,255)"),void 0===s&&(s=!0);var r=this.context,c=r.font;return r.font=o=void 0===o?"14px Courier":o,s&&(r.fillStyle="rgb(0,0,0)",r.fillText(t,e+1,i+1)),r.fillStyle=n,r.fillText(t,e,i),r.font=c,this},circle:function(t,e,i,o){var n=this.context;return void 0!==o&&(n.fillStyle=o),n.beginPath(),n.arc(t,e,i,0,2*Math.PI,!1),n.closePath(),n.fill(),this},line:function(t,e,i,o,n,s){void 0===n&&(n="#fff"),void 0===s&&(s=1);var r=this.context;return r.beginPath(),r.moveTo(t,e),r.lineTo(i,o),r.lineWidth=s,r.strokeStyle=n,r.stroke(),r.closePath(),this},textureLine:function(t,e,i){var o,n;if(void 0===i&&(i="repeat-x"),"string"!=typeof e||(e=this.game.cache.getImage(e)))return o=t.length,"no-repeat"===i&&o>e.width&&(o=e.width),(n=this.context).fillStyle=n.createPattern(e,i),this._circle=new G.Circle(t.start.x,t.start.y,e.height),this._circle.circumferencePoint(t.angle-1.5707963267948966,!1,this._pos),n.save(),n.translate(this._pos.x,this._pos.y),n.rotate(t.angle),n.fillRect(0,0,o,e.height),n.restore(),this.dirty=!0,this},render:function(){return!this.disableTextureUpload&&this.dirty&&(this.baseTexture.dirty(),this.dirty=!1),this},destroy:function(){this.frameData.destroy(),this.texture.destroy(!0),PIXI.CanvasPool.remove(this)},blendReset:function(){return this.op="source-over",this},blendSourceOver:function(){return this.op="source-over",this},blendSourceIn:function(){return this.op="source-in",this},blendSourceOut:function(){return this.op="source-out",this},blendSourceAtop:function(){return this.op="source-atop",this},blendDestinationOver:function(){return this.op="destination-over",this},blendDestinationIn:function(){return this.op="destination-in",this},blendDestinationOut:function(){return this.op="destination-out",this},blendDestinationAtop:function(){return this.op="destination-atop",this},blendXor:function(){return this.op="xor",this},blendAdd:function(){return this.op="lighter",this},blendMultiply:function(){return this.op="multiply",this},blendScreen:function(){return this.op="screen",this},blendOverlay:function(){return this.op="overlay",this},blendDarken:function(){return this.op="darken",this},blendLighten:function(){return this.op="lighten",this},blendColorDodge:function(){return this.op="color-dodge",this},blendColorBurn:function(){return this.op="color-burn",this},blendHardLight:function(){return this.op="hard-light",this},blendSoftLight:function(){return this.op="soft-light",this},blendDifference:function(){return this.op="difference",this},blendExclusion:function(){return this.op="exclusion",this},blendHue:function(){return this.op="hue",this},blendSaturation:function(){return this.op="saturation",this},blendColor:function(){return this.op="color",this},blendLuminosity:function(){return this.op="luminosity",this}},Object.defineProperty(G.BitmapData.prototype,"smoothed",{get:function(){G.Canvas.getSmoothingEnabled(this.context)},set:function(t){G.Canvas.setSmoothingEnabled(this.context,t)}}),Object.defineProperty(G.BitmapData.prototype,"op",{get:function(){return this.context.globalCompositeOperation},set:function(t){this.context.globalCompositeOperation=t}}),G.BitmapData.getTransform=function(t,e,i,o,n,s){return{sx:i="number"!=typeof i?1:i,sy:o="number"!=typeof o?1:o,scaleX:i,scaleY:o,skewX:n="number"!=typeof n?0:n,skewY:s="number"!=typeof s?0:s,translateX:t="number"!=typeof t?0:t,translateY:e="number"!=typeof e?0:e,tx:t,ty:e}},G.BitmapData.prototype.constructor=G.BitmapData,PIXI.Graphics=function(){PIXI.DisplayObjectContainer.call(this),this.renderable=!0,this.fillAlpha=1,this.lineWidth=0,this.lineColor=0,this.graphicsData=[],this.tint=16777215,this.blendMode=PIXI.blendModes.NORMAL,this.currentPath=null,this._webGL=[],this.isMask=!1,this.boundsPadding=0,this._localBounds=new PIXI.Rectangle(0,0,1,1),this.dirty=!0,this._boundsDirty=!1,this.webGLDirty=!1,this.cachedSpriteDirty=!1},PIXI.Graphics.prototype=Object.create(PIXI.DisplayObjectContainer.prototype),PIXI.Graphics.prototype.constructor=PIXI.Graphics,PIXI.Graphics.prototype.lineStyle=function(t,e,i){return this.lineWidth=t||0,this.lineColor=e||0,this.lineAlpha=void 0===i?1:i,this.currentPath&&(this.currentPath.shape.points.length?this.drawShape(new PIXI.Polygon(this.currentPath.shape.points.slice(-2))):(this.currentPath.lineWidth=this.lineWidth,this.currentPath.lineColor=this.lineColor,this.currentPath.lineAlpha=this.lineAlpha)),this},PIXI.Graphics.prototype.moveTo=function(t,e){return this.drawShape(new PIXI.Polygon([t,e])),this},PIXI.Graphics.prototype.lineTo=function(t,e){return this.currentPath||this.moveTo(0,0),this.currentPath.shape.points.push(t,e),this.dirty=!0,this._boundsDirty=!0,this},PIXI.Graphics.prototype.quadraticCurveTo=function(t,e,i,o){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var n,s=this.currentPath.shape.points;0===s.length&&this.moveTo(0,0);for(var r,c=s[s.length-2],a=s[s.length-1],h=1;h<=20;++h)s.push((n=c+(t-c)*(r=h/20))+(t+(i-t)*r-n)*r,(n=a+(e-a)*r)+(e+(o-e)*r-n)*r);return this.dirty=!0,this._boundsDirty=!0,this},PIXI.Graphics.prototype.bezierCurveTo=function(t,e,i,o,n,s){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);for(var r,c,a,h,u,l,d=this.currentPath.shape.points,p=d[d.length-2],F=d[d.length-1],j=1;j<=20;++j)d.push((a=(c=(r=1-(l=j/20))*r)*r)*p+3*c*l*t+3*r*(h=l*l)*i+(u=h*l)*n,a*F+3*c*l*e+3*r*h*o+u*s);return this.dirty=!0,this._boundsDirty=!0,this},PIXI.Graphics.prototype.arcTo=function(t,e,i,o,n){this.currentPath?0===this.currentPath.shape.points.length&&this.currentPath.shape.points.push(t,e):this.moveTo(t,e);var s,r,c,a,h,u=this.currentPath.shape.points,l=u[u.length-2],d=u[u.length-1]-e,l=l-t,o=o-e,i=i-t,p=Math.abs(d*i-l*o);return p<1e-8||0===n?u[u.length-2]===t&&u[u.length-1]===e||u.push(t,e):(u=d*d+l*l,c=o*o+i*i,h=d*o+l*i,u=(a=n*Math.sqrt(u)/p)*h/u,s=a*i+(p=n*Math.sqrt(c)/p)*l,r=a*o+p*d,c=i*(a+(h=p*h/c)),a=o*(a+h),h=Math.atan2(d*(p+u)-r,l*(p+u)-s),p=Math.atan2(a-r,c-s),this.arc(s+t,r+e,n,h,p,i*d<l*o)),this.dirty=!0,this._boundsDirty=!0,this},PIXI.Graphics.prototype.arc=function(t,e,i,o,n,s,r){if(o===n)return this;void 0===r&&(r=40),!(s=void 0===s?!1:s)&&n<=o?n+=2*Math.PI:s&&o<=n&&(o+=2*Math.PI);n=s?-1*(o-n):n-o,r=Math.ceil(Math.abs(n)/(2*Math.PI))*r;if(0==n)return this;var c=t+Math.cos(o)*i,a=e+Math.sin(o)*i;s&&this.filling?this.moveTo(t,e):this.moveTo(c,a);for(var h=this.currentPath.shape.points,u=n/(2*r),l=2*u,d=Math.cos(u),p=Math.sin(u),F=r-1,j=F%1/F,Y=0;Y<=F;Y++){var f=u+o+l*(Y+j*Y),b=Math.cos(f),f=-Math.sin(f);h.push((d*b+p*f)*i+t,(d*-f+p*b)*i+e)}return this.dirty=!0,this._boundsDirty=!0,this},PIXI.Graphics.prototype.beginFill=function(t,e){return this.filling=!0,this.fillColor=t||0,this.fillAlpha=void 0===e?1:e,this.currentPath&&this.currentPath.shape.points.length<=2&&(this.currentPath.fill=this.filling,this.currentPath.fillColor=this.fillColor,this.currentPath.fillAlpha=this.fillAlpha),this},PIXI.Graphics.prototype.endFill=function(){return this.filling=!1,this.fillColor=null,this.fillAlpha=1,this},PIXI.Graphics.prototype.drawRect=function(t,e,i,o){return this.drawShape(new PIXI.Rectangle(t,e,i,o)),this},PIXI.Graphics.prototype.drawRoundedRect=function(t,e,i,o,n){return this.drawShape(new PIXI.RoundedRectangle(t,e,i,o,n)),this},PIXI.Graphics.prototype.drawCircle=function(t,e,i){return this.drawShape(new PIXI.Circle(t,e,i)),this},PIXI.Graphics.prototype.drawEllipse=function(t,e,i,o){return this.drawShape(new PIXI.Ellipse(t,e,i,o)),this},PIXI.Graphics.prototype.drawPolygon=function(t){var e=t=t instanceof G.Polygon||t instanceof PIXI.Polygon?t.points:t;if(!Array.isArray(e))for(var e=new Array(arguments.length),i=0;i<e.length;++i)e[i]=arguments[i];return this.drawShape(new G.Polygon(e)),this},PIXI.Graphics.prototype.clear=function(){return this.lineWidth=0,this.filling=!1,this.dirty=!0,this._boundsDirty=!0,this.clearDirty=!0,this.graphicsData=[],this.updateLocalBounds(),this},PIXI.Graphics.prototype.generateTexture=function(t,e,i){void 0===t&&(t=1),void 0===e&&(e=PIXI.scaleModes.DEFAULT),void 0===i&&(i=0);var o=this.getBounds(),i=(o.width+=i,o.height+=i,new PIXI.CanvasBuffer(o.width*t,o.height*t)),e=PIXI.Texture.fromCanvas(i.canvas,e);return e.baseTexture.resolution=t,i.context.scale(t,t),i.context.translate(-o.x,-o.y),PIXI.CanvasGraphics.renderGraphics(this,i.context),e},PIXI.Graphics.prototype._renderWebGL=function(t){if(!1!==this.visible&&0!==this.alpha&&!0!==this.isMask){if(this._cacheAsBitmap)return(this.dirty||this.cachedSpriteDirty)&&(this._generateCachedSprite(),this.updateCachedSpriteTexture(),this.cachedSpriteDirty=!1,this.dirty=!1),this._cachedSprite.worldAlpha=this.worldAlpha,void PIXI.Sprite.prototype._renderWebGL.call(this._cachedSprite,t);var e;if(t.spriteBatch.stop(),t.blendModeManager.setBlendMode(this.blendMode),this._mask&&t.maskManager.pushMask(this._mask,t),this._filters&&t.filterManager.pushFilter(this._filterBlock),this.blendMode!==t.spriteBatch.currentBlendMode&&(t.spriteBatch.currentBlendMode=this.blendMode,e=PIXI.blendModesWebGL[t.spriteBatch.currentBlendMode],t.spriteBatch.gl.blendFunc(e[0],e[1])),this.webGLDirty&&(this.dirty=!0,this.webGLDirty=!1),PIXI.WebGLGraphics.renderGraphics(this,t),this.children.length){t.spriteBatch.start();for(var i=0;i<this.children.length;i++)this.children[i]._renderWebGL(t);t.spriteBatch.stop()}this._filters&&t.filterManager.popFilter(),this._mask&&t.maskManager.popMask(this.mask,t),t.drawCount++,t.spriteBatch.start()}},PIXI.Graphics.prototype._renderCanvas=function(t){if(!1!==this.visible&&0!==this.alpha&&!0!==this.isMask){if(this._prevTint!==this.tint&&(this.dirty=!0,this._prevTint=this.tint),this._cacheAsBitmap)return(this.dirty||this.cachedSpriteDirty)&&(this._generateCachedSprite(),this.updateCachedSpriteTexture(),this.cachedSpriteDirty=!1,this.dirty=!1),this._cachedSprite.alpha=this.alpha,void PIXI.Sprite.prototype._renderCanvas.call(this._cachedSprite,t);var e=t.context,i=this.worldTransform,o=(this.blendMode!==t.currentBlendMode&&(t.currentBlendMode=this.blendMode,e.globalCompositeOperation=PIXI.blendModesCanvas[t.currentBlendMode]),this._mask&&t.maskManager.pushMask(this._mask,t),t.resolution),n=i.tx*t.resolution+t.shakeX,s=i.ty*t.resolution+t.shakeY;e.setTransform(i.a*o,i.b*o,i.c*o,i.d*o,n,s),PIXI.CanvasGraphics.renderGraphics(this,e);for(var r=0;r<this.children.length;r++)this.children[r]._renderCanvas(t);this._mask&&t.maskManager.popMask(t)}},PIXI.Graphics.prototype.getBounds=function(t){if(!this._currentBounds){if(!this.renderable)return PIXI.EmptyRectangle;this.dirty&&(this.updateLocalBounds(),this.webGLDirty=!0,this.cachedSpriteDirty=!0,this.dirty=!1);var e=this._localBounds,i=e.x,o=e.width+e.x,n=e.y,e=e.height+e.y,t=t||this.worldTransform,s=t.a,r=t.b,c=t.c,a=t.d,h=t.tx,t=t.ty,u=s*o+c*e+h,l=a*e+r*o+t,d=s*i+c*e+h,e=a*e+r*i+t,p=s*i+c*n+h,i=a*n+r*i+t,s=s*o+c*n+h,c=a*n+r*o+t,h=d<(h=u)?d:h,a=c<(a=i<(a=e<(a=l)?e:a)?i:a)?c:a,n=(n=(n=(n=u)<d?d:n)<p?p:n)<s?s:n,r=(r=(r=(r=l)<e?e:r)<i?i:r)<c?c:r;this._bounds.x=h=s<(h=p<h?p:h)?s:h,this._bounds.width=n-h,this._bounds.y=a,this._bounds.height=r-a,this._currentBounds=this._bounds}return this._currentBounds},PIXI.Graphics.prototype.getLocalBounds=function(){var t=this.worldTransform;this.worldTransform=PIXI.identityMatrix;for(var e=0;e<this.children.length;e++)this.children[e].updateTransform();var i=this.getBounds();for(this.worldTransform=t,e=0;e<this.children.length;e++)this.children[e].updateTransform();return i},PIXI.Graphics.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,tempPoint);for(var e=this.graphicsData,i=0;i<e.length;i++){var o=e[i];if(o.fill&&o.shape&&o.shape.contains(tempPoint.x,tempPoint.y))return!0}return!1},PIXI.Graphics.prototype.updateLocalBounds=function(){var t=1/0,e=-1/0,i=1/0,o=-1/0;if(this.graphicsData.length)for(var n,s,r,c,a=0;a<this.graphicsData.length;a++){var h=this.graphicsData[a],u=h.type,l=h.lineWidth,h=h.shape;if(u===PIXI.Graphics.RECT||u===PIXI.Graphics.RREC)n=h.x-l/2,s=h.y-l/2,t=n<t?n:t,e=e<n+(r=h.width+l)?n+r:e,i=s<i?s:i,o=o<s+(c=h.height+l)?s+c:o;else if(u===PIXI.Graphics.CIRC)n=h.x,s=h.y,t=n-(r=h.radius+l/2)<t?n-r:t,e=e<n+r?n+r:e,i=s-(c=h.radius+l/2)<i?s-c:i,o=o<s+c?s+c:o;else if(u===PIXI.Graphics.ELIP)n=h.x,s=h.y,t=n-(r=h.width+l/2)<t?n-r:t,e=e<n+r?n+r:e,i=s-(c=h.height+l/2)<i?s-c:i,o=o<s+c?s+c:o;else for(var d=h.points,p=0;p<d.length;p++)d[p]instanceof G.Point?(n=d[p].x,s=d[p].y):(n=d[p],s=d[p+1],p<d.length-1&&p++),t=n-l<t?n-l:t,e=e<n+l?n+l:e,i=s-l<i?s-l:i,o=o<s+l?s+l:o}else o=i=e=t=0;var F=this.boundsPadding;this._localBounds.x=t-F,this._localBounds.width=e-t+2*F,this._localBounds.y=i-F,this._localBounds.height=o-i+2*F},PIXI.Graphics.prototype._generateCachedSprite=function(){var t,e,i=this.getLocalBounds();this._cachedSprite?this._cachedSprite.buffer.resize(i.width,i.height):(t=new PIXI.CanvasBuffer(i.width,i.height),e=PIXI.Texture.fromCanvas(t.canvas),this._cachedSprite=new PIXI.Sprite(e),this._cachedSprite.buffer=t,this._cachedSprite.worldTransform=this.worldTransform),this._cachedSprite.anchor.x=-i.x/i.width,this._cachedSprite.anchor.y=-i.y/i.height,this._cachedSprite.buffer.context.translate(-i.x,-i.y),this.worldAlpha=1,PIXI.CanvasGraphics.renderGraphics(this,this._cachedSprite.buffer.context),this._cachedSprite.alpha=this.alpha},PIXI.Graphics.prototype.updateCachedSpriteTexture=function(){var t=this._cachedSprite,e=t.texture,i=t.buffer.canvas;e.baseTexture.width=i.width,e.baseTexture.height=i.height,e.crop.width=e.frame.width=i.width,e.crop.height=e.frame.height=i.height,t._width=i.width,t._height=i.height,e.baseTexture.dirty()},PIXI.Graphics.prototype.destroyCachedSprite=function(){this._cachedSprite.texture.destroy(!0),this._cachedSprite=null},PIXI.Graphics.prototype.drawShape=function(t){this.currentPath&&this.currentPath.shape.points.length<=2&&this.graphicsData.pop(),this.currentPath=null,t instanceof G.Polygon&&(t=t.clone()).flatten();t=new PIXI.GraphicsData(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.filling,t);return this.graphicsData.push(t),t.type===PIXI.Graphics.POLY&&(t.shape.closed=this.filling,this.currentPath=t),this.dirty=!0,this._boundsDirty=!0,t},Object.defineProperty(PIXI.Graphics.prototype,"cacheAsBitmap",{get:function(){return this._cacheAsBitmap},set:function(t){this._cacheAsBitmap=t,this._cacheAsBitmap?this._generateCachedSprite():this.destroyCachedSprite(),this.dirty=!0,this.webGLDirty=!0}}),PIXI.GraphicsData=function(t,e,i,o,n,s,r){this.lineWidth=t,this.lineColor=e,this.lineAlpha=i,this._lineTint=e,this.fillColor=o,this.fillAlpha=n,this._fillTint=o,this.fill=s,this.shape=r,this.type=r.type},PIXI.GraphicsData.prototype.constructor=PIXI.GraphicsData,PIXI.GraphicsData.prototype.clone=function(){return new GraphicsData(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.fill,this.shape)},PIXI.EarCut={},PIXI.EarCut.Triangulate=function(t,e,i){i=i||2;var o,n,s,r,c,a=e&&e.length,h=a?e[0]*i:t.length,u=PIXI.EarCut.linkedList(t,0,h,i,!0),l=[];if(!u)return l;if(a&&(u=PIXI.EarCut.eliminateHoles(t,e,u,i)),t.length>80*i){for(var d=o=t[0],p=n=t[1],F=i;F<h;F+=i)(s=t[F])<d&&(d=s),(r=t[F+1])<p&&(p=r),o<s&&(o=s),n<r&&(n=r);c=Math.max(o-d,n-p)}return PIXI.EarCut.earcutLinked(u,l,i,d,p,c),l},PIXI.EarCut.linkedList=function(t,e,i,o,n){for(var s,r=0,c=e,a=i-o;c<i;c+=o)r+=(t[a]-t[c])*(t[c+1]+t[a+1]),a=c;if(n===0<r)for(c=e;c<i;c+=o)s=PIXI.EarCut.insertNode(c,t[c],t[c+1],s);else for(c=i-o;e<=c;c-=o)s=PIXI.EarCut.insertNode(c,t[c],t[c+1],s);return s},PIXI.EarCut.filterPoints=function(t,e){if(!t)return t;e=e||t;var i,o=t;do{if(i=!1,o.steiner||!PIXI.EarCut.equals(o,o.next)&&0!==PIXI.EarCut.area(o.prev,o,o.next))o=o.next;else{if(PIXI.EarCut.removeNode(o),(o=e=o.prev)===o.next)return null;i=!0}}while(i||o!==e);return e},PIXI.EarCut.earcutLinked=function(t,e,i,o,n,s,r){if(t){!r&&s&&PIXI.EarCut.indexCurve(t,o,n,s);for(var c,a,h=t;t.prev!==t.next;)if(c=t.prev,a=t.next,s?PIXI.EarCut.isEarHashed(t,o,n,s):PIXI.EarCut.isEar(t))e.push(c.i/i),e.push(t.i/i),e.push(a.i/i),PIXI.EarCut.removeNode(t),t=a.next,h=a.next;else if((t=a)===h){r?1===r?(t=PIXI.EarCut.cureLocalIntersections(t,e,i),PIXI.EarCut.earcutLinked(t,e,i,o,n,s,2)):2===r&&PIXI.EarCut.splitEarcut(t,e,i,o,n,s):PIXI.EarCut.earcutLinked(PIXI.EarCut.filterPoints(t),e,i,o,n,s,1);break}}},PIXI.EarCut.isEar=function(t){var e=t.prev,i=t,o=t.next;if(0<=PIXI.EarCut.area(e,i,o))return!1;for(var n=t.next.next;n!==t.prev;){if(PIXI.EarCut.pointInTriangle(e.x,e.y,i.x,i.y,o.x,o.y,n.x,n.y)&&0<=PIXI.EarCut.area(n.prev,n,n.next))return!1;n=n.next}return!0},PIXI.EarCut.isEarHashed=function(t,e,i,o){var n=t.prev,s=t,r=t.next;if(0<=PIXI.EarCut.area(n,s,r))return!1;for(var c=(n.x<s.x?n.x<r.x?n:r:s.x<r.x?s:r).x,a=(n.y<s.y?n.y<r.y?n:r:s.y<r.y?s:r).y,h=(n.x>s.x?n.x>r.x?n:r:s.x>r.x?s:r).x,u=(n.y>s.y?n.y>r.y?n:r:s.y>r.y?s:r).y,l=PIXI.EarCut.zOrder(c,a,e,i,o),d=PIXI.EarCut.zOrder(h,u,e,i,o),p=t.nextZ;p&&p.z<=d;){if(p!==t.prev&&p!==t.next&&PIXI.EarCut.pointInTriangle(n.x,n.y,s.x,s.y,r.x,r.y,p.x,p.y)&&0<=PIXI.EarCut.area(p.prev,p,p.next))return!1;p=p.nextZ}for(p=t.prevZ;p&&p.z>=l;){if(p!==t.prev&&p!==t.next&&PIXI.EarCut.pointInTriangle(n.x,n.y,s.x,s.y,r.x,r.y,p.x,p.y)&&0<=PIXI.EarCut.area(p.prev,p,p.next))return!1;p=p.prevZ}return!0},PIXI.EarCut.cureLocalIntersections=function(t,e,i){var o=t;do{var n=o.prev,s=o.next.next}while(PIXI.EarCut.intersects(n,o,o.next,s)&&PIXI.EarCut.locallyInside(n,s)&&PIXI.EarCut.locallyInside(s,n)&&(e.push(n.i/i),e.push(o.i/i),e.push(s.i/i),PIXI.EarCut.removeNode(o),PIXI.EarCut.removeNode(o.next),o=t=s),(o=o.next)!==t);return o},PIXI.EarCut.splitEarcut=function(t,e,i,o,n,s){var r=t;do{for(var c,a=r.next.next;a!==r.prev;){if(r.i!==a.i&&PIXI.EarCut.isValidDiagonal(r,a))return c=PIXI.EarCut.splitPolygon(r,a),r=PIXI.EarCut.filterPoints(r,r.next),c=PIXI.EarCut.filterPoints(c,c.next),PIXI.EarCut.earcutLinked(r,e,i,o,n,s),void PIXI.EarCut.earcutLinked(c,e,i,o,n,s);a=a.next}}while((r=r.next)!==t)},PIXI.EarCut.eliminateHoles=function(t,e,i,o){for(var n,s,r=[],c=0,a=e.length;c<a;c++)s=e[c]*o,n=c<a-1?e[c+1]*o:t.length,(s=PIXI.EarCut.linkedList(t,s,n,o,!1))===s.next&&(s.steiner=!0),r.push(PIXI.EarCut.getLeftmost(s));for(r.sort(compareX),c=0;c<r.length;c++)PIXI.EarCut.eliminateHole(r[c],i),i=PIXI.EarCut.filterPoints(i,i.next);return i},PIXI.EarCut.compareX=function(t,e){return t.x-e.x},PIXI.EarCut.eliminateHole=function(t,e){(e=PIXI.EarCut.findHoleBridge(t,e))&&(e=PIXI.EarCut.splitPolygon(e,t),PIXI.EarCut.filterPoints(e,e.next))},PIXI.EarCut.findHoleBridge=function(t,e){var i,o,n=e,s=t.x,r=t.y,c=-1/0;do{}while(r<=n.y&&r>=n.next.y&&((o=n.x+(r-n.y)*(n.next.x-n.x)/(n.next.y-n.y))<=s&&c<o&&(c=o,i=n.x<n.next.x?n:n.next)),(n=n.next)!==e);if(!i)return null;if(t.x===i.x)return i.prev;for(var a,h=i,u=1/0,n=i.next;n!==h;)s>=n.x&&n.x>=i.x&&PIXI.EarCut.pointInTriangle(r<i.y?s:c,r,i.x,i.y,r<i.y?c:s,r,n.x,n.y)&&((a=Math.abs(r-n.y)/(s-n.x))<u||a===u&&n.x>i.x)&&PIXI.EarCut.locallyInside(n,t)&&(i=n,u=a),n=n.next;return i},PIXI.EarCut.indexCurve=function(t,e,i,o){for(var n=t;null===n.z&&(n.z=PIXI.EarCut.zOrder(n.x,n.y,e,i,o)),n.prevZ=n.prev,n.nextZ=n.next,(n=n.next)!==t;);n.prevZ.nextZ=null,n.prevZ=null,PIXI.EarCut.sortLinked(n)},PIXI.EarCut.sortLinked=function(t){var e,i,o,n,s,r,c,a,h=1;do{for(i=t,s=t=null,r=0;i;){for(r++,o=i,e=c=0;e<h&&(c++,o=o.nextZ);e++);for(a=h;0<c||0<a&&o;)0!==c&&(0===a||!o||i.z<=o.z)?(i=(n=i).nextZ,c--):(o=(n=o).nextZ,a--),s?s.nextZ=n:t=n,n.prevZ=s,s=n;i=o}}while(s.nextZ=null,h*=2,1<r);return t},PIXI.EarCut.zOrder=function(t,e,i,o,n){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-i)/n)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-o)/n)|e<<8))|e<<4))|e<<2))|e<<1))<<1},PIXI.EarCut.getLeftmost=function(t){for(var e=t,i=t;e.x<i.x&&(i=e),(e=e.next)!==t;);return i},PIXI.EarCut.pointInTriangle=function(t,e,i,o,n,s,r,c){return 0<=(n-r)*(e-c)-(t-r)*(s-c)&&0<=(t-r)*(o-c)-(i-r)*(e-c)&&0<=(i-r)*(s-c)-(n-r)*(o-c)},PIXI.EarCut.isValidDiagonal=function(t,e){return PIXI.EarCut.equals(t,e)||t.next.i!==e.i&&t.prev.i!==e.i&&!PIXI.EarCut.intersectsPolygon(t,e)&&PIXI.EarCut.locallyInside(t,e)&&PIXI.EarCut.locallyInside(e,t)&&PIXI.EarCut.middleInside(t,e)},PIXI.EarCut.area=function(t,e,i){return(e.y-t.y)*(i.x-e.x)-(e.x-t.x)*(i.y-e.y)},PIXI.EarCut.equals=function(t,e){return t.x===e.x&&t.y===e.y},PIXI.EarCut.intersects=function(t,e,i,o){return 0<PIXI.EarCut.area(t,e,i)!=0<PIXI.EarCut.area(t,e,o)&&0<PIXI.EarCut.area(i,o,t)!=0<PIXI.EarCut.area(i,o,e)},PIXI.EarCut.intersectsPolygon=function(t,e){var i=t;do{if(i.i!==t.i&&i.next.i!==t.i&&i.i!==e.i&&i.next.i!==e.i&&PIXI.EarCut.intersects(i,i.next,t,e))return!0}while((i=i.next)!==t);return!1},PIXI.EarCut.locallyInside=function(t,e){return PIXI.EarCut.area(t.prev,t,t.next)<0?0<=PIXI.EarCut.area(t,e,t.next)&&0<=PIXI.EarCut.area(t,t.prev,e):PIXI.EarCut.area(t,e,t.prev)<0||PIXI.EarCut.area(t,t.next,e)<0},PIXI.EarCut.middleInside=function(t,e){for(var i=t,o=!1,n=(t.x+e.x)/2,s=(t.y+e.y)/2;i.y>s!=i.next.y>s&&n<(i.next.x-i.x)*(s-i.y)/(i.next.y-i.y)+i.x&&(o=!o),(i=i.next)!==t;);return o},PIXI.EarCut.splitPolygon=function(t,e){var i=new PIXI.EarCut.Node(t.i,t.x,t.y),o=new PIXI.EarCut.Node(e.i,e.x,e.y),n=t.next,s=e.prev;return(t.next=e).prev=t,(i.next=n).prev=i,(o.next=i).prev=o,(s.next=o).prev=s,o},PIXI.EarCut.insertNode=function(t,e,i,o){t=new PIXI.EarCut.Node(t,e,i);return o?(t.next=o.next,(t.prev=o).next.prev=t,o.next=t):(t.prev=t).next=t,t},PIXI.EarCut.removeNode=function(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)},PIXI.EarCut.Node=function(t,e,i){this.i=t,this.x=e,this.y=i,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1},PIXI.WebGLGraphics=function(){},PIXI.WebGLGraphics.stencilBufferLimit=6,PIXI.WebGLGraphics.renderGraphics=function(t,e){var i,o=e.gl,n=e.projection,s=e.offset,r=e.shaderManager.primitiveShader;t.dirty&&PIXI.WebGLGraphics.updateGraphics(t,o);for(var c=t._webGL[o.id],a=0;a<c.data.length;a++)1===c.data[a].mode?(i=c.data[a],e.stencilManager.pushStencil(t,i,e),o.drawElements(o.TRIANGLE_FAN,4,o.UNSIGNED_SHORT,2*(i.indices.length-4)),e.stencilManager.popStencil(t,i,e)):(i=c.data[a],e.shaderManager.setShader(r),r=e.shaderManager.primitiveShader,o.uniformMatrix3fv(r.translationMatrix,!1,t.worldTransform.toArray(!0)),o.uniform1f(r.flipY,1),o.uniform2f(r.projectionVector,n.x,-n.y),o.uniform2f(r.offsetVector,-s.x,-s.y),o.uniform3fv(r.tintColor,PIXI.hex2rgb(t.tint)),o.uniform1f(r.alpha,t.worldAlpha),o.bindBuffer(o.ARRAY_BUFFER,i.buffer),o.vertexAttribPointer(r.aVertexPosition,2,o.FLOAT,!1,24,0),o.vertexAttribPointer(r.colorAttribute,4,o.FLOAT,!1,24,8),o.bindBuffer(o.ELEMENT_ARRAY_BUFFER,i.indexBuffer),o.drawElements(o.TRIANGLE_STRIP,i.indices.length,o.UNSIGNED_SHORT,0))},PIXI.WebGLGraphics.updateGraphics=function(t,e){var i,o=(o=t._webGL[e.id])||(t._webGL[e.id]={lastIndex:0,data:[],gl:e});if(t.dirty=!1,t.clearDirty){for(t.clearDirty=!1,i=0;i<o.data.length;i++){var n=o.data[i];n.reset(),PIXI.WebGLGraphics.graphicsDataPool.push(n)}o.data=[],o.lastIndex=0}for(i=o.lastIndex;i<t.graphicsData.length;i++){var s,r=t.graphicsData[i];r.type===PIXI.Graphics.POLY?(r.points=r.shape.points.slice(),!r.shape.closed||r.points[0]===r.points[r.points.length-2]&&r.points[1]===r.points[r.points.length-1]||r.points.push(r.points[0],r.points[1]),r.fill&&r.points.length>=PIXI.WebGLGraphics.stencilBufferLimit&&(r.points.length<2*PIXI.WebGLGraphics.stencilBufferLimit?(s=PIXI.WebGLGraphics.switchMode(o,0),PIXI.WebGLGraphics.buildPoly(r,s)||(s=PIXI.WebGLGraphics.switchMode(o,1),PIXI.WebGLGraphics.buildComplexPoly(r,s))):(s=PIXI.WebGLGraphics.switchMode(o,1),PIXI.WebGLGraphics.buildComplexPoly(r,s))),0<r.lineWidth&&(s=PIXI.WebGLGraphics.switchMode(o,0),PIXI.WebGLGraphics.buildLine(r,s))):(s=PIXI.WebGLGraphics.switchMode(o,0),r.type===PIXI.Graphics.RECT?PIXI.WebGLGraphics.buildRectangle(r,s):r.type===PIXI.Graphics.CIRC||r.type===PIXI.Graphics.ELIP?PIXI.WebGLGraphics.buildCircle(r,s):r.type===PIXI.Graphics.RREC&&PIXI.WebGLGraphics.buildRoundedRectangle(r,s)),o.lastIndex++}for(i=0;i<o.data.length;i++)(s=o.data[i]).dirty&&s.upload()},PIXI.WebGLGraphics.switchMode=function(t,e){var i;return t.data.length?(i=t.data[t.data.length-1]).mode===e&&1!==e||((i=PIXI.WebGLGraphics.graphicsDataPool.pop()||new PIXI.WebGLGraphicsData(t.gl)).mode=e,t.data.push(i)):((i=PIXI.WebGLGraphics.graphicsDataPool.pop()||new PIXI.WebGLGraphicsData(t.gl)).mode=e,t.data.push(i)),i.dirty=!0,i},PIXI.WebGLGraphics.buildRectangle=function(t,e){var i,o,n,s,r,c,a,h=t.shape,u=h.x,l=h.y,d=h.width,h=h.height;t.fill&&(s=PIXI.hex2rgb(t.fillColor),i=t.fillAlpha,o=s[0]*i,n=s[1]*i,s=s[2]*i,a=e.points,r=e.indices,c=a.length/6,a.push(u,l),a.push(o,n,s,i),a.push(u+d,l),a.push(o,n,s,i),a.push(u,l+h),a.push(o,n,s,i),a.push(u+d,l+h),a.push(o,n,s,i),r.push(c,c,1+c,2+c,3+c,3+c)),t.lineWidth&&(a=t.points,t.points=[u,l,u+d,l,u+d,l+h,u,l+h,u,l],PIXI.WebGLGraphics.buildLine(t,e),t.points=a)},PIXI.WebGLGraphics.buildRoundedRectangle=function(t,e){var i=t.shape,o=i.x,n=i.y,s=i.width,r=i.height,i=i.radius,c=[];if(c.push(o,n+i),c=(c=(c=(c=c.concat(PIXI.WebGLGraphics.quadraticBezierCurve(o,n+r-i,o,n+r,o+i,n+r))).concat(PIXI.WebGLGraphics.quadraticBezierCurve(o+s-i,n+r,o+s,n+r,o+s,n+r-i))).concat(PIXI.WebGLGraphics.quadraticBezierCurve(o+s,n+i,o+s,n,o+s-i,n))).concat(PIXI.WebGLGraphics.quadraticBezierCurve(o+i,n,o,n,o,n+i)),t.fill){for(var r=PIXI.hex2rgb(t.fillColor),a=t.fillAlpha,h=r[0]*a,u=r[1]*a,l=r[2]*a,d=e.points,p=e.indices,F=d.length/6,j=PIXI.EarCut.Triangulate(c,null,2),Y=0,Y=0;Y<j.length;Y+=3)p.push(j[Y]+F),p.push(j[Y]+F),p.push(j[Y+1]+F),p.push(j[Y+2]+F),p.push(j[Y+2]+F);for(Y=0;Y<c.length;Y++)d.push(c[Y],c[++Y],h,u,l,a)}t.lineWidth&&(s=t.points,t.points=c,PIXI.WebGLGraphics.buildLine(t,e),t.points=s)},PIXI.WebGLGraphics.quadraticBezierCurve=function(t,e,i,o,n,s){function r(t,e,i){return t+(e-t)*i}for(var c,a,h,u,l,d=[],p=0;p<=20;p++)h=r(t,i,l=p/20),c=r(e,o,l),u=r(i,n,l),a=r(o,s,l),h=r(h,u,l),u=r(c,a,l),d.push(h,u);return d},PIXI.WebGLGraphics.buildCircle=function(t,e){var i,o=t.shape,n=o.x,s=o.y,r=t.type===PIXI.Graphics.CIRC?(i=o.radius,o.radius):(i=o.width,o.height),c=2*Math.PI/40,a=0;if(t.fill){var o=PIXI.hex2rgb(t.fillColor),h=t.fillAlpha,u=o[0]*h,l=o[1]*h,d=o[2]*h,p=e.points,F=e.indices,j=p.length/6;for(F.push(j),a=0;a<41;a++)p.push(n,s,u,l,d,h),p.push(n+Math.sin(c*a)*i,s+Math.cos(c*a)*r,u,l,d,h),F.push(j++,j++);F.push(j-1)}if(t.lineWidth){o=t.points;for(t.points=[],a=0;a<41;a++)t.points.push(n+Math.sin(c*a)*i,s+Math.cos(c*a)*r);PIXI.WebGLGraphics.buildLine(t,e),t.points=o}},PIXI.WebGLGraphics.buildLine=function(t,e){var i=0,o=t.points;if(0!==o.length){if(t.lineWidth%2)for(i=0;i<o.length;i++)o[i]+=.5;var n,s=new PIXI.Point(o[0],o[1]),r=new PIXI.Point(o[o.length-2],o[o.length-1]);s.x===r.x&&s.y===r.y&&((o=o.slice()).pop(),o.pop(),n=(r=new PIXI.Point(o[o.length-2],o[o.length-1])).x+.5*(s.x-r.x),s=r.y+.5*(s.y-r.y),o.unshift(n,s),o.push(n,s));var c,a,h,u,l,d,p,F,j,Y=e.points,f=e.indices,b=o.length/2,g=o.length,y=Y.length/6,m=t.lineWidth/2,r=PIXI.hex2rgb(t.lineColor),x=t.lineAlpha,v=r[0]*x,w=r[1]*x,_=r[2]*x,E=o[0],S=o[1],C=o[2],P=o[3],A=-(S-P),T=E-C,I=Math.sqrt(A*A+T*T);for(Y.push(E-(A=A/I*m),S-(T=T/I*m),v,w,_,x),Y.push(E+A,S+T,v,w,_,x),i=1;i<b-1;i++)E=o[2*(i-1)],S=o[2*(i-1)+1],C=o[2*i],P=o[2*i+1],p=o[2*(i+1)],d=o[2*(i+1)+1],T=E-C,a=C-p,l=(-(A=(A=-(S-P))/(I=Math.sqrt(A*A+T*T))*m)+E)*(-(T=T/I*m)+P)-(-A+C)*(-T+S),F=(-(c=(c=-(P-d))/(I=Math.sqrt(c*c+a*a))*m)+p)*(-(a=a/I*m)+P)-(-c+C)*(-a+d),j=(h=-T+S-(-T+P))*(p=-c+C-(-c+p))-(d=-a+d-(-a+P))*(u=-A+C-(-A+E)),Math.abs(j)<.1?(j+=10.1,Y.push(C-A,P-T,v,w,_,x),Y.push(C+A,P+T,v,w,_,x)):19600<((u=(u*F-p*l)/j)-C)*(u-C)+((p=(d*l-h*F)/j)-P)+(p-P)?(d=A-c,l=T-a,I=Math.sqrt(d*d+l*l),Y.push(C-(d=d/I*m),P-(l=l/I*m)),Y.push(v,w,_,x),Y.push(C+d,P+l),Y.push(v,w,_,x),Y.push(C-d,P-l),Y.push(v,w,_,x),g++):(Y.push(u,p),Y.push(v,w,_,x),Y.push(C-(u-C),P-(p-P)),Y.push(v,w,_,x));for(E=o[2*(b-2)],S=o[2*(b-2)+1],C=o[2*(b-1)],A=-(S-(P=o[2*(b-1)+1])),T=E-C,I=Math.sqrt(A*A+T*T),Y.push(C-(A=A/I*m),P-(T=T/I*m)),Y.push(v,w,_,x),Y.push(C+A,P+T),Y.push(v,w,_,x),f.push(y),i=0;i<g;i++)f.push(y++);f.push(y-1)}},PIXI.WebGLGraphics.buildComplexPoly=function(t,e){var i=t.points.slice();if(!(i.length<6)){var o=e.indices;e.points=i,e.alpha=t.fillAlpha,e.color=PIXI.hex2rgb(t.fillColor);for(var n,s=1/0,r=-1/0,c=1/0,a=-1/0,h=0;h<i.length;h+=2)s=(n=i[h])<s?n:s,r=r<n?n:r,c=(n=i[h+1])<c?n:c,a=a<n?n:a;i.push(s,c,r,c,r,a,s,a);for(var u=i.length/2,h=0;h<u;h++)o.push(h)}},PIXI.WebGLGraphics.buildPoly=function(t,e){var i=t.points;if(!(i.length<6)){var o=e.points,n=e.indices,s=i.length/2,e=PIXI.hex2rgb(t.fillColor),r=t.fillAlpha,c=e[0]*r,a=e[1]*r,h=e[2]*r,u=PIXI.EarCut.Triangulate(i,null,2);if(!u)return!1;for(var l=o.length/6,d=0,d=0;d<u.length;d+=3)n.push(u[d]+l),n.push(u[d]+l),n.push(u[d+1]+l),n.push(u[d+2]+l),n.push(u[d+2]+l);for(d=0;d<s;d++)o.push(i[2*d],i[2*d+1],c,a,h,r);return!0}},PIXI.WebGLGraphics.graphicsDataPool=[],PIXI.WebGLGraphicsData=function(t){this.gl=t,this.color=[0,0,0],this.points=[],this.indices=[],this.buffer=t.createBuffer(),this.indexBuffer=t.createBuffer(),this.mode=1,this.alpha=1,this.dirty=!0},PIXI.WebGLGraphicsData.prototype.reset=function(){this.points=[],this.indices=[]},PIXI.WebGLGraphicsData.prototype.upload=function(){var t=this.gl;this.glPoints=new PIXI.Float32Array(this.points),t.bindBuffer(t.ARRAY_BUFFER,this.buffer),t.bufferData(t.ARRAY_BUFFER,this.glPoints,t.STATIC_DRAW),this.glIndicies=new PIXI.Uint16Array(this.indices),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.glIndicies,t.STATIC_DRAW),this.dirty=!1},PIXI.CanvasGraphics=function(){},PIXI.CanvasGraphics.renderGraphics=function(t,e){var i=t.worldAlpha;t.dirty&&(this.updateGraphicsTint(t),t.dirty=!1);for(var o=0;o<t.graphicsData.length;o++){var n,s,r,c,a,h,u,l,d=t.graphicsData[o],p=d.shape,F=d._fillTint,j=d._lineTint;if(e.lineWidth=d.lineWidth,d.type===PIXI.Graphics.POLY){e.beginPath();var Y=p.points;e.moveTo(Y[0],Y[1]);for(var f=1;f<Y.length/2;f++)e.lineTo(Y[2*f],Y[2*f+1]);p.closed&&e.lineTo(Y[0],Y[1]),Y[0]===Y[Y.length-2]&&Y[1]===Y[Y.length-1]&&e.closePath(),d.fill&&(e.globalAlpha=d.fillAlpha*i,e.fillStyle="#"+("00000"+(0|F).toString(16)).substr(-6),e.fill()),d.lineWidth&&(e.globalAlpha=d.lineAlpha*i,e.strokeStyle="#"+("00000"+(0|j).toString(16)).substr(-6),e.stroke())}else d.type===PIXI.Graphics.RECT?(!d.fillColor&&0!==d.fillColor||(e.globalAlpha=d.fillAlpha*i,e.fillStyle="#"+("00000"+(0|F).toString(16)).substr(-6),e.fillRect(p.x,p.y,p.width,p.height)),d.lineWidth&&(e.globalAlpha=d.lineAlpha*i,e.strokeStyle="#"+("00000"+(0|j).toString(16)).substr(-6),e.strokeRect(p.x,p.y,p.width,p.height))):d.type===PIXI.Graphics.CIRC?(e.beginPath(),e.arc(p.x,p.y,p.radius,0,2*Math.PI),e.closePath(),d.fill&&(e.globalAlpha=d.fillAlpha*i,e.fillStyle="#"+("00000"+(0|F).toString(16)).substr(-6),e.fill()),d.lineWidth&&(e.globalAlpha=d.lineAlpha*i,e.strokeStyle="#"+("00000"+(0|j).toString(16)).substr(-6),e.stroke())):d.type===PIXI.Graphics.ELIP?(a=2*p.width,s=2*p.height,n=p.x-a/2,r=p.y-s/2,e.beginPath(),h=a/2*.5522848,u=s/2*.5522848,c=n+a,l=r+s,a=n+a/2,e.moveTo(n,s=r+s/2),e.bezierCurveTo(n,s-u,a-h,r,a,r),e.bezierCurveTo(a+h,r,c,s-u,c,s),e.bezierCurveTo(c,s+u,a+h,l,a,l),e.bezierCurveTo(a-h,l,n,s+u,n,s),e.closePath(),d.fill&&(e.globalAlpha=d.fillAlpha*i,e.fillStyle="#"+("00000"+(0|F).toString(16)).substr(-6),e.fill()),d.lineWidth&&(e.globalAlpha=d.lineAlpha*i,e.strokeStyle="#"+("00000"+(0|j).toString(16)).substr(-6),e.stroke())):d.type===PIXI.Graphics.RREC&&(r=p.x,c=p.y,a=p.width,h=p.height,l=p.radius,l=(u=Math.min(a,h)/2|0)<l?u:l,e.beginPath(),e.moveTo(r,c+l),e.lineTo(r,c+h-l),e.quadraticCurveTo(r,c+h,r+l,c+h),e.lineTo(r+a-l,c+h),e.quadraticCurveTo(r+a,c+h,r+a,c+h-l),e.lineTo(r+a,c+l),e.quadraticCurveTo(r+a,c,r+a-l,c),e.lineTo(r+l,c),e.quadraticCurveTo(r,c,r,c+l),e.closePath(),!d.fillColor&&0!==d.fillColor||(e.globalAlpha=d.fillAlpha*i,e.fillStyle="#"+("00000"+(0|F).toString(16)).substr(-6),e.fill()),d.lineWidth&&(e.globalAlpha=d.lineAlpha*i,e.strokeStyle="#"+("00000"+(0|j).toString(16)).substr(-6),e.stroke()))}},PIXI.CanvasGraphics.renderGraphicsMask=function(t,e){var i=t.graphicsData.length;if(0!==i){e.beginPath();for(var o=0;o<i;o++){var n,s,r,c,a,h,u,l,d=t.graphicsData[o],p=d.shape;if(d.type===PIXI.Graphics.POLY){var F=p.points;e.moveTo(F[0],F[1]);for(var j=1;j<F.length/2;j++)e.lineTo(F[2*j],F[2*j+1]);F[0]===F[F.length-2]&&F[1]===F[F.length-1]&&e.closePath()}else d.type===PIXI.Graphics.RECT?(e.rect(p.x,p.y,p.width,p.height),e.closePath()):d.type===PIXI.Graphics.CIRC?(e.arc(p.x,p.y,p.radius,0,2*Math.PI),e.closePath()):d.type===PIXI.Graphics.ELIP?(h=(a=2*p.width)/2*.5522848,u=(s=2*p.height)/2*.5522848,c=(n=p.x-a/2)+a,l=(r=p.y-s/2)+s,a=n+a/2,e.moveTo(n,s=r+s/2),e.bezierCurveTo(n,s-u,a-h,r,a,r),e.bezierCurveTo(a+h,r,c,s-u,c,s),e.bezierCurveTo(c,s+u,a+h,l,a,l),e.bezierCurveTo(a-h,l,n,s+u,n,s),e.closePath()):d.type===PIXI.Graphics.RREC&&(r=p.x,c=p.y,a=p.width,h=p.height,l=p.radius,u=Math.min(a,h)/2|0,e.moveTo(r,c+(l=u<l?u:l)),e.lineTo(r,c+h-l),e.quadraticCurveTo(r,c+h,r+l,c+h),e.lineTo(r+a-l,c+h),e.quadraticCurveTo(r+a,c+h,r+a,c+h-l),e.lineTo(r+a,c+l),e.quadraticCurveTo(r+a,c,r+a-l,c),e.lineTo(r+l,c),e.quadraticCurveTo(r,c,r,c+l),e.closePath())}}},PIXI.CanvasGraphics.updateGraphicsTint=function(t){if(16777215!==t.tint)for(var e=(t.tint>>16&255)/255,i=(t.tint>>8&255)/255,o=(255&t.tint)/255,n=0;n<t.graphicsData.length;n++){var s=t.graphicsData[n],r=0|s.fillColor,c=0|s.lineColor;s._fillTint=((r>>16&255)/255*e*255<<16)+((r>>8&255)/255*i*255<<8)+(255&r)/255*o*255,s._lineTint=((c>>16&255)/255*e*255<<16)+((c>>8&255)/255*i*255<<8)+(255&c)/255*o*255}},G.Graphics=function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=0),this.type=G.GRAPHICS,this.physicsType=G.SPRITE,this.anchor=new G.Point,PIXI.Graphics.call(this),G.Component.Core.init.call(this,t,e,i,"",null)},G.Graphics.prototype=Object.create(PIXI.Graphics.prototype),G.Graphics.prototype.constructor=G.Graphics,G.Component.Core.install.call(G.Graphics.prototype,["Angle","AutoCull","Bounds","Destroy","FixedToCamera","InputEnabled","InWorld","LifeSpan","PhysicsBody","Reset"]),G.Graphics.prototype.preUpdatePhysics=G.Component.PhysicsBody.preUpdate,G.Graphics.prototype.preUpdateLifeSpan=G.Component.LifeSpan.preUpdate,G.Graphics.prototype.preUpdateInWorld=G.Component.InWorld.preUpdate,G.Graphics.prototype.preUpdateCore=G.Component.Core.preUpdate,G.Graphics.prototype.preUpdate=function(){return!!(this.preUpdatePhysics()&&this.preUpdateLifeSpan()&&this.preUpdateInWorld())&&this.preUpdateCore()},G.Graphics.prototype.postUpdate=function(){G.Component.PhysicsBody.postUpdate.call(this),G.Component.FixedToCamera.postUpdate.call(this),this._boundsDirty&&(this.updateLocalBounds(),this._boundsDirty=!1);for(var t=0;t<this.children.length;t++)this.children[t].postUpdate()},G.Graphics.prototype.destroy=function(t){this.clear(),G.Component.Destroy.prototype.destroy.call(this,t)},G.Graphics.prototype.drawTriangle=function(t,e){void 0===e&&(e=!1);var i,o=new G.Polygon(t);e?(e=new G.Point(this.game.camera.x-t[0].x,this.game.camera.y-t[0].y),i=new G.Point(t[1].x-t[0].x,t[1].y-t[0].y),t=new G.Point(t[1].x-t[2].x,t[1].y-t[2].y).cross(i),0<e.dot(t)&&this.drawPolygon(o)):this.drawPolygon(o)},G.Graphics.prototype.drawTriangles=function(t,e,i){void 0===i&&(i=!1);var o,n=new G.Point,s=new G.Point,r=new G.Point,c=[];if(e)if(t[0]instanceof G.Point)for(o=0;o<e.length/3;o++)c.push(t[e[3*o]]),c.push(t[e[3*o+1]]),c.push(t[e[3*o+2]]),3===c.length&&(this.drawTriangle(c,i),c=[]);else for(o=0;o<e.length;o++)n.x=t[2*e[o]],n.y=t[2*e[o]+1],c.push(n.copyTo({})),3===c.length&&(this.drawTriangle(c,i),c=[]);else if(t[0]instanceof G.Point)for(o=0;o<t.length/3;o++)this.drawTriangle([t[3*o],t[3*o+1],t[3*o+2]],i);else for(o=0;o<t.length/6;o++)n.x=t[6*o+0],n.y=t[6*o+1],s.x=t[6*o+2],s.y=t[6*o+3],r.x=t[6*o+4],r.y=t[6*o+5],this.drawTriangle([n,s,r],i)},G.RenderTexture=function(t,e,i,o,n,s){void 0===o&&(o=""),void 0===n&&(n=G.scaleModes.DEFAULT),void 0===s&&(s=1),this.game=t,this.key=o,this.type=G.RENDERTEXTURE,this._tempMatrix=new PIXI.Matrix,PIXI.RenderTexture.call(this,e,i,this.game.renderer,n,s),this.render=G.RenderTexture.prototype.render},G.RenderTexture.prototype=Object.create(PIXI.RenderTexture.prototype),G.RenderTexture.prototype.constructor=G.RenderTexture,G.RenderTexture.prototype.renderXY=function(t,e,i,o){t.updateTransform(),this._tempMatrix.copyFrom(t.worldTransform),this._tempMatrix.tx=e,this._tempMatrix.ty=i,this.renderer.type===PIXI.WEBGL_RENDERER?this.renderWebGL(t,this._tempMatrix,o):this.renderCanvas(t,this._tempMatrix,o)},G.RenderTexture.prototype.renderRawXY=function(t,e,i,o){this._tempMatrix.identity().translate(e,i),this.renderer.type===PIXI.WEBGL_RENDERER?this.renderWebGL(t,this._tempMatrix,o):this.renderCanvas(t,this._tempMatrix,o)},G.RenderTexture.prototype.render=function(t,e,i){null==e?this._tempMatrix.copyFrom(t.worldTransform):this._tempMatrix.copyFrom(e),this.renderer.type===PIXI.WEBGL_RENDERER?this.renderWebGL(t,this._tempMatrix,i):this.renderCanvas(t,this._tempMatrix,i)},G.Text=function(t,e,i,o,n){e=e||0,i=i||0,o=null==o?"":o.toString(),n=G.Utils.extend({},n),this.type=G.TEXT,this.physicsType=G.SPRITE,this.padding=new G.Point,this.textBounds=null,this.canvas=PIXI.CanvasPool.create(this),this.context=this.canvas.getContext("2d"),this.colors=[],this.strokeColors=[],this.fontStyles=[],this.fontWeights=[],this.autoRound=!1,this.useAdvancedWrap=!1,this._res=t.renderer.resolution,this._text=o,this._fontComponents=null,this._lineSpacing=0,this._charCount=0,this._width=0,this._height=0,G.Sprite.call(this,t,e,i,PIXI.Texture.fromCanvas(this.canvas)),this.setStyle(n),""!==o&&this.updateText()},G.Text.prototype=Object.create(G.Sprite.prototype),G.Text.prototype.constructor=G.Text,G.Text.prototype.preUpdate=function(){return!!(this.preUpdatePhysics()&&this.preUpdateLifeSpan()&&this.preUpdateInWorld())&&this.preUpdateCore()},G.Text.prototype.update=function(){},G.Text.prototype.destroy=function(t){this.texture.destroy(!0),G.Component.Destroy.prototype.destroy.call(this,t)},G.Text.prototype.setShadow=function(t,e,i,o,n,s){return void 0===e&&(e=0),void 0===i&&(i="rgba(0, 0, 0, 1)"),void 0===o&&(o=0),void 0===n&&(n=!0),void 0===s&&(s=!0),this.style.shadowOffsetX=t=void 0===t?0:t,this.style.shadowOffsetY=e,this.style.shadowColor=i,this.style.shadowBlur=o,this.style.shadowStroke=n,this.style.shadowFill=s,this.dirty=!0,this},G.Text.prototype.setStyle=function(t,e){void 0===e&&(e=!1),(t=t||{}).font=t.font||"bold 20pt Arial",t.backgroundColor=t.backgroundColor||null,t.fill=t.fill||"black",t.align=t.align||"left",t.boundsAlignH=t.boundsAlignH||"left",t.boundsAlignV=t.boundsAlignV||"top",t.stroke=t.stroke||"black",t.strokeThickness=t.strokeThickness||0,t.wordWrap=t.wordWrap||!1,t.wordWrapWidth=t.wordWrapWidth||100,t.maxLines=t.maxLines||0,t.shadowOffsetX=t.shadowOffsetX||0,t.shadowOffsetY=t.shadowOffsetY||0,t.shadowColor=t.shadowColor||"rgba(0,0,0,0)",t.shadowBlur=t.shadowBlur||0,t.tabs=t.tabs||0;var i=this.fontToComponents(t.font);return t.fontStyle&&(i.fontStyle=t.fontStyle),t.fontVariant&&(i.fontVariant=t.fontVariant),t.fontWeight&&(i.fontWeight=t.fontWeight),t.fontSize&&("number"==typeof t.fontSize&&(t.fontSize=t.fontSize+"px"),i.fontSize=t.fontSize),this._fontComponents=i,t.font=this.componentsToFont(this._fontComponents),this.style=t,this.dirty=!0,e&&this.updateText(),this},G.Text.prototype.updateText=function(){this.texture.baseTexture.resolution=this._res,this.context.font=this.style.font;var t=this.text,e=(t=this.style.wordWrap?this.runWordWrap(this.text):t).split(/(?:\r\n|\r|\n)/),i=this.style.tabs,o=[],n=0,s=this.determineFontProperties(this.style.font),r=e.length;0<this.style.maxLines&&this.style.maxLines<e.length&&(r=this.style.maxLines);for(var c=this._charCount=0;c<r;c++){if(0===i){var a=this.style.strokeThickness+this.padding.x;0<this.colors.length||0<this.strokeColors.length||0<this.fontWeights.length||0<this.fontStyles.length?a+=this.measureLine(e[c]):a+=this.context.measureText(e[c]).width,this.style.wordWrap&&(a-=this.context.measureText(" ").width)}else{var h=e[c].split(/(?:\t)/),a=this.padding.x+this.style.strokeThickness;if(Array.isArray(i))for(var u=0,l=0;l<h.length;l++){var d=0<this.colors.length||0<this.strokeColors.length||0<this.fontWeights.length||0<this.fontStyles.length?this.measureLine(h[l]):Math.ceil(this.context.measureText(h[l]).width);0<l&&(u+=i[l-1]),a=u+d}else for(l=0;l<h.length;l++)0<this.colors.length||0<this.strokeColors.length||0<this.fontWeights.length||0<this.fontStyles.length?a+=this.measureLine(h[l]):a+=Math.ceil(this.context.measureText(h[l]).width),a+=this.game.math.snapToCeil(a,i)-a}o[c]=Math.ceil(a),n=Math.max(n,o[c])}this.canvas.width=n*this._res;var p,F,j=s.fontSize+this.style.strokeThickness+this.padding.y,t=j*r,Y=this._lineSpacing;for(0!==(Y=Y<0&&Math.abs(Y)>j?-j:Y)&&(t+=0<Y?Y*e.length:Y*(e.length-1)),this.canvas.height=t*this._res,this.context.scale(this._res,this._res),navigator.isCocoonJS&&this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.style.backgroundColor&&(this.context.fillStyle=this.style.backgroundColor,this.context.fillRect(0,0,this.canvas.width,this.canvas.height)),this.context.fillStyle=this.style.fill,this.context.font=this.style.font,this.context.strokeStyle=this.style.stroke,this.context.textBaseline="alphabetic",this.context.lineWidth=this.style.strokeThickness,this.context.lineCap="round",this.context.lineJoin="round",c=this._charCount=0;c<r;c++)p=this.style.strokeThickness/2,F=this.style.strokeThickness/2+c*j+s.ascent,0<c&&(F+=Y*c),"right"===this.style.align?p+=n-o[c]:"center"===this.style.align&&(p+=(n-o[c])/2),this.autoRound&&(p=Math.round(p),F=Math.round(F)),0<this.colors.length||0<this.strokeColors.length||0<this.fontWeights.length||0<this.fontStyles.length?this.updateLine(e[c],p,F):(this.style.stroke&&this.style.strokeThickness&&(this.updateShadow(this.style.shadowStroke),0===i?this.context.strokeText(e[c],p,F):this.renderTabLine(e[c],p,F,!1)),this.style.fill&&(this.updateShadow(this.style.shadowFill),0===i?this.context.fillText(e[c],p,F):this.renderTabLine(e[c],p,F,!0)));this.updateTexture(),this.dirty=!1},G.Text.prototype.renderTabLine=function(t,e,i,o){var n=t.split(/(?:\t)/),s=this.style.tabs,r=0;if(Array.isArray(s))for(var c=0,a=0;a<n.length;a++)0<a&&(c+=s[a-1]),r=e+c,o?this.context.fillText(n[a],r,i):this.context.strokeText(n[a],r,i);else for(a=0;a<n.length;a++){var h=Math.ceil(this.context.measureText(n[a]).width),r=this.game.math.snapToCeil(e,s);o?this.context.fillText(n[a],r,i):this.context.strokeText(n[a],r,i),e=r+h}},G.Text.prototype.updateShadow=function(t){t?(this.context.shadowOffsetX=this.style.shadowOffsetX,this.context.shadowOffsetY=this.style.shadowOffsetY,this.context.shadowColor=this.style.shadowColor,this.context.shadowBlur=this.style.shadowBlur):(this.context.shadowOffsetX=0,this.context.shadowOffsetY=0,this.context.shadowColor=0,this.context.shadowBlur=0)},G.Text.prototype.measureLine=function(t){for(var e=0,i=0;i<t.length;i++){var o,n=t[i];(0<this.fontWeights.length||0<this.fontStyles.length)&&(o=this.fontToComponents(this.context.font),this.fontStyles[this._charCount]&&(o.fontStyle=this.fontStyles[this._charCount]),this.fontWeights[this._charCount]&&(o.fontWeight=this.fontWeights[this._charCount]),this.context.font=this.componentsToFont(o)),this.style.stroke&&this.style.strokeThickness&&(this.strokeColors[this._charCount]&&(this.context.strokeStyle=this.strokeColors[this._charCount]),this.updateShadow(this.style.shadowStroke)),this.style.fill&&(this.colors[this._charCount]&&(this.context.fillStyle=this.colors[this._charCount]),this.updateShadow(this.style.shadowFill)),e+=this.context.measureText(n).width,this._charCount++}return Math.ceil(e)},G.Text.prototype.updateLine=function(t,e,i){for(var o=0;o<t.length;o++){var n,s=t[o];(0<this.fontWeights.length||0<this.fontStyles.length)&&(n=this.fontToComponents(this.context.font),this.fontStyles[this._charCount]&&(n.fontStyle=this.fontStyles[this._charCount]),this.fontWeights[this._charCount]&&(n.fontWeight=this.fontWeights[this._charCount]),this.context.font=this.componentsToFont(n)),this.style.stroke&&this.style.strokeThickness&&(this.strokeColors[this._charCount]&&(this.context.strokeStyle=this.strokeColors[this._charCount]),this.updateShadow(this.style.shadowStroke),this.context.strokeText(s,e,i)),this.style.fill&&(this.colors[this._charCount]&&(this.context.fillStyle=this.colors[this._charCount]),this.updateShadow(this.style.shadowFill),this.context.fillText(s,e,i)),e+=this.context.measureText(s).width,this._charCount++}},G.Text.prototype.clearColors=function(){return this.colors=[],this.strokeColors=[],this.dirty=!0,this},G.Text.prototype.clearFontValues=function(){return this.fontStyles=[],this.fontWeights=[],this.dirty=!0,this},G.Text.prototype.addColor=function(t,e){return this.colors[e]=t,this.dirty=!0,this},G.Text.prototype.addStrokeColor=function(t,e){return this.strokeColors[e]=t,this.dirty=!0,this},G.Text.prototype.addFontStyle=function(t,e){return this.fontStyles[e]=t,this.dirty=!0,this},G.Text.prototype.addFontWeight=function(t,e){return this.fontWeights[e]=t,this.dirty=!0,this},G.Text.prototype.precalculateWordWrap=function(t){return this.texture.baseTexture.resolution=this._res,this.context.font=this.style.font,this.runWordWrap(t).split(/(?:\r\n|\r|\n)/)},G.Text.prototype.runWordWrap=function(t){return this.useAdvancedWrap?this.advancedWordWrap(t):this.basicWordWrap(t)},G.Text.prototype.advancedWordWrap=function(t){for(var e=this.context,i=this.style.wordWrapWidth,o="",n=t.replace(/ +/gi," ").split(/\r?\n/gi),s=n.length,r=0;r<s;r++){var c="",a=(a=n[r]).replace(/^ *|\s*$/gi,"");if(e.measureText(a).width<i)o+=a+"\n";else{for(var h=i,u=a.split(" "),l=0;l<u.length;l++){var d=u[l],p=d+" ",F=e.measureText(p).width;if(h<F){if(0===l){for(var j=p;j.length&&(j=j.slice(0,-1),!((F=e.measureText(j).width)<=h)););if(!j.length)throw new Error("This text's wordWrapWidth setting is less than a single character!");d=d.substr(j.length);u[l]=d,c+=j}d=u[l].length?l:l+1,d=u.slice(d).join(" ").replace(/[ \n]*$/gi,"");n[r+1]=d+" "+(n[r+1]||""),s=n.length;break}c+=p,h-=F}o+=c.replace(/[ \n]*$/gi,"")+"\n"}}return o.replace(/[\s|\n]*$/gi,"")},G.Text.prototype.basicWordWrap=function(t){for(var e="",i=t.split("\n"),o=0;o<i.length;o++){for(var n=this.style.wordWrapWidth,s=i[o].split(" "),r=0;r<s.length;r++){var c=this.context.measureText(s[r]).width,a=c+this.context.measureText(" ").width;n<a?(0<r&&(e+="\n"),e+=s[r]+" ",n=this.style.wordWrapWidth-c):(n-=a,e+=s[r]+" ")}o<i.length-1&&(e+="\n")}return e},G.Text.prototype.updateFont=function(t){t=this.componentsToFont(t);this.style.font!==t&&(this.style.font=t,this.dirty=!0,this.parent&&this.updateTransform())},G.Text.prototype.fontToComponents=function(t){var e,i=t.match(/^\s*(?:\b(normal|italic|oblique|inherit)?\b)\s*(?:\b(normal|small-caps|inherit)?\b)\s*(?:\b(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit)?\b)\s*(?:\b(xx-small|x-small|small|medium|large|x-large|xx-large|larger|smaller|0|\d*(?:[.]\d*)?(?:%|[a-z]{2,5}))?\b)\s*(.*)\s*$/);return i?(e=i[5].trim(),/^(?:inherit|serif|sans-serif|cursive|fantasy|monospace)$/.exec(e)||/['",]/.exec(e)||(e="'"+e+"'"),{font:t,fontStyle:i[1]||"normal",fontVariant:i[2]||"normal",fontWeight:i[3]||"normal",fontSize:i[4]||"medium",fontFamily:e}):{font:t}},G.Text.prototype.componentsToFont=function(t){var e=[],i=t.fontStyle;return i&&"normal"!==i&&e.push(i),(i=t.fontVariant)&&"normal"!==i&&e.push(i),(i=t.fontWeight)&&"normal"!==i&&e.push(i),(i=t.fontSize)&&"medium"!==i&&e.push(i),(i=t.fontFamily)&&e.push(i),e.length||e.push(t.font),e.join(" ")},G.Text.prototype.setText=function(t,e){return void 0===e&&(e=!1),this.text=t.toString()||"",e?this.updateText():this.dirty=!0,this},G.Text.prototype.parseList=function(t){if(!Array.isArray(t))return this;for(var e="",i=0;i<t.length;i++)Array.isArray(t[i])?(e+=t[i].join("\t"),i<t.length-1&&(e+="\n")):(e+=t[i],i<t.length-1&&(e+="\t"));return this.text=e,this.dirty=!0,this},G.Text.prototype.setTextBounds=function(t,e,i,o){return void 0===t?this.textBounds=null:(this.textBounds?this.textBounds.setTo(t,e,i,o):this.textBounds=new G.Rectangle(t,e,i,o),this.style.wordWrapWidth>i&&(this.style.wordWrapWidth=i)),this.updateTexture(),this},G.Text.prototype.updateTexture=function(){var t=this.texture.baseTexture,e=this.texture.crop,i=this.texture.frame,o=this.canvas.width,n=this.canvas.height;t.width=o,t.height=n,e.width=o,e.height=n,i.width=o,i.height=n,this.texture.width=o,this.texture.height=n,this._width=o,this._height=n,this.textBounds&&(t=this.textBounds.x,e=this.textBounds.y,"right"===this.style.boundsAlignH?t+=this.textBounds.width-this.canvas.width/this.resolution:"center"===this.style.boundsAlignH&&(t+=this.textBounds.halfWidth-this.canvas.width/this.resolution/2),"bottom"===this.style.boundsAlignV?e+=this.textBounds.height-this.canvas.height/this.resolution:"middle"===this.style.boundsAlignV&&(e+=this.textBounds.halfHeight-this.canvas.height/this.resolution/2),this.pivot.x=-t,this.pivot.y=-e),this.renderable=0!==o&&0!==n,this.texture.requiresReTint=!0,this.texture.baseTexture.dirty()},G.Text.prototype._renderWebGL=function(t){this.dirty&&(this.updateText(),this.dirty=!1),PIXI.Sprite.prototype._renderWebGL.call(this,t)},G.Text.prototype._renderCanvas=function(t){this.dirty&&(this.updateText(),this.dirty=!1),PIXI.Sprite.prototype._renderCanvas.call(this,t)},G.Text.prototype.determineFontProperties=function(t){if(!(e=G.Text.fontPropertiesCache[t])){var e={},i=G.Text.fontPropertiesCanvas,o=G.Text.fontPropertiesContext,n=(o.font=t,Math.ceil(o.measureText("|Mq").width)),s=2*(r=Math.ceil(o.measureText("|Mq").width)),r=1.4*r|0;if(i.width=n,i.height=s,o.fillStyle="#f00",o.fillRect(0,0,n,s),o.font=t,o.textBaseline="alphabetic",o.fillStyle="#000",o.fillText("|Mq",0,r),!o.getImageData(0,0,n,s))return e.ascent=r,e.descent=6+r,e.fontSize=e.ascent+e.descent,G.Text.fontPropertiesCache[t]=e;for(var c,a=o.getImageData(0,0,n,s).data,i=a.length,h=4*n,u=0,l=!1,d=0;d<r;d++){for(c=0;c<h;c+=4)if(255!==a[u+c]){l=!0;break}if(l)break;u+=h}for(e.ascent=r-d,u=i-h,l=!1,d=s;r<d;d--){for(c=0;c<h;c+=4)if(255!==a[u+c]){l=!0;break}if(l)break;u-=h}e.descent=d-r,e.descent+=6,e.fontSize=e.ascent+e.descent,G.Text.fontPropertiesCache[t]=e}return e},G.Text.prototype.getBounds=function(t){return this.dirty&&(this.updateText(),this.dirty=!1),PIXI.Sprite.prototype.getBounds.call(this,t)},Object.defineProperty(G.Text.prototype,"text",{get:function(){return this._text},set:function(t){t!==this._text&&(this._text=t.toString()||"",this.dirty=!0,this.parent&&this.updateTransform())}}),Object.defineProperty(G.Text.prototype,"cssFont",{get:function(){return this.componentsToFont(this._fontComponents)},set:function(t){this._fontComponents=this.fontToComponents(t=t||"bold 20pt Arial"),this.updateFont(this._fontComponents)}}),Object.defineProperty(G.Text.prototype,"font",{get:function(){return this._fontComponents.fontFamily},set:function(t){t=(t=t||"Arial").trim(),/^(?:inherit|serif|sans-serif|cursive|fantasy|monospace)$/.exec(t)||/['",]/.exec(t)||(t="'"+t+"'"),this._fontComponents.fontFamily=t,this.updateFont(this._fontComponents)}}),Object.defineProperty(G.Text.prototype,"fontSize",{get:function(){var t=this._fontComponents.fontSize;return t&&/(?:^0$|px$)/.exec(t)?parseInt(t,10):t},set:function(t){"number"==typeof(t=t||"0")&&(t+="px"),this._fontComponents.fontSize=t,this.updateFont(this._fontComponents)}}),Object.defineProperty(G.Text.prototype,"fontWeight",{get:function(){return this._fontComponents.fontWeight||"normal"},set:function(t){this._fontComponents.fontWeight=t=t||"normal",this.updateFont(this._fontComponents)}}),Object.defineProperty(G.Text.prototype,"fontStyle",{get:function(){return this._fontComponents.fontStyle||"normal"},set:function(t){this._fontComponents.fontStyle=t=t||"normal",this.updateFont(this._fontComponents)}}),Object.defineProperty(G.Text.prototype,"fontVariant",{get:function(){return this._fontComponents.fontVariant||"normal"},set:function(t){this._fontComponents.fontVariant=t=t||"normal",this.updateFont(this._fontComponents)}}),Object.defineProperty(G.Text.prototype,"fill",{get:function(){return this.style.fill},set:function(t){t!==this.style.fill&&(this.style.fill=t,this.dirty=!0)}}),Object.defineProperty(G.Text.prototype,"align",{get:function(){return this.style.align},set:function(t){t!==this.style.align&&(this.style.align=t,this.dirty=!0)}}),Object.defineProperty(G.Text.prototype,"resolution",{get:function(){return this._res},set:function(t){t!==this._res&&(this._res=t,this.dirty=!0)}}),Object.defineProperty(G.Text.prototype,"tabs",{get:function(){return this.style.tabs},set:function(t){t!==this.style.tabs&&(this.style.tabs=t,this.dirty=!0)}}),Object.defineProperty(G.Text.prototype,"boundsAlignH",{get:function(){return this.style.boundsAlignH},set:function(t){t!==this.style.boundsAlignH&&(this.style.boundsAlignH=t,this.dirty=!0)}}),Object.defineProperty(G.Text.prototype,"boundsAlignV",{get:function(){return this.style.boundsAlignV},set:function(t){t!==this.style.boundsAlignV&&(this.style.boundsAlignV=t,this.dirty=!0)}}),Object.defineProperty(G.Text.prototype,"stroke",{get:function(){return this.style.stroke},set:function(t){t!==this.style.stroke&&(this.style.stroke=t,this.dirty=!0)}}),Object.defineProperty(G.Text.prototype,"strokeThickness",{get:function(){return this.style.strokeThickness},set:function(t){t!==this.style.strokeThickness&&(this.style.strokeThickness=t,this.dirty=!0)}}),Object.defineProperty(G.Text.prototype,"wordWrap",{get:function(){return this.style.wordWrap},set:function(t){t!==this.style.wordWrap&&(this.style.wordWrap=t,this.dirty=!0)}}),Object.defineProperty(G.Text.prototype,"wordWrapWidth",{get:function(){return this.style.wordWrapWidth},set:function(t){t!==this.style.wordWrapWidth&&(this.style.wordWrapWidth=t,this.dirty=!0)}}),Object.defineProperty(G.Text.prototype,"lineSpacing",{get:function(){return this._lineSpacing},set:function(t){t!==this._lineSpacing&&(this._lineSpacing=parseFloat(t),this.dirty=!0,this.parent&&this.updateTransform())}}),Object.defineProperty(G.Text.prototype,"shadowOffsetX",{get:function(){return this.style.shadowOffsetX},set:function(t){t!==this.style.shadowOffsetX&&(this.style.shadowOffsetX=t,this.dirty=!0)}}),Object.defineProperty(G.Text.prototype,"shadowOffsetY",{get:function(){return this.style.shadowOffsetY},set:function(t){t!==this.style.shadowOffsetY&&(this.style.shadowOffsetY=t,this.dirty=!0)}}),Object.defineProperty(G.Text.prototype,"shadowColor",{get:function(){return this.style.shadowColor},set:function(t){t!==this.style.shadowColor&&(this.style.shadowColor=t,this.dirty=!0)}}),Object.defineProperty(G.Text.prototype,"shadowBlur",{get:function(){return this.style.shadowBlur},set:function(t){t!==this.style.shadowBlur&&(this.style.shadowBlur=t,this.dirty=!0)}}),Object.defineProperty(G.Text.prototype,"shadowStroke",{get:function(){return this.style.shadowStroke},set:function(t){t!==this.style.shadowStroke&&(this.style.shadowStroke=t,this.dirty=!0)}}),Object.defineProperty(G.Text.prototype,"shadowFill",{get:function(){return this.style.shadowFill},set:function(t){t!==this.style.shadowFill&&(this.style.shadowFill=t,this.dirty=!0)}}),Object.defineProperty(G.Text.prototype,"width",{get:function(){return this.dirty&&(this.updateText(),this.dirty=!1),this.scale.x*this.texture.frame.width},set:function(t){this.scale.x=t/this.texture.frame.width,this._width=t}}),Object.defineProperty(G.Text.prototype,"height",{get:function(){return this.dirty&&(this.updateText(),this.dirty=!1),this.scale.y*this.texture.frame.height},set:function(t){this.scale.y=t/this.texture.frame.height,this._height=t}}),G.Text.fontPropertiesCache={},G.Text.fontPropertiesCanvas=document.createElement("canvas"),G.Text.fontPropertiesContext=G.Text.fontPropertiesCanvas.getContext("2d"),G.BitmapText=function(t,e,i,o,n,s,r){e=e||0,i=i||0,o=o||"",n=n||"",s=s||32,r=r||"left",PIXI.DisplayObjectContainer.call(this),this.type=G.BITMAPTEXT,this.physicsType=G.SPRITE,this.textWidth=0,this.textHeight=0,this.anchor=new G.Point,this._prevAnchor=new G.Point,this._glyphs=[],this._maxWidth=0,this._text=n.toString()||"",this._data=t.cache.getBitmapFont(o),this._font=o,this._fontSize=s,this._align=r,this._tint=16777215,this.updateText(),this.dirty=!1,G.Component.Core.init.call(this,t,e,i,"",null)},G.BitmapText.prototype=Object.create(PIXI.DisplayObjectContainer.prototype),G.BitmapText.prototype.constructor=G.BitmapText,G.Component.Core.install.call(G.BitmapText.prototype,["Angle","AutoCull","Bounds","Destroy","FixedToCamera","InputEnabled","InWorld","LifeSpan","PhysicsBody","Reset"]),G.BitmapText.prototype.preUpdatePhysics=G.Component.PhysicsBody.preUpdate,G.BitmapText.prototype.preUpdateLifeSpan=G.Component.LifeSpan.preUpdate,G.BitmapText.prototype.preUpdateInWorld=G.Component.InWorld.preUpdate,G.BitmapText.prototype.preUpdateCore=G.Component.Core.preUpdate,G.BitmapText.prototype.preUpdate=function(){return!!(this.preUpdatePhysics()&&this.preUpdateLifeSpan()&&this.preUpdateInWorld())&&this.preUpdateCore()},G.BitmapText.prototype.postUpdate=function(){G.Component.PhysicsBody.postUpdate.call(this),G.Component.FixedToCamera.postUpdate.call(this),!this.body||this.body.type!==G.Physics.ARCADE||this.textWidth===this.body.sourceWidth&&this.textHeight===this.body.sourceHeight||this.body.setSize(this.textWidth,this.textHeight)},G.BitmapText.prototype.setText=function(t){this.text=t},G.BitmapText.prototype.scanLine=function(t,e,i){for(var o=0,n=0,s=-1,r=0,c=null,a=0<this._maxWidth?this._maxWidth:null,h=[],u=0;u<i.length;u++){var l=u===i.length-1;if(/(?:\r\n|\r|\n)/.test(i.charAt(u)))return{width:n,text:i.substr(0,u),end:l,chars:h};var d,p=i.charCodeAt(u),F=t.chars[p],j=(void 0===F&&(F=t.chars[p=32]),c&&F.kerning[c]?F.kerning[c]:0);if(/(\s)/.test(i.charAt(u))&&(s=u,r=n),d=(j+F.texture.width+F.xOffset)*e,a&&a<=n+d&&-1<s)return{width:r||n,text:i.substr(0,u-(u-s)),end:l,chars:h};n+=(F.xAdvance+j)*e,h.push(o+(F.xOffset+j)*e),o+=(F.xAdvance+j)*e,c=p}return{width:n,text:i,end:l,chars:h}},G.BitmapText.prototype.cleanText=function(t,e){void 0===e&&(e="");var i=this._data.font;if(!i)return"";for(var o=t.replace(/\r\n|\n\r|\n|\r/g,"\n").split("\n"),n=0;n<o.length;n++){for(var s="",r=o[n],c=0;c<r.length;c++)s=i.chars[r.charCodeAt(c)]?s.concat(r[c]):s.concat(e);o[n]=s}return o.join("\n")},G.BitmapText.prototype.updateText=function(){var t=this._data.font;if(t){var e=this.text,i=this._fontSize/t.size,o=[],n=0;this.textWidth=0;do{}while((u=this.scanLine(t,i,e)).y=n,o.push(u),u.width>this.textWidth&&(this.textWidth=u.width),n+=t.lineHeight*i,e=e.substr(u.text.length+1),!1===u.end);this.textHeight=n;for(var s=0,r=0,c=this.textWidth*this.anchor.x,a=this.textHeight*this.anchor.y,h=0;h<o.length;h++){var u=o[h];"right"===this._align?r=this.textWidth-u.width:"center"===this._align&&(r=(this.textWidth-u.width)/2);for(var l=0;l<u.text.length;l++){var d=u.text.charCodeAt(l),d=t.chars[d],p=(void 0===d&&(d=t.chars[32]),this._glyphs[s]);p?p.texture=d.texture:((p=new PIXI.Sprite(d.texture)).name=u.text[l],this._glyphs.push(p)),p.position.x=u.chars[l]+r-c,p.position.y=u.y+d.yOffset*i-a,p.scale.set(i),p.tint=this.tint,p.texture.requiresReTint=!0,p.parent||this.addChild(p),s++}}for(h=s;h<this._glyphs.length;h++)this.removeChild(this._glyphs[h])}},G.BitmapText.prototype.purgeGlyphs=function(){for(var t=this._glyphs.length,e=[],i=0;i<this._glyphs.length;i++)this._glyphs[i].parent!==this?this._glyphs[i].destroy():e.push(this._glyphs[i]);return this._glyphs=[],this._glyphs=e,this.updateText(),t-e.length},G.BitmapText.prototype.updateTransform=function(){!this.dirty&&this.anchor.equals(this._prevAnchor)||(this.updateText(),this.dirty=!1,this._prevAnchor.copyFrom(this.anchor)),PIXI.DisplayObjectContainer.prototype.updateTransform.call(this)},Object.defineProperty(G.BitmapText.prototype,"align",{get:function(){return this._align},set:function(t){t===this._align||"left"!==t&&"center"!==t&&"right"!==t||(this._align=t,this.updateText())}}),Object.defineProperty(G.BitmapText.prototype,"tint",{get:function(){return this._tint},set:function(t){t!==this._tint&&(this._tint=t,this.updateText())}}),Object.defineProperty(G.BitmapText.prototype,"font",{get:function(){return this._font},set:function(t){t!==this._font&&(this._font=t.trim(),this._data=this.game.cache.getBitmapFont(this._font),this.updateText())}}),Object.defineProperty(G.BitmapText.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){(t=parseInt(t,10))!==this._fontSize&&0<t&&(this._fontSize=t,this.updateText())}}),Object.defineProperty(G.BitmapText.prototype,"text",{get:function(){return this._text},set:function(t){t!==this._text&&(this._text=t.toString()||"",this.updateText())}}),Object.defineProperty(G.BitmapText.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(t){t!==this._maxWidth&&(this._maxWidth=t,this.updateText())}}),Object.defineProperty(G.BitmapText.prototype,"smoothed",{get:function(){return!this._data.base.scaleMode},set:function(t){this._data.base.scaleMode=t?0:1}}),G.RetroFont=function(t,e,i,o,n,s,r,c,a,h){if(!t.cache.checkImageKey(e))return!1;null==s&&(s=t.cache.getImage(e).width/i),this.characterWidth=i,this.characterHeight=o,this.characterSpacingX=r||0,this.characterSpacingY=c||0,this.characterPerRow=s,this.offsetX=a||0,this.offsetY=h||0,this.align="left",this.multiLine=!1,this.autoUpperCase=!0,this.customSpacingX=0,this.customSpacingY=0,this.fixedWidth=0,this.fontSet=t.cache.getImage(e),this._text="",this.grabData=[],this.frameData=new G.FrameData;for(var u=this.offsetX,l=this.offsetY,d=0,p=0;p<n.length;p++){var F=this.frameData.addFrame(new G.Frame(p,u,l,this.characterWidth,this.characterHeight));this.grabData[n.charCodeAt(p)]=F.index,++d===this.characterPerRow?(d=0,u=this.offsetX,l+=this.characterHeight+this.characterSpacingY):u+=this.characterWidth+this.characterSpacingX}t.cache.updateFrameData(e,this.frameData),this.stamp=new G.Image(t,0,0,e,0),G.RenderTexture.call(this,t,100,100,"",G.scaleModes.NEAREST),this.type=G.RETROFONT},G.RetroFont.prototype=Object.create(G.RenderTexture.prototype),G.RetroFont.prototype.constructor=G.RetroFont,G.RetroFont.ALIGN_LEFT="left",G.RetroFont.ALIGN_RIGHT="right",G.RetroFont.ALIGN_CENTER="center",G.RetroFont.TEXT_SET1=" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",G.RetroFont.TEXT_SET2=" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ",G.RetroFont.TEXT_SET3="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",G.RetroFont.TEXT_SET4="ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",G.RetroFont.TEXT_SET5="ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",G.RetroFont.TEXT_SET6="ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789\"(),-.' ",G.RetroFont.TEXT_SET7="AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW\")28FLRX-'39",G.RetroFont.TEXT_SET8="0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",G.RetroFont.TEXT_SET9="ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'\"?!",G.RetroFont.TEXT_SET10="ABCDEFGHIJKLMNOPQRSTUVWXYZ",G.RetroFont.TEXT_SET11="ABCDEFGHIJKLMNOPQRSTUVWXYZ.,\"-+!?()':;0123456789",G.RetroFont.prototype.setFixedWidth=function(t,e){void 0===e&&(e="left"),this.fixedWidth=t,this.align=e},G.RetroFont.prototype.setText=function(t,e,i,o,n,s){this.multiLine=e||!1,this.customSpacingX=i||0,this.customSpacingY=o||0,this.align=n||"left",this.autoUpperCase=!s,0<t.length&&(this.text=t)},G.RetroFont.prototype.buildRetroFontText=function(){var t=0,e=0;if(this.clear(),this.multiLine){var i=this._text.split("\n");0<this.fixedWidth?this.resize(this.fixedWidth,i.length*(this.characterHeight+this.customSpacingY)-this.customSpacingY,!0):this.resize(this.getLongestLine()*(this.characterWidth+this.customSpacingX),i.length*(this.characterHeight+this.customSpacingY)-this.customSpacingY,!0);for(var o=0;o<i.length;o++)t=0,this.align===G.RetroFont.ALIGN_RIGHT?t=this.width-i[o].length*(this.characterWidth+this.customSpacingX):this.align===G.RetroFont.ALIGN_CENTER&&(t=this.width/2-i[o].length*(this.characterWidth+this.customSpacingX)/2,t+=this.customSpacingX/2),this.pasteLine(i[o],t=t<0?0:t,e,this.customSpacingX),e+=this.characterHeight+this.customSpacingY}else 0<this.fixedWidth?this.resize(this.fixedWidth,this.characterHeight,!0):this.resize(this._text.length*(this.characterWidth+this.customSpacingX),this.characterHeight,!0),t=0,this.align===G.RetroFont.ALIGN_RIGHT?t=this.width-this._text.length*(this.characterWidth+this.customSpacingX):this.align===G.RetroFont.ALIGN_CENTER&&(t=this.width/2-this._text.length*(this.characterWidth+this.customSpacingX)/2,t+=this.customSpacingX/2),this.pasteLine(this._text,t=t<0?0:t,0,this.customSpacingX);this.requiresReTint=!0},G.RetroFont.prototype.pasteLine=function(t,e,i,o){for(var n=0;n<t.length;n++)if(" "===t.charAt(n))e+=this.characterWidth+o;else if(0<=this.grabData[t.charCodeAt(n)]&&(this.stamp.frame=this.grabData[t.charCodeAt(n)],this.renderXY(this.stamp,e,i,!1),(e+=this.characterWidth+o)>this.width))break},G.RetroFont.prototype.getLongestLine=function(){var t=0;if(0<this._text.length)for(var e=this._text.split("\n"),i=0;i<e.length;i++)e[i].length>t&&(t=e[i].length);return t},G.RetroFont.prototype.removeUnsupportedCharacters=function(t){for(var e="",i=0;i<this._text.length;i++){var o=this._text[i],n=o.charCodeAt(0);(0<=this.grabData[n]||!t&&"\n"===o)&&(e=e.concat(o))}return e},G.RetroFont.prototype.updateOffset=function(t,e){if(this.offsetX!==t||this.offsetY!==e){for(var i=t-this.offsetX,o=e-this.offsetY,n=this.game.cache.getFrameData(this.stamp.key).getFrames(),s=n.length;s--;)n[s].x+=i,n[s].y+=o;this.buildRetroFontText()}},Object.defineProperty(G.RetroFont.prototype,"text",{get:function(){return this._text},set:function(t){(t=this.autoUpperCase?t.toUpperCase():t)!==this._text&&(this._text=t,this.removeUnsupportedCharacters(this.multiLine),this.buildRetroFontText())}}),Object.defineProperty(G.RetroFont.prototype,"smoothed",{get:function(){return this.stamp.smoothed},set:function(t){this.stamp.smoothed=t,this.buildRetroFontText()}}),G.Rope=function(t,e,i,o,n,s){this.points=[],this.points=s,this._hasUpdateAnimation=!1,this._updateAnimationCallback=null,e=e||0,i=i||0,o=o||null,n=n||null,this.type=G.ROPE,PIXI.Rope.call(this,G.Cache.DEFAULT,this.points),G.Component.Core.init.call(this,t,e,i,o,n)},G.Rope.prototype=Object.create(PIXI.Rope.prototype),G.Rope.prototype.constructor=G.Rope,G.Component.Core.install.call(G.Rope.prototype,["Angle","Animation","AutoCull","Bounds","BringToTop","Crop","Delta","Destroy","FixedToCamera","InWorld","LifeSpan","LoadTexture","Overlap","PhysicsBody","Reset","ScaleMinMax","Smoothed"]),G.Rope.prototype.preUpdatePhysics=G.Component.PhysicsBody.preUpdate,G.Rope.prototype.preUpdateLifeSpan=G.Component.LifeSpan.preUpdate,G.Rope.prototype.preUpdateInWorld=G.Component.InWorld.preUpdate,G.Rope.prototype.preUpdateCore=G.Component.Core.preUpdate,G.Rope.prototype.preUpdate=function(){return!!(this.preUpdatePhysics()&&this.preUpdateLifeSpan()&&this.preUpdateInWorld())&&this.preUpdateCore()},G.Rope.prototype.update=function(){this._hasUpdateAnimation&&this.updateAnimation.call(this)},G.Rope.prototype.reset=function(t,e){return G.Component.Reset.prototype.reset.call(this,t,e),this},Object.defineProperty(G.Rope.prototype,"updateAnimation",{get:function(){return this._updateAnimation},set:function(t){t&&"function"==typeof t?(this._hasUpdateAnimation=!0,this._updateAnimation=t):(this._hasUpdateAnimation=!1,this._updateAnimation=null)}}),Object.defineProperty(G.Rope.prototype,"segments",{get:function(){for(var t,e,i,o,n=[],s=0;s<this.points.length;s++)o=this.vertices[i=4*s]*this.scale.x,t=this.vertices[1+i]*this.scale.y,e=this.vertices[4+i]*this.scale.x,i=this.vertices[3+i]*this.scale.y,e=G.Math.difference(o,e),i=G.Math.difference(t,i),o+=this.world.x,t+=this.world.y,o=new G.Rectangle(o,t,e,i),n.push(o);return n}}),G.TileSprite=function(t,e,i,o,n,s,r){e=e||0,i=i||0,o=o||256,n=n||256,s=s||null,r=r||null,this.type=G.TILESPRITE,this.physicsType=G.SPRITE,this._scroll=new G.Point;var c=t.cache.getImage("__default",!0);PIXI.TilingSprite.call(this,new PIXI.Texture(c.base),o,n),G.Component.Core.init.call(this,t,e,i,s,r)},G.TileSprite.prototype=Object.create(PIXI.TilingSprite.prototype),G.TileSprite.prototype.constructor=G.TileSprite,G.Component.Core.install.call(G.TileSprite.prototype,["Angle","Animation","AutoCull","Bounds","BringToTop","Destroy","FixedToCamera","Health","InCamera","InputEnabled","InWorld","LifeSpan","LoadTexture","Overlap","PhysicsBody","Reset","Smoothed"]),G.TileSprite.prototype.preUpdatePhysics=G.Component.PhysicsBody.preUpdate,G.TileSprite.prototype.preUpdateLifeSpan=G.Component.LifeSpan.preUpdate,G.TileSprite.prototype.preUpdateInWorld=G.Component.InWorld.preUpdate,G.TileSprite.prototype.preUpdateCore=G.Component.Core.preUpdate,G.TileSprite.prototype.preUpdate=function(){return 0!==this._scroll.x&&(this.tilePosition.x+=this._scroll.x*this.game.time.physicsElapsed),0!==this._scroll.y&&(this.tilePosition.y+=this._scroll.y*this.game.time.physicsElapsed),!!(this.preUpdatePhysics()&&this.preUpdateLifeSpan()&&this.preUpdateInWorld())&&this.preUpdateCore()},G.TileSprite.prototype.autoScroll=function(t,e){this._scroll.set(t,e)},G.TileSprite.prototype.stopScroll=function(){this._scroll.set(0,0)},G.TileSprite.prototype.destroy=function(t){G.Component.Destroy.prototype.destroy.call(this,t),PIXI.TilingSprite.prototype.destroy.call(this)},G.TileSprite.prototype.reset=function(t,e){return G.Component.Reset.prototype.reset.call(this,t,e),this.tilePosition.x=0,this.tilePosition.y=0,this},G.Device=function(){this.deviceReadyAt=0,this.initialized=!1,this.desktop=!1,this.iOS=!1,this.iOSVersion=0,this.cocoonJS=!1,this.cocoonJSApp=!1,this.wechatMinigame=!1,this.cordova=!1,this.node=!1,this.nodeWebkit=!1,this.electron=!1,this.ejecta=!1,this.crosswalk=!1,this.android=!1,this.chromeOS=!1,this.linux=!1,this.macOS=!1,this.windows=!1,this.windowsPhone=!1,this.canvas=!1,this.canvasBitBltShift=null,this.webGL=!1,this.file=!1,this.fileSystem=!1,this.localStorage=!1,this.worker=!1,this.css3D=!1,this.pointerLock=!1,this.typedArray=!1,this.vibration=!1,this.getUserMedia=!0,this.quirksMode=!1,this.touch=!1,this.mspointer=!1,this.wheelEvent=null,this.arora=!1,this.chrome=!1,this.chromeVersion=0,this.epiphany=!1,this.firefox=!1,this.firefoxVersion=0,this.ie=!1,this.ieVersion=0,this.trident=!1,this.tridentVersion=0,this.edge=!1,this.mobileSafari=!1,this.midori=!1,this.opera=!1,this.safari=!1,this.safariVersion=0,this.webApp=!1,this.silk=!1,this.audioData=!1,this.webAudio=!1,this.ogg=!1,this.opus=!1,this.mp3=!1,this.wav=!1,this.m4a=!1,this.webm=!1,this.dolby=!1,this.oggVideo=!1,this.h264Video=!1,this.mp4Video=!1,this.webmVideo=!1,this.vp9Video=!1,this.hlsVideo=!1,this.iPhone=!1,this.iPhone4=!1,this.iPad=!1,this.pixelRatio=0,this.littleEndian=!1,this.LITTLE_ENDIAN=!1,this.support32bit=!1,this.fullscreen=!1,this.requestFullscreen="",this.cancelFullscreen="",this.fullscreenKeyboard=!1},G.Device=new G.Device,G.Device.onInitialized=new G.Signal,G.Device.whenReady=function(t,e,i){var o=this._readyCheck;this.deviceReadyAt||!o?t.call(e,this):o._monitor||i?(o._queue=o._queue||[],o._queue.push([t,e])):(o._monitor=o.bind(this),o._queue=o._queue||[],o._queue.push([t,e]),i=void 0!==window.cordova,t=navigator.isCocoonJS,"complete"===document.readyState||"interactive"===document.readyState?window.setTimeout(o._monitor,0):i&&!t?document.addEventListener("deviceready",o._monitor,!1):(document.addEventListener("DOMContentLoaded",o._monitor,!1),window.addEventListener("load",o._monitor,!1)))},G.Device._readyCheck=function(){var t=this._readyCheck;if(document.body){if(!this.deviceReadyAt){this.deviceReadyAt=Date.now(),document.removeEventListener("deviceready",t._monitor),document.removeEventListener("DOMContentLoaded",t._monitor),window.removeEventListener("load",t._monitor),this._initialize(),this.initialized=!0,this.onInitialized.dispatch(this);for(;i=t._queue.shift();){var e=i[0],i=i[1];e.call(i,this)}this._readyCheck=null,this._initialize=null,this.onInitialized=null}}else window.setTimeout(t._monitor,20)},G.Device._initialize=function(){var t,e,i=this,o=(t=navigator.userAgent,/Playstation Vita/.test(t)?i.vita=!0:/Kindle/.test(t)||/\bKF[A-Z][A-Z]+/.test(t)||/Silk.*Mobile Safari/.test(t)?i.kindle=!0:/Android/.test(t)?i.android=!0:/CrOS/.test(t)?i.chromeOS=!0:/iP[ao]d|iPhone/i.test(t)?(i.iOS=!0,navigator.appVersion.match(/OS (\d+)/),i.iOSVersion=parseInt(RegExp.$1,10)):/Linux/.test(t)?i.linux=!0:/Mac OS/.test(t)?i.macOS=!0:/Windows/.test(t)&&(i.windows=!0),(/Windows Phone/i.test(t)||/IEMobile/i.test(t))&&(i.android=!1,i.iOS=!1,i.macOS=!1,i.windows=!0,i.windowsPhone=!0),e=/Silk/.test(t),(i.windows||i.macOS||i.linux&&!e||i.chromeOS)&&(i.desktop=!0),(i.windowsPhone||/Windows NT/i.test(t)&&/Touch/i.test(t))&&(i.desktop=!1),navigator.userAgent);if(/Arora/.test(o)?i.arora=!0:/Edge\/\d+/.test(o)?i.edge=!0:/Chrome\/(\d+)/.test(o)&&!i.windowsPhone?(i.chrome=!0,i.chromeVersion=parseInt(RegExp.$1,10)):/Epiphany/.test(o)?i.epiphany=!0:/Firefox\D+(\d+)/.test(o)?(i.firefox=!0,i.firefoxVersion=parseInt(RegExp.$1,10)):/AppleWebKit/.test(o)&&i.iOS?i.mobileSafari=!0:/MSIE (\d+\.\d+);/.test(o)?(i.ie=!0,i.ieVersion=parseInt(RegExp.$1,10)):/Midori/.test(o)?i.midori=!0:/Opera/.test(o)?i.opera=!0:/Safari\/(\d+)/.test(o)&&!i.windowsPhone?(i.safari=!0,/Version\/(\d+)\./.test(o)&&(i.safariVersion=parseInt(RegExp.$1,10))):/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(o)&&(i.ie=!0,i.trident=!0,i.tridentVersion=parseInt(RegExp.$1,10),i.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(o)&&(i.silk=!0),navigator.standalone&&(i.webApp=!0),void 0!==window.cordova&&(i.cordova=!0),"undefined"!=typeof process&&"undefined"!=typeof require&&(i.node=!0),i.node&&"object"==typeof process.versions&&(i.nodeWebkit=!!process.versions["node-webkit"],i.electron=!!process.versions.electron),navigator.isCocoonJS&&(i.cocoonJS=!0),void 0!==window.wx&&(i.wechatMinigame=!0),i.cocoonJS)try{i.cocoonJSApp="undefined"!=typeof CocoonJS}catch(o){i.cocoonJSApp=!1}void 0!==window.ejecta&&(i.ejecta=!0),/Crosswalk/.test(o)&&(i.crosswalk=!0),i.audioData=!!window.Audio,i.webAudio=!(!window.AudioContext&&!window.webkitAudioContext);var n,s,r=document.createElement("audio");try{r.canPlayType&&(r.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,"")&&(i.ogg=!0),(r.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,"")||r.canPlayType("audio/opus;").replace(/^no$/,""))&&(i.opus=!0),r.canPlayType("audio/mpeg;").replace(/^no$/,"")&&(i.mp3=!0),r.canPlayType('audio/wav; codecs="1"').replace(/^no$/,"")&&(i.wav=!0),(r.canPlayType("audio/x-m4a;")||r.canPlayType("audio/aac;").replace(/^no$/,""))&&(i.m4a=!0),r.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")&&(i.webm=!0),""!==r.canPlayType('audio/mp4;codecs="ec-3"'))&&(i.edge?i.dolby=!0:i.safari&&9<=i.safariVersion&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)&&(n=parseInt(RegExp.$1,10),s=parseInt(RegExp.$2,10),(10===n&&11<=s||10<n)&&(i.dolby=!0)))}catch(r){}var c=document.createElement("video");try{c.canPlayType&&(c.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,"")&&(i.oggVideo=!0),c.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,"")&&(i.h264Video=!0,i.mp4Video=!0),c.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,"")&&(i.webmVideo=!0),c.canPlayType('video/webm; codecs="vp9"').replace(/^no$/,"")&&(i.vp9Video=!0),c.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(/^no$/,"")&&(i.hlsVideo=!0))}catch(c){}var a,h,u=document.createElement("p"),l={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};for(h in document.body.insertBefore(u,null),l)void 0!==u.style[h]&&(u.style[h]="translate3d(1px,1px,1px)",a=window.getComputedStyle(u).getPropertyValue(l[h]));document.body.removeChild(u),i.css3D=void 0!==a&&0<a.length&&"none"!==a,i.pixelRatio=window.devicePixelRatio||1,i.iPhone=-1!==navigator.userAgent.toLowerCase().indexOf("iphone"),i.iPhone4=2===i.pixelRatio&&i.iPhone,i.iPad=!!(!(e=-1!==navigator.userAgent.toLowerCase().indexOf("ipad"))&&navigator.userAgent.match(/Mac/)&&navigator.maxTouchPoints&&2<navigator.maxTouchPoints)||e,"undefined"!=typeof Int8Array?i.typedArray=!0:i.typedArray=!1,"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint32Array&&(i.littleEndian=(e=new ArrayBuffer(4),t=new Uint8Array(e),e=new Uint32Array(e),t[0]=161,t[1]=178,t[2]=195,t[3]=212,3569595041===e[0]||2712847316!==e[0]&&null),i.LITTLE_ENDIAN=i.littleEndian),i.support32bit="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof Int32Array&&null!==i.littleEndian&&function(){if(void 0===Uint8ClampedArray)return!1;var t=PIXI.CanvasPool.create(this,1,1).getContext("2d");return!!t&&(t=t.createImageData(1,1),PIXI.CanvasPool.remove(this),t.data instanceof Uint8ClampedArray)}(),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(i.vibration=!0),i.canvas=!!window.CanvasRenderingContext2D||i.cocoonJS;try{i.localStorage=!!localStorage.getItem}catch(d){i.localStorage=!1}i.file=!!(window.File&&window.FileReader&&window.FileList&&window.Blob),i.fileSystem=!!window.requestFileSystem;var d={stencil:!0};i.webGL=function(){try{var t=document.createElement("canvas");return t.screencanvas=!1,!!window.WebGLRenderingContext&&(t.getContext("webgl",d)||t.getContext("experimental-webgl",d))}catch(t){return!1}}(),i.webGL=!!i.webGL,i.worker=!!window.Worker,i.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,i.quirksMode="CSS1Compat"!==document.compatMode,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,i.getUserMedia=i.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,i.firefox&&i.firefoxVersion<21&&(i.getUserMedia=!1),!i.iOS&&(i.ie||i.firefox||i.chrome)&&(i.canvasBitBltShift=!0),(i.safari||i.mobileSafari)&&(i.canvasBitBltShift=!1);for(var p=["requestFullscreen","requestFullScreen","webkitRequestFullscreen","webkitRequestFullScreen","msRequestFullscreen","msRequestFullScreen","mozRequestFullScreen","mozRequestFullscreen"],F=document.createElement("div"),j=0;j<p.length;j++)if(F[p[j]]){i.fullscreen=!0,i.requestFullscreen=p[j];break}var Y=["cancelFullScreen","exitFullscreen","webkitCancelFullScreen","webkitExitFullscreen","msCancelFullScreen","msExitFullscreen","mozCancelFullScreen","mozExitFullscreen"];if(i.fullscreen)for(j=0;j<Y.length;j++)if(document[Y[j]]){i.cancelFullscreen=Y[j];break}window.Element&&Element.ALLOW_KEYBOARD_INPUT&&(i.fullscreenKeyboard=!0),("ontouchstart"in document.documentElement||window.navigator.maxTouchPoints&&1<=window.navigator.maxTouchPoints)&&(i.touch=!0),(window.PointerEvent||window.MSPointerEvent||window.navigator.msPointerEnabled||window.navigator.pointerEnabled)&&(i.mspointer=!0),i.cocoonJS||("onwheel"in window||i.ie&&"WheelEvent"in window?i.wheelEvent="wheel":"onmousewheel"in window?i.wheelEvent="mousewheel":i.firefox&&"MouseScrollEvent"in window&&(i.wheelEvent="DOMMouseScroll"))},G.Device.canPlayAudio=function(t){return!!("mp3"===t&&this.mp3||"ogg"===t&&(this.ogg||this.opus)||"m4a"===t&&this.m4a||"opus"===t&&this.opus||"wav"===t&&this.wav||"webm"===t&&this.webm||"mp4"===t&&this.dolby)},G.Device.canPlayVideo=function(t){return!!("webm"===t&&(this.webmVideo||this.vp9Video)||"mp4"===t&&(this.mp4Video||this.h264Video)||("ogg"===t||"ogv"===t)&&this.oggVideo||"mpeg"===t&&this.hlsVideo)},G.Device.isConsoleOpen=function(){return!(!window.console||!window.console.firebug)||!(!window.console||(console.clear,!console.profiles))&&0<console.profiles.length},G.Device.isAndroidStockBrowser=function(){var t=window.navigator.userAgent.match(/Android.*AppleWebKit\/([\d.]+)/);return t&&t[1]<537},G.Canvas={create:function(t,e,i,o,n){e=e||256,i=i||256;n=n?document.createElement("canvas"):PIXI.CanvasPool.create(t,e,i);return"string"==typeof o&&""!==o&&(n.id=o),n.width=e,n.height=i,n.style.display="block",n},setBackgroundColor:function(t,e){return t.style.backgroundColor=e=e||"rgb(0,0,0)",t},setTouchAction:function(t,e){return t.style.msTouchAction=e=e||"none",t.style["ms-touch-action"]=e,t.style["touch-action"]=e,t},setUserSelect:function(t,e){return t.style["-webkit-touch-callout"]=e=e||"none",t.style["-webkit-user-select"]=e,t.style["-khtml-user-select"]=e,t.style["-moz-user-select"]=e,t.style["-ms-user-select"]=e,t.style["user-select"]=e,t.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",t},addToDOM:function(t,e,i){var o;return void 0===i&&(i=!0),e&&("string"==typeof e?o=document.getElementById(e):"object"==typeof e&&1===e.nodeType&&(o=e)),o=o||document.body,i&&o.style&&(o.style.overflow="hidden"),o.appendChild(t),t},removeFromDOM:function(t){t.parentNode&&t.parentNode.removeChild(t)},setTransform:function(t,e,i,o,n,s,r){return t.setTransform(o,s,r,n,e,i),t},setSmoothingEnabled:function(t,e){var i=G.Canvas.getSmoothingPrefix(t);return i&&(t[i]=e),t},getSmoothingPrefix:function(t){var e,i=["i","webkitI","msI","mozI","oI"];for(e in i){var o=i[e]+"mageSmoothingEnabled";if(o in t)return o}return null},getSmoothingEnabled:function(t){var e=G.Canvas.getSmoothingPrefix(t);if(e)return t[e]},setImageRenderingCrisp:function(t){for(var e=["optimizeSpeed","crisp-edges","-moz-crisp-edges","-webkit-optimize-contrast","optimize-contrast","pixelated"],i=0;i<e.length;i++)t.style["image-rendering"]=e[i];return t.style.msInterpolationMode="nearest-neighbor",t},setImageRenderingBicubic:function(t){return t.style["image-rendering"]="auto",t.style.msInterpolationMode="bicubic",t}},G.RequestAnimationFrame=function(t,e){void 0===e&&(e=!1),this.game=t,this.isRunning=!1,this.forceSetTimeOut=e;for(var i=["ms","moz","webkit","o"],o=0;o<i.length&&!window.requestAnimationFrame;o++)window.requestAnimationFrame=window[i[o]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[i[o]+"CancelAnimationFrame"];this._isSetTimeOut=!1,this._onLoop=null,this._timeOutID=null},G.RequestAnimationFrame.prototype={start:function(){this.isRunning=!0;var e=this;!window.requestAnimationFrame||this.forceSetTimeOut?(this._isSetTimeOut=!0,this._onLoop=function(){return e.updateSetTimeout()},this._timeOutID=window.setTimeout(this._onLoop,0)):(this._isSetTimeOut=!1,this._onLoop=function(t){return e.updateRAF(t)},this._timeOutID=window.requestAnimationFrame(this._onLoop))},updateRAF:function(t){this.isRunning&&(this.game.update(Math.floor(t)),this._timeOutID=window.requestAnimationFrame(this._onLoop))},updateSetTimeout:function(){this.isRunning&&(this.game.update(Date.now()),this._timeOutID=window.setTimeout(this._onLoop,this.game.time.timeToCall))},stop:function(){this._isSetTimeOut?clearTimeout(this._timeOutID):window.cancelAnimationFrame(this._timeOutID),this.isRunning=!1},isSetTimeOut:function(){return this._isSetTimeOut},isRAF:function(){return!1===this._isSetTimeOut}},G.RequestAnimationFrame.prototype.constructor=G.RequestAnimationFrame,G.Math={PI2:2*Math.PI,between:function(t,e){return Math.floor(Math.random()*(e-t+1)+t)},fuzzyEqual:function(t,e,i){return void 0===i&&(i=1e-4),Math.abs(t-e)<i},fuzzyLessThan:function(t,e,i){return t<e+(i=void 0===i?1e-4:i)},fuzzyGreaterThan:function(t,e,i){return e-(i=void 0===i?1e-4:i)<t},fuzzyCeil:function(t,e){return void 0===e&&(e=1e-4),Math.ceil(t-e)},fuzzyFloor:function(t,e){return void 0===e&&(e=1e-4),Math.floor(t+e)},average:function(){for(var t=0,e=arguments.length,i=0;i<e;i++)t+=+arguments[i];return t/e},shear:function(t){return t%1},snapTo:function(t,e,i){return void 0===i&&(i=0),0===e?t:(t-=i,i+(t=e*Math.round(t/e)))},snapToFloor:function(t,e,i){return void 0===i&&(i=0),0===e?t:(t-=i,i+(t=e*Math.floor(t/e)))},snapToCeil:function(t,e,i){return void 0===i&&(i=0),0===e?t:(t-=i,i+(t=e*Math.ceil(t/e)))},roundTo:function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=10);i=Math.pow(i,-e);return Math.round(t*i)/i},floorTo:function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=10);i=Math.pow(i,-e);return Math.floor(t*i)/i},ceilTo:function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=10);i=Math.pow(i,-e);return Math.ceil(t*i)/i},rotateToAngle:function(t,e,i){return void 0===i&&(i=.05),t===e||(Math.abs(e-t)<=i||Math.abs(e-t)>=G.Math.PI2-i?t=e:(Math.abs(e-t)>Math.PI&&(e<t?e+=G.Math.PI2:e-=G.Math.PI2),t<e?t+=i:e<t&&(t-=i))),t},getShortestAngle:function(t,e){e-=t;return 0==e?0:e-360*Math.floor((e+180)/360)},angleBetween:function(t,e,i,o){return Math.atan2(o-e,i-t)},angleBetweenY:function(t,e,i,o){return Math.atan2(i-t,o-e)},angleBetweenPoints:function(t,e){return Math.atan2(e.y-t.y,e.x-t.x)},angleBetweenPointsY:function(t,e){return Math.atan2(e.x-t.x,e.y-t.y)},reverseAngle:function(t){return this.normalizeAngle(t+Math.PI,!0)},normalizeAngle:function(t){return 0<=(t%=2*Math.PI)?t:t+2*Math.PI},maxAdd:function(t,e,i){return Math.min(t+e,i)},minSub:function(t,e,i){return Math.max(t-e,i)},wrap:function(t,e,i){i-=e;if(i<=0)return 0;t=(t-e)%i;return t<0&&(t+=i),t+e},wrapValue:function(t,e,i){return((t=Math.abs(t))+(e=Math.abs(e)))%(i=Math.abs(i))},isOdd:function(t){return!!(1&t)},isEven:function(t){return!(1&t)},min:function(){for(var t,e=1,i=0,o=(t=1===arguments.length&&"object"==typeof arguments[0]?arguments[0]:arguments).length;e<o;e++)t[e]<t[i]&&(i=e);return t[i]},max:function(){for(var t,e=1,i=0,o=(t=1===arguments.length&&"object"==typeof arguments[0]?arguments[0]:arguments).length;e<o;e++)t[e]>t[i]&&(i=e);return t[i]},minProperty:function(t){for(var e,i=1,o=0,n=(e=2===arguments.length&&"object"==typeof arguments[1]?arguments[1]:arguments.slice(1)).length;i<n;i++)e[i][t]<e[o][t]&&(o=i);return e[o][t]},maxProperty:function(t){for(var e,i=1,o=0,n=(e=2===arguments.length&&"object"==typeof arguments[1]?arguments[1]:arguments.slice(1)).length;i<n;i++)e[i][t]>e[o][t]&&(o=i);return e[o][t]},wrapAngle:function(t,e){return e?this.wrap(t,-Math.PI,Math.PI):this.wrap(t,-180,180)},linearInterpolation:function(t,e){var i=t.length-1,o=i*e,n=Math.floor(o);return e<0?this.linear(t[0],t[1],o):1<e?this.linear(t[i],t[i-1],i-o):this.linear(t[n],t[i<n+1?i:n+1],o-n)},bezierInterpolation:function(t,e){for(var i=0,o=t.length-1,n=0;n<=o;n++)i+=Math.pow(1-e,o-n)*Math.pow(e,n)*t[n]*this.bernstein(o,n);return i},catmullRomInterpolation:function(t,e){var i=t.length-1,o=i*e,n=Math.floor(o);return t[0]===t[i]?(e<0&&(n=Math.floor(o=i*(1+e))),this.catmullRom(t[(n-1+i)%i],t[n],t[(n+1)%i],t[(n+2)%i],o-n)):e<0?t[0]-(this.catmullRom(t[0],t[0],t[1],t[1],-o)-t[0]):1<e?t[i]-(this.catmullRom(t[i],t[i],t[i-1],t[i-1],o-i)-t[i]):this.catmullRom(t[n?n-1:0],t[n],t[i<n+1?i:n+1],t[i<n+2?i:n+2],o-n)},linear:function(t,e,i){return(e-t)*i+t},bernstein:function(t,e){return this.factorial(t)/this.factorial(e)/this.factorial(t-e)},factorial:function(t){if(0===t)return 1;for(var e=t;--t;)e*=t;return e},catmullRom:function(t,e,i,o,n){var t=.5*(i-t),o=.5*(o-e),s=n*n;return n*s*(2*e-2*i+t+o)+(-3*e+3*i-2*t-o)*s+t*n+e},difference:function(t,e){return Math.abs(t-e)},roundAwayFromZero:function(t){return 0<t?Math.ceil(t):Math.floor(t)},sinCosGenerator:function(t,e,i,o){for(var n=e=void 0===e?1:e,s=i=void 0===i?1:i,r=(o=void 0===o?1:o)*Math.PI/t,c=[],a=[],h=0;h<t;h++)n+=(s-=n*r)*r,c[h]=s,a[h]=n;return{sin:a,cos:c,length:t}},distance:function(t,e,i,o){t-=i,i=e-o;return Math.sqrt(t*t+i*i)},distanceSq:function(t,e,i,o){t-=i,i=e-o;return t*t+i*i},distancePow:function(t,e,i,o,n){return void 0===n&&(n=2),Math.sqrt(Math.pow(i-t,n)+Math.pow(o-e,n))},clamp:function(t,e,i){return t<e?e:i<t?i:t},clampBottom:function(t,e){return t<e?e:t},within:function(t,e,i){return Math.abs(t-e)<=i},mapLinear:function(t,e,i,o,n){return o+(t-e)*(n-o)/(i-e)},smoothstep:function(t,e,i){return(t=Math.max(0,Math.min(1,(t-e)/(i-e))))*t*(3-2*t)},smootherstep:function(t,e,i){return(t=Math.max(0,Math.min(1,(t-e)/(i-e))))*t*t*(t*(6*t-15)+10)},sign:function(t){return t<0?-1:0<t?1:0},percent:function(t,e,i){return void 0===i&&(i=0),e<t||e<i?1:t<i?0:(t-i)/e}},Math.PI/180),c=180/Math.PI;return G.Math.degToRad=function(t){return t*r},G.Math.radToDeg=function(t){return t*c},G.RandomDataGenerator=function(t){void 0===t&&(t=[]),this.c=1,this.s0=0,this.s1=0,this.s2=0,"string"==typeof t?this.state(t):this.sow(t)},G.RandomDataGenerator.prototype={rnd:function(){var t=2091639*this.s0+2.3283064365386963e-10*this.c;return this.c=0|t,this.s0=this.s1,this.s1=this.s2,this.s2=t-this.c,this.s2},sow:function(t){if(this.s0=this.hash(" "),this.s1=this.hash(this.s0),this.s2=this.hash(this.s1),this.c=1,t)for(var e=0;e<t.length&&null!=t[e];e++){var i=t[e];this.s0-=this.hash(i),this.s0+=~~(this.s0<0),this.s1-=this.hash(i),this.s1+=~~(this.s1<0),this.s2-=this.hash(i),this.s2+=~~(this.s2<0)}},hash:function(t){var e,i,o=4022871197;for(t=t.toString(),i=0;i<t.length;i++)o=(e=((e=.02519603282416938*(o+=t.charCodeAt(i)))-(o=e>>>0))*o)>>>0,o+=4294967296*(e-=o);return 2.3283064365386963e-10*(o>>>0)},integer:function(){return 4294967296*this.rnd.apply(this)},frac:function(){return this.rnd.apply(this)+11102230246251565e-32*(2097152*this.rnd.apply(this)|0)},real:function(){return this.integer()+this.frac()},integerInRange:function(t,e){return Math.floor(this.realInRange(0,e-t+1)+t)},between:function(t,e){return this.integerInRange(t,e)},realInRange:function(t,e){return this.frac()*(e-t)+t},normal:function(){return 1-2*this.frac()},uuid:function(){for(var t="",e="",e=t="";t++<36;e+=~t%5|3*t&4?(15^t?8^this.frac()*(20^t?16:4):4).toString(16):"-");return e},pick:function(t){return t[this.integerInRange(0,t.length-1)]},sign:function(){return this.pick([-1,1])},weightedPick:function(t){return t[~~(Math.pow(this.frac(),2)*(t.length-1)+.5)]},timestamp:function(t,e){return this.realInRange(t||9466848e5,e||1577862e6)},angle:function(){return this.integerInRange(-180,180)},state:function(t){return"string"==typeof t&&t.match(/^!rnd/)&&(t=t.split(","),this.c=parseFloat(t[1]),this.s0=parseFloat(t[2]),this.s1=parseFloat(t[3]),this.s2=parseFloat(t[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")}},G.RandomDataGenerator.prototype.constructor=G.RandomDataGenerator,G.QuadTree=function(t,e,i,o,n,s,r){this.maxObjects=10,this.maxLevels=4,this.level=0,this.bounds={},this.objects=[],this.nodes=[],this._empty=[],this.reset(t,e,i,o,n,s,r)},G.QuadTree.prototype={reset:function(t,e,i,o,n,s,r){this.maxObjects=n||10,this.maxLevels=s||4,this.level=r||0,this.bounds={x:Math.round(t),y:Math.round(e),width:i,height:o,subWidth:Math.floor(i/2),subHeight:Math.floor(o/2),right:Math.round(t)+Math.floor(i/2),bottom:Math.round(e)+Math.floor(o/2)},this.objects.length=0,this.nodes.length=0},populate:function(t){t.forEach(this.populateHandler,this,!0)},populateHandler:function(t){t.body&&t.exists&&this.insert(t.body)},split:function(){this.nodes[0]=new G.QuadTree(this.bounds.right,this.bounds.y,this.bounds.subWidth,this.bounds.subHeight,this.maxObjects,this.maxLevels,this.level+1),this.nodes[1]=new G.QuadTree(this.bounds.x,this.bounds.y,this.bounds.subWidth,this.bounds.subHeight,this.maxObjects,this.maxLevels,this.level+1),this.nodes[2]=new G.QuadTree(this.bounds.x,this.bounds.bottom,this.bounds.subWidth,this.bounds.subHeight,this.maxObjects,this.maxLevels,this.level+1),this.nodes[3]=new G.QuadTree(this.bounds.right,this.bounds.bottom,this.bounds.subWidth,this.bounds.subHeight,this.maxObjects,this.maxLevels,this.level+1)},insert:function(t){var e,i=0;if(null!=this.nodes[0]&&-1!==(e=this.getIndex(t)))this.nodes[e].insert(t);else if(this.objects.push(t),this.objects.length>this.maxObjects&&this.level<this.maxLevels)for(null==this.nodes[0]&&this.split();i<this.objects.length;)-1!==(e=this.getIndex(this.objects[i]))?this.nodes[e].insert(this.objects.splice(i,1)[0]):i++},getIndex:function(t){var e=-1;return t.x<this.bounds.right&&t.right<this.bounds.right?t.y<this.bounds.bottom&&t.bottom<this.bounds.bottom?e=1:t.y>this.bounds.bottom&&(e=2):t.x>this.bounds.right&&(t.y<this.bounds.bottom&&t.bottom<this.bounds.bottom?e=0:t.y>this.bounds.bottom&&(e=3)),e},retrieve:function(t){if(t instanceof G.Rectangle)var e=this.objects,i=this.getIndex(t);else{if(!t.body)return this._empty;e=this.objects,i=this.getIndex(t.body)}return e=this.nodes[0]?-1!==i?e.concat(this.nodes[i].retrieve(t)):(e=(e=(e=e.concat(this.nodes[0].retrieve(t))).concat(this.nodes[1].retrieve(t))).concat(this.nodes[2].retrieve(t))).concat(this.nodes[3].retrieve(t)):e},clear:function(){this.objects.length=0;for(var t=this.nodes.length;t--;)this.nodes[t].clear(),this.nodes.splice(t,1);this.nodes.length=0}},G.QuadTree.prototype.constructor=G.QuadTree,G.Net=function(t){this.game=t},G.Net.prototype={getHostName:function(){return window.location&&window.location.hostname?window.location.hostname:null},checkDomainName:function(t){return-1!==window.location.hostname.indexOf(t)},updateQueryString:function(t,e,i,o){void 0===i&&(i=!1),void 0!==o&&""!==o||(o=window.location.href);var n,s="",r=new RegExp("([?|&])"+t+"=.*?(&|#|$)(.*)","gi"),s=r.test(o)?null!=e?o.replace(r,"$1"+t+"="+e+"$2$3"):o.replace(r,"$1$3").replace(/(&|\?)$/,""):(null!=e&&(r=-1!==o.indexOf("?")?"&":"?",o=(n=o.split("#"))[0]+r+t+"="+e,n[1]&&(o+="#"+n[1])),o);if(!i)return s;window.location.href=s},getQueryString:function(t){void 0===t&&(t="");var e,i={},o=location.search.substring(1).split("&");for(e in o){var n=o[e].split("=");if(1<n.length){if(t&&t===this.decodeURI(n[0]))return this.decodeURI(n[1]);i[this.decodeURI(n[0])]=this.decodeURI(n[1])}}return i},decodeURI:function(t){return decodeURIComponent(t.replace(/\+/g," "))}},G.Net.prototype.constructor=G.Net,G.TweenManager=function(t){this.game=t,this.frameBased=!1,this._tweens=[],this._add=[],this.easeMap={Power0:G.Easing.Power0,Power1:G.Easing.Power1,Power2:G.Easing.Power2,Power3:G.Easing.Power3,Power4:G.Easing.Power4,Linear:G.Easing.Linear.None,Quad:G.Easing.Quadratic.Out,Cubic:G.Easing.Cubic.Out,Quart:G.Easing.Quartic.Out,Quint:G.Easing.Quintic.Out,Sine:G.Easing.Sinusoidal.Out,Expo:G.Easing.Exponential.Out,Circ:G.Easing.Circular.Out,Elastic:G.Easing.Elastic.Out,Back:G.Easing.Back.Out,Bounce:G.Easing.Bounce.Out,"Quad.easeIn":G.Easing.Quadratic.In,"Cubic.easeIn":G.Easing.Cubic.In,"Quart.easeIn":G.Easing.Quartic.In,"Quint.easeIn":G.Easing.Quintic.In,"Sine.easeIn":G.Easing.Sinusoidal.In,"Expo.easeIn":G.Easing.Exponential.In,"Circ.easeIn":G.Easing.Circular.In,"Elastic.easeIn":G.Easing.Elastic.In,"Back.easeIn":G.Easing.Back.In,"Bounce.easeIn":G.Easing.Bounce.In,"Quad.easeOut":G.Easing.Quadratic.Out,"Cubic.easeOut":G.Easing.Cubic.Out,"Quart.easeOut":G.Easing.Quartic.Out,"Quint.easeOut":G.Easing.Quintic.Out,"Sine.easeOut":G.Easing.Sinusoidal.Out,"Expo.easeOut":G.Easing.Exponential.Out,"Circ.easeOut":G.Easing.Circular.Out,"Elastic.easeOut":G.Easing.Elastic.Out,"Back.easeOut":G.Easing.Back.Out,"Bounce.easeOut":G.Easing.Bounce.Out,"Quad.easeInOut":G.Easing.Quadratic.InOut,"Cubic.easeInOut":G.Easing.Cubic.InOut,"Quart.easeInOut":G.Easing.Quartic.InOut,"Quint.easeInOut":G.Easing.Quintic.InOut,"Sine.easeInOut":G.Easing.Sinusoidal.InOut,"Expo.easeInOut":G.Easing.Exponential.InOut,"Circ.easeInOut":G.Easing.Circular.InOut,"Elastic.easeInOut":G.Easing.Elastic.InOut,"Back.easeInOut":G.Easing.Back.InOut,"Bounce.easeInOut":G.Easing.Bounce.InOut},this.game.onPause.add(this._pauseAll,this),this.game.onResume.add(this._resumeAll,this)},G.TweenManager.prototype={getAll:function(){return this._tweens},removeAll:function(){for(var t=0;t<this._tweens.length;t++)this._tweens[t].pendingDelete=!0;this._add=[]},removeFrom:function(t,e){if(void 0===e&&(e=!0),Array.isArray(t))for(i=0,o=t.length;i<o;i++)this.removeFrom(t[i]);else if(t.type===G.GROUP&&e)for(var i=0,o=t.children.length;i<o;i++)this.removeFrom(t.children[i]);else{for(i=0,o=this._tweens.length;i<o;i++)t===this._tweens[i].target&&this.remove(this._tweens[i]);for(i=0,o=this._add.length;i<o;i++)t===this._add[i].target&&this.remove(this._add[i])}},add:function(t){(t._manager=this)._add.push(t)},create:function(t){return new G.Tween(t,this.game,this)},remove:function(t){var e=this._tweens.indexOf(t);-1!==e?this._tweens[e].pendingDelete=!0:-1!==(e=this._add.indexOf(t))&&(this._add[e].pendingDelete=!0)},update:function(){var t=this._add.length,e=this._tweens.length;if(0===e&&0===t)return!1;for(var i=0;i<e;)this._tweens[i].update(this.game.time.time)?i++:(this._tweens.splice(i,1),e--);return 0<t&&(this._tweens=this._tweens.concat(this._add),this._add.length=0),!0},isTweening:function(e){return this._tweens.some(function(t){return t.target===e})},_pauseAll:function(){for(var t=this._tweens.length-1;0<=t;t--)this._tweens[t]._pause()},_resumeAll:function(){for(var t=this._tweens.length-1;0<=t;t--)this._tweens[t]._resume()},pauseAll:function(){for(var t=this._tweens.length-1;0<=t;t--)this._tweens[t].pause()},resumeAll:function(){for(var t=this._tweens.length-1;0<=t;t--)this._tweens[t].resume(!0)}},G.TweenManager.prototype.constructor=G.TweenManager,G.Tween=function(t,e,i){this.game=e,this.target=t,this.manager=i,this.timeline=[],this.reverse=!1,this.timeScale=1,this.repeatCounter=0,this.pendingDelete=!1,this.onStart=new G.Signal,this.onLoop=new G.Signal,this.onRepeat=new G.Signal,this.onChildComplete=new G.Signal,this.onComplete=new G.Signal,this.isRunning=!1,this.current=0,this.properties={},this.chainedTween=null,this.isPaused=!1,this.frameBased=i.frameBased,this._onUpdateCallback=null,this._onUpdateCallbackContext=null,this._pausedTime=0,this._codePaused=!1,this._hasStarted=!1},G.Tween.prototype={to:function(t,e,i,o,n,s,r){return(void 0===e||e<=0)&&(e=1e3),void 0===o&&(o=!1),void 0===n&&(n=0),void 0===s&&(s=0),void 0===r&&(r=!1),"string"==typeof(i=null==i?G.Easing.Default:i)&&this.manager.easeMap[i]&&(i=this.manager.easeMap[i]),this.isRunning||(this.timeline.push(new G.TweenData(this).to(t,e,i,n,s,r)),o&&this.start()),this},from:function(t,e,i,o,n,s,r){return void 0===e&&(e=1e3),void 0===o&&(o=!1),void 0===n&&(n=0),void 0===s&&(s=0),void 0===r&&(r=!1),"string"==typeof(i=null==i?G.Easing.Default:i)&&this.manager.easeMap[i]&&(i=this.manager.easeMap[i]),this.isRunning||(this.timeline.push(new G.TweenData(this).from(t,e,i,n,s,r)),o&&this.start()),this},start:function(t){if(void 0===t&&(t=0),null===this.game||null===this.target||0===this.timeline.length||this.isRunning)return this;for(var e=0;e<this.timeline.length;e++)for(var i in this.timeline[e].vEnd)this.properties[i]=this.target[i]||0,Array.isArray(this.properties[i])||(this.properties[i]*=1);for(e=0;e<this.timeline.length;e++)this.timeline[e].loadValues();return this.manager.add(this),this.isRunning=!0,(t<0||t>this.timeline.length-1)&&(t=0),this.current=t,this.timeline[this.current].start(),this},stop:function(t){return void 0===t&&(t=!1),this.isRunning=!1,this._onUpdateCallback=null,this._onUpdateCallbackContext=null,t&&(this.onComplete.dispatch(this.target,this),this._hasStarted=!1,this.chainedTween&&this.chainedTween.start()),this.manager.remove(this),this},updateTweenData:function(t,e,i){if(0===this.timeline.length)return this;if(-1===(i=void 0===i?0:i))for(var o=0;o<this.timeline.length;o++)this.timeline[o][t]=e;else this.timeline[i][t]=e;return this},delay:function(t,e){return this.updateTweenData("delay",t,e)},repeat:function(t,e,i){return void 0===e&&(e=0),this.updateTweenData("repeatCounter",t,i),this.updateTweenData("repeatDelay",e,i)},repeatDelay:function(t,e){return this.updateTweenData("repeatDelay",t,e)},yoyo:function(t,e,i){return void 0===e&&(e=0),this.updateTweenData("yoyo",t,i),this.updateTweenData("yoyoDelay",e,i)},yoyoDelay:function(t,e){return this.updateTweenData("yoyoDelay",t,e)},easing:function(t,e){return"string"==typeof t&&this.manager.easeMap[t]&&(t=this.manager.easeMap[t]),this.updateTweenData("easingFunction",t,e)},interpolation:function(t,e,i){return void 0===e&&(e=G.Math),this.updateTweenData("interpolationFunction",t,i),this.updateTweenData("interpolationContext",e,i)},repeatAll:function(t){return this.repeatCounter=t=void 0===t?0:t,this},chain:function(){for(var t=arguments.length;t--;)0<t?arguments[t-1].chainedTween=arguments[t]:this.chainedTween=arguments[t];return this},loop:function(t){return this.repeatCounter=(t=void 0===t?!0:t)?-1:0,this},onUpdateCallback:function(t,e){return this._onUpdateCallback=t,this._onUpdateCallbackContext=e,this},pause:function(){this.isPaused=!0,this._codePaused=!0,this._pausedTime=this.game.time.time},_pause:function(){this._codePaused||(this.isPaused=!0,this._pausedTime=this.game.time.time)},resume:function(){if(this.isPaused){this.isPaused=!1,this._codePaused=!1;for(var t=0;t<this.timeline.length;t++)this.timeline[t].isRunning||(this.timeline[t].startTime+=this.game.time.time-this._pausedTime)}},_resume:function(){this._codePaused||this.resume()},update:function(t){if(this.pendingDelete||!this.target)return!1;if(this.isPaused)return!0;var t=this.timeline[this.current].update(t);return t===G.TweenData.PENDING||(t===G.TweenData.RUNNING?(this._hasStarted||(this.onStart.dispatch(this.target,this),this._hasStarted=!0),null!==this._onUpdateCallback&&this._onUpdateCallback.call(this._onUpdateCallbackContext,this,this.timeline[this.current].value,this.timeline[this.current]),this.isRunning):t===G.TweenData.LOOPED?((-1===this.timeline[this.current].repeatCounter?this.onLoop:this.onRepeat).dispatch(this.target,this),!0):t===G.TweenData.COMPLETE?(t=!1,this.reverse?--this.current<0&&(this.current=this.timeline.length-1,t=!0):++this.current===this.timeline.length&&(t=!(this.current=0)),t?-1===this.repeatCounter?(this.timeline[this.current].start(),this.onLoop.dispatch(this.target,this),!0):0<this.repeatCounter?(this.repeatCounter--,this.timeline[this.current].start(),this.onRepeat.dispatch(this.target,this),!0):(this.isRunning=!1,this.onComplete.dispatch(this.target,this),this._hasStarted=!1,this.chainedTween&&this.chainedTween.start(),!1):(this.onChildComplete.dispatch(this.target,this),this.timeline[this.current].start(),!0)):void 0)},generateData:function(t,e){if(null===this.game||null===this.target)return null;void 0===t&&(t=60),void 0===e&&(e=[]);for(var i=0;i<this.timeline.length;i++)for(var o in this.timeline[i].vEnd)this.properties[o]=this.target[o]||0,Array.isArray(this.properties[o])||(this.properties[o]*=1);for(i=0;i<this.timeline.length;i++)this.timeline[i].loadValues();for(i=0;i<this.timeline.length;i++)e=e.concat(this.timeline[i].generateData(t));return e}},Object.defineProperty(G.Tween.prototype,"totalDuration",{get:function(){for(var t=0,e=0;e<this.timeline.length;e++)t+=this.timeline[e].duration;return t}}),G.Tween.prototype.constructor=G.Tween,G.TweenData=function(t){this.parent=t,this.game=t.game,this.vStart={},this.vStartCache={},this.vEnd={},this.vEndCache={},this.duration=1e3,this.percent=0,this.value=0,this.repeatCounter=0,this.repeatDelay=0,this.repeatTotal=0,this.interpolate=!1,this.yoyo=!1,this.yoyoDelay=0,this.inReverse=!1,this.delay=0,this.dt=0,this.startTime=null,this.easingFunction=G.Easing.Default,this.interpolationFunction=G.Math.linearInterpolation,this.interpolationContext=G.Math,this.isRunning=!1,this.isFrom=!1},G.TweenData.PENDING=0,G.TweenData.RUNNING=1,G.TweenData.LOOPED=2,G.TweenData.COMPLETE=3,G.TweenData.prototype={to:function(t,e,i,o,n,s){return this.vEnd=t,this.duration=e,this.easingFunction=i,this.delay=o,this.repeatTotal=n,this.yoyo=s,this.isFrom=!1,this},from:function(t,e,i,o,n,s){return this.vEnd=t,this.duration=e,this.easingFunction=i,this.delay=o,this.repeatTotal=n,this.yoyo=s,this.isFrom=!0,this},start:function(){if(this.startTime=this.game.time.time+this.delay,this.parent.reverse?this.dt=this.duration:this.dt=0,0<this.delay?this.isRunning=!1:this.isRunning=!0,this.isFrom)for(var t in this.vStartCache)this.vStart[t]=this.vEndCache[t],this.vEnd[t]=this.vStartCache[t],this.parent.target[t]=this.vStart[t];return this.value=0,this.yoyoCounter=0,this.repeatCounter=this.repeatTotal,this},loadValues:function(){for(var t in this.parent.properties){if(this.vStart[t]=this.parent.properties[t],Array.isArray(this.vEnd[t])){if(0===this.vEnd[t].length)continue;0===this.percent&&(this.vEnd[t]=[this.vStart[t]].concat(this.vEnd[t]))}void 0!==this.vEnd[t]?("string"==typeof this.vEnd[t]&&(this.vEnd[t]=this.vStart[t]+parseFloat(this.vEnd[t],10)),this.parent.properties[t]=this.vEnd[t]):this.vEnd[t]=this.vStart[t],this.vStartCache[t]=this.vStart[t],this.vEndCache[t]=this.vEnd[t]}return this},update:function(t){if(this.isRunning){if(t<this.startTime)return G.TweenData.RUNNING}else{if(!(t>=this.startTime))return G.TweenData.PENDING;this.isRunning=!0}var e,t=this.parent.frameBased?this.game.time.physicsElapsedMS:this.game.time.elapsedMS;for(e in this.parent.reverse?(this.dt-=t*this.parent.timeScale,this.dt=Math.max(this.dt,0)):(this.dt+=t*this.parent.timeScale,this.dt=Math.min(this.dt,this.duration)),this.percent=this.dt/this.duration,this.value=this.easingFunction(this.percent),this.vEnd){var i=this.vStart[e],o=this.vEnd[e];Array.isArray(o)?this.parent.target[e]=this.interpolationFunction.call(this.interpolationContext,o,this.value):this.parent.target[e]=i+(o-i)*this.value}return!this.parent.reverse&&1===this.percent||this.parent.reverse&&0===this.percent?this.repeat():G.TweenData.RUNNING},generateData:function(t){this.parent.reverse?this.dt=this.duration:this.dt=0;var e=[],i=!1,o=1/t*1e3;do{this.parent.reverse?(this.dt-=o,this.dt=Math.max(this.dt,0)):(this.dt+=o,this.dt=Math.min(this.dt,this.duration)),this.percent=this.dt/this.duration,this.value=this.easingFunction(this.percent);var n,s={};for(n in this.vEnd){var r=this.vStart[n],c=this.vEnd[n];Array.isArray(c)?s[n]=this.interpolationFunction(c,this.value):s[n]=r+(c-r)*this.value}}while(e.push(s),!(i=!this.parent.reverse&&1===this.percent||this.parent.reverse&&0===this.percent?!0:i));return this.yoyo&&((t=e.slice()).reverse(),e=e.concat(t)),e},repeat:function(){if(this.yoyo){if(this.inReverse&&0===this.repeatCounter){for(var t in this.vStartCache)this.vStart[t]=this.vStartCache[t],this.vEnd[t]=this.vEndCache[t];return this.inReverse=!1,G.TweenData.COMPLETE}this.inReverse=!this.inReverse}else if(0===this.repeatCounter)return G.TweenData.COMPLETE;if(this.inReverse)for(var t in this.vStartCache)this.vStart[t]=this.vEndCache[t],this.vEnd[t]=this.vStartCache[t];else{for(var t in this.vStartCache)this.vStart[t]=this.vStartCache[t],this.vEnd[t]=this.vEndCache[t];0<this.repeatCounter&&this.repeatCounter--}return this.startTime=this.game.time.time,this.yoyo&&this.inReverse?this.startTime+=this.yoyoDelay:this.inReverse||(this.startTime+=this.repeatDelay),this.parent.reverse?this.dt=this.duration:this.dt=0,G.TweenData.LOOPED}},G.TweenData.prototype.constructor=G.TweenData,G.Easing={Linear:{None:function(t){return t}},Quadratic:{In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 0===t?0:1===t?1:1-Math.cos(t*Math.PI/2)},Out:function(t){return 0===t?0:1===t?1:Math.sin(t*Math.PI/2)},InOut:function(t){return 0===t?0:1===t?1:.5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return 0===t?0:Math.pow(1024,t-1)},Out:function(t){return 1===t?1:1-Math.pow(2,-10*t)},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){var e,i=.1;return 0===t?0:1===t?1:(e=!i||i<1?(i=1,.1):.4*Math.asin(1/i)/(2*Math.PI),-i*Math.pow(2,10*--t)*Math.sin((t-e)*(2*Math.PI)/.4))},Out:function(t){var e,i=.1;return 0===t?0:1===t?1:(e=!i||i<1?(i=1,.1):.4*Math.asin(1/i)/(2*Math.PI),i*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/.4)+1)},InOut:function(t){var e,i=.1;return 0===t?0:1===t?1:(e=!i||i<1?(i=1,.1):.4*Math.asin(1/i)/(2*Math.PI),(t*=2)<1?i*Math.pow(2,10*--t)*Math.sin((t-e)*(2*Math.PI)/.4)*-.5:i*Math.pow(2,-10*--t)*Math.sin((t-e)*(2*Math.PI)/.4)*.5+1)}},Back:{In:function(t){return t*t*(2.70158*t-1.70158)},Out:function(t){return--t*t*(2.70158*t+1.70158)+1},InOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((1+e)*t-e)*.5:.5*((t-=2)*t*((1+e)*t+e)+2)}},Bounce:{In:function(t){return 1-G.Easing.Bounce.Out(1-t)},Out:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return t<.5?.5*G.Easing.Bounce.In(2*t):.5*G.Easing.Bounce.Out(2*t-1)+.5}}},G.Easing.Default=G.Easing.Linear.None,G.Easing.Power0=G.Easing.Linear.None,G.Easing.Power1=G.Easing.Quadratic.Out,G.Easing.Power2=G.Easing.Cubic.Out,G.Easing.Power3=G.Easing.Quartic.Out,G.Easing.Power4=G.Easing.Quintic.Out,G.Time=function(t){this.game=t,this.time=0,this.prevTime=0,this.now=0,this.elapsed=0,this.elapsedMS=0,this.physicsElapsed=1/60,this.physicsElapsedMS=1/60*1e3,this.desiredFpsMult=1/60,this._desiredFps=60,this.suggestedFps=this.desiredFps,this.slowMotion=1,this.advancedTiming=!1,this.frames=0,this.fps=0,this.fpsMin=1e3,this.fpsMax=0,this.msMin=1e3,this.msMax=0,this.pauseDuration=0,this.timeToCall=0,this.timeExpected=0,this.events=new G.Timer(this.game,!1),this._frameCount=0,this._elapsedAccumulator=0,this._started=0,this._timeLastSecond=0,this._pauseStarted=0,this._justResumed=!1,this._timers=[]},G.Time.prototype={boot:function(){this._started=Date.now(),this.time=Date.now(),this.events.start(),this.timeExpected=this.time},add:function(t){return this._timers.push(t),t},create:function(t){t=new G.Timer(this.game,t=void 0===t?!0:t);return this._timers.push(t),t},removeAll:function(){for(var t=0;t<this._timers.length;t++)this._timers[t].destroy();this._timers=[],this.events.removeAll()},refresh:function(){var t=this.time;this.time=Date.now(),this.elapsedMS=this.time-t},update:function(t){var e=this.time;this.time=Date.now(),this.elapsedMS=this.time-e,this.prevTime=this.now,this.now=t,this.elapsed=this.now-this.prevTime,this.game.raf._isSetTimeOut&&(this.timeToCall=Math.floor(Math.max(0,1e3/this._desiredFps-(this.timeExpected-t))),this.timeExpected=t+this.timeToCall),this.advancedTiming&&this.updateAdvancedTiming(),this.game.paused||(this.events.update(this.time),this._timers.length&&this.updateTimers())},updateTimers:function(){for(var t=0,e=this._timers.length;t<e;)this._timers[t].update(this.time)?t++:(this._timers.splice(t,1),e--)},updateAdvancedTiming:function(){this._frameCount++,this._elapsedAccumulator+=this.elapsed,this._frameCount>=2*this._desiredFps&&(this.suggestedFps=5*Math.floor(200/(this._elapsedAccumulator/this._frameCount)),this._frameCount=0,this._elapsedAccumulator=0),this.msMin=Math.min(this.msMin,this.elapsed),this.msMax=Math.max(this.msMax,this.elapsed),this.frames++,this.now>this._timeLastSecond+1e3&&(this.fps=Math.round(1e3*this.frames/(this.now-this._timeLastSecond)),this.fpsMin=Math.min(this.fpsMin,this.fps),this.fpsMax=Math.max(this.fpsMax,this.fps),this._timeLastSecond=this.now,this.frames=0)},gamePaused:function(){this._pauseStarted=Date.now(),this.events.pause();for(var t=this._timers.length;t--;)this._timers[t]._pause()},gameResumed:function(){this.time=Date.now(),this.pauseDuration=this.time-this._pauseStarted,this.events.resume();for(var t=this._timers.length;t--;)this._timers[t]._resume()},totalElapsedSeconds:function(){return.001*(this.time-this._started)},elapsedSince:function(t){return this.time-t},elapsedSecondsSince:function(t){return.001*(this.time-t)},reset:function(){this._started=this.time,this.removeAll()}},Object.defineProperty(G.Time.prototype,"desiredFps",{get:function(){return this._desiredFps},set:function(t){this._desiredFps=t,this.physicsElapsed=1/t,this.physicsElapsedMS=1e3*this.physicsElapsed,this.desiredFpsMult=1/t}}),G.Time.prototype.constructor=G.Time,G.Timer=function(t,e){void 0===e&&(e=!0),this.game=t,this.running=!1,this.autoDestroy=e,this.expired=!1,this.elapsed=0,this.events=[],this.onComplete=new G.Signal,this.nextTick=0,this.timeCap=1e3,this.paused=!1,this._codePaused=!1,this._started=0,this._pauseStarted=0,this._pauseTotal=0,this._now=Date.now(),this._len=0,this._marked=0,this._i=0,this._diff=0,this._newTick=0},G.Timer.MINUTE=6e4,G.Timer.SECOND=1e3,G.Timer.HALF=500,G.Timer.QUARTER=250,G.Timer.prototype={create:function(t,e,i,o,n,s){var r=t=Math.round(t),t=(0===this._now?r+=this.game.time.time:r+=this._now,new G.TimerEvent(this,t,r,i,e,o,n,s));return this.events.push(t),this.order(),this.expired=!1,t},add:function(t,e,i){return this.create(t,!1,0,e,i,Array.prototype.slice.call(arguments,3))},repeat:function(t,e,i,o){return this.create(t,!1,e,i,o,Array.prototype.slice.call(arguments,4))},loop:function(t,e,i){return this.create(t,!0,0,e,i,Array.prototype.slice.call(arguments,3))},start:function(t){if(!this.running){this._started=this.game.time.time+(t||0),this.running=!0;for(var e=0;e<this.events.length;e++)this.events[e].tick=this.events[e].delay+this._started}},stop:function(t){this.running=!1,(t=void 0===t?!0:t)&&(this.events.length=0)},remove:function(t){for(var e=0;e<this.events.length;e++)if(this.events[e]===t)return this.events[e].pendingDelete=!0;return!1},order:function(){0<this.events.length&&(this.events.sort(this.sortHandler),this.nextTick=this.events[0].tick)},sortHandler:function(t,e){return t.tick<e.tick?-1:t.tick>e.tick?1:0},clearPendingEvents:function(){for(this._i=this.events.length;this._i--;)this.events[this._i].pendingDelete&&this.events.splice(this._i,1);this._len=this.events.length,this._i=0},update:function(t){if(this.paused)return!0;if(this.elapsed=t-this._now,this._now=t,this.elapsed>this.timeCap&&this.adjustEvents(t-this.elapsed),this._marked=0,this.clearPendingEvents(),this.running&&this._now>=this.nextTick&&0<this._len){for(;this._i<this._len&&this.running&&this._now>=this.events[this._i].tick&&!this.events[this._i].pendingDelete;)this._newTick=this._now+this.events[this._i].delay-(this._now-this.events[this._i].tick),this._newTick<0&&(this._newTick=this._now+this.events[this._i].delay),!0===this.events[this._i].loop?this.events[this._i].tick=this._newTick:0<this.events[this._i].repeatCount?(this.events[this._i].repeatCount--,this.events[this._i].tick=this._newTick):(this._marked++,this.events[this._i].pendingDelete=!0),this.events[this._i].callback.apply(this.events[this._i].callbackContext,this.events[this._i].args),this._i++;this.events.length>this._marked?this.order():(this.expired=!0,this.onComplete.dispatch(this))}return!this.expired||!this.autoDestroy},pause:function(){this.running&&(this._codePaused=!0,this.paused||(this._pauseStarted=this.game.time.time,this.paused=!0))},_pause:function(){!this.paused&&this.running&&(this._pauseStarted=this.game.time.time,this.paused=!0)},adjustEvents:function(t){for(var e,i=0;i<this.events.length;i++)this.events[i].pendingDelete||((e=this.events[i].tick-t)<0&&(e=0),this.events[i].tick=this._now+e);var o=this.nextTick-t;this.nextTick=o<0?this._now:this._now+o},resume:function(){var t;this.paused&&(t=this.game.time.time,this._pauseTotal+=t-this._now,this._now=t,this.adjustEvents(this._pauseStarted),this.paused=!1,this._codePaused=!1)},_resume:function(){this._codePaused||this.resume()},removeAll:function(){this.onComplete.removeAll(),this.events.length=0,this._len=0,this._i=0},destroy:function(){this.onComplete.removeAll(),this.running=!1,this.events=[],this._len=0,this._i=0}},Object.defineProperty(G.Timer.prototype,"next",{get:function(){return this.nextTick}}),Object.defineProperty(G.Timer.prototype,"duration",{get:function(){return this.running&&this.nextTick>this._now?this.nextTick-this._now:0}}),Object.defineProperty(G.Timer.prototype,"length",{get:function(){return this.events.length}}),Object.defineProperty(G.Timer.prototype,"ms",{get:function(){return this.running?this._now-this._started-this._pauseTotal:0}}),Object.defineProperty(G.Timer.prototype,"seconds",{get:function(){return this.running?.001*this.ms:0}}),G.Timer.prototype.constructor=G.Timer,G.TimerEvent=function(t,e,i,o,n,s,r,c){this.timer=t,this.delay=e,this.tick=i,this.repeatCount=o-1,this.loop=n,this.callback=s,this.callbackContext=r,this.args=c,this.pendingDelete=!1},G.TimerEvent.prototype.constructor=G.TimerEvent,G.AnimationManager=function(t){this.sprite=t,this.game=t.game,this.currentFrame=null,this.currentAnim=null,this.updateIfVisible=!0,this.isLoaded=!1,this._frameData=null,this._anims={},this._outputFrames=[]},G.AnimationManager.prototype={loadFrameData:function(t,e){if(void 0===t)return!1;if(this.isLoaded)for(var i in this._anims)this._anims[i].updateFrameData(t);return this._frameData=t,null==e?this.frame=0:"string"==typeof e?this.frameName=e:this.frame=e,this.isLoaded=!0},copyFrameData:function(t,e){if(this._frameData=t.clone(),this.isLoaded)for(var i in this._anims)this._anims[i].updateFrameData(this._frameData);return null==e?this.frame=0:"string"==typeof e?this.frameName=e:this.frame=e,this.isLoaded=!0},add:function(t,e,i,o,n){return e=e||[],i=i||60,void 0===o&&(o=!1),void 0===n&&(n=!(!e||"number"!=typeof e[0])),this._outputFrames=[],this._frameData.getFrameIndexes(e,n,this._outputFrames),this._anims[t]=new G.Animation(this.game,this.sprite,t,this._frameData,this._outputFrames,i,o),this.currentAnim=this._anims[t],this.sprite.tilingTexture&&(this.sprite.refreshTexture=!0),this._anims[t]},validateFrames:function(t,e){void 0===e&&(e=!0);for(var i=0;i<t.length;i++)if(!0===e){if(t[i]>this._frameData.total)return!1}else if(!1===this._frameData.checkFrameName(t[i]))return!1;return!0},play:function(t,e,i,o){if(this._anims[t])return this.currentAnim===this._anims[t]?!1===this.currentAnim.isPlaying?(this.currentAnim.paused=!1,this.currentAnim.play(e,i,o)):this.currentAnim:(this.currentAnim&&this.currentAnim.isPlaying&&this.currentAnim.stop(),this.currentAnim=this._anims[t],this.currentAnim.paused=!1,this.currentFrame=this.currentAnim.currentFrame,this.currentAnim.play(e,i,o))},stop:function(t,e){void 0===e&&(e=!1),!this.currentAnim||"string"==typeof t&&t!==this.currentAnim.name||this.currentAnim.stop(e)},update:function(){return!(this.updateIfVisible&&!this.sprite.visible||!this.currentAnim||!this.currentAnim.update()||(this.currentFrame=this.currentAnim.currentFrame,0))},next:function(t){this.currentAnim&&(this.currentAnim.next(t),this.currentFrame=this.currentAnim.currentFrame)},previous:function(t){this.currentAnim&&(this.currentAnim.previous(t),this.currentFrame=this.currentAnim.currentFrame)},getAnimation:function(t){return"string"==typeof t&&this._anims[t]?this._anims[t]:null},refreshFrame:function(){},destroy:function(){var t=null;for(t in this._anims)this._anims.hasOwnProperty(t)&&this._anims[t].destroy();this._anims={},this._outputFrames=[],this._frameData=null,this.currentAnim=null,this.currentFrame=null,this.sprite=null,this.game=null}},G.AnimationManager.prototype.constructor=G.AnimationManager,Object.defineProperty(G.AnimationManager.prototype,"frameData",{get:function(){return this._frameData}}),Object.defineProperty(G.AnimationManager.prototype,"frameTotal",{get:function(){return this._frameData.total}}),Object.defineProperty(G.AnimationManager.prototype,"paused",{get:function(){return this.currentAnim.isPaused},set:function(t){this.currentAnim.paused=t}}),Object.defineProperty(G.AnimationManager.prototype,"name",{get:function(){if(this.currentAnim)return this.currentAnim.name}}),Object.defineProperty(G.AnimationManager.prototype,"frame",{get:function(){if(this.currentFrame)return this.currentFrame.index},set:function(t){"number"==typeof t&&this._frameData&&null!==this._frameData.getFrame(t)&&(this.currentFrame=this._frameData.getFrame(t),this.currentFrame&&this.sprite.setFrame(this.currentFrame))}}),Object.defineProperty(G.AnimationManager.prototype,"frameName",{get:function(){if(this.currentFrame)return this.currentFrame.name},set:function(t){"string"==typeof t&&this._frameData&&null!==this._frameData.getFrameByName(t)&&(this.currentFrame=this._frameData.getFrameByName(t),this.currentFrame&&(this._frameIndex=this.currentFrame.index,this.sprite.setFrame(this.currentFrame)))}}),G.Animation=function(t,e,i,o,n,s,r){void 0===r&&(r=!1),this.game=t,this._parent=e,this._frameData=o,this.name=i,this._frames=[],this._frames=this._frames.concat(n),this.delay=1e3/s,this.loop=r,this.loopCount=0,this.killOnComplete=!1,this.isFinished=!1,this.isPlaying=!1,this.isPaused=!1,this._pauseStartTime=0,this._frameIndex=0,this._frameDiff=0,this._frameSkip=1,this.currentFrame=this._frameData.getFrame(this._frames[this._frameIndex]),this.onStart=new G.Signal,this.onUpdate=null,this.onComplete=new G.Signal,this.onLoop=new G.Signal,this.isReversed=!1,this.game.onPause.add(this.onPause,this),this.game.onResume.add(this.onResume,this)},G.Animation.prototype={play:function(t,e,i){return"number"==typeof t&&(this.delay=1e3/t),"boolean"==typeof e&&(this.loop=e),void 0!==i&&(this.killOnComplete=i),this.isPlaying=!0,this.isFinished=!1,this.paused=!1,this.loopCount=0,this._timeLastFrame=this.game.time.time,this._timeNextFrame=this.game.time.time+this.delay,this._frameIndex=this.isReversed?this._frames.length-1:0,this.updateCurrentFrame(!1,!0),this._parent.events.onAnimationStart$dispatch(this._parent,this),this.onStart.dispatch(this._parent,this),(this._parent.animations.currentAnim=this)._parent.animations.currentFrame=this.currentFrame,this},restart:function(){this.isPlaying=!0,this.isFinished=!1,this.paused=!1,this.loopCount=0,this._timeLastFrame=this.game.time.time,this._timeNextFrame=this.game.time.time+this.delay,this._frameIndex=0,this.currentFrame=this._frameData.getFrame(this._frames[this._frameIndex]),this._parent.setFrame(this.currentFrame),(this._parent.animations.currentAnim=this)._parent.animations.currentFrame=this.currentFrame,this.onStart.dispatch(this._parent,this)},reverse:function(){return this.reversed=!this.reversed,this},reverseOnce:function(){return this.onComplete.addOnce(this.reverse,this),this.reverse()},setFrame:function(t,e){var i;if(void 0===e&&(e=!1),"string"==typeof t)for(var o=0;o<this._frames.length;o++)this._frameData.getFrame(this._frames[o]).name===t&&(i=o);else if("number"==typeof t)if(e)i=t;else for(o=0;o<this._frames.length;o++)this._frames[o]===t&&(i=o);i&&(this._frameIndex=i-1,this._timeNextFrame=this.game.time.time,this.update())},stop:function(t,e){void 0===t&&(t=!1),void 0===e&&(e=!1),this.isPlaying=!1,this.isFinished=!0,this.paused=!1,t&&(this.currentFrame=this._frameData.getFrame(this._frames[0]),this._parent.setFrame(this.currentFrame)),e&&(this._parent.events.onAnimationComplete$dispatch(this._parent,this),this.onComplete.dispatch(this._parent,this))},onPause:function(){this.isPlaying&&(this._frameDiff=this._timeNextFrame-this.game.time.time)},onResume:function(){this.isPlaying&&(this._timeNextFrame=this.game.time.time+this._frameDiff)},update:function(){return!this.isPaused&&!!(this.isPlaying&&this.game.time.time>=this._timeNextFrame)&&(this._frameSkip=1,this._frameDiff=this.game.time.time-this._timeNextFrame,this._timeLastFrame=this.game.time.time,this._frameDiff>this.delay&&(this._frameSkip=Math.floor(this._frameDiff/this.delay),this._frameDiff-=this._frameSkip*this.delay),this._timeNextFrame=this.game.time.time+(this.delay-this._frameDiff),this.isReversed?this._frameIndex-=this._frameSkip:this._frameIndex+=this._frameSkip,!this.isReversed&&this._frameIndex>=this._frames.length||this.isReversed&&this._frameIndex<=-1?this.loop?(this._frameIndex=Math.abs(this._frameIndex)%this._frames.length,this.isReversed&&(this._frameIndex=this._frames.length-1-this._frameIndex),this.currentFrame=this._frameData.getFrame(this._frames[this._frameIndex]),this.currentFrame&&this._parent.setFrame(this.currentFrame),this.loopCount++,this._parent.events.onAnimationLoop$dispatch(this._parent,this),this.onLoop.dispatch(this._parent,this),!this.onUpdate||(this.onUpdate.dispatch(this,this.currentFrame),!!this._frameData)):(this.complete(),!1):this.updateCurrentFrame(!0))},updateCurrentFrame:function(t,e){if(void 0===e&&(e=!1),!this._frameData)return!1;var i=this.currentFrame.index;return this.currentFrame=this._frameData.getFrame(this._frames[this._frameIndex]),this.currentFrame&&(e||!e&&i!==this.currentFrame.index)&&this._parent.setFrame(this.currentFrame),!this.onUpdate||!t||(this.onUpdate.dispatch(this,this.currentFrame),!!this._frameData)},next:function(t){t=this._frameIndex+(t=void 0===t?1:t);t>=this._frames.length&&(this.loop?t%=this._frames.length:t=this._frames.length-1),t!==this._frameIndex&&(this._frameIndex=t,this.updateCurrentFrame(!0))},previous:function(t){t=this._frameIndex-(t=void 0===t?1:t);t<0&&(this.loop?t=this._frames.length+t:t++),t!==this._frameIndex&&(this._frameIndex=t,this.updateCurrentFrame(!0))},updateFrameData:function(t){this._frameData=t,this.currentFrame=this._frameData?this._frameData.getFrame(this._frames[this._frameIndex%this._frames.length]):null},destroy:function(){this._frameData&&(this.game.onPause.remove(this.onPause,this),this.game.onResume.remove(this.onResume,this),this.game=null,this._parent=null,this._frames=null,this._frameData=null,this.currentFrame=null,this.isPlaying=!1,this.onStart.dispose(),this.onLoop.dispose(),this.onComplete.dispose(),this.onUpdate&&this.onUpdate.dispose())},complete:function(){this._frameIndex=this._frames.length-1,this.currentFrame=this._frameData.getFrame(this._frames[this._frameIndex]),this.isPlaying=!1,this.isFinished=!0,this.paused=!1,this._parent.events.onAnimationComplete$dispatch(this._parent,this),this.onComplete.dispatch(this._parent,this),this.killOnComplete&&this._parent.kill()}},G.Animation.prototype.constructor=G.Animation,Object.defineProperty(G.Animation.prototype,"paused",{get:function(){return this.isPaused},set:function(t){(this.isPaused=t)?this._pauseStartTime=this.game.time.time:this.isPlaying&&(this._timeNextFrame=this.game.time.time+this.delay)}}),Object.defineProperty(G.Animation.prototype,"reversed",{get:function(){return this.isReversed},set:function(t){this.isReversed=t}}),Object.defineProperty(G.Animation.prototype,"frameTotal",{get:function(){return this._frames.length}}),Object.defineProperty(G.Animation.prototype,"frame",{get:function(){return null!==this.currentFrame?this.currentFrame.index:this._frameIndex},set:function(t){this.currentFrame=this._frameData.getFrame(this._frames[t]),null!==this.currentFrame&&(this._frameIndex=t,this._parent.setFrame(this.currentFrame),this.onUpdate&&this.onUpdate.dispatch(this,this.currentFrame))}}),Object.defineProperty(G.Animation.prototype,"speed",{get:function(){return 1e3/this.delay},set:function(t){0<t&&(this.delay=1e3/t)}}),Object.defineProperty(G.Animation.prototype,"enableUpdate",{get:function(){return null!==this.onUpdate},set:function(t){t&&null===this.onUpdate?this.onUpdate=new G.Signal:t||null===this.onUpdate||(this.onUpdate.dispose(),this.onUpdate=null)}}),G.Animation.generateFrameNames=function(t,e,i,o,n){void 0===o&&(o="");var s=[],r="";if(e<i)for(var c=e;c<=i;c++)r="number"==typeof n?G.Utils.pad(c.toString(),n,"0",1):c.toString(),s.push(r=t+r+o);else for(c=e;i<=c;c--)r="number"==typeof n?G.Utils.pad(c.toString(),n,"0",1):c.toString(),s.push(r=t+r+o);return s},G.Frame=function(t,e,i,o,n,s){this.index=t,this.x=e,this.y=i,this.width=o,this.height=n,this.name=s,this.centerX=Math.floor(o/2),this.centerY=Math.floor(n/2),this.distance=G.Math.distance(0,0,o,n),this.rotated=!1,this.rotationDirection="cw",this.trimmed=!1,this.sourceSizeW=o,this.sourceSizeH=n,this.spriteSourceSizeX=0,this.spriteSourceSizeY=0,this.spriteSourceSizeW=0,this.spriteSourceSizeH=0,this.right=this.x+this.width,this.bottom=this.y+this.height},G.Frame.prototype={resize:function(t,e){this.width=t,this.height=e,this.centerX=Math.floor(t/2),this.centerY=Math.floor(e/2),this.distance=G.Math.distance(0,0,t,e),this.sourceSizeW=t,this.sourceSizeH=e,this.right=this.x+t,this.bottom=this.y+e},setTrim:function(t,e,i,o,n,s,r){(this.trimmed=t)&&(this.sourceSizeW=e,this.sourceSizeH=i,this.centerX=Math.floor(e/2),this.centerY=Math.floor(i/2),this.spriteSourceSizeX=o,this.spriteSourceSizeY=n,this.spriteSourceSizeW=s,this.spriteSourceSizeH=r)},clone:function(){var t,e=new G.Frame(this.index,this.x,this.y,this.width,this.height,this.name);for(t in this)this.hasOwnProperty(t)&&(e[t]=this[t]);return e},getRect:function(t){return void 0===t?t=new G.Rectangle(this.x,this.y,this.width,this.height):t.setTo(this.x,this.y,this.width,this.height),t}},G.Frame.prototype.constructor=G.Frame,G.FrameData=function(){this._frames=[],this._frameNames=[]},G.FrameData.prototype={addFrame:function(t){return t.index=this._frames.length,this._frames.push(t),""!==t.name&&(this._frameNames[t.name]=t.index),t},getFrame:function(t){return t>=this._frames.length&&(t=0),this._frames[t]},getFrameByName:function(t){return"number"==typeof this._frameNames[t]?this._frames[this._frameNames[t]]:null},checkFrameName:function(t){return null!=this._frameNames[t]},clone:function(){for(var t,e=new G.FrameData,i=0;i<this._frames.length;i++)e._frames.push(this._frames[i].clone());for(t in this._frameNames)this._frameNames.hasOwnProperty(t)&&e._frameNames.push(this._frameNames[t]);return e},getFrameRange:function(t,e,i){void 0===i&&(i=[]);for(var o=t;o<=e;o++)i.push(this._frames[o]);return i},getFrames:function(t,e,i){if(void 0===e&&(e=!0),void 0===i&&(i=[]),void 0===t||0===t.length)for(var o=0;o<this._frames.length;o++)i.push(this._frames[o]);else for(o=0;o<t.length;o++)e?i.push(this.getFrame(t[o])):i.push(this.getFrameByName(t[o]));return i},getFrameIndexes:function(t,e,i){if(void 0===e&&(e=!0),void 0===i&&(i=[]),void 0===t||0===t.length)for(var o=0;o<this._frames.length;o++)i.push(this._frames[o].index);else for(o=0;o<t.length;o++)e&&this._frames[t[o]]?i.push(this._frames[t[o]].index):this.getFrameByName(t[o])&&i.push(this.getFrameByName(t[o]).index);return i},destroy:function(){this._frames=null,this._frameNames=null}},G.FrameData.prototype.constructor=G.FrameData,Object.defineProperty(G.FrameData.prototype,"total",{get:function(){return this._frames.length}}),G.AnimationParser={spriteSheet:function(t,e,i,o,n,s,r){var c=e;if(null===(c="string"==typeof e?t.cache.getImage(e):c))return null;var a=c.width,t=c.height,e=(i<=0&&(i=Math.floor(-a/Math.min(-1,i))),o<=0&&(o=Math.floor(-t/Math.min(-1,o))),Math.floor((a-s)/(i+r))),c=Math.floor((t-s)/(o+r)),h=-1!==n?n:e*c;if(0===a||0===t||a<i||t<o||0===h)return null;for(var u=new G.FrameData,l=s,d=s,p=0;p<h;p++)u.addFrame(new G.Frame(p,l,d,i,o,"")),(l+=i+r)+i>a&&(l=s,d+=o+r);return u},JSONData:function(t,e){if(e.frames){for(var i,o=new G.FrameData,n=e.frames,s=0;s<n.length;s++)i=o.addFrame(new G.Frame(s,n[s].frame.x,n[s].frame.y,n[s].frame.w,n[s].frame.h,n[s].filename)),n[s].trimmed&&i.setTrim(n[s].trimmed,n[s].sourceSize.w,n[s].sourceSize.h,n[s].spriteSourceSize.x,n[s].spriteSourceSize.y,n[s].spriteSourceSize.w,n[s].spriteSourceSize.h);return o}},JSONDataPyxel:function(t,e){if(["layers","tilewidth","tileheight","tileswide","tileshigh"].forEach(function(t){e[t]}),1===e.layers.length){for(var i=new G.FrameData,o=e.tileheight,n=e.tilewidth,s=e.layers[0].tiles,r=0;r<s.length;r++)i.addFrame(new G.Frame(r,s[r].x,s[r].y,n,o,"frame_"+r)).setTrim(!1);return i}},JSONDataHash:function(t,e){if(e.frames){var i,o,n=new G.FrameData,s=e.frames,r=0;for(o in s)i=n.addFrame(new G.Frame(r,s[o].frame.x,s[o].frame.y,s[o].frame.w,s[o].frame.h,o)),s[o].trimmed&&i.setTrim(s[o].trimmed,s[o].sourceSize.w,s[o].sourceSize.h,s[o].spriteSourceSize.x,s[o].spriteSourceSize.y,s[o].spriteSourceSize.w,s[o].spriteSourceSize.h),r++;return n}},XMLData:function(t,e){if(e.getElementsByTagName("TextureAtlas")){for(var i,o,n,s,r,c,a,h,u,l,d=new G.FrameData,p=e.getElementsByTagName("SubTexture"),F=0;F<p.length;F++)i=(o=p[F].attributes).name.value,n=parseInt(o.x.value,10),s=parseInt(o.y.value,10),r=parseInt(o.width.value,10),c=parseInt(o.height.value,10),h=a=null,o.frameX&&(a=Math.abs(parseInt(o.frameX.value,10)),h=Math.abs(parseInt(o.frameY.value,10)),u=parseInt(o.frameWidth.value,10),l=parseInt(o.frameHeight.value,10)),o=d.addFrame(new G.Frame(F,n,s,r,c,i)),null===a&&null===h||o.setTrim(!0,r,c,a,h,u,l);return d}}},G.Cache=function(t){this.game=t,this.autoResolveURL=!1,this._cache={canvas:{},image:{},texture:{},sound:{},video:{},text:{},json:{},xml:{},physics:{},tilemap:{},binary:{},bitmapData:{},bitmapFont:{},shader:{},renderTexture:{}},this._urlMap={},this._urlResolver=new Image,this._urlTemp=null,this.onSoundUnlock=new G.Signal,this._cacheMap=[],this._cacheMap[G.Cache.CANVAS]=this._cache.canvas,this._cacheMap[G.Cache.IMAGE]=this._cache.image,this._cacheMap[G.Cache.TEXTURE]=this._cache.texture,this._cacheMap[G.Cache.SOUND]=this._cache.sound,this._cacheMap[G.Cache.TEXT]=this._cache.text,this._cacheMap[G.Cache.PHYSICS]=this._cache.physics,this._cacheMap[G.Cache.TILEMAP]=this._cache.tilemap,this._cacheMap[G.Cache.BINARY]=this._cache.binary,this._cacheMap[G.Cache.BITMAPDATA]=this._cache.bitmapData,this._cacheMap[G.Cache.BITMAPFONT]=this._cache.bitmapFont,this._cacheMap[G.Cache.JSON]=this._cache.json,this._cacheMap[G.Cache.XML]=this._cache.xml,this._cacheMap[G.Cache.VIDEO]=this._cache.video,this._cacheMap[G.Cache.SHADER]=this._cache.shader,this._cacheMap[G.Cache.RENDER_TEXTURE]=this._cache.renderTexture,this.addDefaultImage(),this.addMissingImage()},G.Cache.CANVAS=1,G.Cache.IMAGE=2,G.Cache.TEXTURE=3,G.Cache.SOUND=4,G.Cache.TEXT=5,G.Cache.PHYSICS=6,G.Cache.TILEMAP=7,G.Cache.BINARY=8,G.Cache.BITMAPDATA=9,G.Cache.BITMAPFONT=10,G.Cache.JSON=11,G.Cache.XML=12,G.Cache.VIDEO=13,G.Cache.SHADER=14,G.Cache.RENDER_TEXTURE=15,G.Cache.DEFAULT=null,G.Cache.MISSING=null,G.Cache.prototype={addCanvas:function(t,e,i){void 0===i&&(i=e.getContext("2d")),this._cache.canvas[t]={canvas:e,context:i}},addImage:function(t,e,i){this.checkImageKey(t)&&this.removeImage(t);var o={key:t,url:e,data:i,base:new PIXI.BaseTexture(i),frame:new G.Frame(0,0,0,i.width,i.height,t),frameData:new G.FrameData};return o.frameData.addFrame(new G.Frame(0,0,0,i.width,i.height,e)),this._cache.image[t]=o,this._resolveURL(e,o),"__default"===t?G.Cache.DEFAULT=new PIXI.Texture(o.base):"__missing"===t&&(G.Cache.MISSING=new PIXI.Texture(o.base)),o},addDefaultImage:function(){var t=new Image,t=(t.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgAQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg==",this.addImage("__default",null,t));t.base.skipRender=!0,G.Cache.DEFAULT=new PIXI.Texture(t.base)},addMissingImage:function(){var t=new Image,t=(t.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg==",this.addImage("__missing",null,t));G.Cache.MISSING=new PIXI.Texture(t.base)},addSound:function(t,e,i,o,n){var s=(n=void 0===(n=void 0===o?!(o=!0):n)?!(o=!1):n)?!0:!1;this._cache.sound[t]={url:e,data:i,isDecoding:!1,decoded:s,webAudio:o,audioTag:n,locked:this.game.sound.touchLocked},this._resolveURL(e,this._cache.sound[t])},addText:function(t,e,i){this._cache.text[t]={url:e,data:i},this._resolveURL(e,this._cache.text[t])},addPhysicsData:function(t,e,i,o){this._cache.physics[t]={url:e,data:i,format:o},this._resolveURL(e,this._cache.physics[t])},addTilemap:function(t,e,i,o){this._cache.tilemap[t]={url:e,data:i,format:o},this._resolveURL(e,this._cache.tilemap[t])},addBinary:function(t,e){this._cache.binary[t]=e},addBitmapData:function(t,e,i){return e.key=t,void 0===i&&(i=new G.FrameData).addFrame(e.textureFrame),this._cache.bitmapData[t]={data:e,frameData:i},e},addBitmapFont:function(t,e,i,o,n,s,r){i={url:e,data:i,font:null,base:new PIXI.BaseTexture(i)};void 0===s&&(s=0),void 0===r&&(r=0),i.font="json"===n?G.LoaderParser.jsonBitmapFont(o,i.base,s,r):G.LoaderParser.xmlBitmapFont(o,i.base,s,r),this._cache.bitmapFont[t]=i,this._resolveURL(e,i)},addJSON:function(t,e,i){this._cache.json[t]={url:e,data:i},this._resolveURL(e,this._cache.json[t])},addXML:function(t,e,i){this._cache.xml[t]={url:e,data:i},this._resolveURL(e,this._cache.xml[t])},addVideo:function(t,e,i,o){this._cache.video[t]={url:e,data:i,isBlob:o,locked:!0},this._resolveURL(e,this._cache.video[t])},addShader:function(t,e,i){this._cache.shader[t]={url:e,data:i},this._resolveURL(e,this._cache.shader[t])},addRenderTexture:function(t,e){this._cache.renderTexture[t]={texture:e,frame:new G.Frame(0,0,0,e.width,e.height,"","")}},addSpriteSheet:function(t,e,i,o,n,s,r,c){void 0===s&&(s=-1);i={key:t,url:e,data:i,frameWidth:o,frameHeight:n,margin:r=void 0===r?0:r,spacing:c=void 0===c?0:c,base:new PIXI.BaseTexture(i),frameData:G.AnimationParser.spriteSheet(this.game,i,o,n,s,r,c)};this._cache.image[t]=i,this._resolveURL(e,i)},addTextureAtlas:function(t,e,i,o,n){i={key:t,url:e,data:i,base:new PIXI.BaseTexture(i)};n===G.Loader.TEXTURE_ATLAS_XML_STARLING?i.frameData=G.AnimationParser.XMLData(this.game,o,t):n===G.Loader.TEXTURE_ATLAS_JSON_PYXEL?i.frameData=G.AnimationParser.JSONDataPyxel(this.game,o,t):Array.isArray(o.frames)?i.frameData=G.AnimationParser.JSONData(this.game,o,t):i.frameData=G.AnimationParser.JSONDataHash(this.game,o,t),this._cache.image[t]=i,this._resolveURL(e,i)},reloadSound:function(t){var e=this,i=this.getSound(t);i&&(i.data.src=i.url,i.data.addEventListener("canplaythrough",function(){return e.reloadSoundComplete(t)},!1),i.data.load())},reloadSoundComplete:function(t){var e=this.getSound(t);e&&(e.locked=!1,this.onSoundUnlock.dispatch(t))},updateSound:function(t,e,i){t=this.getSound(t);t&&(t[e]=i)},decodedSound:function(t,e){t=this.getSound(t);t.data=e,t.decoded=!0,t.isDecoding=!1},isSoundDecoded:function(t){t=this.getItem(t,G.Cache.SOUND,"isSoundDecoded");if(t)return t.decoded},isSoundReady:function(t){t=this.getItem(t,G.Cache.SOUND,"isSoundDecoded");if(t)return t.decoded&&!this.game.sound.touchLocked},checkKey:function(t,e){return!!this._cacheMap[t][e]},checkURL:function(t){return!!this._urlMap[this._resolveURL(t)]},checkCanvasKey:function(t){return this.checkKey(G.Cache.CANVAS,t)},checkImageKey:function(t){return this.checkKey(G.Cache.IMAGE,t)},checkTextureKey:function(t){return this.checkKey(G.Cache.TEXTURE,t)},checkSoundKey:function(t){return this.checkKey(G.Cache.SOUND,t)},checkTextKey:function(t){return this.checkKey(G.Cache.TEXT,t)},checkPhysicsKey:function(t){return this.checkKey(G.Cache.PHYSICS,t)},checkTilemapKey:function(t){return this.checkKey(G.Cache.TILEMAP,t)},checkBinaryKey:function(t){return this.checkKey(G.Cache.BINARY,t)},checkBitmapDataKey:function(t){return this.checkKey(G.Cache.BITMAPDATA,t)},checkBitmapFontKey:function(t){return this.checkKey(G.Cache.BITMAPFONT,t)},checkJSONKey:function(t){return this.checkKey(G.Cache.JSON,t)},checkXMLKey:function(t){return this.checkKey(G.Cache.XML,t)},checkVideoKey:function(t){return this.checkKey(G.Cache.VIDEO,t)},checkShaderKey:function(t){return this.checkKey(G.Cache.SHADER,t)},checkRenderTextureKey:function(t){return this.checkKey(G.Cache.RENDER_TEXTURE,t)},getItem:function(t,e,i,o){return this.checkKey(e,t)?void 0===o?this._cacheMap[e][t]:this._cacheMap[e][t][o]:null},getCanvas:function(t){return this.getItem(t,G.Cache.CANVAS,"getCanvas","canvas")},getImage:function(t,e){void 0===e&&(e=!1);t=this.getItem(t=null==t?"__default":t,G.Cache.IMAGE,"getImage");return null===t&&(t=this.getItem("__missing",G.Cache.IMAGE,"getImage")),e?t:t.data},getTextureFrame:function(t){return this.getItem(t,G.Cache.TEXTURE,"getTextureFrame","frame")},getSound:function(t){return this.getItem(t,G.Cache.SOUND,"getSound")},getSoundData:function(t){return this.getItem(t,G.Cache.SOUND,"getSoundData","data")},getText:function(t){return this.getItem(t,G.Cache.TEXT,"getText","data")},getPhysicsData:function(t,e,i){t=this.getItem(t,G.Cache.PHYSICS,"getPhysicsData","data");if(null===t||null==e)return t;if(t[e]){var o,n=t[e];if(!n||!i)return n;for(o in n)if(o=n[o],o.fixtureKey===i)return o}return null},getTilemapData:function(t){return this.getItem(t,G.Cache.TILEMAP,"getTilemapData")},getBinary:function(t){return this.getItem(t,G.Cache.BINARY,"getBinary")},getBitmapData:function(t){return this.getItem(t,G.Cache.BITMAPDATA,"getBitmapData","data")},getBitmapFont:function(t){return this.getItem(t,G.Cache.BITMAPFONT,"getBitmapFont")},getJSON:function(t,e){t=this.getItem(t,G.Cache.JSON,"getJSON","data");return t?e?G.Utils.extend(!0,Array.isArray(t)?[]:{},t):t:null},getXML:function(t){return this.getItem(t,G.Cache.XML,"getXML","data")},getVideo:function(t){return this.getItem(t,G.Cache.VIDEO,"getVideo")},getShader:function(t){return this.getItem(t,G.Cache.SHADER,"getShader","data")},getRenderTexture:function(t){return this.getItem(t,G.Cache.RENDER_TEXTURE,"getRenderTexture")},getBaseTexture:function(t,e){return void 0===e&&(e=G.Cache.IMAGE),this.getItem(t,e,"getBaseTexture","base")},getFrame:function(t,e){return void 0===e&&(e=G.Cache.IMAGE),this.getItem(t,e,"getFrame","frame")},getFrameCount:function(t,e){t=this.getFrameData(t,e);return t?t.total:0},getFrameData:function(t,e){return void 0===e&&(e=G.Cache.IMAGE),this.getItem(t,e,"getFrameData","frameData")},hasFrameData:function(t,e){return void 0===e&&(e=G.Cache.IMAGE),null!==this.getItem(t,e,"","frameData")},updateFrameData:function(t,e,i){void 0===i&&(i=G.Cache.IMAGE),this._cacheMap[i][t]&&(this._cacheMap[i][t].frameData=e)},getFrameByIndex:function(t,e,i){t=this.getFrameData(t,i);return t?t.getFrame(e):null},getFrameByName:function(t,e,i){t=this.getFrameData(t,i);return t?t.getFrameByName(e):null},getURL:function(t){return(t=this._resolveURL(t))?this._urlMap[t]:null},getKeys:function(t){void 0===t&&(t=G.Cache.IMAGE);var e=[];if(this._cacheMap[t])for(var i in this._cacheMap[t])"__default"!==i&&"__missing"!==i&&e.push(i);return e},removeCanvas:function(t){delete this._cache.canvas[t]},removeImage:function(t,e){void 0===e&&(e=!0);var i=this.getImage(t,!0);e&&i.base&&i.base.destroy(),delete this._cache.image[t]},removeSound:function(t){delete this._cache.sound[t]},removeText:function(t){delete this._cache.text[t]},removePhysics:function(t){delete this._cache.physics[t]},removeTilemap:function(t){delete this._cache.tilemap[t]},removeBinary:function(t){delete this._cache.binary[t]},removeBitmapData:function(t){delete this._cache.bitmapData[t]},removeBitmapFont:function(t){delete this._cache.bitmapFont[t]},removeJSON:function(t){delete this._cache.json[t]},removeXML:function(t){delete this._cache.xml[t]},removeVideo:function(t){delete this._cache.video[t]},removeShader:function(t){delete this._cache.shader[t]},removeRenderTexture:function(t){delete this._cache.renderTexture[t]},removeSpriteSheet:function(t){delete this._cache.spriteSheet[t]},removeTextureAtlas:function(t){delete this._cache.atlas[t]},clearGLTextures:function(){for(var t in this._cache.image)this._cache.image[t].base._glTextures=[]},_resolveURL:function(t,e){return this.autoResolveURL?(this._urlResolver.src=this.game.load.baseURL+t,this._urlTemp=this._urlResolver.src,this._urlResolver.src="",e&&(this._urlMap[this._urlTemp]=e),this._urlTemp):null},destroy:function(){for(var t=0;t<this._cacheMap.length;t++){var e,i=this._cacheMap[t];for(e in i)"__default"!==e&&"__missing"!==e&&(i[e].destroy&&i[e].destroy(),delete i[e])}this._urlMap=null,this._urlResolver=null,this._urlTemp=null}},G.Cache.prototype.constructor=G.Cache,G.Loader=function(t){this.game=t,this.cache=t.cache,this.resetLocked=!1,this.isLoading=!1,this.hasLoaded=!1,this.preloadSprite=null,this.crossOrigin=!1,this.baseURL="",this.path="",this.headers={requestedWith:!1,json:"application/json",xml:"application/xml"},this.onLoadStart=new G.Signal,this.onLoadComplete=new G.Signal,this.onPackComplete=new G.Signal,this.onFileStart=new G.Signal,this.onFileComplete=new G.Signal,this.onFileError=new G.Signal,this.useXDomainRequest=!1,this._warnedAboutXDomainRequest=!1,this.enableParallel=!0,this.maxParallelDownloads=4,this._withSyncPointDepth=0,this._fileList=[],this._flightQueue=[],this._processingHead=0,this._fileLoadStarted=!1,this._totalPackCount=0,this._totalFileCount=0,this._loadedPackCount=0,this._loadedFileCount=0},G.Loader.TEXTURE_ATLAS_JSON_ARRAY=0,G.Loader.TEXTURE_ATLAS_JSON_HASH=1,G.Loader.TEXTURE_ATLAS_XML_STARLING=2,G.Loader.PHYSICS_LIME_CORONA_JSON=3,G.Loader.PHYSICS_PHASER_JSON=4,G.Loader.TEXTURE_ATLAS_JSON_PYXEL=5,G.Loader.prototype={setPreloadSprite:function(t,e){this.preloadSprite={sprite:t,direction:e=e||0,width:t.width,height:t.height,rect:null},this.preloadSprite.rect=0===e?new G.Rectangle(0,0,1,t.height):new G.Rectangle(0,0,t.width,1),t.crop(this.preloadSprite.rect),t.visible=!0},resize:function(){this.preloadSprite&&this.preloadSprite.height!==this.preloadSprite.sprite.height&&(this.preloadSprite.rect.height=this.preloadSprite.sprite.height)},checkKeyExists:function(t,e){return-1<this.getAssetIndex(t,e)},getAssetIndex:function(t,e){for(var i=-1,o=0;o<this._fileList.length;o++){var n=this._fileList[o];if(n.type===t&&n.key===e&&(i=o,!n.loaded&&!n.loading))break}return i},getAsset:function(t,e){t=this.getAssetIndex(t,e);return-1<t&&{index:t,file:this._fileList[t]}},reset:function(t,e){void 0===e&&(e=!1),this.resetLocked||(t&&(this.preloadSprite=null),this.isLoading=!1,this._processingHead=0,this._fileList.length=0,this._flightQueue.length=0,this._fileLoadStarted=!1,this._totalFileCount=0,this._totalPackCount=0,this._loadedPackCount=0,this._loadedFileCount=0,e&&(this.onLoadStart.removeAll(),this.onLoadComplete.removeAll(),this.onPackComplete.removeAll(),this.onFileStart.removeAll(),this.onFileComplete.removeAll(),this.onFileError.removeAll()))},addToFileList:function(t,e,i,o,n,s){if(void 0===n&&(n=!1),void 0===e||""===e)return this;if(null==i){if(!s)return this;i=e+s}var r={type:t,key:e,path:this.path,url:i,syncPoint:0<this._withSyncPointDepth,data:null,loading:!1,loaded:!1,error:!1};if(o)for(var c in o)r[c]=o[c];s=this.getAssetIndex(t,e);return n&&-1<s?(i=this._fileList[s]).loading||i.loaded?(this._fileList.push(r),this._totalFileCount++):this._fileList[s]=r:-1===s&&(this._fileList.push(r),this._totalFileCount++),this},replaceInFileList:function(t,e,i,o){return this.addToFileList(t,e,i,o,!0)},pack:function(t,e,i,o){if(void 0===i&&(i=null),!(e=void 0===e?null:e)&&!i)return this;var n={type:"packfile",key:t,url:e,path:this.path,syncPoint:!0,data:null,loading:!1,loaded:!1,error:!1,callbackContext:o=void 0===o?null:o};i&&("string"==typeof i&&(i=JSON.parse(i)),n.data=i||{},n.loaded=!0);for(var s=0;s<this._fileList.length+1;s++){var r=this._fileList[s];if(!r||!r.loaded&&!r.loading&&"packfile"!==r.type){this._fileList.splice(s,0,n),this._totalPackCount++;break}}return this},image:function(t,e,i){return this.addToFileList("image",t,e,void 0,i,".png")},images:function(t,e){if(Array.isArray(e))for(var i=0;i<t.length;i++)this.image(t[i],e[i]);else for(i=0;i<t.length;i++)this.image(t[i]);return this},text:function(t,e,i){return this.addToFileList("text",t,e,void 0,i,".txt")},json:function(t,e,i){return this.addToFileList("json",t,e,void 0,i,".json")},shader:function(t,e,i){return this.addToFileList("shader",t,e,void 0,i,".frag")},xml:function(t,e,i){return this.addToFileList("xml",t,e,void 0,i,".xml")},script:function(t,e,i,o){return this.addToFileList("script",t,e,{syncPoint:!0,callback:i=void 0===i?!1:i,callbackContext:o=!1!==i&&void 0===o?this:o},!1,".js")},binary:function(t,e,i,o){return!1!==(i=void 0===i?!1:i)&&void 0===o&&(o=i),this.addToFileList("binary",t,e,{callback:i,callbackContext:o},!1,".bin")},spritesheet:function(t,e,i,o,n,s,r){return this.addToFileList("spritesheet",t,e,{frameWidth:i,frameHeight:o,frameMax:n=void 0===n?-1:n,margin:s=void 0===s?0:s,spacing:r=void 0===r?0:r},!1,".png")},audio:function(t,e,i){return this.game.sound.noAudio?this:this.addToFileList("audio",t,e="string"==typeof e?[e]:e,{buffer:null,autoDecode:i=void 0===i?!0:i})},audioSprite:function(t,e,i,o,n){return this.game.sound.noAudio||(void 0===i&&(i=null),void 0===o&&(o=null),this.audio(t,e,n=void 0===n?!0:n),i?this.json(t+"-audioatlas",i):o&&("string"==typeof o&&(o=JSON.parse(o)),this.cache.addJSON(t+"-audioatlas","",o))),this},audiosprite:function(t,e,i,o,n){return this.audioSprite(t,e,i,o,n)},video:function(t,e,i,o){return void 0===i&&(i=this.game.device.firefox?"loadeddata":"canplaythrough"),this.addToFileList("video",t,e="string"==typeof e?[e]:e,{buffer:null,asBlob:o=void 0===o?!1:o,loadEvent:i})},tilemap:function(t,e,i,o){if(void 0===i&&(i=null),void 0===o&&(o=G.Tilemap.CSV),(e=void 0===e?null:e)||i||(e=o===G.Tilemap.CSV?t+".csv":t+".json"),i){switch(o){case G.Tilemap.CSV:break;case G.Tilemap.TILED_JSON:"string"==typeof i&&(i=JSON.parse(i))}this.cache.addTilemap(t,null,i,o)}else this.addToFileList("tilemap",t,e,{format:o});return this},physics:function(t,e,i,o){return void 0===i&&(i=null),void 0===o&&(o=G.Physics.LIME_CORONA_JSON),(e=void 0===e?null:e)||i||(e=t+".json"),i?("string"==typeof i&&(i=JSON.parse(i)),this.cache.addPhysicsData(t,null,i,o)):this.addToFileList("physics",t,e,{format:o}),this},bitmapFont:function(t,e,i,o,n,s){if(null==e&&(e=t+".png"),void 0===o&&(o=null),void 0===n&&(n=0),void 0===s&&(s=0),i=null===(i=void 0===i?null:i)&&null===o?t+".xml":i)this.addToFileList("bitmapfont",t,e,{atlasURL:i,xSpacing:n,ySpacing:s});else if("string"==typeof o){var r,c;try{r=JSON.parse(o)}catch(t){c=this.parseXml(o)}if(!c&&!r)throw new Error("Phaser.Loader. Invalid Bitmap Font atlas given");this.addToFileList("bitmapfont",t,e,{atlasURL:null,atlasData:r||c,atlasType:r?"json":"xml",xSpacing:n,ySpacing:s})}return this},atlasJSONArray:function(t,e,i,o){return this.atlas(t,e,i,o,G.Loader.TEXTURE_ATLAS_JSON_ARRAY)},atlasJSONHash:function(t,e,i,o){return this.atlas(t,e,i,o,G.Loader.TEXTURE_ATLAS_JSON_HASH)},atlasXML:function(t,e,i,o){return void 0===o&&(o=null),this.atlas(t,e,i=(i=void 0===i?null:i)||o?i:t+".xml",o,G.Loader.TEXTURE_ATLAS_XML_STARLING)},atlas:function(t,e,i,o,n){if(null==e&&(e=t+".png"),void 0===o&&(o=null),void 0===n&&(n=G.Loader.TEXTURE_ATLAS_JSON_ARRAY),i=(i=void 0===i?null:i)||o?i:n===G.Loader.TEXTURE_ATLAS_XML_STARLING?t+".xml":t+".json")this.addToFileList("textureatlas",t,e,{atlasURL:i,format:n});else{switch(n){case G.Loader.TEXTURE_ATLAS_JSON_ARRAY:"string"==typeof o&&(o=JSON.parse(o));break;case G.Loader.TEXTURE_ATLAS_XML_STARLING:if("string"==typeof o){var s=this.parseXml(o);if(!s)throw new Error("Phaser.Loader. Invalid Texture Atlas XML given");o=s}}this.addToFileList("textureatlas",t,e,{atlasURL:null,atlasData:o,format:n})}return this},withSyncPoint:function(t,e){this._withSyncPointDepth++;try{t.call(e||this,this)}finally{this._withSyncPointDepth--}return this},addSyncPoint:function(t,e){t=this.getAsset(t,e);return t&&(t.file.syncPoint=!0),this},removeFile:function(t,e){t=this.getAsset(t,e);!t||t.loaded||t.loading||this._fileList.splice(t.index,1)},removeAll:function(){this._fileList.length=0,this._flightQueue.length=0},start:function(){this.isLoading||(this.hasLoaded=!1,this.isLoading=!0,this.updateProgress(),this.processLoadQueue())},processLoadQueue:function(){if(this.isLoading){for(var t=0;t<this._flightQueue.length;t++)((e=this._flightQueue[t]).loaded||e.error)&&(this._flightQueue.splice(t,1),t--,e.loading=!1,e.requestUrl=null,e.requestObject=null,e.error&&this.onFileError.dispatch(e.key,e),"packfile"!==e.type?(this._loadedFileCount++,this.onFileComplete.dispatch(this.progress,e.key,!e.error,this._loadedFileCount,this._totalFileCount)):"packfile"===e.type&&e.error&&(this._loadedPackCount++,this.onPackComplete.dispatch(e.key,!e.error,this._loadedPackCount,this._totalPackCount)));for(var e,i,o=!1,n=this.enableParallel?G.Math.clamp(this.maxParallelDownloads,1,12):1,t=this._processingHead;t<this._fileList.length;t++)if("packfile"===(e=this._fileList[t]).type&&!e.error&&e.loaded&&t===this._processingHead&&(this.processPack(e),this._loadedPackCount++,this.onPackComplete.dispatch(e.key,!e.error,this._loadedPackCount,this._totalPackCount)),e.loaded||e.error?t===this._processingHead&&(this._processingHead=t+1):!e.loading&&this._flightQueue.length<n&&("packfile"!==e.type||e.data?o||(this._fileLoadStarted||(this._fileLoadStarted=!0,this.onLoadStart.dispatch()),this._flightQueue.push(e),e.loading=!0,this.onFileStart.dispatch(this.progress,e.key,e.url),this.loadFile(e)):(this._flightQueue.push(e),e.loading=!0,this.loadFile(e))),!e.loaded&&e.syncPoint&&(o=!0),this._flightQueue.length>=n||o&&this._loadedPackCount===this._totalPackCount)break;this.updateProgress(),this._processingHead>=this._fileList.length?this.finishedLoading():this._flightQueue.length||(i=this,setTimeout(function(){i.finishedLoading(!0)},2e3))}else this.finishedLoading(!0)},finishedLoading:function(t){this.hasLoaded||(this.hasLoaded=!0,this.isLoading=!1,t||this._fileLoadStarted||(this._fileLoadStarted=!0,this.onLoadStart.dispatch()),this.onLoadComplete.dispatch(),this.game.state.loadComplete(),this.reset())},asyncComplete:function(t,e){void 0===e&&(e=""),t.loaded=!0,t.error=!!e,e&&(t.errorMessage=e),this.processLoadQueue()},processPack:function(t){var e=t.data[t.key];if(e)for(var i=0;i<e.length;i++){var o=e[i];switch(o.type){case"image":this.image(o.key,o.url,o.overwrite);break;case"text":this.text(o.key,o.url,o.overwrite);break;case"json":this.json(o.key,o.url,o.overwrite);break;case"xml":this.xml(o.key,o.url,o.overwrite);break;case"script":this.script(o.key,o.url,o.callback,t.callbackContext||this);break;case"binary":this.binary(o.key,o.url,o.callback,t.callbackContext||this);break;case"spritesheet":this.spritesheet(o.key,o.url,o.frameWidth,o.frameHeight,o.frameMax,o.margin,o.spacing);break;case"video":this.video(o.key,o.urls);break;case"audio":this.audio(o.key,o.urls,o.autoDecode);break;case"audiosprite":this.audiosprite(o.key,o.urls,o.jsonURL,o.jsonData,o.autoDecode);break;case"tilemap":this.tilemap(o.key,o.url,o.data,G.Tilemap[o.format]);break;case"physics":this.physics(o.key,o.url,o.data,G.Loader[o.format]);break;case"bitmapFont":this.bitmapFont(o.key,o.textureURL,o.atlasURL,o.atlasData,o.xSpacing,o.ySpacing);break;case"atlasJSONArray":this.atlasJSONArray(o.key,o.textureURL,o.atlasURL,o.atlasData);break;case"atlasJSONHash":this.atlasJSONHash(o.key,o.textureURL,o.atlasURL,o.atlasData);break;case"atlasXML":this.atlasXML(o.key,o.textureURL,o.atlasURL,o.atlasData);break;case"atlas":this.atlas(o.key,o.textureURL,o.atlasURL,o.atlasData,G.Loader[o.format]);break;case"shader":this.shader(o.key,o.url,o.overwrite)}}},transformUrl:function(t,e){return!!t&&(t.match(/^(?:blob:|data:|http:\/\/|https:\/\/|\/\/)/)?t:this.baseURL+e.path+t)},loadFile:function(t){switch(t.type){case"packfile":this.xhrLoad(t,this.transformUrl(t.url,t),"text",this.fileComplete);break;case"image":case"spritesheet":case"textureatlas":case"bitmapfont":this.loadImageTag(t);break;case"audio":t.url=this.getAudioURL(t.url),t.url?this.game.sound.usingWebAudio?this.xhrLoad(t,this.transformUrl(t.url,t),"arraybuffer",this.fileComplete):this.game.sound.usingAudioTag&&this.loadAudioTag(t):this.fileError(t,null,"No supported audio URL specified or device does not have audio playback support");break;case"video":t.url=this.getVideoURL(t.url),t.url?t.asBlob?this.xhrLoad(t,this.transformUrl(t.url,t),"blob",this.fileComplete):this.loadVideoTag(t):this.fileError(t,null,"No supported video URL specified or device does not have video playback support");break;case"json":this.xhrLoad(t,this.transformUrl(t.url,t),"text",this.jsonLoadComplete);break;case"xml":this.xhrLoad(t,this.transformUrl(t.url,t),"text",this.xmlLoadComplete);break;case"tilemap":t.format===G.Tilemap.TILED_JSON?this.xhrLoad(t,this.transformUrl(t.url,t),"text",this.jsonLoadComplete):t.format===G.Tilemap.CSV?this.xhrLoad(t,this.transformUrl(t.url,t),"text",this.csvLoadComplete):this.asyncComplete(t,"invalid Tilemap format: "+t.format);break;case"text":case"script":case"shader":case"physics":this.xhrLoad(t,this.transformUrl(t.url,t),"text",this.fileComplete);break;case"binary":this.xhrLoad(t,this.transformUrl(t.url,t),"arraybuffer",this.fileComplete)}},loadImageTag:function(t){var e=this;t.data=new Image,t.data.name=t.key,this.crossOrigin&&(t.data.crossOrigin=this.crossOrigin),t.data.onload=function(){t.data.onload&&(t.data.onload=null,t.data.onerror=null,e.fileComplete(t))},t.data.onerror=function(){t.data.onload&&(t.data.onload=null,t.data.onerror=null,e.fileError(t))},t.data.src=this.transformUrl(t.url,t),t.data.complete&&t.data.width&&t.data.height&&(t.data.onload=null,t.data.onerror=null,this.fileComplete(t))},loadVideoTag:function(t){var e=this,i=(t.data=document.createElement("video"),t.data.name=t.key,t.data.controls=!1,t.data.autoplay=!1,function(){t.data.removeEventListener(t.loadEvent,i,!1),t.data.onerror=null,t.data.canplay=!0,G.GAMES[e.game.id].load.fileComplete(t)});t.data.onerror=function(){t.data.removeEventListener(t.loadEvent,i,!1),t.data.onerror=null,t.data.canplay=!1,e.fileError(t)},t.data.addEventListener(t.loadEvent,i,!1),t.data.src=this.transformUrl(t.url,t),t.data.load()},loadAudioTag:function(t){var e,i=this;this.game.sound.touchLocked?(t.data=new Audio,t.data.name=t.key,t.data.preload="auto",t.data.src=this.transformUrl(t.url,t),this.fileComplete(t)):(t.data=new Audio,t.data.name=t.key,e=function(){t.data.removeEventListener("canplaythrough",e,!1),t.data.onerror=null,i.fileComplete(t)},t.data.onerror=function(){t.data.removeEventListener("canplaythrough",e,!1),t.data.onerror=null,i.fileError(t)},t.data.preload="auto",t.data.src=this.transformUrl(t.url,t),t.data.addEventListener("canplaythrough",e,!1),t.data.load())},xhrLoad:function(e,t,i,o,n){var s,r;this.useXDomainRequest&&window.XDomainRequest?this.xhrLoadWithXDR(e,t,i,o,n):(s=new XMLHttpRequest,s.open("GET",t,!0),s.responseType=i,!1!==this.headers.requestedWith&&s.setRequestHeader("X-Requested-With",this.headers.requestedWith),this.headers[e.type]&&s.setRequestHeader("Accept",this.headers[e.type]),n=n||this.fileError,r=this,s.onload=function(){try{return(4===s.readyState&&400<=s.status&&s.status<=599?n:o).call(r,e,s)}catch(t){r.hasLoaded?window.console:r.asyncComplete(e,t.message||"Exception")}},s.onerror=function(){try{return n.call(r,e,s)}catch(t){r.hasLoaded?window.console:r.asyncComplete(e,t.message||"Exception")}},e.requestObject=s,e.requestUrl=t,s.send())},xhrLoadWithXDR:function(e,t,i,o,n){this._warnedAboutXDomainRequest||this.game.device.ie&&!(10<=this.game.device.ieVersion)||(this._warnedAboutXDomainRequest=!0);var s=new window.XDomainRequest,r=(s.open("GET",t,!0),s.responseType=i,s.timeout=3e3,n=n||this.fileError,this);s.onerror=function(){try{return n.call(r,e,s)}catch(t){r.asyncComplete(e,t.message||"Exception")}},s.ontimeout=function(){try{return n.call(r,e,s)}catch(t){r.asyncComplete(e,t.message||"Exception")}},s.onprogress=function(){},s.onload=function(){try{return(4===s.readyState&&400<=s.status&&s.status<=599?n:o).call(r,e,s)}catch(t){r.asyncComplete(e,t.message||"Exception")}},e.requestObject=s,e.requestUrl=t,setTimeout(function(){s.send()},0)},getVideoURL:function(t){for(var e=0;e<t.length;e++){var i,o=t[e];if(o.uri){if(i=o.type,o=o.uri,this.game.device.canPlayVideo(i))return o}else{if(0===o.indexOf("blob:")||0===o.indexOf("data:"))return o;if(i=(o=0<=o.indexOf("?")?o.substr(0,o.indexOf("?")):o).substr((Math.max(0,o.lastIndexOf("."))||1/0)+1).toLowerCase(),this.game.device.canPlayVideo(i))return t[e]}}return null},getAudioURL:function(t){if(this.game.sound.noAudio)return null;for(var e=0;e<t.length;e++){var i,o=t[e];if(o.uri){if(i=o.type,o=o.uri,this.game.device.canPlayAudio(i))return o}else{if(0===o.indexOf("blob:")||0===o.indexOf("data:"))return o;if(i=(o=0<=o.indexOf("?")?o.substr(0,o.indexOf("?")):o).substr((Math.max(0,o.lastIndexOf("."))||1/0)+1).toLowerCase(),this.game.device.canPlayAudio(i))return t[e]}}return null},fileError:function(t,e,i){var o="error loading asset from URL "+(t.requestUrl||this.transformUrl(t.url,t));!i&&e&&(i=e.status),this.asyncComplete(t,o=i?o+" ("+i+")":o)},fileComplete:function(t,e){var i=!0;switch(t.type){case"packfile":var o=JSON.parse(e.responseText);t.data=o||{};break;case"image":this.cache.addImage(t.key,t.url,t.data);break;case"spritesheet":this.cache.addSpriteSheet(t.key,t.url,t.data,t.frameWidth,t.frameHeight,t.frameMax,t.margin,t.spacing);break;case"textureatlas":if(null==t.atlasURL)this.cache.addTextureAtlas(t.key,t.url,t.data,t.atlasData,t.format);else if(i=!1,t.format===G.Loader.TEXTURE_ATLAS_JSON_ARRAY||t.format===G.Loader.TEXTURE_ATLAS_JSON_HASH||t.format===G.Loader.TEXTURE_ATLAS_JSON_PYXEL)this.xhrLoad(t,this.transformUrl(t.atlasURL,t),"text",this.jsonLoadComplete);else{if(t.format!==G.Loader.TEXTURE_ATLAS_XML_STARLING)throw new Error("Phaser.Loader. Invalid Texture Atlas format: "+t.format);this.xhrLoad(t,this.transformUrl(t.atlasURL,t),"text",this.xmlLoadComplete)}break;case"bitmapfont":t.atlasURL?(i=!1,this.xhrLoad(t,this.transformUrl(t.atlasURL,t),"text",function(t,e){var i;try{i=JSON.parse(e.responseText)}catch(t){}i?(t.atlasType="json",this.jsonLoadComplete(t,e)):(t.atlasType="xml",this.xmlLoadComplete(t,e))})):this.cache.addBitmapFont(t.key,t.url,t.data,t.atlasData,t.atlasType,t.xSpacing,t.ySpacing);break;case"video":if(t.asBlob)try{t.data=e.response}catch(e){throw new Error("Phaser.Loader. Unable to parse video file as Blob: "+t.key)}this.cache.addVideo(t.key,t.url,t.data,t.asBlob);break;case"audio":this.game.sound.usingWebAudio?(t.data=e.response,this.cache.addSound(t.key,t.url,t.data,!0,!1),t.autoDecode&&this.game.sound.decode(t.key)):this.cache.addSound(t.key,t.url,t.data,!1,!0);break;case"text":t.data=e.responseText,this.cache.addText(t.key,t.url,t.data);break;case"shader":t.data=e.responseText,this.cache.addShader(t.key,t.url,t.data);break;case"physics":o=JSON.parse(e.responseText);this.cache.addPhysicsData(t.key,t.url,o,t.format);break;case"script":t.data=document.createElement("script"),t.data.language="javascript",t.data.type="text/javascript",t.data.defer=!1,t.data.text=e.responseText,document.head.appendChild(t.data),t.callback&&(t.data=t.callback.call(t.callbackContext,t.key,e.responseText));break;case"binary":t.callback?t.data=t.callback.call(t.callbackContext,t.key,e.response):t.data=e.response,this.cache.addBinary(t.key,t.data)}i&&this.asyncComplete(t)},jsonLoadComplete:function(t,e){e=JSON.parse(e.responseText);"tilemap"===t.type?this.cache.addTilemap(t.key,t.url,e,t.format):"bitmapfont"===t.type?this.cache.addBitmapFont(t.key,t.url,t.data,e,t.atlasType,t.xSpacing,t.ySpacing):"json"===t.type?this.cache.addJSON(t.key,t.url,e):this.cache.addTextureAtlas(t.key,t.url,t.data,e,t.format),this.asyncComplete(t)},csvLoadComplete:function(t,e){e=e.responseText;this.cache.addTilemap(t.key,t.url,e,t.format),this.asyncComplete(t)},xmlLoadComplete:function(t,e){var i=e.responseText,i=this.parseXml(i);if(!i)return e.responseType||e.contentType,void this.asyncComplete(t,"invalid XML");"bitmapfont"===t.type?this.cache.addBitmapFont(t.key,t.url,t.data,i,t.atlasType,t.xSpacing,t.ySpacing):"textureatlas"===t.type?this.cache.addTextureAtlas(t.key,t.url,t.data,i,t.format):"xml"===t.type&&this.cache.addXML(t.key,t.url,i),this.asyncComplete(t)},parseXml:function(t){var e;try{window.DOMParser?e=(new DOMParser).parseFromString(t,"text/xml"):((e=new ActiveXObject("Microsoft.XMLDOM")).async="false",e.loadXML(t))}catch(t){e=null}return e&&e.documentElement&&!e.getElementsByTagName("parsererror").length?e:null},updateProgress:function(){this.preloadSprite&&(0===this.preloadSprite.direction?this.preloadSprite.rect.width=Math.floor(this.preloadSprite.width/100*this.progress):this.preloadSprite.rect.height=Math.floor(this.preloadSprite.height/100*this.progress),this.preloadSprite.sprite?this.preloadSprite.sprite.updateCrop():this.preloadSprite=null)},totalLoadedFiles:function(){return this._loadedFileCount},totalQueuedFiles:function(){return this._totalFileCount-this._loadedFileCount},totalLoadedPacks:function(){return this._totalPackCount},totalQueuedPacks:function(){return this._totalPackCount-this._loadedPackCount}},Object.defineProperty(G.Loader.prototype,"progressFloat",{get:function(){var t=this._loadedFileCount/this._totalFileCount*100;return G.Math.clamp(t||0,0,100)}}),Object.defineProperty(G.Loader.prototype,"progress",{get:function(){return Math.round(this.progressFloat)}}),G.Loader.prototype.constructor=G.Loader,G.LoaderParser={bitmapFont:function(t,e,i,o){return this.xmlBitmapFont(t,e,i,o)},xmlBitmapFont:function(t,e,i,o){var n={},s=t.getElementsByTagName("info")[0],r=t.getElementsByTagName("common")[0];n.font=s.getAttribute("face"),n.size=parseInt(s.getAttribute("size"),10),n.lineHeight=parseInt(r.getAttribute("lineHeight"),10)+o,n.chars={};for(var c=t.getElementsByTagName("char"),a=0;a<c.length;a++){var h=parseInt(c[a].getAttribute("id"),10);n.chars[h]={x:parseInt(c[a].getAttribute("x"),10),y:parseInt(c[a].getAttribute("y"),10),width:parseInt(c[a].getAttribute("width"),10),height:parseInt(c[a].getAttribute("height"),10),xOffset:parseInt(c[a].getAttribute("xoffset"),10),yOffset:parseInt(c[a].getAttribute("yoffset"),10),xAdvance:parseInt(c[a].getAttribute("xadvance"),10)+i,kerning:{}}}for(var u=t.getElementsByTagName("kerning"),a=0;a<u.length;a++){var l=parseInt(u[a].getAttribute("first"),10),d=parseInt(u[a].getAttribute("second"),10),p=parseInt(u[a].getAttribute("amount"),10);n.chars[d].kerning[l]=p}return this.finalizeBitmapFont(e,n)},jsonBitmapFont:function(t,e,i,o){var n={font:t.font.info._face,size:parseInt(t.font.info._size,10),lineHeight:parseInt(t.font.common._lineHeight,10)+o,chars:{}};return t.font.chars.char.forEach(function(t){var e=parseInt(t._id,10);n.chars[e]={x:parseInt(t._x,10),y:parseInt(t._y,10),width:parseInt(t._width,10),height:parseInt(t._height,10),xOffset:parseInt(t._xoffset,10),yOffset:parseInt(t._yoffset,10),xAdvance:parseInt(t._xadvance,10)+i,kerning:{}}}),t.font.kernings&&t.font.kernings.kerning&&t.font.kernings.kerning.forEach(function(t){n.chars[t._second].kerning[t._first]=parseInt(t._amount,10)}),this.finalizeBitmapFont(e,n)},finalizeBitmapFont:function(e,i){return Object.keys(i.chars).forEach(function(t){t=i.chars[t];t.texture=new PIXI.Texture(e,new G.Rectangle(t.x,t.y,t.width,t.height))}),i}},G.AudioSprite=function(t,e){for(var i in this.game=t,this.key=e,this.config=this.game.cache.getJSON(e+"-audioatlas"),this.autoplayKey=null,this.autoplay=!1,this.sounds={},this.config.spritemap){var o=this.config.spritemap[i],n=this.game.add.sound(this.key);n.addMarker(i,o.start,o.end-o.start,null,o.loop),this.sounds[i]=n}this.config.autoplay&&(this.autoplayKey=this.config.autoplay,this.play(this.autoplayKey),this.autoplay=this.sounds[this.autoplayKey])},G.AudioSprite.prototype={play:function(t,e){return this.sounds[t].play(t,null,e=void 0===e?1:e)},stop:function(t){if(t)this.sounds[t].stop();else for(var e in this.sounds)this.sounds[e].stop()},get:function(t){return this.sounds[t]}},G.AudioSprite.prototype.constructor=G.AudioSprite,G.Sound=function(t,e,i,o,n){void 0===i&&(i=1),void 0===o&&(o=!1),void 0===n&&(n=t.sound.connectToMaster),this.game=t,this.name=e,this.key=e,this.loop=o,this.markers={},this.context=null,this.autoplay=!1,this.totalDuration=0,this.startTime=0,this.currentTime=0,this.duration=0,this.durationMS=0,this.position=0,this.stopTime=0,this.paused=!1,this.pausedPosition=0,this.pausedTime=0,this.isPlaying=!1,this.currentMarker="",this.fadeTween=null,this.pendingPlayback=!1,this.override=!1,this.allowMultiple=!1,this.usingWebAudio=this.game.sound.usingWebAudio,this.usingAudioTag=this.game.sound.usingAudioTag,this.externalNode=null,this.masterGainNode=null,this.gainNode=null,this._sound=null,this.usingWebAudio?(this.context=this.game.sound.context,this.masterGainNode=this.game.sound.masterGain,void 0===this.context.createGain?this.gainNode=this.context.createGainNode():this.gainNode=this.context.createGain(),this.gainNode.gain.value=i*this.game.sound.volume,n&&this.gainNode.connect(this.masterGainNode)):this.usingAudioTag&&(this.game.cache.getSound(e)&&this.game.cache.isSoundReady(e)?(this._sound=this.game.cache.getSoundData(e),this.totalDuration=0,this._sound.duration&&(this.totalDuration=this._sound.duration)):this.game.cache.onSoundUnlock.add(this.soundHasUnlocked,this)),this.onDecoded=new G.Signal,this.onPlay=new G.Signal,this.onPause=new G.Signal,this.onResume=new G.Signal,this.onLoop=new G.Signal,this.onStop=new G.Signal,this.onMute=new G.Signal,this.onMarkerComplete=new G.Signal,this.onFadeComplete=new G.Signal,this._volume=i,this._buffer=null,this._muted=!1,this._tempMarker=0,this._tempPosition=0,this._tempVolume=0,this._tempPause=0,this._muteVolume=0,this._tempLoop=0,this._paused=!1,this._onDecodedEventDispatched=!1},G.Sound.prototype={soundHasUnlocked:function(t){t===this.key&&(this._sound=this.game.cache.getSoundData(this.key),this.totalDuration=this._sound.duration)},addMarker:function(t,e,i,o,n){this.markers[t]={name:t,start:e,stop:e+(i=null==i?1:i),volume:o=null==o?1:o,duration:i,durationMS:1e3*i,loop:n=void 0===n?!1:n}},removeMarker:function(t){delete this.markers[t]},onEndedHandler:function(){this._sound.onended=null,this.isPlaying=!1,this.currentTime=this.durationMS,this.stop()},update:function(){this.game.cache.checkSoundKey(this.key)?(this.isDecoded&&!this._onDecodedEventDispatched&&(this.onDecoded.dispatch(this),this._onDecodedEventDispatched=!0),this.pendingPlayback&&this.game.cache.isSoundReady(this.key)&&(this.pendingPlayback=!1,this.play(this._tempMarker,this._tempPosition,this._tempVolume,this._tempLoop)),this.isPlaying&&(this.currentTime=this.game.time.time-this.startTime,this.currentTime>=this.durationMS&&(this.usingWebAudio?this.loop?(this.onLoop.dispatch(this),this.isPlaying=!1,""===this.currentMarker?(this.currentTime=0,this.startTime=this.game.time.time,this.isPlaying=!0):(this.onMarkerComplete.dispatch(this.currentMarker,this),this.play(this.currentMarker,0,this.volume,!0,!0))):""!==this.currentMarker&&this.stop():this.loop?(this.onLoop.dispatch(this),""===this.currentMarker&&(this.currentTime=0,this.startTime=this.game.time.time),this.isPlaying=!1,this.play(this.currentMarker,0,this.volume,!0,!0)):this.stop()))):this.destroy()},loopFull:function(t){return this.play(null,0,t,!0)},play:function(t,e,i,o,n){if(void 0!==t&&!1!==t&&null!==t||(t=""),void 0===n&&(n=!0),this.isPlaying&&!this.allowMultiple&&!n&&!this.override)return this;if(this._sound&&this.isPlaying&&!this.allowMultiple&&(this.override||n)){if(this.usingWebAudio){if(void 0===this._sound.stop)this._sound.noteOff(0);else try{this._sound.stop(0)}catch(t){}this.externalNode?this._sound.disconnect(this.externalNode):this.gainNode&&this._sound.disconnect(this.gainNode)}else this.usingAudioTag&&(this._sound.pause(),this._sound.currentTime=0);this.isPlaying=!1}n=Object.keys(this.markers);if(""===(t=""===t&&1===n.length?n[0]:t)&&0<n.length)return this;if(""!==t){if(!this.markers[t])return this;this.currentMarker=t,this.position=this.markers[t].start,this.volume=this.markers[t].volume,this.loop=this.markers[t].loop,this.duration=this.markers[t].duration,this.durationMS=this.markers[t].durationMS,void 0!==i&&(this.volume=i),void 0!==o&&(this.loop=o),this._tempMarker=t,this._tempPosition=this.position,this._tempVolume=this.volume,this._tempLoop=this.loop}else e=e||0,void 0===i&&(i=this._volume),void 0===o&&(o=this.loop),this.position=Math.max(0,e),this.volume=i,this.loop=o,this.duration=0,this.durationMS=0,this._tempMarker=t,this._tempPosition=e,this._tempVolume=i,this._tempLoop=o;return this.usingWebAudio?this.game.cache.isSoundDecoded(this.key)?(this._sound=this.context.createBufferSource(),this.externalNode?this._sound.connect(this.externalNode):this._sound.connect(this.gainNode),this._buffer=this.game.cache.getSoundData(this.key),this._sound.buffer=this._buffer,this.loop&&""===t&&(this._sound.loop=!0),this.loop||""!==t||(this._sound.onended=this.onEndedHandler.bind(this)),this.totalDuration=this._sound.buffer.duration,0===this.duration&&(this.duration=this.totalDuration,this.durationMS=Math.ceil(1e3*this.totalDuration)),void 0===this._sound.start?this._sound.noteGrainOn(0,this.position,this.duration):this.loop&&""===t?this._sound.start(0,0):this._sound.start(0,this.position,this.duration),this.isPlaying=!0,this.startTime=this.game.time.time,this.currentTime=0,this.stopTime=this.startTime+this.durationMS,this.onPlay.dispatch(this)):(this.pendingPlayback=!0,this.game.cache.getSound(this.key)&&!1===this.game.cache.getSound(this.key).isDecoding&&this.game.sound.decode(this.key,this)):this.game.cache.getSound(this.key)&&this.game.cache.getSound(this.key).locked?(this.game.cache.reloadSound(this.key),this.pendingPlayback=!0):this._sound&&(this.game.device.wechatMinigame||this.game.device.cocoonJS||4===this._sound.readyState)?(this.loop&&(this._sound.loop=!0),!this.loop&&""===t&&this.game.device.wechatMinigame&&this._sound.addEventListener("ended",this.onEndedHandler.bind(this)),this._sound.play(),this.totalDuration=this._sound.duration,0===this.duration&&(this.duration=this.totalDuration,this.durationMS=1e3*this.totalDuration),this._sound.currentTime=this.position,this._sound.muted=this._muted,this._muted||this.game.sound.mute?this._sound.volume=0:this._sound.volume=this._volume,this.isPlaying=!0,this.startTime=this.game.time.time,this.currentTime=0,this.stopTime=this.startTime+this.durationMS,this.onPlay.dispatch(this)):this.pendingPlayback=!0,this},restart:function(t,e,i,o){this.play(t=t||"",e=e||0,i=i||1,o=void 0===o?!1:o,!0)},pause:function(){this.isPlaying&&this._sound&&(this.paused=!0,this.pausedPosition=this.currentTime,this.pausedTime=this.game.time.time,this._tempPause=this._sound.currentTime,this.onPause.dispatch(this),this.stop())},resume:function(){var t,e;this.paused&&this._sound&&(this.usingWebAudio?(t=Math.max(0,this.position+this.pausedPosition/1e3),this._sound=this.context.createBufferSource(),this._sound.buffer=this._buffer,this.externalNode?this._sound.connect(this.externalNode):this._sound.connect(this.gainNode),this.loop&&(this._sound.loop=!0),this.loop||""!==this.currentMarker||(this._sound.onended=this.onEndedHandler.bind(this)),e=this.duration-this.pausedPosition/1e3,void 0===this._sound.start?this._sound.noteGrainOn(0,t,e):this.loop&&this.game.device.chrome?42===this.game.device.chromeVersion?this._sound.start(0):this._sound.start(0,t):this._sound.start(0,t,e)):(this._sound.currentTime=this._tempPause,this._sound.play()),this.isPlaying=!0,this.paused=!1,this.startTime+=this.game.time.time-this.pausedTime,this.onResume.dispatch(this))},stop:function(){if(this.isPlaying&&this._sound)if(this.usingWebAudio){if(void 0===this._sound.stop)this._sound.noteOff(0);else try{this._sound.stop(0)}catch(t){}this.externalNode?this._sound.disconnect(this.externalNode):this.gainNode&&this._sound.disconnect(this.gainNode)}else this.usingAudioTag&&(this._sound.pause(),this._sound.currentTime=0);var t;this.pendingPlayback=!1,this.isPlaying=!1,this.paused||(t=this.currentMarker,""!==this.currentMarker&&this.onMarkerComplete.dispatch(this.currentMarker,this),this.currentMarker="",null!==this.fadeTween&&this.fadeTween.stop(),this.onStop.dispatch(this,t))},fadeIn:function(t,e,i){void 0===e&&(e=!1),void 0===i&&(i=this.currentMarker),this.paused||(this.play(i,0,0,e),this.fadeTo(t,1))},fadeOut:function(t){this.fadeTo(t,0)},fadeTo:function(t,e){this.isPlaying&&!this.paused&&e!==this.volume&&(void 0===t&&(t=1e3),void 0!==e&&(this.fadeTween=this.game.add.tween(this).to({volume:e},t,G.Easing.Linear.None,!0),this.fadeTween.onComplete.add(this.fadeComplete,this)))},fadeComplete:function(){this.onFadeComplete.dispatch(this,this.volume),0===this.volume&&this.stop()},updateGlobalVolume:function(t){this.usingAudioTag&&this._sound&&(this._sound.volume=t*this._volume)},destroy:function(t){void 0===t&&(t=!0),this.stop(),t?this.game.sound.remove(this):(this.markers={},this.context=null,this._buffer=null,this.externalNode=null,this.onDecoded.dispose(),this.onPlay.dispose(),this.onPause.dispose(),this.onResume.dispose(),this.onLoop.dispose(),this.onStop.dispose(),this.onMute.dispose(),this.onMarkerComplete.dispose())}},G.Sound.prototype.constructor=G.Sound,Object.defineProperty(G.Sound.prototype,"isDecoding",{get:function(){return this.game.cache.getSound(this.key).isDecoding}}),Object.defineProperty(G.Sound.prototype,"isDecoded",{get:function(){return this.game.cache.isSoundDecoded(this.key)}}),Object.defineProperty(G.Sound.prototype,"mute",{get:function(){return this._muted||this.game.sound.mute},set:function(t){(t=t||!1)!==this._muted&&(t?(this._muted=!0,this._muteVolume=this._tempVolume,this.game.device.wechatMinigame?this._sound.pause():this.usingWebAudio?this.gainNode.gain.value=0:this.usingAudioTag&&this._sound&&(this._sound.volume=0)):(this._muted=!1,this.game.device.wechatMinigame&&this.isPlaying?this._sound.play():this.usingWebAudio?this.gainNode.gain.value=this._muteVolume:this.usingAudioTag&&this._sound&&(this._sound.volume=this._muteVolume)),this.onMute.dispatch(this))}}),Object.defineProperty(G.Sound.prototype,"volume",{get:function(){return this._volume},set:function(t){this.game.device.firefox&&this.usingAudioTag&&(t=this.game.math.clamp(t,0,1)),this._muted?this._muteVolume=t:(this._tempVolume=t,this._volume=t,this.usingWebAudio?this.gainNode.gain.value=t:this.usingAudioTag&&this._sound&&(this._sound.volume=t))}}),G.SoundManager=function(t){this.game=t,this.onSoundDecode=new G.Signal,this.onVolumeChange=new G.Signal,this.onMute=new G.Signal,this.onUnMute=new G.Signal,this.context=null,this.usingWebAudio=!1,this.usingAudioTag=!1,this.noAudio=!1,this.connectToMaster=!0,this.touchLocked=!1,this.channels=32,this.muteOnPause=!0,this._codeMuted=!1,this._muted=!1,this._unlockSource=null,this._volume=1,this._sounds=[],this._watchList=new G.ArraySet,this._watching=!1,this._watchCallback=null,this._watchContext=null},G.SoundManager.prototype={boot:function(){if(this.game.device.iOS&&!1===this.game.device.webAudio&&(this.channels=1),window.PhaserGlobal){if(!0===window.PhaserGlobal.disableAudio)return this.noAudio=!0,void(this.touchLocked=!1);if(!0===window.PhaserGlobal.disableWebAudio)return this.usingAudioTag=!0,void(this.touchLocked=!1)}if(window.PhaserGlobal&&window.PhaserGlobal.audioContext)this.context=window.PhaserGlobal.audioContext;else if(window.AudioContext)try{this.context=new window.AudioContext}catch(t){this.context=null,this.usingWebAudio=!1,this.touchLocked=!1}else if(window.webkitAudioContext)try{this.context=new window.webkitAudioContext}catch(t){this.context=null,this.usingWebAudio=!1,this.touchLocked=!1}if(null===this.context){if(void 0===window.Audio)return void(this.noAudio=!0);this.usingAudioTag=!0}else this.usingWebAudio=!0,void 0===this.context.createGain?this.masterGain=this.context.createGainNode():this.masterGain=this.context.createGain(),this.masterGain.gain.value=1,this.masterGain.connect(this.context.destination);this.noAudio||!this.game.device.cocoonJS&&(this.game.device.chrome||this.game.device.iOS||window.PhaserGlobal&&window.PhaserGlobal.fakeiOSTouchLock)&&this.setTouchLock()},setTouchLock:function(){this.noAudio||window.PhaserGlobal&&!0===window.PhaserGlobal.disableAudio||(8<this.game.device.iOSVersion||55<=this.game.device.chromeVersion?this.game.input.touch.addTouchLockCallback(this.unlock,this,!0):this.game.input.touch.addTouchLockCallback(this.unlock,this),this.touchLocked=!0)},unlock:function(){return this.noAudio||!this.touchLocked||null!==this._unlockSource||(this.usingAudioTag?(this.touchLocked=!1,this._unlockSource=null):this.usingWebAudio&&(t=this.context.createBuffer(1,1,22050),this._unlockSource=this.context.createBufferSource(),this._unlockSource.buffer=t,this._unlockSource.connect(this.context.destination),void 0===this._unlockSource.start?this._unlockSource.noteOn(0):this._unlockSource.start(0),"suspended"===this._unlockSource.context.state&&this._unlockSource.context.resume())),!0;var t},stopAll:function(){if(!this.noAudio)for(var t=0;t<this._sounds.length;t++)this._sounds[t]&&this._sounds[t].stop()},pauseAll:function(){if(!this.noAudio)for(var t=0;t<this._sounds.length;t++)this._sounds[t]&&this._sounds[t].pause()},resumeAll:function(){if(!this.noAudio)for(var t=0;t<this._sounds.length;t++)this._sounds[t]&&this._sounds[t].resume()},decode:function(e,i){i=i||null;var t=this.game.cache.getSoundData(e);if(t&&!1===this.game.cache.isSoundDecoded(e)){this.game.cache.updateSound(e,"isDecoding",!0);var o=this;try{this.context.decodeAudioData(t,function(t){t&&(o.game.cache.decodedSound(e,t),o.onSoundDecode.dispatch(e,i))})}catch(e){}}},setDecodedCallback:function(t,e,i){"string"==typeof t&&(t=[t]),this._watchList.reset();for(var o=0;o<t.length;o++)t[o]instanceof G.Sound?this.game.cache.isSoundDecoded(t[o].key)||this._watchList.add(t[o].key):this.game.cache.isSoundDecoded(t[o])||this._watchList.add(t[o]);0===this._watchList.total?(this._watching=!1,e.call(i)):(this._watching=!0,this._watchCallback=e,this._watchContext=i)},update:function(){if(!this.noAudio){!this.touchLocked||null===this._unlockSource||this._unlockSource.playbackState!==this._unlockSource.PLAYING_STATE&&this._unlockSource.playbackState!==this._unlockSource.FINISHED_STATE||(this.touchLocked=!1,this._unlockSource=null);for(var t=0;t<this._sounds.length;t++)this._sounds[t].update();if(this._watching){for(var e=this._watchList.first;e;)this.game.cache.isSoundDecoded(e)&&this._watchList.remove(e),e=this._watchList.next;0===this._watchList.total&&(this._watching=!1,this._watchCallback.call(this._watchContext))}}},add:function(t,e,i,o){void 0===o&&(o=this.connectToMaster);t=new G.Sound(this.game,t,e=void 0===e?1:e,i=void 0===i?!1:i,o);return this._sounds.push(t),t},addSprite:function(t){return new G.AudioSprite(this.game,t)},remove:function(t){for(var e=this._sounds.length;e--;)if(this._sounds[e]===t)return this._sounds[e].destroy(!1),this._sounds.splice(e,1),!0;return!1},removeByKey:function(t){for(var e=this._sounds.length,i=0;e--;)this._sounds[e].key===t&&(this._sounds[e].destroy(!1),this._sounds.splice(e,1),i++);return i},play:function(t,e,i){if(!this.noAudio)return(t=this.add(t,e,i)).play(),t},setMute:function(){if(!this._muted){this._muted=!0,this.usingWebAudio&&(this._muteVolume=this.masterGain.gain.value,this.masterGain.gain.value=0);for(var t=0;t<this._sounds.length;t++)this._sounds[t].usingAudioTag&&(this._sounds[t].mute=!0);this.onMute.dispatch()}},unsetMute:function(){if(this._muted&&!this._codeMuted){this._muted=!1,this.usingWebAudio&&(this.masterGain.gain.value=this._muteVolume);for(var t=0;t<this._sounds.length;t++)this._sounds[t].usingAudioTag&&(this._sounds[t].mute=!1);this.onUnMute.dispatch()}},destroy:function(){this.stopAll();for(var t=0;t<this._sounds.length;t++)this._sounds[t]&&this._sounds[t].destroy();this._sounds=[],this.onSoundDecode.dispose(),this.context&&(window.PhaserGlobal?window.PhaserGlobal.audioContext=this.context:this.context.close&&this.context.close())}},G.SoundManager.prototype.constructor=G.SoundManager,Object.defineProperty(G.SoundManager.prototype,"mute",{get:function(){return this._muted},set:function(t){(t=t||!1)?this._muted||(this._codeMuted=!0,this.setMute()):this._muted&&(this._codeMuted=!1,this.unsetMute())}}),Object.defineProperty(G.SoundManager.prototype,"volume",{get:function(){return this._volume},set:function(t){if(t<0?t=0:1<t&&(t=1),this._volume!==t){if(this._volume=t,this.usingWebAudio)this.masterGain.gain.value=t;else for(var e=0;e<this._sounds.length;e++)this._sounds[e].usingAudioTag&&this._sounds[e].updateGlobalVolume(t);this.onVolumeChange.dispatch(t)}}}),G.ScaleManager=function(t,e,i){this.game=t,this.dom=G.DOM,this.grid=null,this.width=0,this.height=0,this.minWidth=null,this.maxWidth=null,this.minHeight=null,this.maxHeight=null,this.offset=new G.Point,this.forceLandscape=!1,this.forcePortrait=!1,this.incorrectOrientation=!1,this._pageAlignHorizontally=!1,this._pageAlignVertically=!1,this.onOrientationChange=new G.Signal,this.enterIncorrectOrientation=new G.Signal,this.leaveIncorrectOrientation=new G.Signal,this.hasPhaserSetFullScreen=!1,this.fullScreenTarget=null,this._createdFullScreenTarget=null,this.onFullScreenInit=new G.Signal,this.onFullScreenChange=new G.Signal,this.onFullScreenError=new G.Signal,this.screenOrientation=this.dom.getScreenOrientation(),this.scaleFactor=new G.Point(1,1),this.scaleFactorInversed=new G.Point(1,1),this.margin={left:0,top:0,right:0,bottom:0,x:0,y:0},this.bounds=new G.Rectangle,this.aspectRatio=0,this.sourceAspectRatio=0,this.event=null,this.windowConstraints={right:"layout",bottom:""},this.compatibility={supportsFullScreen:!1,orientationFallback:null,noMargins:!1,scrollTo:null,forceMinimumDocumentHeight:!1,canExpandParent:!0,clickTrampoline:""},this._scaleMode=G.ScaleManager.NO_SCALE,this._fullScreenScaleMode=G.ScaleManager.NO_SCALE,this.parentIsWindow=!1,this.parentNode=null,this.parentScaleFactor=new G.Point(1,1),this.trackParentInterval=2e3,this.onSizeChange=new G.Signal,this.onResize=null,this.onResizeContext=null,this._pendingScaleMode=null,this._fullScreenRestore=null,this._gameSize=new G.Rectangle,this._userScaleFactor=new G.Point(1,1),this._userScaleTrim=new G.Point(0,0),this._lastUpdate=0,this._updateThrottle=0,this._updateThrottleReset=100,this._parentBounds=new G.Rectangle,this._tempBounds=new G.Rectangle,this._lastReportedCanvasSize=new G.Rectangle,this._lastReportedGameSize=new G.Rectangle,this._booted=!1,t.config&&this.parseConfig(t.config),this.setupScale(e,i)},G.ScaleManager.EXACT_FIT=0,G.ScaleManager.NO_SCALE=1,G.ScaleManager.SHOW_ALL=2,G.ScaleManager.RESIZE=3,G.ScaleManager.USER_SCALE=4,G.ScaleManager.prototype={boot:function(){var t=this.compatibility,e=(t.supportsFullScreen=this.game.device.fullscreen&&!this.game.device.cocoonJS,this.game.device.iPad||this.game.device.webApp||this.game.device.desktop||(this.game.device.android&&!this.game.device.chrome?t.scrollTo=new G.Point(0,1):t.scrollTo=new G.Point(0,0)),this.game.device.desktop?(t.orientationFallback="screen",t.clickTrampoline="when-not-mouse"):(t.orientationFallback="",t.clickTrampoline=""),this);this._orientationChange=function(t){return e.orientationChange(t)},this._windowResize=function(t){return e.windowResize(t)},window.addEventListener("orientationchange",this._orientationChange,!1),window.addEventListener("resize",this._windowResize,!1),this.compatibility.supportsFullScreen&&(this._fullScreenChange=function(t){return e.fullScreenChange(t)},this._fullScreenError=function(t){return e.fullScreenError(t)},document.addEventListener("webkitfullscreenchange",this._fullScreenChange,!1),document.addEventListener("mozfullscreenchange",this._fullScreenChange,!1),document.addEventListener("MSFullscreenChange",this._fullScreenChange,!1),document.addEventListener("fullscreenchange",this._fullScreenChange,!1),document.addEventListener("webkitfullscreenerror",this._fullScreenError,!1),document.addEventListener("mozfullscreenerror",this._fullScreenError,!1),document.addEventListener("MSFullscreenError",this._fullScreenError,!1),document.addEventListener("fullscreenerror",this._fullScreenError,!1)),this.game.onResume.add(this._gameResumed,this),this.dom.getOffset(this.game.canvas,this.offset),this.bounds.setTo(this.offset.x,this.offset.y,this.width,this.height),this.setGameSize(this.game.width,this.game.height),this.screenOrientation=this.dom.getScreenOrientation(this.compatibility.orientationFallback),G.FlexGrid&&(this.grid=new G.FlexGrid(this,this.width,this.height)),this._booted=!0,null!==this._pendingScaleMode&&(this.scaleMode=this._pendingScaleMode,this._pendingScaleMode=null)},parseConfig:function(t){void 0!==t.scaleMode&&(this._booted?this.scaleMode=t.scaleMode:this._pendingScaleMode=t.scaleMode),void 0!==t.fullScreenScaleMode&&(this.fullScreenScaleMode=t.fullScreenScaleMode),t.fullScreenTarget&&(this.fullScreenTarget=t.fullScreenTarget)},setupScale:function(t,e){var i=new G.Rectangle,o=(""!==this.game.parent&&("string"==typeof this.game.parent?o=document.getElementById(this.game.parent):this.game.parent&&1===this.game.parent.nodeType&&(o=this.game.parent)),o?(this.parentNode=o,this.parentIsWindow=!1,this.getParentBounds(this._parentBounds),i.width=this._parentBounds.width,i.height=this._parentBounds.height,this.offset.set(this._parentBounds.x,this._parentBounds.y)):(this.parentNode=null,this.parentIsWindow=!0,i.width=this.dom.visualBounds.width,i.height=this.dom.visualBounds.height,this.offset.set(0,0)),0),n=0,o="number"==typeof t?t:(this.parentScaleFactor.x=parseInt(t,10)/100,i.width*this.parentScaleFactor.x),n="number"==typeof e?e:(this.parentScaleFactor.y=parseInt(e,10)/100,i.height*this.parentScaleFactor.y);o=Math.floor(o),n=Math.floor(n),this._gameSize.setTo(0,0,o,n),this.updateDimensions(o,n,!1)},_gameResumed:function(){this.queueUpdate(!0)},setGameSize:function(t,e){this._gameSize.setTo(0,0,t,e),this.currentScaleMode!==G.ScaleManager.RESIZE&&this.updateDimensions(t,e,!0),this.queueUpdate(!0)},setUserScale:function(t,e,i,o){this._userScaleFactor.setTo(t,e),this._userScaleTrim.setTo(0|i,0|o),this.queueUpdate(!0)},setResizeCallback:function(t,e){this.onResize=t,this.onResizeContext=e},signalSizeChange:function(){var t,e;G.Rectangle.sameDimensions(this,this._lastReportedCanvasSize)&&G.Rectangle.sameDimensions(this.game,this._lastReportedGameSize)||(t=this.width,e=this.height,this._lastReportedCanvasSize.setTo(0,0,t,e),this._lastReportedGameSize.setTo(0,0,this.game.width,this.game.height),this.grid&&this.grid.onResize(t,e),this.onSizeChange.dispatch(this,t,e),this.currentScaleMode===G.ScaleManager.RESIZE&&(this.game.state.resize(t,e),this.game.load.resize(t,e)))},setMinMax:function(t,e,i,o){this.minWidth=t,this.minHeight=e,void 0!==i&&(this.maxWidth=i),void 0!==o&&(this.maxHeight=o)},preUpdate:function(){var t,e,i,o;this.game.time.time<this._lastUpdate+this._updateThrottle||(t=this._updateThrottle,this._updateThrottleReset=400<=t?0:100,this.dom.getOffset(this.game.canvas,this.offset),o=this._parentBounds.width,i=this._parentBounds.height,o=(e=this.getParentBounds(this._parentBounds)).width!==o||e.height!==i,i=this.updateOrientationState(),(o||i)&&(this.onResize&&this.onResize.call(this.onResizeContext,this,e),this.updateLayout(),this.signalSizeChange()),o=2*this._updateThrottle,this._updateThrottle<t&&(o=Math.min(t,this._updateThrottleReset)),this._updateThrottle=G.Math.clamp(o,25,this.trackParentInterval),this._lastUpdate=this.game.time.time)},pauseUpdate:function(){this.preUpdate(),this._updateThrottle=this.trackParentInterval},updateDimensions:function(t,e,i){this.width=t*this.parentScaleFactor.x,this.height=e*this.parentScaleFactor.y,this.game.width=this.width,this.game.height=this.height,this.sourceAspectRatio=this.width/this.height,this.updateScalingAndBounds(),i&&(this.game.renderer.resize(this.width,this.height),this.game.camera.setSize(this.width,this.height),this.game.world.resize(this.width,this.height))},updateScalingAndBounds:function(){this.scaleFactor.x=this.game.width/this.width,this.scaleFactor.y=this.game.height/this.height,this.scaleFactorInversed.x=this.width/this.game.width,this.scaleFactorInversed.y=this.height/this.game.height,this.aspectRatio=this.width/this.height,this.game.canvas&&this.dom.getOffset(this.game.canvas,this.offset),this.bounds.setTo(this.offset.x,this.offset.y,this.width,this.height),this.game.input&&this.game.input.scale&&this.game.input.scale.setTo(this.scaleFactor.x,this.scaleFactor.y)},forceOrientation:function(t,e){void 0===e&&(e=!1),this.forceLandscape=t,this.forcePortrait=e,this.queueUpdate(!0)},classifyOrientation:function(t){return"portrait-primary"===t||"portrait-secondary"===t?"portrait":"landscape-primary"===t||"landscape-secondary"===t?"landscape":null},updateOrientationState:function(){var t=this.screenOrientation,e=this.incorrectOrientation,i=(this.screenOrientation=this.dom.getScreenOrientation(this.compatibility.orientationFallback),this.incorrectOrientation=this.forceLandscape&&!this.isLandscape||this.forcePortrait&&!this.isPortrait,t!==this.screenOrientation),o=e!==this.incorrectOrientation;return o&&(this.incorrectOrientation?this.enterIncorrectOrientation:this.leaveIncorrectOrientation).dispatch(),(i||o)&&this.onOrientationChange.dispatch(this,t,e),i||o},orientationChange:function(t){this.event=t,this.queueUpdate(!0)},windowResize:function(t){this.event=t,this.queueUpdate(!0)},scrollTop:function(){var t=this.compatibility.scrollTo;t&&window.scrollTo(t.x,t.y)},refresh:function(){this.scrollTop(),this.queueUpdate(!0)},updateLayout:function(){var t=this.currentScaleMode;t===G.ScaleManager.RESIZE?this.reflowGame():(this.scrollTop(),this.compatibility.forceMinimumDocumentHeight&&(document.documentElement.style.minHeight=window.innerHeight+"px"),this.incorrectOrientation?this.setMaximum():t===G.ScaleManager.EXACT_FIT?this.setExactFit():t===G.ScaleManager.SHOW_ALL?(this.setShowAll(!0),this.resetCanvas(),this.setShowAll()):t===G.ScaleManager.NO_SCALE?(this.width=this.game.width,this.height=this.game.height):t===G.ScaleManager.USER_SCALE&&(this.width=this.game.width*this._userScaleFactor.x-this._userScaleTrim.x,this.height=this.game.height*this._userScaleFactor.y-this._userScaleTrim.y),this.compatibility.canExpandParent||t!==G.ScaleManager.SHOW_ALL&&t!==G.ScaleManager.USER_SCALE||(t=this.getParentBounds(this._tempBounds),this.width=Math.min(this.width,t.width),this.height=Math.min(this.height,t.height)),this.width=0|this.width,this.height=0|this.height,this.reflowCanvas())},getParentBounds:function(t){var e,i,t=t||new G.Rectangle,o=this.boundingParent,n=this.dom.visualBounds,s=this.dom.layoutBounds;return o?(e=o.getBoundingClientRect(),o=(o.offsetParent||o).getBoundingClientRect(),t.setTo(e.left-o.left,e.top-o.top,e.width,e.height),(o=this.windowConstraints).right&&(i="layout"===o.right?s:n,t.right=Math.min(t.right,i.width)),o.bottom&&(i="layout"===o.bottom?s:n,t.bottom=Math.min(t.bottom,i.height))):t.setTo(0,0,n.width,n.height),t.setTo(Math.round(t.x),Math.round(t.y),Math.round(t.width),Math.round(t.height)),t},alignCanvas:function(t,e){var i,o,n,s,r=this.getParentBounds(this._tempBounds),c=this.game.canvas,a=this.margin;t&&(a.left=a.right=0,i=c.getBoundingClientRect(),this.width<r.width&&!this.incorrectOrientation&&(o=i.left-r.x,n=r.width/2-this.width/2,s=(n=Math.max(n,0))-o,a.left=Math.round(s)),c.style.marginLeft=a.left+"px",0!==a.left&&(a.right=-(r.width-i.width-a.left),c.style.marginRight=a.right+"px")),e&&(a.top=a.bottom=0,i=c.getBoundingClientRect(),this.height<r.height&&!this.incorrectOrientation&&(o=i.top-r.y,n=r.height/2-this.height/2,s=(n=Math.max(n,0))-o,a.top=Math.round(s)),c.style.marginTop=a.top+"px",0!==a.top&&(a.bottom=-(r.height-i.height-a.top),c.style.marginBottom=a.bottom+"px")),a.x=a.left,a.y=a.top},reflowGame:function(){this.resetCanvas("","");var t=this.getParentBounds(this._tempBounds);this.updateDimensions(t.width,t.height,!0)},reflowCanvas:function(){this.incorrectOrientation||(this.width=G.Math.clamp(this.width,this.minWidth||0,this.maxWidth||this.width),this.height=G.Math.clamp(this.height,this.minHeight||0,this.maxHeight||this.height)),this.resetCanvas(),this.compatibility.noMargins||(this.isFullScreen&&this._createdFullScreenTarget?this.alignCanvas(!0,!0):this.alignCanvas(this.pageAlignHorizontally,this.pageAlignVertically)),this.updateScalingAndBounds()},resetCanvas:function(t,e){void 0===t&&(t=this.width+"px"),void 0===e&&(e=this.height+"px");var i=this.game.canvas;this.compatibility.noMargins||(i.style.marginLeft="",i.style.marginTop="",i.style.marginRight="",i.style.marginBottom=""),i.style.width=t,i.style.height=e},queueUpdate:function(t){t&&(this._parentBounds.width=0,this._parentBounds.height=0),this._updateThrottle=this._updateThrottleReset},reset:function(t){t&&this.grid&&this.grid.reset()},setMaximum:function(){this.width=this.dom.visualBounds.width,this.height=this.dom.visualBounds.height},setShowAll:function(t){var e=this.getParentBounds(this._tempBounds),i=e.width,e=e.height,t=t?Math.max(e/this.game.height,i/this.game.width):Math.min(e/this.game.height,i/this.game.width);this.width=Math.round(this.game.width*t),this.height=Math.round(this.game.height*t)},setExactFit:function(){var t=this.getParentBounds(this._tempBounds);this.width=t.width,this.height=t.height,this.isFullScreen||(this.maxWidth&&(this.width=Math.min(this.width,this.maxWidth)),this.maxHeight&&(this.height=Math.min(this.height,this.maxHeight)))},createFullScreenTarget:function(){var t=document.createElement("div");return t.style.margin="0",t.style.padding="0",t.style.background="#000",t},startFullScreen:function(t,e){if(this.isFullScreen)return!1;var i;if(!this.compatibility.supportsFullScreen)return i=this,void setTimeout(function(){i.fullScreenError()},10);if("when-not-mouse"===this.compatibility.clickTrampoline){var o=this.game.input;if(o.activePointer&&o.activePointer!==o.mousePointer&&(e||!1!==e))return void o.activePointer.addClickTrampoline("startFullScreen",this.startFullScreen,this,[t,!1])}void 0!==t&&this.game.renderType===G.CANVAS&&(this.game.stage.smoothed=t);e=this.fullScreenTarget,e||(this.cleanupCreatedTarget(),this._createdFullScreenTarget=this.createFullScreenTarget(),e=this._createdFullScreenTarget),o={targetElement:e};return this.hasPhaserSetFullScreen=!0,this.onFullScreenInit.dispatch(this,o),this._createdFullScreenTarget&&((t=this.game.canvas).parentNode.insertBefore(e,t),e.appendChild(t)),this.game.device.fullscreenKeyboard?e[this.game.device.requestFullscreen](Element.ALLOW_KEYBOARD_INPUT):e[this.game.device.requestFullscreen](),!0},stopFullScreen:function(){return!(!this.isFullScreen||!this.compatibility.supportsFullScreen||(this.hasPhaserSetFullScreen=!1,document[this.game.device.cancelFullscreen](),0))},cleanupCreatedTarget:function(){var t,e=this._createdFullScreenTarget;e&&e.parentNode&&((t=e.parentNode).insertBefore(this.game.canvas,e),t.removeChild(e)),this._createdFullScreenTarget=null},prepScreenMode:function(t){var e=!!this._createdFullScreenTarget,i=this._createdFullScreenTarget||this.fullScreenTarget;t?!e&&this.fullScreenScaleMode!==G.ScaleManager.EXACT_FIT||i===this.game.canvas||(this._fullScreenRestore={targetWidth:i.style.width,targetHeight:i.style.height},i.style.width="100%",i.style.height="100%"):(this._fullScreenRestore&&(i.style.width=this._fullScreenRestore.targetWidth,i.style.height=this._fullScreenRestore.targetHeight,this._fullScreenRestore=null),this.updateDimensions(this._gameSize.width,this._gameSize.height,!0),this.resetCanvas())},fullScreenChange:function(t){this.event=t,this.isFullScreen?this.prepScreenMode(!0):(this.prepScreenMode(!1),this.cleanupCreatedTarget()),this.updateLayout(),this.queueUpdate(!0),this.onFullScreenChange.dispatch(this,this.width,this.height)},fullScreenError:function(t){this.event=t,this.cleanupCreatedTarget(),this.onFullScreenError.dispatch(this)},scaleSprite:function(t,e,i,o){if(void 0===e&&(e=this.width),void 0===i&&(i=this.height),void 0===o&&(o=!1),!t||!t.scale)return t;if(t.scale.x=1,t.scale.y=1,t.width<=0||t.height<=0||e<=0||i<=0)return t;var n=e,s=t.height*e/t.width,r=t.width*i/t.height;return(e<r?o:!o)?(t.width=Math.floor(n),t.height=Math.floor(s)):(t.width=Math.floor(r),t.height=Math.floor(i)),t},destroy:function(){this.game.onResume.remove(this._gameResumed,this),window.removeEventListener("orientationchange",this._orientationChange,!1),window.removeEventListener("resize",this._windowResize,!1),this.compatibility.supportsFullScreen&&(document.removeEventListener("webkitfullscreenchange",this._fullScreenChange,!1),document.removeEventListener("mozfullscreenchange",this._fullScreenChange,!1),document.removeEventListener("MSFullscreenChange",this._fullScreenChange,!1),document.removeEventListener("fullscreenchange",this._fullScreenChange,!1),document.removeEventListener("webkitfullscreenerror",this._fullScreenError,!1),document.removeEventListener("mozfullscreenerror",this._fullScreenError,!1),document.removeEventListener("MSFullscreenError",this._fullScreenError,!1),document.removeEventListener("fullscreenerror",this._fullScreenError,!1))}},G.ScaleManager.prototype.constructor=G.ScaleManager,Object.defineProperty(G.ScaleManager.prototype,"boundingParent",{get:function(){return!(this.parentIsWindow||this.isFullScreen&&this.hasPhaserSetFullScreen&&!this._createdFullScreenTarget)&&this.game.canvas&&this.game.canvas.parentNode||null}}),Object.defineProperty(G.ScaleManager.prototype,"scaleMode",{get:function(){return this._scaleMode},set:function(t){return t!==this._scaleMode&&(this.isFullScreen||(this.updateDimensions(this._gameSize.width,this._gameSize.height,!0),this.queueUpdate(!0)),this._scaleMode=t),this._scaleMode}}),Object.defineProperty(G.ScaleManager.prototype,"fullScreenScaleMode",{get:function(){return this._fullScreenScaleMode},set:function(t){return t!==this._fullScreenScaleMode&&(this.isFullScreen?(this.prepScreenMode(!1),this._fullScreenScaleMode=t,this.prepScreenMode(!0),this.queueUpdate(!0)):this._fullScreenScaleMode=t),this._fullScreenScaleMode}}),Object.defineProperty(G.ScaleManager.prototype,"currentScaleMode",{get:function(){return this.isFullScreen?this._fullScreenScaleMode:this._scaleMode}}),Object.defineProperty(G.ScaleManager.prototype,"pageAlignHorizontally",{get:function(){return this._pageAlignHorizontally},set:function(t){t!==this._pageAlignHorizontally&&(this._pageAlignHorizontally=t,this.queueUpdate(!0))}}),Object.defineProperty(G.ScaleManager.prototype,"pageAlignVertically",{get:function(){return this._pageAlignVertically},set:function(t){t!==this._pageAlignVertically&&(this._pageAlignVertically=t,this.queueUpdate(!0))}}),Object.defineProperty(G.ScaleManager.prototype,"isFullScreen",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}}),Object.defineProperty(G.ScaleManager.prototype,"isPortrait",{get:function(){return"portrait"===this.classifyOrientation(this.screenOrientation)}}),Object.defineProperty(G.ScaleManager.prototype,"isLandscape",{get:function(){return"landscape"===this.classifyOrientation(this.screenOrientation)}}),Object.defineProperty(G.ScaleManager.prototype,"isGamePortrait",{get:function(){return this.height>this.width}}),Object.defineProperty(G.ScaleManager.prototype,"isGameLandscape",{get:function(){return this.width>this.height}}),G.Utils.Debug=function(t){this.game=t,this.sprite=null,this.bmd=null,this.canvas=null,this.context=null,this.font="14px Courier",this.columnWidth=100,this.lineHeight=16,this.renderShadow=!0,this.currentX=0,this.currentY=0,this.currentAlpha=1,this.dirty=!1},G.Utils.Debug.prototype={boot:function(){this.game.renderType===G.CANVAS?this.context=this.game.context:(this.bmd=new G.BitmapData(this.game,"__DEBUG",this.game.width,this.game.height,!0),this.sprite=this.game.make.image(0,0,this.bmd),this.game.stage.addChild(this.sprite),this.game.scale.onSizeChange.add(this.resize,this),this.canvas=PIXI.CanvasPool.create(this,this.game.width,this.game.height),this.context=this.canvas.getContext("2d"))},resize:function(t,e,i){this.bmd.resize(e,i),this.canvas.width=e,this.canvas.height=i},preUpdate:function(){this.dirty&&this.sprite&&(this.bmd.clear(),this.bmd.draw(this.canvas,0,0),this.context.clearRect(0,0,this.game.width,this.game.height),this.dirty=!1)},reset:function(){this.context&&this.context.clearRect(0,0,this.game.width,this.game.height),this.sprite&&this.bmd.clear()},start:function(t,e,i,o){"number"!=typeof e&&(e=0),i=i||"rgb(255,255,255)",void 0===o&&(o=0),this.currentX=t="number"!=typeof t?0:t,this.currentY=e,this.currentColor=i,this.columnWidth=o,this.dirty=!0,this.context.save(),this.context.setTransform(1,0,0,1,0,0),this.context.strokeStyle=i,this.context.fillStyle=i,this.context.font=this.font,this.context.globalAlpha=this.currentAlpha},stop:function(){this.context.restore()},line:function(){for(var t=this.currentX,e=0;e<arguments.length;e++)this.renderShadow&&(this.context.fillStyle="rgb(0,0,0)",this.context.fillText(arguments[e],t+1,this.currentY+1),this.context.fillStyle=this.currentColor),this.context.fillText(arguments[e],t,this.currentY),t+=this.columnWidth;this.currentY+=this.lineHeight},soundInfo:function(t,e,i,o){this.start(e,i,o),this.line("Sound: "+t.key+" Locked: "+t.game.sound.touchLocked),this.line("Is Ready?: "+this.game.cache.isSoundReady(t.key)+" Pending Playback: "+t.pendingPlayback),this.line("Decoded: "+t.isDecoded+" Decoding: "+t.isDecoding),this.line("Total Duration: "+t.totalDuration+" Playing: "+t.isPlaying),this.line("Time: "+t.currentTime),this.line("Volume: "+t.volume+" Muted: "+t.mute),this.line("WebAudio: "+t.usingWebAudio+" Audio: "+t.usingAudioTag),""!==t.currentMarker&&(this.line("Marker: "+t.currentMarker+" Duration: "+t.duration+" (ms: "+t.durationMS+")"),this.line("Start: "+t.markers[t.currentMarker].start+" Stop: "+t.markers[t.currentMarker].stop),this.line("Position: "+t.position)),this.stop()},cameraInfo:function(t,e,i,o){this.start(e,i,o),this.line("Camera ("+t.width+" x "+t.height+")"),this.line("X: "+t.x+" Y: "+t.y),t.bounds&&this.line("Bounds x: "+t.bounds.x+" Y: "+t.bounds.y+" w: "+t.bounds.width+" h: "+t.bounds.height),this.line("View x: "+t.view.x+" Y: "+t.view.y+" w: "+t.view.width+" h: "+t.view.height),this.line("Total in view: "+t.totalInView),this.stop()},timer:function(t,e,i,o){this.start(e,i,o),this.line("Timer (running: "+t.running+" expired: "+t.expired+")"),this.line("Next Tick: "+t.next+" Duration: "+t.duration),this.line("Paused: "+t.paused+" Length: "+t.length),this.stop()},pointer:function(t,e,i,o,n){null!=t&&(i=i||"rgba(0,255,0,0.5)",o=o||"rgba(255,0,0,0.5)",!0===(e=void 0===e?!1:e)&&!0===t.isUp||(this.start(t.x,t.y-100,n),this.context.beginPath(),this.context.arc(t.x,t.y,t.circle.radius,0,2*Math.PI),t.active?this.context.fillStyle=i:this.context.fillStyle=o,this.context.fill(),this.context.closePath(),this.context.beginPath(),this.context.moveTo(t.positionDown.x,t.positionDown.y),this.context.lineTo(t.position.x,t.position.y),this.context.lineWidth=2,this.context.stroke(),this.context.closePath(),this.line("ID: "+t.id+" Active: "+t.active),this.line("World X: "+t.worldX+" World Y: "+t.worldY),this.line("Screen X: "+t.x+" Screen Y: "+t.y+" In: "+t.withinGame),this.line("Duration: "+t.duration+" ms"),this.line("is Down: "+t.isDown+" is Up: "+t.isUp),this.stop()))},spriteInputInfo:function(t,e,i,o){this.start(e,i,o),this.line("Sprite Input: ("+t.width+" x "+t.height+")"),this.line("x: "+t.input.pointerX().toFixed(1)+" y: "+t.input.pointerY().toFixed(1)),this.line("over: "+t.input.pointerOver()+" duration: "+t.input.overDuration().toFixed(0)),this.line("down: "+t.input.pointerDown()+" duration: "+t.input.downDuration().toFixed(0)),this.line("just over: "+t.input.justOver()+" just out: "+t.input.justOut()),this.stop()},key:function(t,e,i,o){this.start(e,i,o,150),this.line("Key:",t.keyCode,"isDown:",t.isDown),this.line("justDown:",t.justDown,"justUp:",t.justUp),this.line("Time Down:",t.timeDown.toFixed(0),"duration:",t.duration.toFixed(0)),this.stop()},inputInfo:function(t,e,i){this.start(t,e,i),this.line("Input"),this.line("X: "+this.game.input.x+" Y: "+this.game.input.y),this.line("World X: "+this.game.input.worldX+" World Y: "+this.game.input.worldY),this.line("Scale X: "+this.game.input.scale.x.toFixed(1)+" Scale Y: "+this.game.input.scale.x.toFixed(1)),this.line("Screen X: "+this.game.input.activePointer.screenX+" Screen Y: "+this.game.input.activePointer.screenY),this.stop()},spriteBounds:function(t,e,i){t=t.getBounds();t.x+=this.game.camera.x,t.y+=this.game.camera.y,this.rectangle(t,e,i)},ropeSegments:function(t,e,i){var o=this;t.segments.forEach(function(t){o.rectangle(t,e,i)},this)},spriteInfo:function(t,e,i,o){this.start(e,i,o),this.line("Sprite:  ("+t.width+" x "+t.height+") anchor: "+t.anchor.x+" x "+t.anchor.y),this.line("x: "+t.x.toFixed(1)+" y: "+t.y.toFixed(1)),this.line("angle: "+t.angle.toFixed(1)+" rotation: "+t.rotation.toFixed(1)),this.line("visible: "+t.visible+" in camera: "+t.inCamera),this.line("bounds x: "+t._bounds.x.toFixed(1)+" y: "+t._bounds.y.toFixed(1)+" w: "+t._bounds.width.toFixed(1)+" h: "+t._bounds.height.toFixed(1)),this.stop()},spriteCoords:function(t,e,i,o){this.start(e,i,o,100),t.name&&this.line(t.name),this.line("x:",t.x.toFixed(2),"y:",t.y.toFixed(2)),this.line("pos x:",t.position.x.toFixed(2),"pos y:",t.position.y.toFixed(2)),this.line("world x:",t.world.x.toFixed(2),"world y:",t.world.y.toFixed(2)),this.stop()},lineInfo:function(t,e,i,o){this.start(e,i,o,80),this.line("start.x:",t.start.x.toFixed(2),"start.y:",t.start.y.toFixed(2)),this.line("end.x:",t.end.x.toFixed(2),"end.y:",t.end.y.toFixed(2)),this.line("length:",t.length.toFixed(2),"angle:",t.angle),this.stop()},pixel:function(t,e,i,o){o=o||2,this.start(),this.context.fillStyle=i,this.context.fillRect(t,e,o,o),this.stop()},geom:function(t,e,i,o){void 0===i&&(i=!0),void 0===o&&(o=0),e=e||"rgba(0,255,0,0.4)",this.start(),this.context.fillStyle=e,this.context.strokeStyle=e,t instanceof G.Rectangle||1===o?i?this.context.fillRect(t.x-this.game.camera.x,t.y-this.game.camera.y,t.width,t.height):this.context.strokeRect(t.x-this.game.camera.x,t.y-this.game.camera.y,t.width,t.height):t instanceof G.Circle||2===o?(this.context.beginPath(),this.context.arc(t.x-this.game.camera.x,t.y-this.game.camera.y,t.radius,0,2*Math.PI,!1),this.context.closePath(),i?this.context.fill():this.context.stroke()):t instanceof G.Point||3===o?this.context.fillRect(t.x-this.game.camera.x,t.y-this.game.camera.y,4,4):(t instanceof G.Line||4===o)&&(this.context.lineWidth=1,this.context.beginPath(),this.context.moveTo(t.start.x+.5-this.game.camera.x,t.start.y+.5-this.game.camera.y),this.context.lineTo(t.end.x+.5-this.game.camera.x,t.end.y+.5-this.game.camera.y),this.context.closePath(),this.context.stroke()),this.stop()},rectangle:function(t,e,i){void 0===i&&(i=!0),e=e||"rgba(0, 255, 0, 0.4)",this.start(),i?(this.context.fillStyle=e,this.context.fillRect(t.x-this.game.camera.x,t.y-this.game.camera.y,t.width,t.height)):(this.context.strokeStyle=e,this.context.strokeRect(t.x-this.game.camera.x,t.y-this.game.camera.y,t.width,t.height)),this.stop()},text:function(t,e,i,o,n){o=o||"rgb(255,255,255)",n=n||"16px Courier",this.start(),this.context.font=n,this.renderShadow&&(this.context.fillStyle="rgb(0,0,0)",this.context.fillText(t,e+1,i+1)),this.context.fillStyle=o,this.context.fillText(t,e,i),this.stop()},quadTree:function(t,e){e=e||"rgba(255,0,0,0.3)",this.start();var i=t.bounds;if(0===t.nodes.length){this.context.strokeStyle=e,this.context.strokeRect(i.x,i.y,i.width,i.height),this.text("size: "+t.objects.length,i.x+4,i.y+16,"rgb(0,200,0)","12px Courier"),this.context.strokeStyle="rgb(0,255,0)";for(var o=0;o<t.objects.length;o++)this.context.strokeRect(t.objects[o].x,t.objects[o].y,t.objects[o].width,t.objects[o].height)}else for(o=0;o<t.nodes.length;o++)this.quadTree(t.nodes[o]);this.stop()},body:function(t,e,i){t.body&&(this.start(),t.body.type===G.Physics.ARCADE?G.Physics.Arcade.Body.render(this.context,t.body,e,i):t.body.type===G.Physics.NINJA?G.Physics.Ninja.Body.render(this.context,t.body,e,i):t.body.type===G.Physics.BOX2D&&G.Physics.Box2D.renderBody(this.context,t.body,e),this.stop())},bodyInfo:function(t,e,i,o){t.body&&(this.start(e,i,o,210),t.body.type===G.Physics.ARCADE?G.Physics.Arcade.Body.renderBodyInfo(this,t.body):t.body.type===G.Physics.BOX2D&&this.game.physics.box2d.renderBodyInfo(this,t.body),this.stop())},box2dWorld:function(){this.start(),this.context.translate(-this.game.camera.view.x,-this.game.camera.view.y,0),this.game.physics.box2d.renderDebugDraw(this.context),this.stop()},box2dBody:function(t,e){this.start(),G.Physics.Box2D.renderBody(this.context,t,e),this.stop()},displayList:function(t){if((t=void 0===t?this.game.world:t).hasOwnProperty("renderOrderID"),t.children&&0<t.children.length)for(var e=0;e<t.children.length;e++)this.game.debug.displayList(t.children[e])},destroy:function(){PIXI.CanvasPool.remove(this)}},G.Utils.Debug.prototype.constructor=G.Utils.Debug,G.DOM={getOffset:function(t,e){e=e||new G.Point;var t=t.getBoundingClientRect(),i=G.DOM.scrollY,o=G.DOM.scrollX,n=document.documentElement.clientTop,s=document.documentElement.clientLeft;return e.x=t.left+o-s,e.y=t.top+i-n,e},getBounds:function(t,e){return void 0===e&&(e=0),!(!(t=t&&!t.nodeType?t[0]:t)||1!==t.nodeType)&&this.calibrate(t.getBoundingClientRect(),e)},calibrate:function(t,e){var i={width:0,height:0,left:0,right:0,top:0,bottom:0};return i.width=(i.right=t.right+(e=+e||0))-(i.left=t.left-e),i.height=(i.bottom=t.bottom+e)-(i.top=t.top-e),i},getAspectRatio:function(t){var e=(t=null==t?this.visualBounds:1===t.nodeType?this.getBounds(t):t).width,i=t.height;return(e="function"==typeof e?e.call(t):e)/(i="function"==typeof i?i.call(t):i)},inLayoutViewport:function(t,e){t=this.getBounds(t,e);return!!t&&0<=t.bottom&&0<=t.right&&t.top<=this.layoutBounds.width&&t.left<=this.layoutBounds.height},getScreenOrientation:function(t){var e=window.screen,i=e.orientation||e.mozOrientation||e.msOrientation;if(i&&"string"==typeof i.type)return i.type;if("string"==typeof i)return i;var i="portrait-primary",o="landscape-primary";if("screen"===t)return e.height>e.width?i:o;if("viewport"===t)return this.visualBounds.height>this.visualBounds.width?i:o;if("window.orientation"===t&&"number"==typeof window.orientation)return 0===window.orientation||180===window.orientation?i:o;if(window.matchMedia){if(window.matchMedia("(orientation: portrait)").matches)return i;if(window.matchMedia("(orientation: landscape)").matches)return o}return this.visualBounds.height>this.visualBounds.width?i:o},visualBounds:new G.Rectangle,layoutBounds:new G.Rectangle,documentBounds:new G.Rectangle},G.Device.whenReady(function(t){var e=window&&"pageXOffset"in window?function(){return window.pageXOffset}:function(){return document.documentElement.scrollLeft},i=window&&"pageYOffset"in window?function(){return window.pageYOffset}:function(){return document.documentElement.scrollTop};Object.defineProperty(G.DOM,"scrollX",{get:e}),Object.defineProperty(G.DOM,"scrollY",{get:i}),Object.defineProperty(G.DOM.visualBounds,"x",{get:e}),Object.defineProperty(G.DOM.visualBounds,"y",{get:i}),Object.defineProperty(G.DOM.layoutBounds,"x",{value:0}),Object.defineProperty(G.DOM.layoutBounds,"y",{value:0}),t.desktop&&document.documentElement.clientWidth<=window.innerWidth&&document.documentElement.clientHeight<=window.innerHeight?(e=function(){return Math.max(window.innerWidth,document.documentElement.clientWidth)},i=function(){return Math.max(window.innerHeight,document.documentElement.clientHeight)},Object.defineProperty(G.DOM.visualBounds,"width",{get:e}),Object.defineProperty(G.DOM.visualBounds,"height",{get:i}),Object.defineProperty(G.DOM.layoutBounds,"width",{get:e}),Object.defineProperty(G.DOM.layoutBounds,"height",{get:i})):(Object.defineProperty(G.DOM.visualBounds,"width",{get:function(){return window.innerWidth}}),Object.defineProperty(G.DOM.visualBounds,"height",{get:function(){return window.innerHeight}}),Object.defineProperty(G.DOM.layoutBounds,"width",{get:function(){var t=document.documentElement.clientWidth,e=window.innerWidth;return t<e?e:t}}),Object.defineProperty(G.DOM.layoutBounds,"height",{get:function(){var t=document.documentElement.clientHeight,e=window.innerHeight;return t<e?e:t}})),Object.defineProperty(G.DOM.documentBounds,"x",{value:0}),Object.defineProperty(G.DOM.documentBounds,"y",{value:0}),Object.defineProperty(G.DOM.documentBounds,"width",{get:function(){var t=document.documentElement;return Math.max(t.clientWidth,t.offsetWidth,t.scrollWidth)}}),Object.defineProperty(G.DOM.documentBounds,"height",{get:function(){var t=document.documentElement;return Math.max(t.clientHeight,t.offsetHeight,t.scrollHeight)}})},null,!0),G.ArraySet=function(t){this.position=0,this.list=t||[]},G.ArraySet.prototype={add:function(t){return this.exists(t)||this.list.push(t),t},getIndex:function(t){return this.list.indexOf(t)},getByKey:function(t,e){for(var i=this.list.length;i--;)if(this.list[i][t]===e)return this.list[i];return null},exists:function(t){return-1<this.list.indexOf(t)},reset:function(){this.list.length=0},remove:function(t){var e=this.list.indexOf(t);if(-1<e)return this.list.splice(e,1),t},setAll:function(t,e){for(var i=this.list.length;i--;)this.list[i]&&(this.list[i][t]=e)},callAll:function(t){for(var e=Array.prototype.slice.call(arguments,1),i=this.list.length;i--;)this.list[i]&&this.list[i][t]&&this.list[i][t].apply(this.list[i],e)},removeAll:function(t){void 0===t&&(t=!1);for(var e,i=this.list.length;i--;)this.list[i]&&(e=this.remove(this.list[i]),t&&e.destroy());this.position=0,this.list=[]}},Object.defineProperty(G.ArraySet.prototype,"total",{get:function(){return this.list.length}}),Object.defineProperty(G.ArraySet.prototype,"first",{get:function(){return(this.position=0)<this.list.length?this.list[0]:null}}),Object.defineProperty(G.ArraySet.prototype,"next",{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}}),G.ArraySet.prototype.constructor=G.ArraySet,G.ArrayUtils={getRandomItem:function(t,e,i){if(null===t)return null;void 0===i&&(i=t.length);e=(e=void 0===e?0:e)+Math.floor(Math.random()*i);return void 0===t[e]?null:t[e]},removeRandomItem:function(t,e,i){if(null==t)return null;void 0===i&&(i=t.length);e=(e=void 0===e?0:e)+Math.floor(Math.random()*i);return!(e<t.length)||void 0===(i=t.splice(e,1))[0]?null:i[0]},shuffle:function(t){for(var e=t.length-1;0<e;e--){var i=Math.floor(Math.random()*(e+1)),o=t[e];t[e]=t[i],t[i]=o}return t},transposeMatrix:function(t){for(var e=t.length,i=t[0].length,o=new Array(i),n=0;n<i;n++){o[n]=new Array(e);for(var s=e-1;-1<s;s--)o[n][s]=t[s][n]}return o},rotateMatrix:function(t,e){if(90===(e="string"!=typeof e?(e%360+360)%360:e)||-270===e||"rotateLeft"===e)t=(t=G.ArrayUtils.transposeMatrix(t)).reverse();else if(-90===e||270===e||"rotateRight"===e)t=t.reverse(),t=G.ArrayUtils.transposeMatrix(t);else if(180===Math.abs(e)||"rotate180"===e){for(var i=0;i<t.length;i++)t[i].reverse();t=t.reverse()}return t},findClosest:function(t,e){if(!e.length)return NaN;if(1===e.length||t<e[0])return e[0];for(var i=1;e[i]<t;)i++;var o=e[i-1],n=i<e.length?e[i]:Number.POSITIVE_INFINITY;return n-t<=t-o?n:o},rotateRight:function(t){var e=t.pop();return t.unshift(e),e},rotateLeft:function(t){var e=t.shift();return t.push(e),e},rotate:function(t){var e=t.shift();return t.push(e),e},numberArray:function(t,e){for(var i=[],o=t;o<=e;o++)i.push(o);return i},numberArrayStep:function(t,e,i){null==t&&(t=0),null==e&&(e=t,t=0),void 0===i&&(i=1);for(var o=[],n=Math.max(G.Math.roundAwayFromZero((e-t)/(i||1)),0),s=0;s<n;s++)o.push(t),t+=i;return o}},G.LinkedList=function(){this.next=null,this.prev=null,this.first=null,this.last=null,this.total=0},G.LinkedList.prototype={add:function(t){return 0===this.total&&null===this.first&&null===this.last?(this.first=t,this.last=t,(this.next=t).prev=this):((this.last.next=t).prev=this.last,this.last=t),this.total++,t},reset:function(){this.first=null,this.last=null,this.next=null,this.prev=null,this.total=0},remove:function(t){if(1===this.total)return this.reset(),void(t.next=t.prev=null);t===this.first?this.first=this.first.next:t===this.last&&(this.last=this.last.prev),t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),(t.next=t.prev=null)===this.first&&(this.last=null),this.total--},callAll:function(t){if(this.first&&this.last)for(var e=this.first;e&&e[t]&&e[t].call(e),(e=e.next)!==this.last.next;);}},G.LinkedList.prototype.constructor=G.LinkedList,G.Create=function(t){this.game=t,this.bmd=null,this.canvas=null,this.ctx=null,this.palettes=[{0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"},{0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"},{0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"},{0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"},{0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}]},G.Create.PALETTE_ARNE=0,G.Create.PALETTE_JMP=1,G.Create.PALETTE_CGA=2,G.Create.PALETTE_C64=3,G.Create.PALETTE_JAPANESE_MACHINE=4,G.Create.prototype={texture:function(t,e,i,o,n){void 0===i&&(i=8),void 0===o&&(o=i),void 0===n&&(n=0);var s=e[0].length*i,r=e.length*o;null===this.bmd&&(this.bmd=this.game.make.bitmapData(),this.canvas=this.bmd.canvas,this.ctx=this.bmd.context),this.bmd.resize(s,r),this.bmd.clear();for(var c=0;c<e.length;c++)for(var a=e[c],h=0;h<a.length;h++){var u=a[h];"."!==u&&" "!==u&&(this.ctx.fillStyle=this.palettes[n][u],this.ctx.fillRect(h*i,c*o,i,o))}return this.bmd.generateTexture(t)},grid:function(t,e,i,o,n,s){null===this.bmd&&(this.bmd=this.game.make.bitmapData(),this.canvas=this.bmd.canvas,this.ctx=this.bmd.context),this.bmd.resize(e,i),this.ctx.fillStyle=s;for(var r=0;r<i;r+=n)this.ctx.fillRect(0,r,e,1);for(var c=0;c<e;c+=o)this.ctx.fillRect(c,0,1,i);return this.bmd.generateTexture(t)}},G.Create.prototype.constructor=G.Create,G.FlexGrid=function(t,e,i){this.game=t.game,this.manager=t,this.width=e,this.height=i,this.boundsCustom=new G.Rectangle(0,0,e,i),this.boundsFluid=new G.Rectangle(0,0,e,i),this.boundsFull=new G.Rectangle(0,0,e,i),this.boundsNone=new G.Rectangle(0,0,e,i),this.positionCustom=new G.Point(0,0),this.positionFluid=new G.Point(0,0),this.positionFull=new G.Point(0,0),this.positionNone=new G.Point(0,0),this.scaleCustom=new G.Point(1,1),this.scaleFluid=new G.Point(1,1),this.scaleFluidInversed=new G.Point(1,1),this.scaleFull=new G.Point(1,1),this.scaleNone=new G.Point(1,1),this.customWidth=0,this.customHeight=0,this.customOffsetX=0,this.customOffsetY=0,this.ratioH=e/i,this.ratioV=i/e,this.multiplier=0,this.layers=[]},G.FlexGrid.prototype={setSize:function(t,e){this.width=t,this.height=e,this.ratioH=t/e,this.ratioV=e/t,this.scaleNone=new G.Point(1,1),this.boundsNone.width=this.width,this.boundsNone.height=this.height,this.refresh()},createCustomLayer:function(t,e,i,o){void 0===o&&(o=!0),this.customWidth=t,this.customHeight=e,this.boundsCustom.width=t,this.boundsCustom.height=e;t=new G.FlexLayer(this,this.positionCustom,this.boundsCustom,this.scaleCustom);return o&&this.game.world.add(t),this.layers.push(t),void 0!==i&&null!==typeof i&&t.addMultiple(i),t},createFluidLayer:function(t,e){void 0===e&&(e=!0);var i=new G.FlexLayer(this,this.positionFluid,this.boundsFluid,this.scaleFluid);return e&&this.game.world.add(i),this.layers.push(i),void 0!==t&&null!==typeof t&&i.addMultiple(t),i},createFullLayer:function(t){var e=new G.FlexLayer(this,this.positionFull,this.boundsFull,this.scaleFluid);return this.game.world.add(e),this.layers.push(e),void 0!==t&&e.addMultiple(t),e},createFixedLayer:function(t){var e=new G.FlexLayer(this,this.positionNone,this.boundsNone,this.scaleNone);return this.game.world.add(e),this.layers.push(e),void 0!==t&&e.addMultiple(t),e},reset:function(){for(var t=this.layers.length;t--;)this.layers[t].persist||(this.layers[t].position=null,this.layers[t].scale=null,this.layers.slice(t,1))},onResize:function(t,e){this.ratioH=t/e,this.ratioV=e/t,this.refresh(t,e)},refresh:function(){this.multiplier=Math.min(this.manager.height/this.height,this.manager.width/this.width),this.boundsFluid.width=Math.round(this.width*this.multiplier),this.boundsFluid.height=Math.round(this.height*this.multiplier),this.scaleFluid.set(this.boundsFluid.width/this.width,this.boundsFluid.height/this.height),this.scaleFluidInversed.set(this.width/this.boundsFluid.width,this.height/this.boundsFluid.height),this.scaleFull.set(this.boundsFull.width/this.width,this.boundsFull.height/this.height),this.boundsFull.width=Math.round(this.manager.width*this.scaleFluidInversed.x),this.boundsFull.height=Math.round(this.manager.height*this.scaleFluidInversed.y),this.boundsFluid.centerOn(this.manager.bounds.centerX,this.manager.bounds.centerY),this.boundsNone.centerOn(this.manager.bounds.centerX,this.manager.bounds.centerY),this.positionFluid.set(this.boundsFluid.x,this.boundsFluid.y),this.positionNone.set(this.boundsNone.x,this.boundsNone.y)},fitSprite:function(t){this.manager.scaleSprite(t),t.x=this.manager.bounds.centerX,t.y=this.manager.bounds.centerY},debug:function(){this.game.debug.text(this.boundsFluid.width+" x "+this.boundsFluid.height,this.boundsFluid.x+4,this.boundsFluid.y+16),this.game.debug.geom(this.boundsFluid,"rgba(255,0,0,0.9",!1)}},G.FlexGrid.prototype.constructor=G.FlexGrid,G.FlexLayer=function(t,e,i,o){G.Group.call(this,t.game,null,"__flexLayer"+t.game.rnd.uuid(),!1),this.manager=t.manager,this.grid=t,this.persist=!1,this.position=e,this.bounds=i,this.scale=o,this.topLeft=i.topLeft,this.topMiddle=new G.Point(i.halfWidth,0),this.topRight=i.topRight,this.bottomLeft=i.bottomLeft,this.bottomMiddle=new G.Point(i.halfWidth,i.bottom),this.bottomRight=i.bottomRight},G.FlexLayer.prototype=Object.create(G.Group.prototype),G.FlexLayer.prototype.constructor=G.FlexLayer,G.FlexLayer.prototype.resize=function(){},G.FlexLayer.prototype.debug=function(){this.game.debug.text(this.bounds.width+" x "+this.bounds.height,this.bounds.x+4,this.bounds.y+16),this.game.debug.geom(this.bounds,"rgba(0,0,255,0.9",!1),this.game.debug.geom(this.topLeft,"rgba(255,255,255,0.9"),this.game.debug.geom(this.topMiddle,"rgba(255,255,255,0.9"),this.game.debug.geom(this.topRight,"rgba(255,255,255,0.9")},G.Color={packPixel:function(t,e,i,o){return G.Device.LITTLE_ENDIAN?(o<<24|i<<16|e<<8|t)>>>0:(t<<24|e<<16|i<<8|o)>>>0},unpackPixel:function(t,e,i,o){return null==e&&(e=G.Color.createColor()),null==i&&(i=!1),null==o&&(o=!1),G.Device.LITTLE_ENDIAN?(e.a=(4278190080&t)>>>24,e.b=(16711680&t)>>>16,e.g=(65280&t)>>>8,e.r=255&t):(e.r=(4278190080&t)>>>24,e.g=(16711680&t)>>>16,e.b=(65280&t)>>>8,e.a=255&t),e.color=t,e.rgba="rgba("+e.r+","+e.g+","+e.b+","+e.a/255+")",i&&G.Color.RGBtoHSL(e.r,e.g,e.b,e),o&&G.Color.RGBtoHSV(e.r,e.g,e.b,e),e},fromRGBA:function(t,e){return(e=e||G.Color.createColor()).r=(4278190080&t)>>>24,e.g=(16711680&t)>>>16,e.b=(65280&t)>>>8,e.a=255&t,e.rgba="rgba("+e.r+","+e.g+","+e.b+","+e.a+")",e},toRGBA:function(t,e,i,o){return t<<24|e<<16|i<<8|o},toABGR:function(t,e,i,o){return(o<<24|i<<16|e<<8|t)>>>0},RGBtoHSL:function(t,e,i,o){o=o||G.Color.createColor(t,e,i,1),t/=255,e/=255,i/=255;var n,s=Math.min(t,e,i),r=Math.max(t,e,i);return o.h=0,o.s=0,o.l=(r+s)/2,r!==s&&(n=r-s,o.s=.5<o.l?n/(2-r-s):n/(r+s),r===t?o.h=(e-i)/n+(e<i?6:0):r===e?o.h=(i-t)/n+2:r===i&&(o.h=(t-e)/n+4),o.h/=6),o},HSLtoRGB:function(t,e,i,o){return o?(o.r=i,o.g=i,o.b=i):o=G.Color.createColor(i,i,i),0!==e&&(o.r=G.Color.hueToColor(e=2*i-(i=i<.5?i*(1+e):i+e-i*e),i,t+1/3),o.g=G.Color.hueToColor(e,i,t),o.b=G.Color.hueToColor(e,i,t-1/3)),o.r=Math.floor(255*o.r|0),o.g=Math.floor(255*o.g|0),o.b=Math.floor(255*o.b|0),G.Color.updateColor(o),o},RGBtoHSV:function(t,e,i,o){o=o||G.Color.createColor(t,e,i,255),t/=255,e/=255,i/=255;var n=Math.min(t,e,i),s=Math.max(t,e,i),r=s-n;return o.h=0,o.s=0===s?0:r/s,(o.v=s)!==n&&(s===t?o.h=(e-i)/r+(e<i?6:0):s===e?o.h=(i-t)/r+2:s===i&&(o.h=(t-e)/r+4),o.h/=6),o},HSVtoRGB:function(t,e,i,o){void 0===o&&(o=G.Color.createColor(0,0,0,1,t,e,0,i));var n,s,r,c=Math.floor(6*t),t=6*t-c,a=i*(1-e),h=i*(1-t*e),u=i*(1-(1-t)*e);switch(c%6){case 0:n=i,s=u,r=a;break;case 1:n=h,s=i,r=a;break;case 2:n=a,s=i,r=u;break;case 3:n=a,s=h,r=i;break;case 4:n=u,s=a,r=i;break;case 5:n=i,s=a,r=h}return o.r=Math.floor(255*n),o.g=Math.floor(255*s),o.b=Math.floor(255*r),G.Color.updateColor(o),o},hueToColor:function(t,e,i){return i<0&&(i+=1),1<i&&--i,i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t},createColor:function(t,e,i,o,n,s,r,c){return G.Color.updateColor({r:t||0,g:e||0,b:i||0,a:o||1,h:n||0,s:s||0,l:r||0,v:c||0,color:0,color32:0,rgba:""})},updateColor:function(t){return t.rgba="rgba("+t.r.toString()+","+t.g.toString()+","+t.b.toString()+","+t.a.toString()+")",t.color=G.Color.getColor(t.r,t.g,t.b),t.color32=G.Color.getColor32(255*t.a,t.r,t.g,t.b),t},getColor32:function(t,e,i,o){return t<<24|e<<16|i<<8|o},getColor:function(t,e,i){return t<<16|e<<8|i},RGBtoString:function(t,e,i,o,n){return void 0===o&&(o=255),"#"===(n=void 0===n?"#":n)?"#"+((1<<24)+(t<<16)+(e<<8)+i).toString(16).slice(1):"0x"+G.Color.componentToHex(o)+G.Color.componentToHex(t)+G.Color.componentToHex(e)+G.Color.componentToHex(i)},hexToRGB:function(t){t=G.Color.hexToColor(t);if(t)return G.Color.getColor32(t.a,t.r,t.g,t.b)},hexToColor:function(t,e){t=t.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(t,e,i,o){return e+e+i+i+o+o});var i,o,t=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return t&&(i=parseInt(t[1],16),o=parseInt(t[2],16),t=parseInt(t[3],16),e?(e.r=i,e.g=o,e.b=t):e=G.Color.createColor(i,o,t)),e},webToColor:function(t,e){e=e||G.Color.createColor();t=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(t);return t&&(e.r=parseInt(t[1],10),e.g=parseInt(t[2],10),e.b=parseInt(t[3],10),e.a=void 0!==t[4]?parseFloat(t[4]):1,G.Color.updateColor(e)),e},valueToColor:function(t,e){return e=e||G.Color.createColor(),"string"==typeof t?0===t.indexOf("rgb")?G.Color.webToColor(t,e):(e.a=1,G.Color.hexToColor(t,e)):("number"==typeof t&&(t=G.Color.getRGB(t),e.r=t.r,e.g=t.g,e.b=t.b,e.a=t.a/255),e)},componentToHex:function(t){t=t.toString(16);return 1===t.length?"0"+t:t},HSVColorWheel:function(t,e){void 0===t&&(t=1),void 0===e&&(e=1);for(var i=[],o=0;o<=359;o++)i.push(G.Color.HSVtoRGB(o/359,t,e));return i},HSLColorWheel:function(t,e){void 0===t&&(t=.5),void 0===e&&(e=.5);for(var i=[],o=0;o<=359;o++)i.push(G.Color.HSLtoRGB(o/359,t,e));return i},interpolateColor:function(t,e,i,o,n){void 0===n&&(n=255);var t=G.Color.getRGB(t),e=G.Color.getRGB(e),s=(e.red-t.red)*o/i+t.red,r=(e.green-t.green)*o/i+t.green,e=(e.blue-t.blue)*o/i+t.blue;return G.Color.getColor32(n,s,r,e)},interpolateColorWithRGB:function(t,e,i,o,n,s){t=G.Color.getRGB(t),e=(e-t.red)*s/n+t.red,i=(i-t.green)*s/n+t.green,o=(o-t.blue)*s/n+t.blue;return G.Color.getColor(e,i,o)},interpolateRGB:function(t,e,i,o,n,s,r,c){return G.Color.getColor((o-t)*c/r+t,(n-e)*c/r+e,(s-i)*c/r+i)},getRandomColor:function(t,e,i){if(void 0===t&&(t=0),void 0===i&&(i=255),255<(e=void 0===e?255:e)||e<t)return G.Color.getColor(255,255,255);var o=t+Math.round(Math.random()*(e-t)),n=t+Math.round(Math.random()*(e-t)),e=t+Math.round(Math.random()*(e-t));return G.Color.getColor32(i,o,n,e)},getRGB:function(t){return 16777215<t?{alpha:t>>>24,red:t>>16&255,green:t>>8&255,blue:255&t,a:t>>>24,r:t>>16&255,g:t>>8&255,b:255&t}:{alpha:255,red:t>>16&255,green:t>>8&255,blue:255&t,a:255,r:t>>16&255,g:t>>8&255,b:255&t}},getWebRGB:function(t){if("object"==typeof t)return"rgba("+t.r.toString()+","+t.g.toString()+","+t.b.toString()+","+(t.a/255).toString()+")";t=G.Color.getRGB(t);return"rgba("+t.r.toString()+","+t.g.toString()+","+t.b.toString()+","+(t.a/255).toString()+")"},getAlpha:function(t){return t>>>24},getAlphaFloat:function(t){return(t>>>24)/255},getRed:function(t){return t>>16&255},getGreen:function(t){return t>>8&255},getBlue:function(t){return 255&t},blendNormal:function(t){return t},blendLighten:function(t,e){return t<e?e:t},blendDarken:function(t,e){return t<e?t:e},blendMultiply:function(t,e){return t*e/255},blendAverage:function(t,e){return(t+e)/2},blendAdd:function(t,e){return Math.min(255,t+e)},blendSubtract:function(t,e){return Math.max(0,t+e-255)},blendDifference:function(t,e){return Math.abs(t-e)},blendNegation:function(t,e){return 255-Math.abs(255-t-e)},blendScreen:function(t,e){return 255-((255-t)*(255-e)>>8)},blendExclusion:function(t,e){return t+e-2*t*e/255},blendOverlay:function(t,e){return e<128?2*t*e/255:255-2*(255-t)*(255-e)/255},blendSoftLight:function(t,e){return e<128?2*(64+(t>>1))*(e/255):255-2*(255-(64+(t>>1)))*(255-e)/255},blendHardLight:function(t,e){return G.Color.blendOverlay(e,t)},blendColorDodge:function(t,e){return 255===e?e:Math.min(255,(t<<8)/(255-e))},blendColorBurn:function(t,e){return 0===e?e:Math.max(0,255-(255-t<<8)/e)},blendLinearDodge:function(t,e){return G.Color.blendAdd(t,e)},blendLinearBurn:function(t,e){return G.Color.blendSubtract(t,e)},blendLinearLight:function(t,e){return e<128?G.Color.blendLinearBurn(t,2*e):G.Color.blendLinearDodge(t,2*(e-128))},blendVividLight:function(t,e){return e<128?G.Color.blendColorBurn(t,2*e):G.Color.blendColorDodge(t,2*(e-128))},blendPinLight:function(t,e){return e<128?G.Color.blendDarken(t,2*e):G.Color.blendLighten(t,2*(e-128))},blendHardMix:function(t,e){return G.Color.blendVividLight(t,e)<128?0:255},blendReflect:function(t,e){return 255===e?e:Math.min(255,t*t/(255-e))},blendGlow:function(t,e){return G.Color.blendReflect(e,t)},blendPhoenix:function(t,e){return Math.min(t,e)-Math.max(t,e)+255}},G.Physics=function(t,e){e=e||{},this.game=t,this.config=e,this.arcade=null,this.p2=null,this.ninja=null,this.box2d=null,this.chipmunk=null,this.matter=null,this.parseConfig()},G.Physics.ARCADE=0,G.Physics.P2JS=1,G.Physics.NINJA=2,G.Physics.BOX2D=3,G.Physics.CHIPMUNK=4,G.Physics.MATTERJS=5,G.Physics.prototype={parseConfig:function(){this.config.hasOwnProperty("arcade")&&!0!==this.config.arcade||!G.Physics.hasOwnProperty("Arcade")||(this.arcade=new G.Physics.Arcade(this.game)),this.config.hasOwnProperty("ninja")&&!0===this.config.ninja&&G.Physics.hasOwnProperty("Ninja")&&(this.ninja=new G.Physics.Ninja(this.game)),this.config.hasOwnProperty("p2")&&!0===this.config.p2&&G.Physics.hasOwnProperty("P2")&&(this.p2=new G.Physics.P2(this.game,this.config)),this.config.hasOwnProperty("box2d")&&!0===this.config.box2d&&G.Physics.hasOwnProperty("BOX2D")&&(this.box2d=new G.Physics.BOX2D(this.game,this.config)),this.config.hasOwnProperty("matter")&&!0===this.config.matter&&G.Physics.hasOwnProperty("Matter")&&(this.matter=new G.Physics.Matter(this.game,this.config))},startSystem:function(t){t===G.Physics.ARCADE?this.arcade=new G.Physics.Arcade(this.game):t===G.Physics.P2JS?null===this.p2?this.p2=new G.Physics.P2(this.game,this.config):this.p2.reset():t===G.Physics.NINJA?this.ninja=new G.Physics.Ninja(this.game):t===G.Physics.BOX2D?null===this.box2d?this.box2d=new G.Physics.Box2D(this.game,this.config):this.box2d.reset():t===G.Physics.MATTERJS&&(null===this.matter?this.matter=new G.Physics.Matter(this.game,this.config):this.matter.reset())},enable:function(t,e,i){void 0===i&&(i=!1),(e=void 0===e?G.Physics.ARCADE:e)===G.Physics.ARCADE?this.arcade.enable(t):e===G.Physics.P2JS&&this.p2?this.p2.enable(t,i):e===G.Physics.NINJA&&this.ninja?this.ninja.enableAABB(t):e===G.Physics.BOX2D&&this.box2d?this.box2d.enable(t):e===G.Physics.MATTERJS&&this.matter&&this.matter.enable(t)},preUpdate:function(){this.p2&&this.p2.preUpdate(),this.box2d&&this.box2d.preUpdate(),this.matter&&this.matter.preUpdate()},update:function(){this.p2&&this.p2.update(),this.box2d&&this.box2d.update(),this.matter&&this.matter.update()},setBoundsToWorld:function(){this.arcade&&this.arcade.setBoundsToWorld(),this.ninja&&this.ninja.setBoundsToWorld(),this.p2&&this.p2.setBoundsToWorld(),this.box2d&&this.box2d.setBoundsToWorld(),this.matter&&this.matter.setBoundsToWorld()},clear:function(){this.p2&&this.p2.clear(),this.box2d&&this.box2d.clear(),this.matter&&this.matter.clear()},reset:function(){this.p2&&this.p2.reset(),this.box2d&&this.box2d.reset(),this.matter&&this.matter.reset()},destroy:function(){this.p2&&this.p2.destroy(),this.box2d&&this.box2d.destroy(),this.matter&&this.matter.destroy(),this.arcade=null,this.ninja=null,this.p2=null,this.box2d=null,this.matter=null}},G.Physics.prototype.constructor=G.Physics,G.Physics.Arcade=function(t){this.game=t,this.gravity=new G.Point,this.bounds=new G.Rectangle(0,0,t.world.width,t.world.height),this.checkCollision={up:!0,down:!0,left:!0,right:!0},this.maxObjects=10,this.maxLevels=4,this.OVERLAP_BIAS=4,this.forceX=!1,this.sortDirection=G.Physics.Arcade.LEFT_RIGHT,this.skipQuadTree=!0,this.isPaused=!1,this.quadTree=new G.QuadTree(this.game.world.bounds.x,this.game.world.bounds.y,this.game.world.bounds.width,this.game.world.bounds.height,this.maxObjects,this.maxLevels),this._total=0,this.setBoundsToWorld()},G.Physics.Arcade.prototype.constructor=G.Physics.Arcade,G.Physics.Arcade.SORT_NONE=0,G.Physics.Arcade.LEFT_RIGHT=1,G.Physics.Arcade.RIGHT_LEFT=2,G.Physics.Arcade.TOP_BOTTOM=3,G.Physics.Arcade.BOTTOM_TOP=4,G.Physics.Arcade.prototype={setBounds:function(t,e,i,o){this.bounds.setTo(t,e,i,o)},setBoundsToWorld:function(){this.bounds.copyFrom(this.game.world.bounds)},enable:function(t,e){void 0===e&&(e=!0);var i=1;if(Array.isArray(t))for(i=t.length;i--;)t[i]instanceof G.Group?this.enable(t[i].children,e):(this.enableBody(t[i]),e&&t[i].hasOwnProperty("children")&&0<t[i].children.length&&this.enable(t[i],!0));else t instanceof G.Group?this.enable(t.children,e):(this.enableBody(t),e&&t.hasOwnProperty("children")&&0<t.children.length&&this.enable(t.children,!0))},enableBody:function(t){t.hasOwnProperty("body")&&null===t.body&&(t.body=new G.Physics.Arcade.Body(t),t.parent&&t.parent instanceof G.Group&&t.parent.addToHash(t))},updateMotion:function(t){var e=this.computeVelocity(0,t,t.angularVelocity,t.angularAcceleration,t.angularDrag,t.maxAngular)-t.angularVelocity;t.angularVelocity+=e,t.rotation+=t.angularVelocity*this.game.time.physicsElapsed,t.velocity.x=this.computeVelocity(1,t,t.velocity.x,t.acceleration.x,t.drag.x,t.maxVelocity.x),t.velocity.y=this.computeVelocity(2,t,t.velocity.y,t.acceleration.y,t.drag.y,t.maxVelocity.y)},computeVelocity:function(t,e,i,o,n,s){return 1===t&&e.allowGravity?i+=(this.gravity.x+e.gravity.x)*this.game.time.physicsElapsed:2===t&&e.allowGravity&&(i+=(this.gravity.y+e.gravity.y)*this.game.time.physicsElapsed),o?i+=o*this.game.time.physicsElapsed:n&&(0<i-(n*=this.game.time.physicsElapsed)?i-=n:i+n<0?i+=n:i=0),(s=void 0===s?1e4:s)<i?i=s:i<-s&&(i=-s),i},overlap:function(t,e,i,o,n){if(i=i||null,o=o||null,n=n||i,this._total=0,!Array.isArray(t)&&Array.isArray(e))for(var s=0;s<e.length;s++)this.collideHandler(t,e[s],i,o,n,!0);else if(Array.isArray(t)&&!Array.isArray(e))for(s=0;s<t.length;s++)this.collideHandler(t[s],e,i,o,n,!0);else if(Array.isArray(t)&&Array.isArray(e))for(s=0;s<t.length;s++)for(var r=0;r<e.length;r++)this.collideHandler(t[s],e[r],i,o,n,!0);else this.collideHandler(t,e,i,o,n,!0);return 0<this._total},collide:function(t,e,i,o,n){if(i=i||null,o=o||null,n=n||i,this._total=0,!Array.isArray(t)&&Array.isArray(e))for(var s=0;s<e.length;s++)this.collideHandler(t,e[s],i,o,n,!1);else if(Array.isArray(t)&&!Array.isArray(e))for(s=0;s<t.length;s++)this.collideHandler(t[s],e,i,o,n,!1);else if(Array.isArray(t)&&Array.isArray(e))for(s=0;s<t.length;s++)for(var r=0;r<e.length;r++)this.collideHandler(t[s],e[r],i,o,n,!1);else this.collideHandler(t,e,i,o,n,!1);return 0<this._total},sortLeftRight:function(t,e){return t.body&&e.body?t.body.x-e.body.x:0},sortRightLeft:function(t,e){return t.body&&e.body?e.body.x-t.body.x:0},sortTopBottom:function(t,e){return t.body&&e.body?t.body.y-e.body.y:0},sortBottomTop:function(t,e){return t.body&&e.body?e.body.y-t.body.y:0},sort:function(t,e){null!==t.physicsSortDirection?e=t.physicsSortDirection:void 0===e&&(e=this.sortDirection),e===G.Physics.Arcade.LEFT_RIGHT?t.hash.sort(this.sortLeftRight):e===G.Physics.Arcade.RIGHT_LEFT?t.hash.sort(this.sortRightLeft):e===G.Physics.Arcade.TOP_BOTTOM?t.hash.sort(this.sortTopBottom):e===G.Physics.Arcade.BOTTOM_TOP&&t.hash.sort(this.sortBottomTop)},collideHandler:function(t,e,i,o,n,s){if(void 0===e&&t.physicsType===G.GROUP)return this.sort(t),void this.collideGroupVsSelf(t,i,o,n,s);t&&e&&t.exists&&e.exists&&(this.sortDirection!==G.Physics.Arcade.SORT_NONE&&(t.physicsType===G.GROUP&&this.sort(t),e.physicsType===G.GROUP&&this.sort(e)),t.physicsType===G.SPRITE?e.physicsType===G.SPRITE?this.collideSpriteVsSprite(t,e,i,o,n,s):e.physicsType===G.GROUP?this.collideSpriteVsGroup(t,e,i,o,n,s):e.physicsType===G.TILEMAPLAYER&&this.collideSpriteVsTilemapLayer(t,e,i,o,n,s):t.physicsType===G.GROUP?e.physicsType===G.SPRITE?this.collideSpriteVsGroup(e,t,i,o,n,s):e.physicsType===G.GROUP?this.collideGroupVsGroup(t,e,i,o,n,s):e.physicsType===G.TILEMAPLAYER&&this.collideGroupVsTilemapLayer(t,e,i,o,n,s):t.physicsType===G.TILEMAPLAYER&&(e.physicsType===G.SPRITE?this.collideSpriteVsTilemapLayer(e,t,i,o,n,s):e.physicsType===G.GROUP&&this.collideGroupVsTilemapLayer(e,t,i,o,n,s)))},collideSpriteVsSprite:function(t,e,i,o,n,s){return!(!t.body||!e.body||(this.separate(t.body,e.body,o,n,s)&&(i&&i.call(n,t,e),this._total++),0))},collideSpriteVsGroup:function(t,e,i,o,n,s){if(0!==e.length&&t.body)if(this.skipQuadTree||t.body.skipQuadTree)for(var r={},c=0;c<e.hash.length;c++){var a=e.hash[c];if(a&&a.exists&&a.body){if(r=a.body.getBounds(r),this.sortDirection===G.Physics.Arcade.LEFT_RIGHT){if(t.body.right<r.x)break;if(r.right<t.body.x)continue}else if(this.sortDirection===G.Physics.Arcade.RIGHT_LEFT){if(t.body.x>r.right)break;if(r.x>t.body.right)continue}else if(this.sortDirection===G.Physics.Arcade.TOP_BOTTOM){if(t.body.bottom<r.y)break;if(r.bottom<t.body.y)continue}else if(this.sortDirection===G.Physics.Arcade.BOTTOM_TOP){if(t.body.y>r.bottom)break;if(r.y>t.body.bottom)continue}this.collideSpriteVsSprite(t,a,i,o,n,s)}}else{this.quadTree.clear(),this.quadTree.reset(this.game.world.bounds.x,this.game.world.bounds.y,this.game.world.bounds.width,this.game.world.bounds.height,this.maxObjects,this.maxLevels),this.quadTree.populate(e);for(var h=this.quadTree.retrieve(t),c=0;c<h.length;c++)this.separate(t.body,h[c],o,n,s)&&(i&&i.call(n,t,h[c].sprite),this._total++)}},collideGroupVsSelf:function(t,e,i,o,n){if(0!==t.length)for(var s=0;s<t.hash.length;s++){var r={},c=t.hash[s];if(c&&c.exists&&c.body)for(var r=c.body.getBounds(r),a=s+1;a<t.hash.length;a++){var h={},u=t.hash[a];if(u&&u.exists&&u.body){if(h=u.body.getBounds(h),this.sortDirection===G.Physics.Arcade.LEFT_RIGHT){if(r.right<h.x)break;if(h.right<r.x)continue}else if(this.sortDirection===G.Physics.Arcade.RIGHT_LEFT){if(r.x>h.right)continue;if(h.x>r.right)break}else if(this.sortDirection===G.Physics.Arcade.TOP_BOTTOM){if(r.bottom<h.y)continue;if(h.bottom<r.y)break}else if(this.sortDirection===G.Physics.Arcade.BOTTOM_TOP){if(r.y>h.bottom)continue;if(h.y>c.body.bottom)break}this.collideSpriteVsSprite(c,u,e,i,o,n)}}}},collideGroupVsGroup:function(t,e,i,o,n,s){if(0!==t.length&&0!==e.length)for(var r=0;r<t.children.length;r++)t.children[r].exists&&(t.children[r].physicsType===G.GROUP?this.collideGroupVsGroup(t.children[r],e,i,o,n,s):this.collideSpriteVsGroup(t.children[r],e,i,o,n,s))},separate:function(t,e,i,o,n){if(!t.enable||!e.enable||t.checkCollision.none||e.checkCollision.none||!this.intersects(t,e))return!1;if(i&&!1===i.call(o,t.sprite,e.sprite))return!1;if(t.isCircle&&e.isCircle)return this.separateCircle(t,e,n);if(t.isCircle!==e.isCircle){var i=t.isCircle?e:t,o=t.isCircle?t:e,s=i.x,r=i.y,c=i.right,i=i.bottom,a=o.x+o.radius,o=o.y+o.radius;if((o<r||i<o)&&(a<s||c<a))return this.separateCircle(t,e,n)}r=!1,i=!1,this.forceX||Math.abs(this.gravity.y+t.gravity.y)<Math.abs(this.gravity.x+t.gravity.x)?(r=this.separateX(t,e,n),this.intersects(t,e)&&(i=this.separateY(t,e,n))):(i=this.separateY(t,e,n),this.intersects(t,e)&&(r=this.separateX(t,e,n))),o=r||i;return o&&(n?(t.onOverlap&&t.onOverlap.dispatch(t.sprite,e.sprite),e.onOverlap&&e.onOverlap.dispatch(e.sprite,t.sprite)):(t.onCollide&&t.onCollide.dispatch(t.sprite,e.sprite),e.onCollide&&e.onCollide.dispatch(e.sprite,t.sprite))),o},intersects:function(t,e){return t!==e&&(t.isCircle?e.isCircle?G.Math.distance(t.center.x,t.center.y,e.center.x,e.center.y)<=t.radius+e.radius:this.circleBodyIntersects(t,e):e.isCircle?this.circleBodyIntersects(e,t):!(t.right<=e.position.x||t.bottom<=e.position.y||t.position.x>=e.right||t.position.y>=e.bottom))},circleBodyIntersects:function(t,e){var i=G.Math.clamp(t.center.x,e.left,e.right),e=G.Math.clamp(t.center.y,e.top,e.bottom);return(t.center.x-i)*(t.center.x-i)+(t.center.y-e)*(t.center.y-e)<=t.radius*t.radius},separateCircle:function(t,e,i){this.getOverlapX(t,e),this.getOverlapY(t,e);var o=e.center.x-t.center.x,n=e.center.y-t.center.y,n=Math.atan2(n,o),o=0;if(t.isCircle!==e.isCircle?(s={x:(e.isCircle?t:e).position.x,y:(e.isCircle?t:e).position.y,right:(e.isCircle?t:e).right,bottom:(e.isCircle?t:e).bottom},(r={x:t.isCircle?t.position.x+t.radius:e.position.x+e.radius,y:t.isCircle?t.position.y+t.radius:e.position.y+e.radius,radius:(t.isCircle?t:e).radius}).y<s.y?r.x<s.x?o=G.Math.distance(r.x,r.y,s.x,s.y)-r.radius:s.right<r.x&&(o=G.Math.distance(r.x,r.y,s.right,s.y)-r.radius):s.bottom<r.y&&(r.x<s.x?o=G.Math.distance(r.x,r.y,s.x,s.bottom)-r.radius:s.right<r.x&&(o=G.Math.distance(r.x,r.y,s.right,s.bottom)-r.radius)),o*=-1):o=t.radius+e.radius-G.Math.distance(t.center.x,t.center.y,e.center.x,e.center.y),i||0===o||t.immovable&&e.immovable||t.customSeparateX||e.customSeparateX)return 0!==o&&(t.onOverlap&&t.onOverlap.dispatch(t.sprite,e.sprite),e.onOverlap&&e.onOverlap.dispatch(e.sprite,t.sprite)),0!==o;var s=t.velocity.x*Math.cos(n)+t.velocity.y*Math.sin(n),r=t.velocity.x*Math.sin(n)-t.velocity.y*Math.cos(n),i=e.velocity.x*Math.cos(n)+e.velocity.y*Math.sin(n),c=e.velocity.x*Math.sin(n)-e.velocity.y*Math.cos(n),a=((t.mass-e.mass)*s+2*e.mass*i)/(t.mass+e.mass),s=(2*t.mass*s+(e.mass-t.mass)*i)/(t.mass+e.mass);return t.immovable||(t.velocity.x=(a*Math.cos(n)-r*Math.sin(n))*t.bounce.x,t.velocity.y=(r*Math.cos(n)+a*Math.sin(n))*t.bounce.y),e.immovable||(e.velocity.x=(s*Math.cos(n)-c*Math.sin(n))*e.bounce.x,e.velocity.y=(c*Math.cos(n)+s*Math.sin(n))*e.bounce.y),Math.abs(n)<Math.PI/2?0<t.velocity.x&&!t.immovable&&e.velocity.x>t.velocity.x?t.velocity.x*=-1:e.velocity.x<0&&!e.immovable&&t.velocity.x<e.velocity.x?e.velocity.x*=-1:0<t.velocity.y&&!t.immovable&&e.velocity.y>t.velocity.y?t.velocity.y*=-1:e.velocity.y<0&&!e.immovable&&t.velocity.y<e.velocity.y&&(e.velocity.y*=-1):Math.abs(n)>Math.PI/2&&(t.velocity.x<0&&!t.immovable&&e.velocity.x<t.velocity.x?t.velocity.x*=-1:0<e.velocity.x&&!e.immovable&&t.velocity.x>e.velocity.x?e.velocity.x*=-1:t.velocity.y<0&&!t.immovable&&e.velocity.y<t.velocity.y?t.velocity.y*=-1:0<e.velocity.y&&!e.immovable&&t.velocity.x>e.velocity.y&&(e.velocity.y*=-1)),t.immovable||(t.x+=t.velocity.x*this.game.time.physicsElapsed-o*Math.cos(n),t.y+=t.velocity.y*this.game.time.physicsElapsed-o*Math.sin(n)),e.immovable||(e.x+=e.velocity.x*this.game.time.physicsElapsed+o*Math.cos(n),e.y+=e.velocity.y*this.game.time.physicsElapsed+o*Math.sin(n)),t.onCollide&&t.onCollide.dispatch(t.sprite,e.sprite),e.onCollide&&e.onCollide.dispatch(e.sprite,t.sprite),!0},getOverlapX:function(t,e,i){var o=0,n=t.deltaAbsX()+e.deltaAbsX()+this.OVERLAP_BIAS;return 0===t.deltaX()&&0===e.deltaX()?(t.embedded=!0,e.embedded=!0):t.deltaX()>e.deltaX()?n<(o=t.right-e.x)&&!i||!1===t.checkCollision.right||!1===e.checkCollision.left?o=0:(t.touching.none=!1,t.touching.right=!0,e.touching.none=!1,e.touching.left=!0):t.deltaX()<e.deltaX()&&(n<-(o=t.x-e.width-e.x)&&!i||!1===t.checkCollision.left||!1===e.checkCollision.right?o=0:(t.touching.none=!1,t.touching.left=!0,e.touching.none=!1,e.touching.right=!0)),t.overlapX=o,e.overlapX=o},getOverlapY:function(t,e,i){var o=0,n=t.deltaAbsY()+e.deltaAbsY()+this.OVERLAP_BIAS;return 0===t.deltaY()&&0===e.deltaY()?(t.embedded=!0,e.embedded=!0):t.deltaY()>e.deltaY()?n<(o=t.bottom-e.y)&&!i||!1===t.checkCollision.down||!1===e.checkCollision.up?o=0:(t.touching.none=!1,t.touching.down=!0,e.touching.none=!1,e.touching.up=!0):t.deltaY()<e.deltaY()&&(n<-(o=t.y-e.bottom)&&!i||!1===t.checkCollision.up||!1===e.checkCollision.down?o=0:(t.touching.none=!1,t.touching.up=!0,e.touching.none=!1,e.touching.down=!0)),t.overlapY=o,e.overlapY=o},separateX:function(t,e,i){var o=this.getOverlapX(t,e,i);if(i||0===o||t.immovable&&e.immovable||t.customSeparateX||e.customSeparateX)return 0!==o||t.embedded&&e.embedded;var i=t.velocity.x,n=e.velocity.x;return t.immovable||e.immovable?t.immovable?(e.x+=o,e.velocity.x=i-n*e.bounce.x,t.moves&&(e.y+=(t.y-t.prev.y)*t.friction.y)):(t.x-=o,t.velocity.x=n-i*t.bounce.x,e.moves&&(t.y+=(e.y-e.prev.y)*e.friction.y)):(t.x-=o*=.5,e.x+=o,o=Math.sqrt(n*n*e.mass/t.mass)*(0<n?1:-1),n=Math.sqrt(i*i*t.mass/e.mass)*(0<i?1:-1),n-=i=.5*(o+n),t.velocity.x=i+(o-=i)*t.bounce.x,e.velocity.x=i+n*e.bounce.x),!0},separateY:function(t,e,i){var o=this.getOverlapY(t,e,i);if(i||0===o||t.immovable&&e.immovable||t.customSeparateY||e.customSeparateY)return 0!==o||t.embedded&&e.embedded;var i=t.velocity.y,n=e.velocity.y;return t.immovable||e.immovable?t.immovable?(e.y+=o,e.velocity.y=i-n*e.bounce.y,t.moves&&(e.x+=(t.x-t.prev.x)*t.friction.x)):(t.y-=o,t.velocity.y=n-i*t.bounce.y,e.moves&&(t.x+=(e.x-e.prev.x)*e.friction.x)):(t.y-=o*=.5,e.y+=o,o=Math.sqrt(n*n*e.mass/t.mass)*(0<n?1:-1),n=Math.sqrt(i*i*t.mass/e.mass)*(0<i?1:-1),n-=i=.5*(o+n),t.velocity.y=i+(o-=i)*t.bounce.y,e.velocity.y=i+n*e.bounce.y),!0},getObjectsUnderPointer:function(t,e,i,o){if(0!==e.length&&t.exists)return this.getObjectsAtLocation(t.x,t.y,e,i,o,t)},getObjectsAtLocation:function(t,e,i,o,n,s){this.quadTree.clear(),this.quadTree.reset(this.game.world.bounds.x,this.game.world.bounds.y,this.game.world.bounds.width,this.game.world.bounds.height,this.maxObjects,this.maxLevels),this.quadTree.populate(i);for(var i=new G.Rectangle(t,e,1,1),r=[],c=this.quadTree.retrieve(i),a=0;a<c.length;a++)c[a].hitTest(t,e)&&(o&&o.call(n,s,c[a].sprite),r.push(c[a].sprite));return r},moveToObject:function(t,e,i,o){void 0===i&&(i=60),void 0===o&&(o=0);var n=Math.atan2(e.y-t.y,e.x-t.x);return 0<o&&(i=this.distanceBetween(t,e)/(o/1e3)),t.body.velocity.x=Math.cos(n)*i,t.body.velocity.y=Math.sin(n)*i,n},moveToPointer:function(t,e,i,o){void 0===e&&(e=60),i=i||this.game.input.activePointer,void 0===o&&(o=0);var n=this.angleToPointer(t,i);return 0<o&&(e=this.distanceToPointer(t,i)/(o/1e3)),t.body.velocity.x=Math.cos(n)*e,t.body.velocity.y=Math.sin(n)*e,n},moveToXY:function(t,e,i,o,n){void 0===o&&(o=60),void 0===n&&(n=0);var s=Math.atan2(i-t.y,e-t.x);return 0<n&&(o=this.distanceToXY(t,e,i)/(n/1e3)),t.body.velocity.x=Math.cos(s)*o,t.body.velocity.y=Math.sin(s)*o,s},velocityFromAngle:function(t,e,i){return void 0===e&&(e=60),(i=i||new G.Point).setTo(Math.cos(this.game.math.degToRad(t))*e,Math.sin(this.game.math.degToRad(t))*e)},velocityFromRotation:function(t,e,i){return void 0===e&&(e=60),(i=i||new G.Point).setTo(Math.cos(t)*e,Math.sin(t)*e)},accelerationFromRotation:function(t,e,i){return void 0===e&&(e=60),(i=i||new G.Point).setTo(Math.cos(t)*e,Math.sin(t)*e)},accelerateToObject:function(t,e,i,o,n){void 0===i&&(i=60),void 0===o&&(o=1e3),void 0===n&&(n=1e3);e=this.angleBetween(t,e);return t.body.acceleration.setTo(Math.cos(e)*i,Math.sin(e)*i),t.body.maxVelocity.setTo(o,n),e},accelerateToPointer:function(t,e,i,o,n){void 0===i&&(i=60),void 0===e&&(e=this.game.input.activePointer),void 0===o&&(o=1e3),void 0===n&&(n=1e3);e=this.angleToPointer(t,e);return t.body.acceleration.setTo(Math.cos(e)*i,Math.sin(e)*i),t.body.maxVelocity.setTo(o,n),e},accelerateToXY:function(t,e,i,o,n,s){void 0===o&&(o=60),void 0===n&&(n=1e3),void 0===s&&(s=1e3);e=this.angleToXY(t,e,i);return t.body.acceleration.setTo(Math.cos(e)*o,Math.sin(e)*o),t.body.maxVelocity.setTo(n,s),e},distanceBetween:function(t,e,i){var o=(i=void 0===i?!1:i)?t.world.x-e.world.x:t.x-e.x,i=i?t.world.y-e.world.y:t.y-e.y;return Math.sqrt(o*o+i*i)},distanceToXY:function(t,e,i,o){e=(o=void 0===o?!1:o)?t.world.x-e:t.x-e,o=o?t.world.y-i:t.y-i;return Math.sqrt(e*e+o*o)},distanceToPointer:function(t,e,i){void 0===e&&(e=this.game.input.activePointer);var o=(i=void 0===i?!1:i)?t.world.x-e.worldX:t.x-e.worldX,i=i?t.world.y-e.worldY:t.y-e.worldY;return Math.sqrt(o*o+i*i)},angleBetween:function(t,e,i){return(i=void 0===i?!1:i)?Math.atan2(e.world.y-t.world.y,e.world.x-t.world.x):Math.atan2(e.y-t.y,e.x-t.x)},angleBetweenCenters:function(t,e){var i=e.centerX-t.centerX,e=e.centerY-t.centerY;return Math.atan2(e,i)},angleToXY:function(t,e,i,o){return(o=void 0===o?!1:o)?Math.atan2(i-t.world.y,e-t.world.x):Math.atan2(i-t.y,e-t.x)},angleToPointer:function(t,e,i){return void 0===e&&(e=this.game.input.activePointer),(i=void 0===i?!1:i)?Math.atan2(e.worldY-t.world.y,e.worldX-t.world.x):Math.atan2(e.worldY-t.y,e.worldX-t.x)},worldAngleToPointer:function(t,e){return this.angleToPointer(t,e,!0)}},G.Physics.Arcade.Body=function(t){this.sprite=t,this.game=t.game,this.type=G.Physics.ARCADE,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new G.Point,this.position=new G.Point(t.x,t.y),this.prev=new G.Point(this.position.x,this.position.y),this.allowRotation=!0,this.rotation=t.angle,this.preRotation=t.angle,this.width=t.width,this.height=t.height,this.sourceWidth=t.width,this.sourceHeight=t.height,t.texture&&(this.sourceWidth=t.texture.frame.width,this.sourceHeight=t.texture.frame.height),this.halfWidth=Math.abs(t.width/2),this.halfHeight=Math.abs(t.height/2),this.center=new G.Point(t.x+this.halfWidth,t.y+this.halfHeight),this.velocity=new G.Point,this.newVelocity=new G.Point,this.deltaMax=new G.Point,this.acceleration=new G.Point,this.drag=new G.Point,this.allowGravity=!0,this.gravity=new G.Point,this.bounce=new G.Point,this.worldBounce=null,this.onWorldBounds=null,this.onCollide=null,this.onOverlap=null,this.maxVelocity=new G.Point(1e4,1e4),this.friction=new G.Point(1,0),this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=G.NONE,this.immovable=!1,this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision={none:!1,any:!0,up:!0,down:!0,left:!0,right:!0},this.touching={none:!0,up:!1,down:!1,left:!1,right:!1},this.wasTouching={none:!0,up:!1,down:!1,left:!1,right:!1},this.blocked={up:!1,down:!1,left:!1,right:!1},this.tilePadding=new G.Point,this.dirty=!1,this.skipQuadTree=!1,this.syncBounds=!1,this.isMoving=!1,this.stopVelocityOnCollide=!0,this.moveTimer=0,this.moveDistance=0,this.moveDuration=0,this.moveTarget=null,this.moveEnd=null,this.onMoveComplete=new G.Signal,this.movementCallback=null,this.movementCallbackContext=null,this._reset=!0,this._sx=t.scale.x,this._sy=t.scale.y,this._dx=0,this._dy=0},G.Physics.Arcade.Body.prototype={updateBounds:function(){var t,e;this.syncBounds?((t=this.sprite.getBounds()).ceilAll(),t.width===this.width&&t.height===this.height||(this.width=t.width,this.height=t.height,this._reset=!0)):(t=Math.abs(this.sprite.scale.x),e=Math.abs(this.sprite.scale.y),t===this._sx&&e===this._sy||(this.width=this.sourceWidth*t,this.height=this.sourceHeight*e,this._sx=t,this._sy=e,this._reset=!0)),this._reset&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.center.setTo(this.position.x+this.halfWidth,this.position.y+this.halfHeight))},preUpdate:function(){this.enable&&!this.game.physics.arcade.isPaused&&(this.dirty=!0,this.wasTouching.none=this.touching.none,this.wasTouching.up=this.touching.up,this.wasTouching.down=this.touching.down,this.wasTouching.left=this.touching.left,this.wasTouching.right=this.touching.right,this.touching.none=!0,this.touching.up=!1,this.touching.down=!1,this.touching.left=!1,this.touching.right=!1,this.blocked.up=!1,this.blocked.down=!1,this.blocked.left=!1,this.blocked.right=!1,this.embedded=!1,this.updateBounds(),this.position.x=this.sprite.world.x-this.sprite.anchor.x*this.sprite.width+this.sprite.scale.x*this.offset.x,this.position.x-=this.sprite.scale.x<0?this.width:0,this.position.y=this.sprite.world.y-this.sprite.anchor.y*this.sprite.height+this.sprite.scale.y*this.offset.y,this.position.y-=this.sprite.scale.y<0?this.height:0,this.rotation=this.sprite.angle,this.preRotation=this.rotation,(this._reset||this.sprite.fresh)&&(this.prev.x=this.position.x,this.prev.y=this.position.y),this.moves&&(this.game.physics.arcade.updateMotion(this),this.newVelocity.set(this.velocity.x*this.game.time.physicsElapsed,this.velocity.y*this.game.time.physicsElapsed),this.position.x+=this.newVelocity.x,this.position.y+=this.newVelocity.y,this.position.x===this.prev.x&&this.position.y===this.prev.y||(this.angle=Math.atan2(this.velocity.y,this.velocity.x)),this.speed=Math.sqrt(this.velocity.x*this.velocity.x+this.velocity.y*this.velocity.y),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds&&this.onWorldBounds.dispatch(this.sprite,this.blocked.up,this.blocked.down,this.blocked.left,this.blocked.right)),this._dx=this.deltaX(),this._dy=this.deltaY(),this._reset=!1)},updateMovement:function(){var t,e=0,i=0!==this.overlapX||0!==this.overlapY,e=0<this.moveDuration?(this.moveTimer+=this.game.time.elapsedMS,this.moveTimer/this.moveDuration):(this.moveTarget.end.set(this.position.x,this.position.y),this.moveTarget.length/this.moveDistance);return this.movementCallback&&(t=this.movementCallback.call(this.movementCallbackContext,this,this.velocity,e)),!(i||1<=e||void 0!==t&&!0!==t)||(this.stopMovement(1<=e||this.stopVelocityOnCollide&&i),!1)},stopMovement:function(t){this.isMoving&&(this.isMoving=!1,t&&this.velocity.set(0),this.onMoveComplete.dispatch(this.sprite,0!==this.overlapX||0!==this.overlapY))},postUpdate:function(){this.enable&&this.dirty&&(this.isMoving&&this.updateMovement(),this.dirty=!1,this.deltaX()<0?this.facing=G.LEFT:0<this.deltaX()&&(this.facing=G.RIGHT),this.deltaY()<0?this.facing=G.UP:0<this.deltaY()&&(this.facing=G.DOWN),this.moves&&(this._dx=this.deltaX(),this._dy=this.deltaY(),0!==this.deltaMax.x&&0!==this._dx&&(this._dx<0&&this._dx<-this.deltaMax.x?this._dx=-this.deltaMax.x:0<this._dx&&this._dx>this.deltaMax.x&&(this._dx=this.deltaMax.x)),0!==this.deltaMax.y&&0!==this._dy&&(this._dy<0&&this._dy<-this.deltaMax.y?this._dy=-this.deltaMax.y:0<this._dy&&this._dy>this.deltaMax.y&&(this._dy=this.deltaMax.y)),this.sprite.position.x+=this._dx,this.sprite.position.y+=this._dy,this._reset=!0),this.center.setTo(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.allowRotation&&(this.sprite.angle+=this.deltaZ()),this.prev.x=this.position.x,this.prev.y=this.position.y)},checkWorldBounds:function(){var t,e,i,o,n=this.position,s=this.game.physics.arcade.bounds,r=this.game.physics.arcade.checkCollision,c=this.worldBounce?-this.worldBounce.x:-this.bounce.x,a=this.worldBounce?-this.worldBounce.y:-this.bounce.y;return this.isCircle?(t=this.center.x-this.radius,e=this.center.y-this.radius,i=this.center.x+this.radius,o=this.center.y+this.radius,t<s.x&&r.left?(n.x=s.x-this.halfWidth+this.radius,this.velocity.x*=c,this.blocked.left=!0):i>s.right&&r.right&&(n.x=s.right-this.halfWidth-this.radius,this.velocity.x*=c,this.blocked.right=!0),e<s.y&&r.up?(n.y=s.y-this.halfHeight+this.radius,this.velocity.y*=a,this.blocked.up=!0):o>s.bottom&&r.down&&(n.y=s.bottom-this.halfHeight-this.radius,this.velocity.y*=a,this.blocked.down=!0)):(n.x<s.x&&r.left?(n.x=s.x,this.velocity.x*=c,this.blocked.left=!0):this.right>s.right&&r.right&&(n.x=s.right-this.width,this.velocity.x*=c,this.blocked.right=!0),n.y<s.y&&r.up?(n.y=s.y,this.velocity.y*=a,this.blocked.up=!0):this.bottom>s.bottom&&r.down&&(n.y=s.bottom-this.height,this.velocity.y*=a,this.blocked.down=!0)),this.blocked.up||this.blocked.down||this.blocked.left||this.blocked.right},moveFrom:function(t,e,i){return 0!==(e=void 0===e?this.speed:e)&&(void 0===i?(o=this.angle,i=this.game.math.radToDeg(o)):o=this.game.math.degToRad(i),this.moveTimer=0,this.moveDuration=t,0===i||180===i?this.velocity.set(Math.cos(o)*e,0):90===i||270===i?this.velocity.set(0,Math.sin(o)*e):this.velocity.set(Math.cos(o)*e,Math.sin(o)*e),this.isMoving=!0);var o},moveTo:function(t,e,i){var o,t=e/(t/1e3);return 0!=t&&(void 0===i?(o=this.angle,i=this.game.math.radToDeg(o)):o=this.game.math.degToRad(i),e=Math.abs(e),this.moveDuration=0,this.moveDistance=e,null===this.moveTarget&&(this.moveTarget=new G.Line,this.moveEnd=new G.Point),this.moveTarget.fromAngle(this.x,this.y,o,e),this.moveEnd.set(this.moveTarget.end.x,this.moveTarget.end.y),this.moveTarget.setTo(this.x,this.y,this.x,this.y),0===i||180===i?this.velocity.set(Math.cos(o)*t,0):90===i||270===i?this.velocity.set(0,Math.sin(o)*t):this.velocity.set(Math.cos(o)*t,Math.sin(o)*t),this.isMoving=!0)},setSize:function(t,e,i,o){void 0===i&&(i=this.offset.x),void 0===o&&(o=this.offset.y),this.sourceWidth=t,this.sourceHeight=e,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.setTo(i,o),this.center.setTo(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.isCircle=!1,this.radius=0},setCircle:function(t,e,i){void 0===e&&(e=this.offset.x),void 0===i&&(i=this.offset.y),0<t?(this.isCircle=!0,this.radius=t,this.sourceWidth=2*t,this.sourceHeight=2*t,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.setTo(e,i),this.center.setTo(this.position.x+this.halfWidth,this.position.y+this.halfHeight)):this.isCircle=!1},reset:function(t,e){this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this.position.x=t-this.sprite.anchor.x*this.sprite.width+this.sprite.scale.x*this.offset.x,this.position.x-=this.sprite.scale.x<0?this.width:0,this.position.y=e-this.sprite.anchor.y*this.sprite.height+this.sprite.scale.y*this.offset.y,this.position.y-=this.sprite.scale.y<0?this.height:0,this.prev.x=this.position.x,this.prev.y=this.position.y,this.rotation=this.sprite.angle,this.preRotation=this.rotation,this._sx=this.sprite.scale.x,this._sy=this.sprite.scale.y,this.center.setTo(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},getBounds:function(t){return this.isCircle?(t.x=this.center.x-this.radius,t.y=this.center.y-this.radius,t.right=this.center.x+this.radius,t.bottom=this.center.y+this.radius):(t.x=this.x,t.y=this.y,t.right=this.right,t.bottom=this.bottom),t},hitTest:function(t,e){return(this.isCircle?G.Circle:G.Rectangle).contains(this,t,e)},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return 0<this.deltaX()?this.deltaX():-this.deltaX()},deltaAbsY:function(){return 0<this.deltaY()?this.deltaY():-this.deltaY()},deltaX:function(){return this.position.x-this.prev.x},deltaY:function(){return this.position.y-this.prev.y},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.sprite.parent&&this.sprite.parent instanceof G.Group&&this.sprite.parent.removeFromHash(this.sprite),this.sprite.body=null,this.sprite=null}},Object.defineProperty(G.Physics.Arcade.Body.prototype,"left",{get:function(){return this.position.x}}),Object.defineProperty(G.Physics.Arcade.Body.prototype,"right",{get:function(){return this.position.x+this.width}}),Object.defineProperty(G.Physics.Arcade.Body.prototype,"top",{get:function(){return this.position.y}}),Object.defineProperty(G.Physics.Arcade.Body.prototype,"bottom",{get:function(){return this.position.y+this.height}}),Object.defineProperty(G.Physics.Arcade.Body.prototype,"x",{get:function(){return this.position.x},set:function(t){this.position.x=t}}),Object.defineProperty(G.Physics.Arcade.Body.prototype,"y",{get:function(){return this.position.y},set:function(t){this.position.y=t}}),G.Physics.Arcade.Body.render=function(t,e,i,o){void 0===o&&(o=!0),t.fillStyle=i=i||"rgba(0,255,0,0.4)",t.strokeStyle=i,e.isCircle?(t.beginPath(),t.arc(e.center.x-e.game.camera.x,e.center.y-e.game.camera.y,e.radius,0,2*Math.PI),o?t.fill():t.stroke()):o?t.fillRect(e.position.x-e.game.camera.x,e.position.y-e.game.camera.y,e.width,e.height):t.strokeRect(e.position.x-e.game.camera.x,e.position.y-e.game.camera.y,e.width,e.height)},G.Physics.Arcade.Body.renderBodyInfo=function(t,e){t.line("x: "+e.x.toFixed(2),"y: "+e.y.toFixed(2),"width: "+e.width,"height: "+e.height),t.line("velocity x: "+e.velocity.x.toFixed(2),"y: "+e.velocity.y.toFixed(2),"deltaX: "+e._dx.toFixed(2),"deltaY: "+e._dy.toFixed(2)),t.line("acceleration x: "+e.acceleration.x.toFixed(2),"y: "+e.acceleration.y.toFixed(2),"speed: "+e.speed.toFixed(2),"angle: "+e.angle.toFixed(2)),t.line("gravity x: "+e.gravity.x,"y: "+e.gravity.y,"bounce x: "+e.bounce.x.toFixed(2),"y: "+e.bounce.y.toFixed(2)),t.line("touching left: "+e.touching.left,"right: "+e.touching.right,"up: "+e.touching.up,"down: "+e.touching.down),t.line("blocked left: "+e.blocked.left,"right: "+e.blocked.right,"up: "+e.blocked.up,"down: "+e.blocked.down)},G.Physics.Arcade.Body.prototype.constructor=G.Physics.Arcade.Body,G.Physics.Arcade.TilemapCollision=function(){},G.Physics.Arcade.TilemapCollision.prototype={TILE_BIAS:16,collideSpriteVsTilemapLayer:function(t,e,i,o,n,s){if(t.body){var r=e.getTiles(t.body.position.x-t.body.tilePadding.x,t.body.position.y-t.body.tilePadding.y,t.body.width+t.body.tilePadding.x,t.body.height+t.body.tilePadding.y,!1,!1);if(0!==r.length)for(var c=0;c<r.length;c++)o?o.call(n,t,r[c])&&this.separateTile(c,t.body,r[c],e,s)&&(this._total++,i&&i.call(n,t,r[c])):this.separateTile(c,t.body,r[c],e,s)&&(this._total++,i&&i.call(n,t,r[c]))}},collideGroupVsTilemapLayer:function(t,e,i,o,n,s){if(0!==t.length)for(var r=0;r<t.children.length;r++)t.children[r].exists&&this.collideSpriteVsTilemapLayer(t.children[r],e,i,o,n,s)},separateTile:function(t,e,i,o,n){if(!e.enable)return!1;var s=o.fixedToCamera?0:o.position.x,r=o.fixedToCamera?0:o.position.y;if(!i.intersects(e.position.x-s,e.position.y-r,e.right-s,e.bottom-r))return!1;if(n)return!0;if(i.collisionCallback&&!i.collisionCallback.call(i.collisionCallbackContext,e.sprite,i))return!1;if(void 0!==i.layer.callbacks&&i.layer.callbacks[i.index]&&!i.layer.callbacks[i.index].callback.call(i.layer.callbacks[i.index].callbackContext,e.sprite,i))return!1;if(!(i.faceLeft||i.faceRight||i.faceTop||i.faceBottom))return!1;var n=0,c=0,a=0,h=1;if(e.deltaAbsX()>e.deltaAbsY()?a=-1:e.deltaAbsX()<e.deltaAbsY()&&(h=-1),0!==e.deltaX()&&0!==e.deltaY()&&(i.faceLeft||i.faceRight)&&(i.faceTop||i.faceBottom)&&(a=Math.min(Math.abs(e.position.x-s-i.right),Math.abs(e.right-s-i.left)),h=Math.min(Math.abs(e.position.y-r-i.bottom),Math.abs(e.bottom-r-i.top))),a<h){if((i.faceLeft||i.faceRight)&&0!==(n=this.tileCheckX(e,i,o))&&!i.intersects(e.position.x-s,e.position.y-r,e.right-s,e.bottom-r))return!0;(i.faceTop||i.faceBottom)&&(c=this.tileCheckY(e,i,o))}else{if((i.faceTop||i.faceBottom)&&0!==(c=this.tileCheckY(e,i,o))&&!i.intersects(e.position.x-s,e.position.y-r,e.right-s,e.bottom-r))return!0;(i.faceLeft||i.faceRight)&&(n=this.tileCheckX(e,i,o))}return 0!==n||0!==c},tileCheckX:function(t,e,i){var o=0,i=i.fixedToCamera?0:i.position.x;return t.deltaX()<0&&!t.blocked.left&&e.collideRight&&t.checkCollision.left?e.faceRight&&t.x-i<e.right&&(o=t.x-i-e.right)<-this.TILE_BIAS&&(o=0):0<t.deltaX()&&!t.blocked.right&&e.collideLeft&&t.checkCollision.right&&e.faceLeft&&t.right-i>e.left&&(o=t.right-i-e.left)>this.TILE_BIAS&&(o=0),0!==o&&(t.customSeparateX?t.overlapX=o:this.processTileSeparationX(t,o)),o},tileCheckY:function(t,e,i){var o=0,i=i.fixedToCamera?0:i.position.y;return t.deltaY()<0&&!t.blocked.up&&e.collideDown&&t.checkCollision.up?e.faceBottom&&t.y-i<e.bottom&&(o=t.y-i-e.bottom)<-this.TILE_BIAS&&(o=0):0<t.deltaY()&&!t.blocked.down&&e.collideUp&&t.checkCollision.down&&e.faceTop&&t.bottom-i>e.top&&(o=t.bottom-i-e.top)>this.TILE_BIAS&&(o=0),0!==o&&(t.customSeparateY?t.overlapY=o:this.processTileSeparationY(t,o)),o},processTileSeparationX:function(t,e){e<0?t.blocked.left=!0:0<e&&(t.blocked.right=!0),t.position.x-=e,0===t.bounce.x?t.velocity.x=0:t.velocity.x=-t.velocity.x*t.bounce.x},processTileSeparationY:function(t,e){e<0?t.blocked.up=!0:0<e&&(t.blocked.down=!0),t.position.y-=e,0===t.bounce.y?t.velocity.y=0:t.velocity.y=-t.velocity.y*t.bounce.y}},G.Utils.mixinPrototype(G.Physics.Arcade.prototype,G.Physics.Arcade.TilemapCollision.prototype),p2.Body.prototype.parent=null,p2.Spring.prototype.parent=null,G.Physics.P2=function(t,e){this.game=t,void 0===e?e={gravity:[0,0],broadphase:new p2.SAPBroadphase}:(e.hasOwnProperty("gravity")||(e.gravity=[0,0]),e.hasOwnProperty("broadphase")||(e.broadphase=new p2.SAPBroadphase)),this.config=e,this.world=new p2.World(this.config),this.frameRate=1/60,this.useElapsedTime=!1,this.paused=!1,this.materials=[],this.gravity=new G.Physics.P2.InversePointProxy(this,this.world.gravity),this.walls={left:null,right:null,top:null,bottom:null},this.onBodyAdded=new G.Signal,this.onBodyRemoved=new G.Signal,this.onSpringAdded=new G.Signal,this.onSpringRemoved=new G.Signal,this.onConstraintAdded=new G.Signal,this.onConstraintRemoved=new G.Signal,this.onContactMaterialAdded=new G.Signal,this.onContactMaterialRemoved=new G.Signal,this.postBroadphaseCallback=null,this.callbackContext=null,this.onBeginContact=new G.Signal,this.onEndContact=new G.Signal,e.hasOwnProperty("mpx")&&e.hasOwnProperty("pxm")&&e.hasOwnProperty("mpxi")&&e.hasOwnProperty("pxmi")&&(this.mpx=e.mpx,this.mpxi=e.mpxi,this.pxm=e.pxm,this.pxmi=e.pxmi),this.world.on("beginContact",this.beginContactHandler,this),this.world.on("endContact",this.endContactHandler,this),this.collisionGroups=[],this.nothingCollisionGroup=new G.Physics.P2.CollisionGroup(1),this.boundsCollisionGroup=new G.Physics.P2.CollisionGroup(2),this.everythingCollisionGroup=new G.Physics.P2.CollisionGroup(2147483648),this.boundsCollidesWith=[],this._toRemove=[],this._collisionGroupID=2,this._boundsLeft=!0,this._boundsRight=!0,this._boundsTop=!0,this._boundsBottom=!0,this._boundsOwnGroup=!1,this.setBoundsToWorld(!0,!0,!0,!0,!1)},G.Physics.P2.prototype={removeBodyNextStep:function(t){this._toRemove.push(t)},preUpdate:function(){for(var t=this._toRemove.length;t--;)this.removeBody(this._toRemove[t]);this._toRemove.length=0},enable:function(t,e,i){void 0===e&&(e=!1),void 0===i&&(i=!0);var o=1;if(Array.isArray(t))for(o=t.length;o--;)t[o]instanceof G.Group?this.enable(t[o].children,e,i):(this.enableBody(t[o],e),i&&t[o].hasOwnProperty("children")&&0<t[o].children.length&&this.enable(t[o],e,!0));else t instanceof G.Group?this.enable(t.children,e,i):(this.enableBody(t,e),i&&t.hasOwnProperty("children")&&0<t.children.length&&this.enable(t.children,e,!0))},enableBody:function(t,e){t.hasOwnProperty("body")&&null===t.body&&(t.body=new G.Physics.P2.Body(this.game,t,t.x,t.y,1),t.body.debug=e,void 0!==t.anchor&&t.anchor.set(.5))},setImpactEvents:function(t){t?this.world.on("impact",this.impactHandler,this):this.world.off("impact",this.impactHandler,this)},setPostBroadphaseCallback:function(t,e){this.postBroadphaseCallback=t,this.callbackContext=e,null!==t?this.world.on("postBroadphase",this.postBroadphaseHandler,this):this.world.off("postBroadphase",this.postBroadphaseHandler,this)},postBroadphaseHandler:function(t){if(this.postBroadphaseCallback&&0!==t.pairs.length)for(var e=t.pairs.length-2;0<=e;e-=2)t.pairs[e].parent&&t.pairs[e+1].parent&&!this.postBroadphaseCallback.call(this.callbackContext,t.pairs[e].parent,t.pairs[e+1].parent)&&t.pairs.splice(e,2)},impactHandler:function(t){var e,i;t.bodyA.parent&&t.bodyB.parent&&(e=t.bodyA.parent,i=t.bodyB.parent,e._bodyCallbacks[t.bodyB.id]&&e._bodyCallbacks[t.bodyB.id].call(e._bodyCallbackContext[t.bodyB.id],e,i,t.shapeA,t.shapeB),i._bodyCallbacks[t.bodyA.id]&&i._bodyCallbacks[t.bodyA.id].call(i._bodyCallbackContext[t.bodyA.id],i,e,t.shapeB,t.shapeA),e._groupCallbacks[t.shapeB.collisionGroup]&&e._groupCallbacks[t.shapeB.collisionGroup].call(e._groupCallbackContext[t.shapeB.collisionGroup],e,i,t.shapeA,t.shapeB),i._groupCallbacks[t.shapeA.collisionGroup]&&i._groupCallbacks[t.shapeA.collisionGroup].call(i._groupCallbackContext[t.shapeA.collisionGroup],i,e,t.shapeB,t.shapeA))},beginContactHandler:function(t){t.bodyA&&t.bodyB&&(this.onBeginContact.dispatch(t.bodyA,t.bodyB,t.shapeA,t.shapeB,t.contactEquations),t.bodyA.parent&&t.bodyA.parent.onBeginContact.dispatch(t.bodyB.parent,t.bodyB,t.shapeA,t.shapeB,t.contactEquations),t.bodyB.parent&&t.bodyB.parent.onBeginContact.dispatch(t.bodyA.parent,t.bodyA,t.shapeB,t.shapeA,t.contactEquations))},endContactHandler:function(t){t.bodyA&&t.bodyB&&(this.onEndContact.dispatch(t.bodyA,t.bodyB,t.shapeA,t.shapeB),t.bodyA.parent&&t.bodyA.parent.onEndContact.dispatch(t.bodyB.parent,t.bodyB,t.shapeA,t.shapeB),t.bodyB.parent&&t.bodyB.parent.onEndContact.dispatch(t.bodyA.parent,t.bodyA,t.shapeB,t.shapeA))},setBoundsToWorld:function(t,e,i,o,n){this.setBounds(this.game.world.bounds.x,this.game.world.bounds.y,this.game.world.bounds.width,this.game.world.bounds.height,t,e,i,o,n)},setWorldMaterial:function(t,e,i,o,n){void 0===i&&(i=!0),void 0===o&&(o=!0),void 0===n&&(n=!0),(e=void 0===e?!0:e)&&this.walls.left&&(this.walls.left.shapes[0].material=t),i&&this.walls.right&&(this.walls.right.shapes[0].material=t),o&&this.walls.top&&(this.walls.top.shapes[0].material=t),n&&this.walls.bottom&&(this.walls.bottom.shapes[0].material=t)},updateBoundsCollisionGroup:function(t){var e=((t=void 0===t?!0:t)?this.boundsCollisionGroup:this.everythingCollisionGroup).mask;this.walls.left&&(this.walls.left.shapes[0].collisionGroup=e),this.walls.right&&(this.walls.right.shapes[0].collisionGroup=e),this.walls.top&&(this.walls.top.shapes[0].collisionGroup=e),this.walls.bottom&&(this.walls.bottom.shapes[0].collisionGroup=e),this._boundsOwnGroup=t},setBounds:function(t,e,i,o,n,s,r,c,a){void 0===n&&(n=this._boundsLeft),void 0===s&&(s=this._boundsRight),void 0===r&&(r=this._boundsTop),void 0===c&&(c=this._boundsBottom),void 0===a&&(a=this._boundsOwnGroup),this.setupWall(n,"left",t,e,1.5707963267948966,a),this.setupWall(s,"right",t+i,e,-1.5707963267948966,a),this.setupWall(r,"top",t,e,-3.141592653589793,a),this.setupWall(c,"bottom",t,e+o,0,a),this._boundsLeft=n,this._boundsRight=s,this._boundsTop=r,this._boundsBottom=c,this._boundsOwnGroup=a},setupWall:function(t,e,i,o,n,s){t?(this.walls[e]?this.walls[e].position=[this.pxmi(i),this.pxmi(o)]:(this.walls[e]=new p2.Body({mass:0,position:[this.pxmi(i),this.pxmi(o)],angle:n}),this.walls[e].addShape(new p2.Plane),this.world.addBody(this.walls[e])),s&&(this.walls[e].shapes[0].collisionGroup=this.boundsCollisionGroup.mask)):this.walls[e]&&(this.world.removeBody(this.walls[e]),this.walls[e]=null)},pause:function(){this.paused=!0},resume:function(){this.paused=!1},update:function(){this.paused||(this.useElapsedTime?this.world.step(this.game.time.physicsElapsed):this.world.step(this.frameRate))},reset:function(){this.world.on("beginContact",this.beginContactHandler,this),this.world.on("endContact",this.endContactHandler,this),this.nothingCollisionGroup=new G.Physics.P2.CollisionGroup(1),this.boundsCollisionGroup=new G.Physics.P2.CollisionGroup(2),this.everythingCollisionGroup=new G.Physics.P2.CollisionGroup(2147483648),this._collisionGroupID=2,this.setBoundsToWorld(!0,!0,!0,!0,!1)},clear:function(){this.world.time=0,this.world.fixedStepTime=0,this.world.solver&&this.world.solver.equations.length&&this.world.solver.removeAllEquations();for(var t=this.world.constraints,e=t.length-1;0<=e;e--)this.world.removeConstraint(t[e]);for(var i=this.world.bodies,e=i.length-1;0<=e;e--)this.world.removeBody(i[e]);for(var o=this.world.springs,e=o.length-1;0<=e;e--)this.world.removeSpring(o[e]);for(var n=this.world.contactMaterials,e=n.length-1;0<=e;e--)this.world.removeContactMaterial(n[e]);this.world.off("beginContact",this.beginContactHandler,this),this.world.off("endContact",this.endContactHandler,this),this.postBroadphaseCallback=null,this.callbackContext=null,this.impactCallback=null,this.collisionGroups=[],this._toRemove=[],this.boundsCollidesWith=[],this.walls={left:null,right:null,top:null,bottom:null}},destroy:function(){this.clear(),this.game=null},addBody:function(t){return!t.data.world&&(this.world.addBody(t.data),this.onBodyAdded.dispatch(t),!0)},removeBody:function(t){return t.data.world===this.world&&(this.world.removeBody(t.data),this.onBodyRemoved.dispatch(t)),t},addSpring:function(t){return t instanceof G.Physics.P2.Spring||t instanceof G.Physics.P2.RotationalSpring?this.world.addSpring(t.data):this.world.addSpring(t),this.onSpringAdded.dispatch(t),t},removeSpring:function(t){return t instanceof G.Physics.P2.Spring||t instanceof G.Physics.P2.RotationalSpring?this.world.removeSpring(t.data):this.world.removeSpring(t),this.onSpringRemoved.dispatch(t),t},createDistanceConstraint:function(t,e,i,o,n,s){if(t=this.getBody(t),e=this.getBody(e),t&&e)return this.addConstraint(new G.Physics.P2.DistanceConstraint(this,t,e,i,o,n,s))},createGearConstraint:function(t,e,i,o){if(t=this.getBody(t),e=this.getBody(e),t&&e)return this.addConstraint(new G.Physics.P2.GearConstraint(this,t,e,i,o))},createRevoluteConstraint:function(t,e,i,o,n,s){if(t=this.getBody(t),i=this.getBody(i),t&&i)return this.addConstraint(new G.Physics.P2.RevoluteConstraint(this,t,e,i,o,n,s))},createLockConstraint:function(t,e,i,o,n){if(t=this.getBody(t),e=this.getBody(e),t&&e)return this.addConstraint(new G.Physics.P2.LockConstraint(this,t,e,i,o,n))},createPrismaticConstraint:function(t,e,i,o,n,s,r){if(t=this.getBody(t),e=this.getBody(e),t&&e)return this.addConstraint(new G.Physics.P2.PrismaticConstraint(this,t,e,i,o,n,s,r))},addConstraint:function(t){return this.world.addConstraint(t),this.onConstraintAdded.dispatch(t),t},removeConstraint:function(t){return this.world.removeConstraint(t),this.onConstraintRemoved.dispatch(t),t},addContactMaterial:function(t){return this.world.addContactMaterial(t),this.onContactMaterialAdded.dispatch(t),t},removeContactMaterial:function(t){return this.world.removeContactMaterial(t),this.onContactMaterialRemoved.dispatch(t),t},getContactMaterial:function(t,e){return this.world.getContactMaterial(t,e)},setMaterial:function(t,e){for(var i=e.length;i--;)e[i].setMaterial(t)},createMaterial:function(t,e){t=new G.Physics.P2.Material(t=t||"");return this.materials.push(t),void 0!==e&&e.setMaterial(t),t},createContactMaterial:function(t,e,i){void 0===t&&(t=this.createMaterial()),void 0===e&&(e=this.createMaterial());t=new G.Physics.P2.ContactMaterial(t,e,i);return this.addContactMaterial(t)},getBodies:function(){for(var t=[],e=this.world.bodies.length;e--;)t.push(this.world.bodies[e].parent);return t},getBody:function(t){return t instanceof p2.Body?t:t instanceof G.Physics.P2.Body?t.data:t.body&&t.body.type===G.Physics.P2JS?t.body.data:null},getSprings:function(){for(var t=[],e=this.world.springs.length;e--;)t.push(this.world.springs[e].parent);return t},getConstraints:function(){for(var t=[],e=this.world.constraints.length;e--;)t.push(this.world.constraints[e]);return t},hitTest:function(t,e,i,o){void 0===e&&(e=this.world.bodies),void 0===i&&(i=5),void 0===o&&(o=!1);for(var t=[this.pxmi(t.x),this.pxmi(t.y)],n=[],s=e.length;s--;)e[s]instanceof G.Physics.P2.Body&&(!o||e[s].data.type!==p2.Body.STATIC)?n.push(e[s].data):e[s]instanceof p2.Body&&e[s].parent&&(!o||e[s].type!==p2.Body.STATIC)?n.push(e[s]):e[s]instanceof G.Sprite&&e[s].hasOwnProperty("body")&&(!o||e[s].body.data.type!==p2.Body.STATIC)&&n.push(e[s].body.data);return this.world.hitTest(t,n,i)},toJSON:function(){return this.world.toJSON()},createCollisionGroup:function(t){var e=Math.pow(2,this._collisionGroupID),e=(this.walls.left&&(this.walls.left.shapes[0].collisionMask=this.walls.left.shapes[0].collisionMask|e),this.walls.right&&(this.walls.right.shapes[0].collisionMask=this.walls.right.shapes[0].collisionMask|e),this.walls.top&&(this.walls.top.shapes[0].collisionMask=this.walls.top.shapes[0].collisionMask|e),this.walls.bottom&&(this.walls.bottom.shapes[0].collisionMask=this.walls.bottom.shapes[0].collisionMask|e),this._collisionGroupID++,new G.Physics.P2.CollisionGroup(e));return this.collisionGroups.push(e),t&&this.setCollisionGroup(t,e),e},setCollisionGroup:function(t,e){if(t instanceof G.Group)for(var i=0;i<t.total;i++)t.children[i].body&&t.children[i].body.type===G.Physics.P2JS&&t.children[i].body.setCollisionGroup(e);else t.body.setCollisionGroup(e)},createSpring:function(t,e,i,o,n,s,r,c,a){if(t=this.getBody(t),e=this.getBody(e),t&&e)return this.addSpring(new G.Physics.P2.Spring(this,t,e,i,o,n,s,r,c,a))},createRotationalSpring:function(t,e,i,o,n){if(t=this.getBody(t),e=this.getBody(e),t&&e)return this.addSpring(new G.Physics.P2.RotationalSpring(this,t,e,i,o,n))},createBody:function(t,e,i,o,n,s){void 0===o&&(o=!1);t=new G.Physics.P2.Body(this.game,null,t,e,i);return!(s&&!t.addPolygon(n,s))&&(o&&this.world.addBody(t.data),t)},createParticle:function(t,e,i,o,n,s){void 0===o&&(o=!1);t=new G.Physics.P2.Body(this.game,null,t,e,i);return!(s&&!t.addPolygon(n,s))&&(o&&this.world.addBody(t.data),t)},convertCollisionObjects:function(t,e,i){void 0===i&&(i=!0);for(var o=[],n=0,s=t.collision[e].length;n<s;n++){var r=t.collision[e][n],r=this.createBody(r.x,r.y,0,i,{},r.polyline);r&&o.push(r)}return o},clearTilemapLayerBodies:function(t,e){e=t.getLayer(e);for(var i=t.layers[e].bodies.length;i--;)t.layers[e].bodies[i].destroy();t.layers[e].bodies.length=0},convertTilemap:function(t,e,i,o){e=t.getLayer(e),void 0===i&&(i=!0),void 0===o&&(o=!0),this.clearTilemapLayerBodies(t,e);for(var n=0,s=0,r=0,c=0,a=t.layers[e].height;c<a;c++)for(var n=0,h=0,u=t.layers[e].width;h<u;h++){var l,d,p=t.layers[e].data[c][h];p&&-1<p.index&&p.collides&&(o?(l=t.getTileRight(e,h,c),0===n&&(s=p.x*p.width,r=p.y*p.height,n=p.width),l&&l.collides?n+=p.width:((d=this.createBody(s,r,0,!1)).addRectangle(n,p.height,n/2,p.height/2,0),i&&this.addBody(d),t.layers[e].bodies.push(d),n=0)):((d=this.createBody(p.x*p.width,p.y*p.height,0,!1)).addRectangle(p.width,p.height,p.width/2,p.height/2,0),i&&this.addBody(d),t.layers[e].bodies.push(d)))}return t.layers[e].bodies},mpx:function(t){return 20*t},pxm:function(t){return.05*t},mpxi:function(t){return-20*t},pxmi:function(t){return-.05*t}},Object.defineProperty(G.Physics.P2.prototype,"friction",{get:function(){return this.world.defaultContactMaterial.friction},set:function(t){this.world.defaultContactMaterial.friction=t}}),Object.defineProperty(G.Physics.P2.prototype,"restitution",{get:function(){return this.world.defaultContactMaterial.restitution},set:function(t){this.world.defaultContactMaterial.restitution=t}}),Object.defineProperty(G.Physics.P2.prototype,"contactMaterial",{get:function(){return this.world.defaultContactMaterial},set:function(t){this.world.defaultContactMaterial=t}}),Object.defineProperty(G.Physics.P2.prototype,"applySpringForces",{get:function(){return this.world.applySpringForces},set:function(t){this.world.applySpringForces=t}}),Object.defineProperty(G.Physics.P2.prototype,"applyDamping",{get:function(){return this.world.applyDamping},set:function(t){this.world.applyDamping=t}}),Object.defineProperty(G.Physics.P2.prototype,"applyGravity",{get:function(){return this.world.applyGravity},set:function(t){this.world.applyGravity=t}}),Object.defineProperty(G.Physics.P2.prototype,"solveConstraints",{get:function(){return this.world.solveConstraints},set:function(t){this.world.solveConstraints=t}}),Object.defineProperty(G.Physics.P2.prototype,"time",{get:function(){return this.world.time}}),Object.defineProperty(G.Physics.P2.prototype,"emitImpactEvent",{get:function(){return this.world.emitImpactEvent},set:function(t){this.world.emitImpactEvent=t}}),Object.defineProperty(G.Physics.P2.prototype,"sleepMode",{get:function(){return this.world.sleepMode},set:function(t){this.world.sleepMode=t}}),Object.defineProperty(G.Physics.P2.prototype,"total",{get:function(){return this.world.bodies.length}}),G.Physics.P2.FixtureList=function(t){Array.isArray(t)||(t=[t]),this.rawList=t,this.init(),this.parse(this.rawList)},G.Physics.P2.FixtureList.prototype={init:function(){this.namedFixtures={},this.groupedFixtures=[],this.allFixtures=[]},setCategory:function(e,t){this.getFixtures(t).forEach(function(t){t.collisionGroup=e})},setMask:function(e,t){this.getFixtures(t).forEach(function(t){t.collisionMask=e})},setSensor:function(e,t){this.getFixtures(t).forEach(function(t){t.sensor=e})},setMaterial:function(e,t){this.getFixtures(t).forEach(function(t){t.material=e})},getFixtures:function(t){var e,i=[];return t?(t instanceof Array||(t=[t]),e=this,t.forEach(function(t){e.namedFixtures[t]&&i.push(e.namedFixtures[t])}),this.flatten(i)):this.allFixtures},getFixtureByKey:function(t){return this.namedFixtures[t]},getGroup:function(t){return this.groupedFixtures[t]},parse:function(){var t,e,i=this.rawList,o=[];for(t in i)e=i[t],isNaN(+t)?this.namedFixtures[t]=this.flatten(e):(this.groupedFixtures[t]=this.groupedFixtures[t]||[],this.groupedFixtures[t]=this.groupedFixtures[t].concat(e)),o.push(this.allFixtures=this.flatten(this.groupedFixtures))},flatten:function(t){var e=[],i=arguments.callee;return t.forEach(function(t){return Array.prototype.push.apply(e,Array.isArray(t)?i(t):[t])}),e}},G.Physics.P2.PointProxy=function(t,e){this.world=t,this.destination=e},G.Physics.P2.PointProxy.prototype.constructor=G.Physics.P2.PointProxy,Object.defineProperty(G.Physics.P2.PointProxy.prototype,"x",{get:function(){return this.world.mpx(this.destination[0])},set:function(t){this.destination[0]=this.world.pxm(t)}}),Object.defineProperty(G.Physics.P2.PointProxy.prototype,"y",{get:function(){return this.world.mpx(this.destination[1])},set:function(t){this.destination[1]=this.world.pxm(t)}}),Object.defineProperty(G.Physics.P2.PointProxy.prototype,"mx",{get:function(){return this.destination[0]},set:function(t){this.destination[0]=t}}),Object.defineProperty(G.Physics.P2.PointProxy.prototype,"my",{get:function(){return this.destination[1]},set:function(t){this.destination[1]=t}}),G.Physics.P2.InversePointProxy=function(t,e){this.world=t,this.destination=e},G.Physics.P2.InversePointProxy.prototype.constructor=G.Physics.P2.InversePointProxy,Object.defineProperty(G.Physics.P2.InversePointProxy.prototype,"x",{get:function(){return this.world.mpxi(this.destination[0])},set:function(t){this.destination[0]=this.world.pxmi(t)}}),Object.defineProperty(G.Physics.P2.InversePointProxy.prototype,"y",{get:function(){return this.world.mpxi(this.destination[1])},set:function(t){this.destination[1]=this.world.pxmi(t)}}),Object.defineProperty(G.Physics.P2.InversePointProxy.prototype,"mx",{get:function(){return this.destination[0]},set:function(t){this.destination[0]=-t}}),Object.defineProperty(G.Physics.P2.InversePointProxy.prototype,"my",{get:function(){return this.destination[1]},set:function(t){this.destination[1]=-t}}),G.Physics.P2.Body=function(t,e,i,o,n){e=e||null,i=i||0,o=o||0,void 0===n&&(n=1),this.game=t,this.world=t.physics.p2,this.sprite=e,this.type=G.Physics.P2JS,this.offset=new G.Point,this.data=new p2.Body({position:[this.world.pxmi(i),this.world.pxmi(o)],mass:n}),(this.data.parent=this).velocity=new G.Physics.P2.InversePointProxy(this.world,this.data.velocity),this.force=new G.Physics.P2.InversePointProxy(this.world,this.data.force),this.gravity=new G.Point,this.onBeginContact=new G.Signal,this.onEndContact=new G.Signal,this.collidesWith=[],this.removeNextStep=!1,this.debugBody=null,this.dirty=!1,this._collideWorldBounds=!0,this._bodyCallbacks={},this._bodyCallbackContext={},this._groupCallbacks={},this._groupCallbackContext={},this._reset=!1,e&&(this.setRectangleFromSprite(e),e.exists&&this.game.physics.p2.addBody(this))},G.Physics.P2.Body.prototype={createBodyCallback:function(t,e,i){var o=-1;t.id?o=t.id:t.body&&(o=t.body.id),-1<o&&(null===e?(delete this._bodyCallbacks[o],delete this._bodyCallbackContext[o]):(this._bodyCallbacks[o]=e,this._bodyCallbackContext[o]=i))},createGroupCallback:function(t,e,i){null===e?(delete this._groupCallbacks[t.mask],delete this._groupCallbackContext[t.mask]):(this._groupCallbacks[t.mask]=e,this._groupCallbackContext[t.mask]=i)},getCollisionMask:function(){var t=0;this._collideWorldBounds&&(t=this.game.physics.p2.boundsCollisionGroup.mask);for(var e=0;e<this.collidesWith.length;e++)t|=this.collidesWith[e].mask;return t},updateCollisionMask:function(t){var e=this.getCollisionMask();if(void 0===t)for(var i=this.data.shapes.length-1;0<=i;i--)this.data.shapes[i].collisionMask=e;else t.collisionMask=e},setCollisionGroup:function(t,e){var i=this.getCollisionMask();if(void 0===e)for(var o=this.data.shapes.length-1;0<=o;o--)this.data.shapes[o].collisionGroup=t.mask,this.data.shapes[o].collisionMask=i;else e.collisionGroup=t.mask,e.collisionMask=i},clearCollision:function(t,e,i){if(void 0===t&&(t=!0),void 0===e&&(e=!0),void 0===i)for(var o=this.data.shapes.length-1;0<=o;o--)t&&(this.data.shapes[o].collisionGroup=null),e&&(this.data.shapes[o].collisionMask=null);else t&&(i.collisionGroup=null),e&&(i.collisionMask=null);t&&(this.collidesWith.length=0)},removeCollisionGroup:function(t,e,i){var o;if(void 0===e&&(e=!0),Array.isArray(t))for(var n=0;n<t.length;n++)-1<(o=this.collidesWith.indexOf(t[n]))&&(this.collidesWith.splice(o,1),e&&(delete this._groupCallbacks[t.mask],delete this._groupCallbackContext[t.mask]));else-1<(o=this.collidesWith.indexOf(t))&&(this.collidesWith.splice(o,1),e&&(delete this._groupCallbacks[t.mask],delete this._groupCallbackContext[t.mask]));var s=this.getCollisionMask();if(void 0===i)for(n=this.data.shapes.length-1;0<=n;n--)this.data.shapes[n].collisionMask=s;else i.collisionMask=s},collides:function(t,e,i,o){if(Array.isArray(t))for(var n=0;n<t.length;n++)-1===this.collidesWith.indexOf(t[n])&&(this.collidesWith.push(t[n]),e&&this.createGroupCallback(t[n],e,i));else-1===this.collidesWith.indexOf(t)&&(this.collidesWith.push(t),e&&this.createGroupCallback(t,e,i));var s=this.getCollisionMask();if(void 0===o)for(n=this.data.shapes.length-1;0<=n;n--)this.data.shapes[n].collisionMask=s;else o.collisionMask=s},adjustCenterOfMass:function(){this.data.adjustCenterOfMass(),this.shapeChanged()},getVelocityAtPoint:function(t,e){return this.data.getVelocityAtPoint(t,e)},applyDamping:function(t){this.data.applyDamping(t)},applyImpulse:function(t,e,i){this.data.applyImpulse(t,[this.world.pxmi(e),this.world.pxmi(i)])},applyImpulseLocal:function(t,e,i){this.data.applyImpulseLocal(t,[this.world.pxmi(e),this.world.pxmi(i)])},applyForce:function(t,e,i){this.data.applyForce(t,[this.world.pxmi(e),this.world.pxmi(i)])},setZeroForce:function(){this.data.setZeroForce()},setZeroRotation:function(){this.data.angularVelocity=0},setZeroVelocity:function(){this.data.velocity[0]=0,this.data.velocity[1]=0},setZeroDamping:function(){this.data.damping=0,this.data.angularDamping=0},toLocalFrame:function(t,e){return this.data.toLocalFrame(t,e)},toWorldFrame:function(t,e){return this.data.toWorldFrame(t,e)},rotateLeft:function(t){this.data.angularVelocity=this.world.pxm(-t)},rotateRight:function(t){this.data.angularVelocity=this.world.pxm(t)},moveForward:function(t){var t=this.world.pxmi(-t),e=this.data.angle+Math.PI/2;this.data.velocity[0]=t*Math.cos(e),this.data.velocity[1]=t*Math.sin(e)},moveBackward:function(t){var t=this.world.pxmi(-t),e=this.data.angle+Math.PI/2;this.data.velocity[0]=-t*Math.cos(e),this.data.velocity[1]=-t*Math.sin(e)},thrust:function(t){var t=this.world.pxmi(-t),e=this.data.angle+Math.PI/2;this.data.force[0]+=t*Math.cos(e),this.data.force[1]+=t*Math.sin(e)},thrustLeft:function(t){var t=this.world.pxmi(-t),e=this.data.angle;this.data.force[0]+=t*Math.cos(e),this.data.force[1]+=t*Math.sin(e)},thrustRight:function(t){var t=this.world.pxmi(-t),e=this.data.angle;this.data.force[0]-=t*Math.cos(e),this.data.force[1]-=t*Math.sin(e)},reverse:function(t){var t=this.world.pxmi(-t),e=this.data.angle+Math.PI/2;this.data.force[0]-=t*Math.cos(e),this.data.force[1]-=t*Math.sin(e)},moveLeft:function(t){this.data.velocity[0]=this.world.pxmi(-t)},moveRight:function(t){this.data.velocity[0]=this.world.pxmi(t)},moveUp:function(t){this.data.velocity[1]=this.world.pxmi(-t)},moveDown:function(t){this.data.velocity[1]=this.world.pxmi(t)},preUpdate:function(){this.dirty=!0,this.removeNextStep&&(this.removeFromWorld(),this.removeNextStep=!1)},postUpdate:function(){this.sprite.x=this.world.mpxi(this.data.position[0])+this.offset.x,this.sprite.y=this.world.mpxi(this.data.position[1])+this.offset.y,this.fixedRotation||(this.sprite.rotation=this.data.angle),this.debugBody&&this.debugBody.updateSpriteTransform(),this.dirty=!1},reset:function(t,e,i,o){void 0===i&&(i=!1),void 0===o&&(o=!1),this.setZeroForce(),this.setZeroVelocity(),this.setZeroRotation(),i&&this.setZeroDamping(),o&&(this.mass=1),this.x=t,this.y=e},addToWorld:function(){if(this.game.physics.p2._toRemove)for(var t=0;t<this.game.physics.p2._toRemove.length;t++)this.game.physics.p2._toRemove[t]===this&&this.game.physics.p2._toRemove.splice(t,1);this.data.world!==this.game.physics.p2.world&&this.game.physics.p2.addBody(this)},removeFromWorld:function(){this.data.world===this.game.physics.p2.world&&this.game.physics.p2.removeBodyNextStep(this)},destroy:function(){this.removeFromWorld(),this.clearShapes(),this._bodyCallbacks={},this._bodyCallbackContext={},this._groupCallbacks={},this._groupCallbackContext={},this.debugBody&&this.debugBody.destroy(!0,!0),this.debugBody=null,this.sprite&&(this.sprite.body=null,this.sprite=null)},clearShapes:function(){for(var t=this.data.shapes.length;t--;)this.data.removeShape(this.data.shapes[t]);this.shapeChanged()},addShape:function(t,e,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),this.data.addShape(t,[this.world.pxmi(e=void 0===e?0:e),this.world.pxmi(i)],o),this.shapeChanged(),t},addCircle:function(t,e,i,o){t=new p2.Circle({radius:this.world.pxm(t)});return this.addShape(t,e,i,o)},addRectangle:function(t,e,i,o,n){t=new p2.Box({width:this.world.pxm(t),height:this.world.pxm(e)});return this.addShape(t,i,o,n)},addPlane:function(t,e,i){var o=new p2.Plane;return this.addShape(o,t,e,i)},addParticle:function(t,e,i){var o=new p2.Particle;return this.addShape(o,t,e,i)},addLine:function(t,e,i,o){t=new p2.Line({length:this.world.pxm(t)});return this.addShape(t,e,i,o)},addCapsule:function(t,e,i,o,n){t=new p2.Capsule({length:this.world.pxm(t),radius:this.world.pxm(e)});return this.addShape(t,i,o,n)},addPolygon:function(t,e){t=t||{};var i=[];if(1===(e=Array.isArray(e)?e:Array.prototype.slice.call(arguments,1)).length&&Array.isArray(e[0]))i=e[0].slice(0);else if(Array.isArray(e[0]))i=e.slice();else if("number"==typeof e[0])for(var o=0,n=e.length;o<n;o+=2)i.push([e[o],e[o+1]]);var s=i.length-1;i[s][0]===i[0][0]&&i[s][1]===i[0][1]&&i.pop();for(var r=0;r<i.length;r++)i[r][0]=this.world.pxmi(i[r][0]),i[r][1]=this.world.pxmi(i[r][1]);s=this.data.fromPolygon(i,t);return this.shapeChanged(),s},removeShape:function(t){t=this.data.removeShape(t);return this.shapeChanged(),t},setCircle:function(t,e,i,o){return this.clearShapes(),this.addCircle(t,e,i,o)},setRectangle:function(t,e,i,o,n){return void 0===t&&(t=16),void 0===e&&(e=16),this.clearShapes(),this.addRectangle(t,e,i,o,n)},setRectangleFromSprite:function(t){return void 0===t&&(t=this.sprite),this.clearShapes(),this.addRectangle(t.width,t.height,0,0,t.rotation)},setMaterial:function(t,e){if(void 0===e)for(var i=this.data.shapes.length-1;0<=i;i--)this.data.shapes[i].material=t;else e.material=t},shapeChanged:function(){this.debugBody&&this.debugBody.draw()},addPhaserPolygon:function(t,e){for(var i=this.game.cache.getPhysicsData(t,e),o=[],n=0;n<i.length;n++){var s=i[n],r=this.addFixture(s);o[s.filter.group]=o[s.filter.group]||[],o[s.filter.group]=o[s.filter.group].concat(r),s.fixtureKey&&(o[s.fixtureKey]=r)}return this.data.aabbNeedsUpdate=!0,this.shapeChanged(),o},addFixture:function(t){var e=[];if(t.circle){(h=new p2.Circle({radius:this.world.pxm(t.circle.radius)})).collisionGroup=t.filter.categoryBits,h.collisionMask=t.filter.maskBits,h.sensor=t.isSensor;var i=p2.vec2.create();i[0]=this.world.pxmi(t.circle.position[0]-this.sprite.width/2),i[1]=this.world.pxmi(t.circle.position[1]-this.sprite.height/2),this.data.addShape(h,i),e.push(h)}else for(var o=t.polygons,n=p2.vec2.create(),s=0;s<o.length;s++){for(var r=o[s],c=[],a=0;a<r.length;a+=2)c.push([this.world.pxmi(r[a]),this.world.pxmi(r[a+1])]);for(var h=new p2.Convex({vertices:c}),u=0;u!==h.vertices.length;u++){var l=h.vertices[u];p2.vec2.sub(l,l,h.centerOfMass)}p2.vec2.scale(n,h.centerOfMass,1),n[0]-=this.world.pxmi(this.sprite.width/2),n[1]-=this.world.pxmi(this.sprite.height/2),h.updateTriangles(),h.updateCenterOfMass(),h.updateBoundingRadius(),h.collisionGroup=t.filter.categoryBits,h.collisionMask=t.filter.maskBits,h.sensor=t.isSensor,this.data.addShape(h,n),e.push(h)}return e},loadPolygon:function(t,e){var i;i=null===t?e:this.game.cache.getPhysicsData(t,e);for(var o=p2.vec2.create(),n=0;n<i.length;n++){for(var s=[],r=0;r<i[n].shape.length;r+=2)s.push([this.world.pxmi(i[n].shape[r]),this.world.pxmi(i[n].shape[r+1])]);for(var c=new p2.Convex({vertices:s}),a=0;a!==c.vertices.length;a++){var h=c.vertices[a];p2.vec2.sub(h,h,c.centerOfMass)}p2.vec2.scale(o,c.centerOfMass,1),o[0]-=this.world.pxmi(this.sprite.width/2),o[1]-=this.world.pxmi(this.sprite.height/2),c.updateTriangles(),c.updateCenterOfMass(),c.updateBoundingRadius(),this.data.addShape(c,o)}return this.data.aabbNeedsUpdate=!0,this.shapeChanged(),!0}},G.Physics.P2.Body.prototype.constructor=G.Physics.P2.Body,G.Physics.P2.Body.DYNAMIC=1,G.Physics.P2.Body.STATIC=2,G.Physics.P2.Body.KINEMATIC=4,Object.defineProperty(G.Physics.P2.Body.prototype,"static",{get:function(){return this.data.type===G.Physics.P2.Body.STATIC},set:function(t){t&&this.data.type!==G.Physics.P2.Body.STATIC?(this.data.type=G.Physics.P2.Body.STATIC,this.mass=0):t||this.data.type!==G.Physics.P2.Body.STATIC||(this.data.type=G.Physics.P2.Body.DYNAMIC,this.mass=1)}}),Object.defineProperty(G.Physics.P2.Body.prototype,"dynamic",{get:function(){return this.data.type===G.Physics.P2.Body.DYNAMIC},set:function(t){t&&this.data.type!==G.Physics.P2.Body.DYNAMIC?(this.data.type=G.Physics.P2.Body.DYNAMIC,this.mass=1):t||this.data.type!==G.Physics.P2.Body.DYNAMIC||(this.data.type=G.Physics.P2.Body.STATIC,this.mass=0)}}),Object.defineProperty(G.Physics.P2.Body.prototype,"kinematic",{get:function(){return this.data.type===G.Physics.P2.Body.KINEMATIC},set:function(t){t&&this.data.type!==G.Physics.P2.Body.KINEMATIC?(this.data.type=G.Physics.P2.Body.KINEMATIC,this.mass=4):t||this.data.type!==G.Physics.P2.Body.KINEMATIC||(this.data.type=G.Physics.P2.Body.STATIC,this.mass=0)}}),Object.defineProperty(G.Physics.P2.Body.prototype,"allowSleep",{get:function(){return this.data.allowSleep},set:function(t){t!==this.data.allowSleep&&(this.data.allowSleep=t)}}),Object.defineProperty(G.Physics.P2.Body.prototype,"angle",{get:function(){return G.Math.wrapAngle(G.Math.radToDeg(this.data.angle))},set:function(t){this.data.angle=G.Math.degToRad(G.Math.wrapAngle(t))}}),Object.defineProperty(G.Physics.P2.Body.prototype,"angularDamping",{get:function(){return this.data.angularDamping},set:function(t){this.data.angularDamping=t}}),Object.defineProperty(G.Physics.P2.Body.prototype,"angularForce",{get:function(){return this.data.angularForce},set:function(t){this.data.angularForce=t}}),Object.defineProperty(G.Physics.P2.Body.prototype,"angularVelocity",{get:function(){return this.data.angularVelocity},set:function(t){this.data.angularVelocity=t}}),Object.defineProperty(G.Physics.P2.Body.prototype,"damping",{get:function(){return this.data.damping},set:function(t){this.data.damping=t}}),Object.defineProperty(G.Physics.P2.Body.prototype,"fixedRotation",{get:function(){return this.data.fixedRotation},set:function(t){t!==this.data.fixedRotation&&(this.data.fixedRotation=t)}}),Object.defineProperty(G.Physics.P2.Body.prototype,"inertia",{get:function(){return this.data.inertia},set:function(t){this.data.inertia=t}}),Object.defineProperty(G.Physics.P2.Body.prototype,"mass",{get:function(){return this.data.mass},set:function(t){t!==this.data.mass&&(this.data.mass=t,this.data.updateMassProperties())}}),Object.defineProperty(G.Physics.P2.Body.prototype,"motionState",{get:function(){return this.data.type},set:function(t){t!==this.data.type&&(this.data.type=t)}}),Object.defineProperty(G.Physics.P2.Body.prototype,"rotation",{get:function(){return this.data.angle},set:function(t){this.data.angle=t}}),Object.defineProperty(G.Physics.P2.Body.prototype,"sleepSpeedLimit",{get:function(){return this.data.sleepSpeedLimit},set:function(t){this.data.sleepSpeedLimit=t}}),Object.defineProperty(G.Physics.P2.Body.prototype,"x",{get:function(){return this.world.mpxi(this.data.position[0])},set:function(t){this.data.position[0]=this.world.pxmi(t)}}),Object.defineProperty(G.Physics.P2.Body.prototype,"y",{get:function(){return this.world.mpxi(this.data.position[1])},set:function(t){this.data.position[1]=this.world.pxmi(t)}}),Object.defineProperty(G.Physics.P2.Body.prototype,"id",{get:function(){return this.data.id}}),Object.defineProperty(G.Physics.P2.Body.prototype,"debug",{get:function(){return null!==this.debugBody},set:function(t){t&&!this.debugBody?this.debugBody=new G.Physics.P2.BodyDebug(this.game,this.data):!t&&this.debugBody&&(this.debugBody.destroy(),this.debugBody=null)}}),Object.defineProperty(G.Physics.P2.Body.prototype,"collideWorldBounds",{get:function(){return this._collideWorldBounds},set:function(t){t&&!this._collideWorldBounds?(this._collideWorldBounds=!0,this.updateCollisionMask()):!t&&this._collideWorldBounds&&(this._collideWorldBounds=!1,this.updateCollisionMask())}}),G.Physics.P2.BodyDebug=function(t,e,i){G.Group.call(this,t);var o={pixelsPerLengthUnit:t.physics.p2.mpx(1),debugPolygons:!1,lineWidth:1,alpha:.5};this.settings=G.Utils.extend(o,i),this.ppu=this.settings.pixelsPerLengthUnit,this.ppu=-1*this.ppu,this.body=e,this.canvas=new G.Graphics(t),this.canvas.alpha=this.settings.alpha,this.add(this.canvas),this.draw(),this.updateSpriteTransform()},G.Physics.P2.BodyDebug.prototype=Object.create(G.Group.prototype),G.Physics.P2.BodyDebug.prototype.constructor=G.Physics.P2.BodyDebug,G.Utils.extend(G.Physics.P2.BodyDebug.prototype,{updateSpriteTransform:function(){this.position.x=this.body.position[0]*this.ppu,this.position.y=this.body.position[1]*this.ppu,this.rotation=this.body.angle},draw:function(){var t,e,i,o,n,s,r,c,a,h,u,l,d=this.body,p=this.canvas;if(p.clear(),i=parseInt(this.randomPastelHex(),16),n=16711680,s=this.lineWidth,d instanceof p2.Body&&d.shapes.length)for(var F=d.shapes.length,j=0;j!==F;){if(r=(e=d.shapes[j]).position||0,t=e.angle||0,e instanceof p2.Circle)this.drawCircle(p,r[0]*this.ppu,r[1]*this.ppu,t,e.radius*this.ppu,i,s);else if(e instanceof p2.Capsule)this.drawCapsule(p,r[0]*this.ppu,r[1]*this.ppu,t,e.length*this.ppu,e.radius*this.ppu,n,i,s);else if(e instanceof p2.Plane)this.drawPlane(p,r[0]*this.ppu,-r[1]*this.ppu,i,n,5*s,10*s,10*s,100*this.ppu,t);else if(e instanceof p2.Line)this.drawLine(p,e.length*this.ppu,n,s);else if(e instanceof p2.Box)this.drawRectangle(p,r[0]*this.ppu,r[1]*this.ppu,t,e.width*this.ppu,e.height*this.ppu,n,i,s);else if(e instanceof p2.Convex){for(a=[],h=p2.vec2.create(),o=u=0,l=e.vertices.length;0<=l?u<l:l<u;o=0<=l?++u:--u)c=e.vertices[o],p2.vec2.rotate(h,c,t),a.push([(h[0]+r[0])*this.ppu,-(h[1]+r[1])*this.ppu]);this.drawConvex(p,a,e.triangles,n,i,s,this.settings.debugPolygons,[r[0]*this.ppu,-r[1]*this.ppu])}j++}},drawRectangle:function(t,e,i,o,n,s,r,c,a){t.lineStyle(a=void 0===a?1:a,r=void 0===r?0:r,1),t.beginFill(c),t.drawRect(e-n/2,i-s/2,n,s)},drawCircle:function(t,e,i,o,n,s,r){void 0===s&&(s=16777215),t.lineStyle(r=void 0===r?1:r,0,1),t.beginFill(s,1),t.drawCircle(e,i,2*-n),t.endFill(),t.moveTo(e,i),t.lineTo(e+n*Math.cos(-o),i+n*Math.sin(-o))},drawLine:function(t,e,i,o){t.lineStyle(5*(o=void 0===o?1:o),i=void 0===i?0:i,1),t.moveTo(-e/2,0),t.lineTo(e/2,0)},drawConvex:function(t,e,i,o,n,s,r,c){var a,h,u,l,d,p,F,j;if(void 0===s&&(s=1),void 0===o&&(o=0),r){for(a=[16711680,65280,255],h=0;h!==e.length+1;)F=e[h%e.length],j=e[(h+1)%e.length],l=F[0],F=F[1],d=j[0],j=j[1],t.lineStyle(s,a[h%a.length],1),t.moveTo(l,-F),t.lineTo(d,-j),t.drawCircle(l,-F,2*s),h++;return t.lineStyle(s,0,1),t.drawCircle(c[0],c[1],2*s)}for(t.lineStyle(s,o,1),t.beginFill(n),h=0;h!==e.length;)u=(p=e[h])[0],p=p[1],0===h?t.moveTo(u,-p):t.lineTo(u,-p),h++;if(t.endFill(),2<e.length)return t.moveTo(e[e.length-1][0],-e[e.length-1][1]),t.lineTo(e[0][0],-e[0][1])},drawPath:function(t,e,i,o,n){var s,r,c,a,h,u,l,d;for(t.lineStyle(n=void 0===n?1:n,i=void 0===i?0:i,1),"number"==typeof o&&t.beginFill(o),c=r=null,s=0;s<e.length;)l=(d=e[s])[0],d=d[1],l===r&&d===c||(0===s?t.moveTo(l,d):(a=r,h=c,u=e[(s+1)%e.length][0],0!=(l-a)*(e[(s+1)%e.length][1]-h)-(u-a)*(d-h)&&t.lineTo(l,d)),r=l,c=d),s++;"number"==typeof o&&t.endFill(),2<e.length&&"number"==typeof o&&(t.moveTo(e[e.length-1][0],e[e.length-1][1]),t.lineTo(e[0][0],e[0][1]))},drawPlane:function(t,e,i,o,n,s,r,c,a,h){void 0===o&&(o=16777215),t.lineStyle(s=void 0===s?1:s,n,11),t.beginFill(o),t.moveTo(e,-i),s=e+Math.cos(h)*this.game.width,n=i+Math.sin(h)*this.game.height,t.lineTo(s,-n),t.moveTo(e,-i),s=e+Math.cos(h)*-this.game.width,n=i+Math.sin(h)*-this.game.height,t.lineTo(s,-n)},drawCapsule:function(t,e,i,o,n,s,r,c,a){t.lineStyle(a=void 0===a?1:a,r=void 0===r?0:r,1);var h=Math.cos(o),o=Math.sin(o);t.beginFill(c,1),t.drawCircle(-n/2*h+e,-n/2*o+i,2*-s),t.drawCircle(n/2*h+e,n/2*o+i,2*-s),t.endFill(),t.lineStyle(a,r,0),t.beginFill(c,1),t.moveTo(-n/2*h+s*o+e,-n/2*o+s*h+i),t.lineTo(n/2*h+s*o+e,n/2*o+s*h+i),t.lineTo(n/2*h-s*o+e,n/2*o-s*h+i),t.lineTo(-n/2*h-s*o+e,-n/2*o-s*h+i),t.endFill(),t.lineStyle(a,r,1),t.moveTo(-n/2*h+s*o+e,-n/2*o+s*h+i),t.lineTo(n/2*h+s*o+e,n/2*o+s*h+i),t.moveTo(-n/2*h-s*o+e,-n/2*o-s*h+i),t.lineTo(n/2*h-s*o+e,n/2*o-s*h+i)},randomPastelHex:function(){var t=[255,255,255],e=Math.floor(256*Math.random()),i=Math.floor(256*Math.random()),o=Math.floor(256*Math.random());return e=Math.floor((e+3*t[0])/4),i=Math.floor((i+3*t[1])/4),o=Math.floor((o+3*t[2])/4),this.rgbToHex(e,i,o)},rgbToHex:function(t,e,i){return this.componentToHex(t)+this.componentToHex(e)+this.componentToHex(i)},componentToHex:function(t){t=t.toString(16);return 2===t.length?t:t+"0"}}),G.Physics.P2.Spring=function(t,e,i,o,n,s,r,c,a,h){this.game=t.game,void 0===n&&(n=100),void 0===s&&(s=1);o={restLength:o=(this.world=t).pxm(o=void 0===o?1:o),stiffness:n,damping:s};null!=r&&(o.worldAnchorA=[t.pxm(r[0]),t.pxm(r[1])]),null!=c&&(o.worldAnchorB=[t.pxm(c[0]),t.pxm(c[1])]),null!=a&&(o.localAnchorA=[t.pxm(a[0]),t.pxm(a[1])]),null!=h&&(o.localAnchorB=[t.pxm(h[0]),t.pxm(h[1])]),this.data=new p2.LinearSpring(e,i,o),this.data.parent=this},G.Physics.P2.Spring.prototype.constructor=G.Physics.P2.Spring,G.Physics.P2.RotationalSpring=function(t,e,i,o,n,s){this.game=t.game,this.world=t,void 0===n&&(n=100),void 0===s&&(s=1),o=(o=void 0===o?null:o)&&t.pxm(o),this.data=new p2.RotationalSpring(e,i,{restAngle:o,stiffness:n,damping:s}),this.data.parent=this},G.Physics.P2.Spring.prototype.constructor=G.Physics.P2.Spring,G.Physics.P2.Material=function(t){this.name=t,p2.Material.call(this)},G.Physics.P2.Material.prototype=Object.create(p2.Material.prototype),G.Physics.P2.Material.prototype.constructor=G.Physics.P2.Material,G.Physics.P2.ContactMaterial=function(t,e,i){p2.ContactMaterial.call(this,t,e,i)},G.Physics.P2.ContactMaterial.prototype=Object.create(p2.ContactMaterial.prototype),G.Physics.P2.ContactMaterial.prototype.constructor=G.Physics.P2.ContactMaterial,G.Physics.P2.CollisionGroup=function(t){this.mask=t},G.Physics.P2.DistanceConstraint=function(t,e,i,o,n,s,r){void 0===o&&(o=100),void 0===n&&(n=[0,0]),void 0===s&&(s=[0,0]),void 0===r&&(r=Number.MAX_VALUE),this.game=t.game,o=(this.world=t).pxm(o),n=[t.pxmi(n[0]),t.pxmi(n[1])],s=[t.pxmi(s[0]),t.pxmi(s[1])],p2.DistanceConstraint.call(this,e,i,{distance:o,localAnchorA:n,localAnchorB:s,maxForce:r})},G.Physics.P2.DistanceConstraint.prototype=Object.create(p2.DistanceConstraint.prototype),G.Physics.P2.DistanceConstraint.prototype.constructor=G.Physics.P2.DistanceConstraint,G.Physics.P2.GearConstraint=function(t,e,i,o,n){void 0===o&&(o=0),void 0===n&&(n=1),this.game=t.game,this.world=t,p2.GearConstraint.call(this,e,i,{angle:o,ratio:n})},G.Physics.P2.GearConstraint.prototype=Object.create(p2.GearConstraint.prototype),G.Physics.P2.GearConstraint.prototype.constructor=G.Physics.P2.GearConstraint,G.Physics.P2.LockConstraint=function(t,e,i,o,n,s){void 0===o&&(o=[0,0]),void 0===n&&(n=0),void 0===s&&(s=Number.MAX_VALUE),this.game=t.game,o=[(this.world=t).pxm(o[0]),t.pxm(o[1])],p2.LockConstraint.call(this,e,i,{localOffsetB:o,localAngleB:n,maxForce:s})},G.Physics.P2.LockConstraint.prototype=Object.create(p2.LockConstraint.prototype),G.Physics.P2.LockConstraint.prototype.constructor=G.Physics.P2.LockConstraint,G.Physics.P2.PrismaticConstraint=function(t,e,i,o,n,s,r,c){void 0===o&&(o=!0),void 0===n&&(n=[0,0]),void 0===s&&(s=[0,0]),void 0===r&&(r=[0,0]),void 0===c&&(c=Number.MAX_VALUE),this.game=t.game,n=[(this.world=t).pxmi(n[0]),t.pxmi(n[1])],s=[t.pxmi(s[0]),t.pxmi(s[1])],p2.PrismaticConstraint.call(this,e,i,{localAnchorA:n,localAnchorB:s,localAxisA:r,maxForce:c,disableRotationalLock:!o})},G.Physics.P2.PrismaticConstraint.prototype=Object.create(p2.PrismaticConstraint.prototype),G.Physics.P2.PrismaticConstraint.prototype.constructor=G.Physics.P2.PrismaticConstraint,G.Physics.P2.RevoluteConstraint=function(t,e,i,o,n,s,r){void 0===s&&(s=Number.MAX_VALUE),void 0===r&&(r=null),this.game=t.game,i=[(this.world=t).pxmi(i[0]),t.pxmi(i[1])],n=[t.pxmi(n[0]),t.pxmi(n[1])],r=r&&[t.pxmi(r[0]),t.pxmi(r[1])],p2.RevoluteConstraint.call(this,e,o,{worldPivot:r,localPivotA:i,localPivotB:n,maxForce:s})},G.Physics.P2.RevoluteConstraint.prototype=Object.create(p2.RevoluteConstraint.prototype),G.Physics.P2.RevoluteConstraint.prototype.constructor=G.Physics.P2.RevoluteConstraint,G.ImageCollection=function(t,e,i,o,n,s,r){(void 0===i||i<=0)&&(i=32),(void 0===o||o<=0)&&(o=32),void 0===n&&(n=0),void 0===s&&(s=0),this.name=t,this.firstgid=0|e,this.imageWidth=0|i,this.imageHeight=0|o,this.imageMargin=0|n,this.imageSpacing=0|s,this.properties=r||{},this.images=[],this.total=0},G.ImageCollection.prototype={containsImageIndex:function(t){return t>=this.firstgid&&t<this.firstgid+this.total},addImage:function(t,e){this.images.push({gid:t,image:e}),this.total++}},G.ImageCollection.prototype.constructor=G.ImageCollection,G.Tile=function(t,e,i,o,n,s){this.layer=t,this.index=e,this.x=i,this.y=o,this.rotation=0,this.flipped=!1,this.worldX=i*n,this.worldY=o*s,this.width=n,this.height=s,this.centerX=Math.abs(n/2),this.centerY=Math.abs(s/2),this.alpha=1,this.properties={},this.scanned=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.collisionCallback=null,this.collisionCallbackContext=this},G.Tile.prototype={containsPoint:function(t,e){return!(t<this.worldX||e<this.worldY||t>this.right||e>this.bottom)},intersects:function(t,e,i,o){return!(i<=this.worldX||o<=this.worldY||t>=this.worldX+this.width||e>=this.worldY+this.height)},setCollisionCallback:function(t,e){this.collisionCallback=t,this.collisionCallbackContext=e},destroy:function(){this.collisionCallback=null,this.collisionCallbackContext=null,this.properties=null},setCollision:function(t,e,i,o){this.collideLeft=t,this.collideRight=e,this.collideUp=i,this.collideDown=o,this.faceLeft=t,this.faceRight=e,this.faceTop=i,this.faceBottom=o},resetCollision:function(){this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1},isInteresting:function(t,e){return t&&e?this.collideLeft||this.collideRight||this.collideUp||this.collideDown||this.faceTop||this.faceBottom||this.faceLeft||this.faceRight||this.collisionCallback:t?this.collideLeft||this.collideRight||this.collideUp||this.collideDown:!!e&&(this.faceTop||this.faceBottom||this.faceLeft||this.faceRight)},copy:function(t){this.index=t.index,this.alpha=t.alpha,this.properties=t.properties,this.collideUp=t.collideUp,this.collideDown=t.collideDown,this.collideLeft=t.collideLeft,this.collideRight=t.collideRight,this.collisionCallback=t.collisionCallback,this.collisionCallbackContext=t.collisionCallbackContext}},G.Tile.prototype.constructor=G.Tile,Object.defineProperty(G.Tile.prototype,"collides",{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown}}),Object.defineProperty(G.Tile.prototype,"canCollide",{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||this.collisionCallback}}),Object.defineProperty(G.Tile.prototype,"left",{get:function(){return this.worldX}}),Object.defineProperty(G.Tile.prototype,"right",{get:function(){return this.worldX+this.width}}),Object.defineProperty(G.Tile.prototype,"top",{get:function(){return this.worldY}}),Object.defineProperty(G.Tile.prototype,"bottom",{get:function(){return this.worldY+this.height}}),G.Tilemap=function(t,e,i,o,n,s){this.game=t,this.key=e;t=G.TilemapParser.parse(this.game,e,i,o,n,s);null!==t&&(this.width=t.width,this.height=t.height,this.tileWidth=t.tileWidth,this.tileHeight=t.tileHeight,this.orientation=t.orientation,this.format=t.format,this.version=t.version,this.properties=t.properties,this.widthInPixels=t.widthInPixels,this.heightInPixels=t.heightInPixels,this.layers=t.layers,this.tilesets=t.tilesets,this.imagecollections=t.imagecollections,this.tiles=t.tiles,this.objects=t.objects,this.collideIndexes=[],this.collision=t.collision,this.images=t.images,this.enableDebug=!1,this.currentLayer=0,this.debugMap=[],this._results=[],this._tempA=0,this._tempB=0)},G.Tilemap.CSV=0,G.Tilemap.TILED_JSON=1,G.Tilemap.NORTH=0,G.Tilemap.EAST=1,G.Tilemap.SOUTH=2,G.Tilemap.WEST=3,G.Tilemap.prototype={create:function(t,e,i,o,n,s){return void 0===s&&(s=this.game.world),this.width=e,this.height=i,this.setTileSize(o,n),this.layers.length=0,this.createBlankLayer(t,e,i,o,n,s)},setTileSize:function(t,e){this.tileWidth=t,this.tileHeight=e,this.widthInPixels=this.width*t,this.heightInPixels=this.height*e},addTilesetImage:function(t,e,i,o,n,s,r){if(void 0===t)return null;void 0===n&&(n=0),void 0===s&&(s=0),void 0===r&&(r=0),0===(i=void 0===i?this.tileWidth:i)&&(i=32),0===(o=void 0===o?this.tileHeight:o)&&(o=32);var c=null;if((e=null==e?t:e)instanceof G.BitmapData)c=e.canvas;else{if(!this.game.cache.checkImageKey(e))return null;c=this.game.cache.getImage(e)}e=this.getTilesetIndex(t);if(null===e&&this.format===G.Tilemap.TILED_JSON)return null;if(this.tilesets[e])return this.tilesets[e].setImage(c),this.tilesets[e];var a=new G.Tileset(t,r,i,o,n,s,{});a.setImage(c),this.tilesets.push(a);for(var h=this.tilesets.length-1,u=n,l=n,d=0,p=0,F=0,j=r;j<r+a.total&&(this.tiles[j]=[u,l,h],u+=i+s,++d!==a.total)&&(++p!==a.columns||(u=n,l+=o+s,p=0,++F!==a.rows));j++);return a},createFromObjects:function(t,e,i,o,n,s,r,c,a){if(void 0===n&&(n=!0),void 0===s&&(s=!1),void 0===r&&(r=this.game.world),void 0===c&&(c=G.Sprite),void 0===a&&(a=!0),this.objects[t])for(var h=0;h<this.objects[t].length;h++){var u=!1,l=this.objects[t][h];if(u=void 0!==l.gid&&"number"==typeof e&&l.gid===e||void 0!==l.id&&"number"==typeof e&&l.id===e||void 0!==l.name&&"string"==typeof e&&l.name===e?!0:u){var d,p=new c(this.game,parseFloat(l.x,10),parseFloat(l.y,10),i,o);for(d in p.name=l.name,p.visible=l.visible,p.autoCull=s,p.exists=n,l.width&&(p.width=l.width),l.height&&(p.height=l.height),l.rotation&&(p.angle=l.rotation),a&&(p.y-=p.height),r.add(p),l.properties)r.set(p,d,l.properties[d],!1,!1,0,!0)}}},createFromTiles:function(t,e,i,o,n,s){"number"==typeof t&&(t=[t]),null==e?e=[]:"number"==typeof e&&(e=[e]),o=this.getLayer(o),void 0===n&&(n=this.game.world),void 0===(s=void 0===s?{}:s).customClass&&(s.customClass=G.Sprite),void 0===s.adjustY&&(s.adjustY=!0);var r=this.layers[o].width,c=this.layers[o].height;if(this.copy(0,0,r,c,o),this._results.length<2)return 0;for(var a,h=0,u=1,l=this._results.length;u<l;u++)if(-1!==t.indexOf(this._results[u].index)){for(var d in a=new s.customClass(this.game,this._results[u].worldX,this._results[u].worldY,i),s)a[d]=s[d];n.add(a),h++}if(1===e.length)for(u=0;u<t.length;u++)this.replace(t[u],e[0],0,0,r,c,o);else if(1<e.length)for(u=0;u<t.length;u++)this.replace(t[u],e[u],0,0,r,c,o);return h},createLayer:function(t,e,i,o){void 0===e&&(e=this.game.width),void 0===i&&(i=this.game.height),void 0===o&&(o=this.game.world);var n=t;if(!(null===(n="string"==typeof t?this.getLayerIndex(t):n)||n>this.layers.length))return void 0===e||e<=0?e=Math.min(this.game.width,this.layers[n].widthInPixels):e>this.game.width&&(e=this.game.width),void 0===i||i<=0?i=Math.min(this.game.height,this.layers[n].heightInPixels):i>this.game.height&&(i=this.game.height),this.enableDebug,t=o.add(new G.TilemapLayer(this.game,this,n,e,i)),this.enableDebug,t},createBlankLayer:function(t,e,i,o,n,s){if(void 0===s&&(s=this.game.world),null===this.getLayerIndex(t)){for(var r={name:t,x:0,y:0,width:e,height:i,widthInPixels:e*o,heightInPixels:i*n,alpha:1,visible:!0,properties:{},indexes:[],callbacks:[],bodies:[],data:null},c=[],a=0;a<i;a++){for(var h=[],u=0;u<e;u++)h.push(new G.Tile(r,-1,u,a,o,n));c.push(h)}r.data=c,this.layers.push(r),this.currentLayer=this.layers.length-1;var l=r.widthInPixels,d=r.heightInPixels;return l>this.game.width&&(l=this.game.width),d>this.game.height&&(d=this.game.height),(c=new G.TilemapLayer(this.game,this,this.layers.length-1,l,d)).name=t,s.add(c)}},getIndex:function(t,e){for(var i=0;i<t.length;i++)if(t[i].name===e)return i;return null},getLayerIndex:function(t){return this.getIndex(this.layers,t)},getTilesetIndex:function(t){return this.getIndex(this.tilesets,t)},getImageIndex:function(t){return this.getIndex(this.images,t)},setTileIndexCallback:function(t,e,i,o){if(o=this.getLayer(o),"number"==typeof t)this.layers[o].callbacks[t]={callback:e,callbackContext:i};else for(var n=0,s=t.length;n<s;n++)this.layers[o].callbacks[t[n]]={callback:e,callbackContext:i}},setTileLocationCallback:function(t,e,i,o,n,s,r){if(r=this.getLayer(r),this.copy(t,e,i,o,r),!(this._results.length<2))for(var c=1;c<this._results.length;c++)this._results[c].setCollisionCallback(n,s)},setCollision:function(t,e,i,o){if(void 0===e&&(e=!0),void 0===o&&(o=!0),i=this.getLayer(i),"number"==typeof t)return this.setCollisionByIndex(t,e,i,!0);if(Array.isArray(t)){for(var n=0;n<t.length;n++)this.setCollisionByIndex(t[n],e,i,!1);o&&this.calculateFaces(i)}},setCollisionBetween:function(t,e,i,o,n){if(void 0===i&&(i=!0),void 0===n&&(n=!0),o=this.getLayer(o),!(e<t)){for(var s=t;s<=e;s++)this.setCollisionByIndex(s,i,o,!1);n&&this.calculateFaces(o)}},setCollisionByExclusion:function(t,e,i,o){void 0===e&&(e=!0),void 0===o&&(o=!0),i=this.getLayer(i);for(var n=0,s=this.tiles.length;n<s;n++)-1===t.indexOf(n)&&this.setCollisionByIndex(n,e,i,!1);o&&this.calculateFaces(i)},setCollisionByIndex:function(t,e,i,o){var n;void 0===i&&(i=this.currentLayer),void 0===o&&(o=!0),(e=void 0===e||e)?this.collideIndexes.push(t):-1<(n=this.collideIndexes.indexOf(t))&&this.collideIndexes.splice(n,1);for(var s=0;s<this.layers[i].height;s++)for(var r=0;r<this.layers[i].width;r++){var c=this.layers[i].data[s][r];c&&c.index===t&&(e?c.setCollision(!0,!0,!0,!0):c.resetCollision(),c.faceTop=e,c.faceBottom=e,c.faceLeft=e,c.faceRight=e)}return o&&this.calculateFaces(i),i},getLayer:function(t){return void 0===t?t=this.currentLayer:"string"==typeof t?t=this.getLayerIndex(t):t instanceof G.TilemapLayer&&(t=t.index),t},setPreventRecalculate:function(t){if(!0===t&&!0!==this.preventingRecalculate&&(this.preventingRecalculate=!0,this.needToRecalculate={}),!1===t&&!0===this.preventingRecalculate){for(var e in this.preventingRecalculate=!1,this.needToRecalculate)this.calculateFaces(e);this.needToRecalculate=!1}},calculateFaces:function(t){if(this.preventingRecalculate)this.needToRecalculate[t]=!0;else for(var e,i,o,n,s=0,r=this.layers[t].height;s<r;s++)for(var c=0,a=this.layers[t].width;c<a;c++){var h=this.layers[t].data[s][c];h&&(e=this.getTileAbove(t,c,s),i=this.getTileBelow(t,c,s),o=this.getTileLeft(t,c,s),n=this.getTileRight(t,c,s),h.collides&&(h.faceTop=!0,h.faceBottom=!0,h.faceLeft=!0,h.faceRight=!0),e&&e.collides&&(h.faceTop=!1),i&&i.collides&&(h.faceBottom=!1),o&&o.collides&&(h.faceLeft=!1),n&&n.collides&&(h.faceRight=!1))}},getTileAbove:function(t,e,i){return 0<i?this.layers[t].data[i-1][e]:null},getTileBelow:function(t,e,i){return i<this.layers[t].height-1?this.layers[t].data[i+1][e]:null},getTileLeft:function(t,e,i){return 0<e?this.layers[t].data[i][e-1]:null},getTileRight:function(t,e,i){return e<this.layers[t].width-1?this.layers[t].data[i][e+1]:null},setLayer:function(t){t=this.getLayer(t),this.layers[t]&&(this.currentLayer=t)},hasTile:function(t,e,i){return i=this.getLayer(i),void 0!==this.layers[i].data[e]&&void 0!==this.layers[i].data[e][t]&&-1<this.layers[i].data[e][t].index},removeTile:function(t,e,i){var o;if(i=this.getLayer(i),0<=t&&t<this.layers[i].width&&0<=e&&e<this.layers[i].height&&this.hasTile(t,e,i))return o=this.layers[i].data[e][t],this.layers[i].data[e][t]=new G.Tile(this.layers[i],-1,t,e,this.tileWidth,this.tileHeight),this.layers[i].dirty=!0,this.calculateFaces(i),o},removeTileWorldXY:function(t,e,i,o,n){return n=this.getLayer(n),t=this.game.math.snapToFloor(t,i)/i,e=this.game.math.snapToFloor(e,o)/o,this.removeTile(t,e,n)},putTile:function(t,e,i,o){return null===t?this.removeTile(e,i,o):(o=this.getLayer(o),0<=e&&e<this.layers[o].width&&0<=i&&i<this.layers[o].height?(t instanceof G.Tile?(n=t.index,this.hasTile(e,i,o)?this.layers[o].data[i][e].copy(t):this.layers[o].data[i][e]=new G.Tile(o,n,e,i,t.width,t.height)):(n=t,this.hasTile(e,i,o)?this.layers[o].data[i][e].index=n:this.layers[o].data[i][e]=new G.Tile(this.layers[o],n,e,i,this.tileWidth,this.tileHeight)),-1<this.collideIndexes.indexOf(n)?this.layers[o].data[i][e].setCollision(!0,!0,!0,!0):this.layers[o].data[i][e].resetCollision(),this.layers[o].dirty=!0,this.calculateFaces(o),this.layers[o].data[i][e]):null);var n},putTileWorldXY:function(t,e,i,o,n,s){return s=this.getLayer(s),e=this.game.math.snapToFloor(e,o)/o,i=this.game.math.snapToFloor(i,n)/n,this.putTile(t,e,i,s)},searchTileIndex:function(t,e,i,o){void 0===e&&(e=0),void 0===i&&(i=!1),o=this.getLayer(o);var n=0;if(i){for(var s=this.layers[o].height-1;0<=s;s--)for(var r=this.layers[o].width-1;0<=r;r--)if(this.layers[o].data[s][r].index===t){if(n===e)return this.layers[o].data[s][r];n++}}else for(s=0;s<this.layers[o].height;s++)for(r=0;r<this.layers[o].width;r++)if(this.layers[o].data[s][r].index===t){if(n===e)return this.layers[o].data[s][r];n++}return null},getTile:function(t,e,i,o){return void 0===o&&(o=!1),i=this.getLayer(i),0<=t&&t<this.layers[i].width&&0<=e&&e<this.layers[i].height&&(-1!==this.layers[i].data[e][t].index||o)?this.layers[i].data[e][t]:null},getTileWorldXY:function(t,e,i,o,n,s){return void 0===i&&(i=this.tileWidth),void 0===o&&(o=this.tileHeight),n=this.getLayer(n),t=this.game.math.snapToFloor(t,i)/i,e=this.game.math.snapToFloor(e,o)/o,this.getTile(t,e,n,s)},copy:function(t,e,i,o,n){if(n=this.getLayer(n),this.layers[n]){void 0===i&&(i=this.layers[n].width),void 0===o&&(o=this.layers[n].height),(t=void 0===t?0:t)<0&&(t=0),(e=void 0===e?0:e)<0&&(e=0),i>this.layers[n].width&&(i=this.layers[n].width),o>this.layers[n].height&&(o=this.layers[n].height),this._results.length=0,this._results.push({x:t,y:e,width:i,height:o,layer:n});for(var s=e;s<e+o;s++)for(var r=t;r<t+i;r++)this._results.push(this.layers[n].data[s][r]);return this._results}this._results.length=0},paste:function(t,e,i,o){if(void 0===t&&(t=0),void 0===e&&(e=0),o=this.getLayer(o),i&&!(i.length<2)){for(var n=t-i[1].x,s=e-i[1].y,r=1;r<i.length;r++)this.layers[o].data[s+i[r].y][n+i[r].x].copy(i[r]);this.layers[o].dirty=!0,this.calculateFaces(o)}},swap:function(t,e,i,o,n,s,r){r=this.getLayer(r),this.copy(i,o,n,s,r),this._results.length<2||(this._tempA=t,this._tempB=e,this._results.forEach(this.swapHandler,this),this.paste(i,o,this._results,r))},swapHandler:function(t){t.index===this._tempA?t.index=this._tempB:t.index===this._tempB&&(t.index=this._tempA)},forEach:function(t,e,i,o,n,s,r){r=this.getLayer(r),this.copy(i,o,n,s,r),this._results.length<2||(this._results.forEach(t,e),this.paste(i,o,this._results,r))},replace:function(t,e,i,o,n,s,r){if(r=this.getLayer(r),this.copy(i,o,n,s,r),!(this._results.length<2)){for(var c=1;c<this._results.length;c++)this._results[c].index===t&&(this._results[c].index=e);this.paste(i,o,this._results,r)}},random:function(t,e,i,o,n){if(n=this.getLayer(n),this.copy(t,e,i,o,n),!(this._results.length<2)){for(var s,r=[],c=1;c<this._results.length;c++)this._results[c].index&&(s=this._results[c].index,-1===r.indexOf(s)&&r.push(s));for(var a=1;a<this._results.length;a++)this._results[a].index=this.game.rnd.pick(r);this.paste(t,e,this._results,n)}},shuffle:function(t,e,i,o,n){if(n=this.getLayer(n),this.copy(t,e,i,o,n),!(this._results.length<2)){for(var s=[],r=1;r<this._results.length;r++)this._results[r].index&&s.push(this._results[r].index);G.ArrayUtils.shuffle(s);for(var c=1;c<this._results.length;c++)this._results[c].index=s[c-1];this.paste(t,e,this._results,n)}},fill:function(t,e,i,o,n,s){if(s=this.getLayer(s),this.copy(e,i,o,n,s),!(this._results.length<2)){for(var r=1;r<this._results.length;r++)this._results[r].index=t;this.paste(e,i,this._results,s)}},removeAllLayers:function(){this.layers.length=0,this.currentLayer=0},dump:function(){for(var t="",e=[""],i=0;i<this.layers[this.currentLayer].height;i++){for(var o=0;o<this.layers[this.currentLayer].width;o++)t+="%c  ",1<this.layers[this.currentLayer].data[i][o]?this.debugMap[this.layers[this.currentLayer].data[i][o]]?e.push("background: "+this.debugMap[this.layers[this.currentLayer].data[i][o]]):e.push("background: #ffffff"):e.push("background: rgb(0, 0, 0)");t+="\n"}e[0]=t},destroy:function(){this.removeAllLayers(),this.data=[],this.game=null}},G.Tilemap.prototype.constructor=G.Tilemap,Object.defineProperty(G.Tilemap.prototype,"layer",{get:function(){return this.layers[this.currentLayer]},set:function(t){t!==this.currentLayer&&this.setLayer(t)}}),G.TilemapLayer=function(t,e,i,o,n){o|=0,n|=0,G.Sprite.call(this,t,0,0),this.map=e,this.index=i,this.layer=e.layers[i],this.canvas=PIXI.CanvasPool.create(this,o,n),this.context=this.canvas.getContext("2d"),this.setTexture(new PIXI.Texture(new PIXI.BaseTexture(this.canvas))),this.type=G.TILEMAPLAYER,this.physicsType=G.TILEMAPLAYER,this.renderSettings={enableScrollDelta:!1,overdrawRatio:.2,copyCanvas:null},this.debug=!1,this.exists=!0,this.debugSettings={missingImageFill:"rgb(255,255,255)",debuggedTileOverfill:"rgba(0,255,0,0.4)",forceFullRedraw:!0,debugAlpha:.5,facingEdgeStroke:"rgba(0,255,0,1)",collidingTileOverfill:"rgba(0,255,0,0.2)"},this.scrollFactorX=1,this.scrollFactorY=1,this.dirty=!0,this.rayStepRate=4,this._wrap=!1,this._mc={scrollX:0,scrollY:0,renderWidth:0,renderHeight:0,tileWidth:e.tileWidth,tileHeight:e.tileHeight,cw:e.tileWidth,ch:e.tileHeight,tilesets:[]},this._scrollX=0,this._scrollY=0,this._results=[],t.device.canvasBitBltShift||(this.renderSettings.copyCanvas=G.TilemapLayer.ensureSharedCopyCanvas()),this.fixedToCamera=!0},G.TilemapLayer.prototype=Object.create(G.Sprite.prototype),G.TilemapLayer.prototype.constructor=G.TilemapLayer,G.TilemapLayer.prototype.preUpdateCore=G.Component.Core.preUpdate,G.TilemapLayer.sharedCopyCanvas=null,G.TilemapLayer.ensureSharedCopyCanvas=function(){return this.sharedCopyCanvas||(this.sharedCopyCanvas=PIXI.CanvasPool.create(this,2,2)),this.sharedCopyCanvas},G.TilemapLayer.prototype.preUpdate=function(){return this.preUpdateCore()},G.TilemapLayer.prototype.postUpdate=function(){this.fixedToCamera&&(this.position.x=(this.game.camera.view.x+this.cameraOffset.x)/this.game.camera.scale.x,this.position.y=(this.game.camera.view.y+this.cameraOffset.y)/this.game.camera.scale.y),this._scrollX=this.game.camera.view.x*this.scrollFactorX/this.scale.x,this._scrollY=this.game.camera.view.y*this.scrollFactorY/this.scale.y},G.TilemapLayer.prototype._renderCanvas=function(t){this.fixedToCamera&&(this.position.x=(this.game.camera.view.x+this.cameraOffset.x)/this.game.camera.scale.x,this.position.y=(this.game.camera.view.y+this.cameraOffset.y)/this.game.camera.scale.y),this._scrollX=this.game.camera.view.x*this.scrollFactorX/this.scale.x,this._scrollY=this.game.camera.view.y*this.scrollFactorY/this.scale.y,this.render(),PIXI.Sprite.prototype._renderCanvas.call(this,t)},G.TilemapLayer.prototype._renderWebGL=function(t){this.fixedToCamera&&(this.position.x=(this.game.camera.view.x+this.cameraOffset.x)/this.game.camera.scale.x,this.position.y=(this.game.camera.view.y+this.cameraOffset.y)/this.game.camera.scale.y),this._scrollX=this.game.camera.view.x*this.scrollFactorX/this.scale.x,this._scrollY=this.game.camera.view.y*this.scrollFactorY/this.scale.y,this.render(),PIXI.Sprite.prototype._renderWebGL.call(this,t)},G.TilemapLayer.prototype.destroy=function(){PIXI.CanvasPool.remove(this),G.Component.Destroy.prototype.destroy.call(this)},G.TilemapLayer.prototype.resize=function(t,e){this.canvas.width=t,this.canvas.height=e,this.texture.frame.resize(t,e),this.texture.width=t,this.texture.height=e,this.texture.crop.width=t,this.texture.crop.height=e,this.texture.baseTexture.width=t,this.texture.baseTexture.height=e,this.texture.baseTexture.dirty(),this.texture.requiresUpdate=!0,this.texture._updateUvs(),this.dirty=!0},G.TilemapLayer.prototype.resizeWorld=function(){this.game.world.setBounds(0,0,this.layer.widthInPixels*this.scale.x,this.layer.heightInPixels*this.scale.y)},G.TilemapLayer.prototype._fixX=function(t){return 1===this.scrollFactorX||0===this.scrollFactorX&&0===this.position.x?t:0===this.scrollFactorX&&0!==this.position.x?t-this.position.x:this._scrollX+(t-this._scrollX/this.scrollFactorX)},G.TilemapLayer.prototype._unfixX=function(t){return 1===this.scrollFactorX?t:this._scrollX/this.scrollFactorX+(t-this._scrollX)},G.TilemapLayer.prototype._fixY=function(t){return 1===this.scrollFactorY||0===this.scrollFactorY&&0===this.position.y?t:0===this.scrollFactorY&&0!==this.position.y?t-this.position.y:this._scrollY+(t-this._scrollY/this.scrollFactorY)},G.TilemapLayer.prototype._unfixY=function(t){return 1===this.scrollFactorY?t:this._scrollY/this.scrollFactorY+(t-this._scrollY)},G.TilemapLayer.prototype.getTileX=function(t){return Math.floor(this._fixX(t)/this._mc.tileWidth)},G.TilemapLayer.prototype.getTileY=function(t){return Math.floor(this._fixY(t)/this._mc.tileHeight)},G.TilemapLayer.prototype.getTileXY=function(t,e,i){return i.x=this.getTileX(t),i.y=this.getTileY(e),i},G.TilemapLayer.prototype.getRayCastTiles=function(t,e,i,o){e=e||this.rayStepRate;var n=this.getTiles(t.x,t.y,t.width,t.height,i=void 0===i?!1:i,o=void 0===o?!1:o);if(0===n.length)return[];for(var s=t.coordinatesOnLine(e),r=[],c=0;c<n.length;c++)for(var a=0;a<s.length;a++){var h=n[c],u=s[a];if(h.containsPoint(u[0],u[1])){r.push(h);break}}return r},G.TilemapLayer.prototype.getTiles=function(t,e,i,o,n,s){void 0===s&&(s=!1);var r=!((n=void 0===n?!1:n)||s);t=this._fixX(t),e=this._fixY(e);for(var c=Math.floor(t/(this._mc.cw*this.scale.x)),a=Math.floor(e/(this._mc.ch*this.scale.y)),h=Math.ceil((t+i)/(this._mc.cw*this.scale.x))-c,u=Math.ceil((e+o)/(this._mc.ch*this.scale.y))-a;this._results.length;)this._results.pop();for(var l=a;l<a+u;l++)for(var d=c;d<c+h;d++){var p=this.layer.data[l];p&&p[d]&&(r||p[d].isInteresting(n,s))&&this._results.push(p[d])}return this._results.slice()},G.TilemapLayer.prototype.resolveTileset=function(t){var e=this._mc.tilesets;if(t<2e3)for(;e.length<t;)e.push(void 0);var i=this.map.tiles[t]&&this.map.tiles[t][2];if(null!==i){i=this.map.tilesets[i];if(i&&i.containsTileIndex(t))return e[t]=i}return e[t]=null},G.TilemapLayer.prototype.resetTilesetCache=function(){for(var t=this._mc.tilesets;t.length;)t.pop()},G.TilemapLayer.prototype.setScale=function(t,e){t=t||1,e=e||t;for(var i=0;i<this.layer.data.length;i++)for(var o=this.layer.data[i],n=0;n<o.length;n++){var s=o[n];s.width=this.map.tileWidth*t,s.height=this.map.tileHeight*e,s.worldX=s.x*s.width,s.worldY=s.y*s.height}this.scale.setTo(t,e)},G.TilemapLayer.prototype.shiftCanvas=function(t,e,i){var o=t.canvas,n=o.width-Math.abs(e),s=o.height-Math.abs(i),r=0,c=0,a=e,h=i,e=(e<0&&(r=-e,a=0),i<0&&(c=-i,h=0),this.renderSettings.copyCanvas);e?((e.width<n||e.height<s)&&(e.width=n,e.height=s),(i=e.getContext("2d")).clearRect(0,0,n,s),i.drawImage(o,r,c,n,s,0,0,n,s),t.clearRect(a,h,n,s),t.drawImage(e,0,0,n,s,a,h,n,s)):(t.save(),t.globalCompositeOperation="copy",t.drawImage(o,r,c,n,s,a,h,n,s),t.restore())},G.TilemapLayer.prototype.renderRegion=function(t,e,i,o,n,s){var r=this.context,c=this.layer.width,a=this.layer.height,h=this._mc.tileWidth,u=this._mc.tileHeight,l=this._mc.tilesets,d=NaN;this._wrap||(i<=n&&(i=Math.max(0,i),n=Math.min(c-1,n)),o<=s&&(o=Math.max(0,o),s=Math.min(a-1,s)));for(var p=i*h-t,F=(i+(1<<20)*c)%c,j=(o+(1<<20)*a)%a,Y=s-o,f=o*u-e;0<=Y;j++,Y--,f+=u){a<=j&&(j-=a);for(var b=this.layer.data[j],g=F,y=n-i,m=p;0<=y;g++,y--,m+=h){c<=g&&(g-=c);var x,v,w=b[g];!w||w.index<0||(void 0===(v=l[x=w.index])&&(v=this.resolveTileset(x)),w.alpha===d||this.debug||(r.globalAlpha=w.alpha,d=w.alpha),v?w.rotation||w.flipped?(r.save(),r.translate(m+w.centerX,f+w.centerY),r.rotate(w.rotation),w.flipped&&r.scale(-1,1),v.draw(r,-w.centerX,-w.centerY,x),r.restore()):v.draw(r,m,f,x):this.debugSettings.missingImageFill&&(r.fillStyle=this.debugSettings.missingImageFill,r.fillRect(m,f,h,u)),w.debug&&this.debugSettings.debuggedTileOverfill&&(r.fillStyle=this.debugSettings.debuggedTileOverfill,r.fillRect(m,f,h,u)))}}},G.TilemapLayer.prototype.renderDeltaScroll=function(t,e){var i=this._mc.scrollX,o=this._mc.scrollY,n=this.canvas.width,s=this.canvas.height,r=this._mc.tileWidth,c=this._mc.tileHeight,a=0,h=-r,u=0,l=-c;t<0?(a=n+t,h=n-1):0<t&&(h=t),e<0?(u=s+e,l=s-1):0<e&&(l=e),this.shiftCanvas(this.context,t,e),a=Math.floor((a+i)/r),h=Math.floor((h+i)/r),u=Math.floor((u+o)/c),l=Math.floor((l+o)/c),a<=h&&(this.context.clearRect(a*r-i,0,(h-a+1)*r,s),t=Math.floor((0+o)/c),e=Math.floor((s-1+o)/c),this.renderRegion(i,o,a,t,h,e)),u<=l&&(this.context.clearRect(0,u*c-o,n,(l-u+1)*c),s=Math.floor((0+i)/r),a=Math.floor((n-1+i)/r),this.renderRegion(i,o,s,u,a,l))},G.TilemapLayer.prototype.renderFull=function(){var t=this._mc.scrollX,e=this._mc.scrollY,i=this.canvas.width,o=this.canvas.height,n=this._mc.tileWidth,s=this._mc.tileHeight,r=Math.floor(t/n),n=Math.floor((i-1+t)/n),c=Math.floor(e/s),s=Math.floor((o-1+e)/s);this.context.clearRect(0,0,i,o),this.renderRegion(t,e,r,c,n,s)},G.TilemapLayer.prototype.render=function(){var t=!1;if(this.visible){(this.dirty||this.layer.dirty)&&(t=!(this.layer.dirty=!1));var e=this.canvas.width,i=this.canvas.height,o=0|this._scrollX,n=0|this._scrollY,s=this._mc,r=s.scrollX-o,c=s.scrollY-n;if(t||0!=r||0!=c||s.renderWidth!==e||s.renderHeight!==i)return this.context.save(),s.scrollX=o,s.scrollY=n,s.renderWidth===e&&s.renderHeight===i||(s.renderWidth=e,s.renderHeight=i),this.debug&&(this.context.globalAlpha=this.debugSettings.debugAlpha,this.debugSettings.forceFullRedraw&&(t=!0)),!t&&this.renderSettings.enableScrollDelta&&Math.abs(r)+Math.abs(c)<Math.min(e,i)?this.renderDeltaScroll(r,c):this.renderFull(),this.debug&&(this.context.globalAlpha=1,this.renderDebug()),this.texture.baseTexture.dirty(),this.dirty=!1,this.context.restore(),!0}},G.TilemapLayer.prototype.renderDebug=function(){var t,e,i,o=this._mc.scrollX,n=this._mc.scrollY,s=this.context,r=this.canvas.width,c=this.canvas.height,a=this.layer.width,h=this.layer.height,u=this._mc.tileWidth,l=this._mc.tileHeight,d=Math.floor(o/u),p=Math.floor((r-1+o)/u),r=Math.floor(n/l),c=Math.floor((c-1+n)/l),F=d*u-o,o=r*l-n,j=(d+(1<<20)*a)%a,n=(r+(1<<20)*h)%h;for(s.strokeStyle=this.debugSettings.facingEdgeStroke,e=n,i=c-r,t=o;0<=i;e++,i--,t+=l){h<=e&&(e-=h);for(var Y=this.layer.data[e],f=j,b=p-d,g=F;0<=b;f++,b--,g+=u){a<=f&&(f-=a);var y=Y[f];!y||y.index<0||!y.collides||(this.debugSettings.collidingTileOverfill&&(s.fillStyle=this.debugSettings.collidingTileOverfill,s.fillRect(g,t,this._mc.cw,this._mc.ch)),this.debugSettings.facingEdgeStroke&&(s.beginPath(),y.faceTop&&(s.moveTo(g,t),s.lineTo(g+this._mc.cw,t)),y.faceBottom&&(s.moveTo(g,t+this._mc.ch),s.lineTo(g+this._mc.cw,t+this._mc.ch)),y.faceLeft&&(s.moveTo(g,t),s.lineTo(g,t+this._mc.ch)),y.faceRight&&(s.moveTo(g+this._mc.cw,t),s.lineTo(g+this._mc.cw,t+this._mc.ch)),s.closePath(),s.stroke()))}}},Object.defineProperty(G.TilemapLayer.prototype,"wrap",{get:function(){return this._wrap},set:function(t){this._wrap=t,this.dirty=!0}}),Object.defineProperty(G.TilemapLayer.prototype,"scrollX",{get:function(){return this._scrollX},set:function(t){this._scrollX=t}}),Object.defineProperty(G.TilemapLayer.prototype,"scrollY",{get:function(){return this._scrollY},set:function(t){this._scrollY=t}}),Object.defineProperty(G.TilemapLayer.prototype,"collisionWidth",{get:function(){return this._mc.cw},set:function(t){this._mc.cw=0|t,this.dirty=!0}}),Object.defineProperty(G.TilemapLayer.prototype,"collisionHeight",{get:function(){return this._mc.ch},set:function(t){this._mc.ch=0|t,this.dirty=!0}}),G.TilemapParser={INSERT_NULL:!1,parse:function(t,e,i,o,n,s){if(void 0===i&&(i=32),void 0===o&&(o=32),void 0===n&&(n=10),void 0===s&&(s=10),void 0===e)return this.getEmptyData();if(null===e)return this.getEmptyData(i,o,n,s);n=t.cache.getTilemapData(e);return n?n.format===G.Tilemap.CSV?this.parseCSV(e,n.data,i,o):n.format&&n.format!==G.Tilemap.TILED_JSON?void 0:this.parseTiledJSON(n.data):void 0},parseCSV:function(t,e,i,o){for(var n=this.getEmptyData(),s=[],r=(e=e.trim()).split("\n"),e=r.length,c=0,a=0;a<r.length;a++){s[a]=[];for(var h=r[a].split(","),u=0;u<h.length;u++)s[a][u]=new G.Tile(n.layers[0],parseInt(h[u],10),u,a,i,o);0===c&&(c=h.length)}return n.format=G.Tilemap.CSV,n.name=t,n.width=c,n.height=e,n.tileWidth=i,n.tileHeight=o,n.widthInPixels=c*i,n.heightInPixels=e*o,n.layers[0].width=c,n.layers[0].height=e,n.layers[0].widthInPixels=n.widthInPixels,n.layers[0].heightInPixels=n.heightInPixels,n.layers[0].data=s,n},getEmptyData:function(t,e,i,o){return{width:null!=i?i:0,height:null!=o?o:0,tileWidth:null!=t?t:0,tileHeight:null!=e?e:0,orientation:"orthogonal",version:"1",properties:{},widthInPixels:0,heightInPixels:0,layers:[{name:"layer",x:0,y:0,width:0,height:0,widthInPixels:0,heightInPixels:0,alpha:1,visible:!0,properties:{},indexes:[],callbacks:[],bodies:[],data:[]}],images:[],objects:{},collision:{},tilesets:[],tiles:[]}},parseTiledJSON:function(t){function e(t,e){var i,o={};for(i in e){var n=e[i];void 0!==t[n]&&(o[n]=t[n])}return o}if("orthogonal"!==t.orientation)return null;for(var i={width:t.width,height:t.height,tileWidth:t.tilewidth,tileHeight:t.tileheight,orientation:t.orientation,format:G.Tilemap.TILED_JSON,version:t.version,properties:t.properties,widthInPixels:t.width*t.tilewidth,heightInPixels:t.height*t.tileheight},o=[],n=0;n<t.layers.length;n++)if("tilelayer"===t.layers[n].type){var s=t.layers[n];if(!s.compression&&s.encoding&&"base64"===s.encoding){for(var r=window.atob(s.data),c=r.length,a=new Array(c),h=0;h<c;h+=4)a[h/4]=(r.charCodeAt(h)|r.charCodeAt(h+1)<<8|r.charCodeAt(h+2)<<16|r.charCodeAt(h+3)<<24)>>>0;s.data=a,delete s.encoding}else if(s.compression)continue;var u={name:s.name,x:s.x,y:s.y,width:s.width,height:s.height,widthInPixels:s.width*t.tilewidth,heightInPixels:s.height*t.tileheight,alpha:s.opacity,visible:s.visible,properties:{},indexes:[],callbacks:[],bodies:[]};s.properties&&(u.properties=s.properties);for(var l,d,p,F=0,j=[],Y=[],f=0,c=s.data.length;f<c;f++){if(d=!1,p=l=0,536870912<(E=s.data[f]))switch(2147483648<E&&(E-=2147483648,p+=4),1073741824<E&&(E-=1073741824,p+=2),536870912<E&&(E-=536870912,p+=1),p){case 5:l=Math.PI/2;break;case 6:l=Math.PI;break;case 3:l=3*Math.PI/2;break;case 4:d=!(l=0);break;case 7:l=Math.PI/2,d=!0;break;case 2:l=Math.PI,d=!0;break;case 1:l=3*Math.PI/2,d=!0}0<E?((q=new G.Tile(u,E,F,Y.length,t.tilewidth,t.tileheight)).rotation=l,q.flipped=d,0!==p&&(q.flippedVal=p),j.push(q)):G.TilemapParser.INSERT_NULL?j.push(null):j.push(new G.Tile(u,-1,F,Y.length,t.tilewidth,t.tileheight)),++F===s.width&&(Y.push(j),F=0,j=[])}u.data=Y,o.push(u)}i.layers=o;for(var b,g=[],n=0;n<t.layers.length;n++)"imagelayer"===t.layers[n].type&&(_={name:(b=t.layers[n]).name,image:b.image,x:b.x,y:b.y,alpha:b.opacity,visible:b.visible,properties:{}},b.properties&&(_.properties=b.properties),g.push(_));i.images=g;for(var y=[],m=[],x=null,n=0;n<t.tilesets.length;n++){if((B=t.tilesets[n]).image){var v=new G.Tileset(B.name,B.firstgid,B.tilewidth,B.tileheight,B.margin,B.spacing,B.properties);B.tileproperties&&(v.tileProperties=B.tileproperties),v.updateTileData(B.imagewidth,B.imageheight),y.push(v)}else{var w,M=new G.ImageCollection(B.name,B.firstgid,B.tilewidth,B.tileheight,B.margin,B.spacing,B.properties);for(w in B.tiles){var _=B.tiles[w].image,E=B.firstgid+parseInt(w,10);M.addImage(E,_)}m.push(M)}x&&(x.lastgid=B.firstgid-1),x=B}i.tilesets=y,i.imagecollections=m;for(var S={},C={},n=0;n<t.layers.length;n++)if("objectgroup"===t.layers[n].type){var P=t.layers[n];S[P.name]=[],C[P.name]=[];for(var A=0,c=P.objects.length;A<c;A++)if(P.objects[A].gid){var T={gid:P.objects[A].gid,name:P.objects[A].name,type:P.objects[A].hasOwnProperty("type")?P.objects[A].type:"",x:P.objects[A].x,y:P.objects[A].y,visible:P.objects[A].visible,properties:P.objects[A].properties};P.objects[A].rotation&&(T.rotation=P.objects[A].rotation),S[P.name].push(T)}else if(P.objects[A].polyline){var T={name:P.objects[A].name,type:P.objects[A].type,x:P.objects[A].x,y:P.objects[A].y,width:P.objects[A].width,height:P.objects[A].height,visible:P.objects[A].visible,properties:P.objects[A].properties};P.objects[A].rotation&&(T.rotation=P.objects[A].rotation),T.polyline=[];for(var I=0;I<P.objects[A].polyline.length;I++)T.polyline.push([P.objects[A].polyline[I].x,P.objects[A].polyline[I].y]);C[P.name].push(T),S[P.name].push(T)}else if(P.objects[A].polygon){(T=e(P.objects[A],["name","type","x","y","visible","rotation","properties"])).polygon=[];for(I=0;I<P.objects[A].polygon.length;I++)T.polygon.push([P.objects[A].polygon[I].x,P.objects[A].polygon[I].y]);S[P.name].push(T)}else P.objects[A].ellipse?T=e(P.objects[A],["name","type","ellipse","x","y","width","height","visible","rotation","properties"]):(T=e(P.objects[A],["name","type","x","y","width","height","visible","rotation","properties"])).rectangle=!0,S[P.name].push(T)}i.objects=S,i.collision=C,i.tiles=[];for(n=0;n<i.tilesets.length;n++)for(var F=(B=i.tilesets[n]).tileMargin,R=B.tileMargin,L=0,k=0,D=0,f=B.firstgid;f<B.firstgid+B.total&&(i.tiles[f]=[F,R,n],F+=B.tileWidth+B.tileSpacing,++L!==B.total)&&(++k!==B.columns||(F=B.tileMargin,R+=B.tileHeight+B.tileSpacing,k=0,++D!==B.rows));f++);for(var q,O,B,n=0;n<i.layers.length;n++){u=i.layers[n],B=null;for(h=0;h<u.data.length;h++)for(var j=u.data[h],J=0;J<j.length;J++)null===(q=j[J])||q.index<0||(O=i.tiles[q.index][2],(B=i.tilesets[O]).tileProperties&&B.tileProperties[q.index-B.firstgid]&&(q.properties=G.Utils.mixin(B.tileProperties[q.index-B.firstgid],q.properties)))}return i}},G.Tileset=function(t,e,i,o,n,s,r){(void 0===i||i<=0)&&(i=32),(void 0===o||o<=0)&&(o=32),void 0===n&&(n=0),void 0===s&&(s=0),this.name=t,this.firstgid=0|e,this.tileWidth=0|i,this.tileHeight=0|o,this.tileMargin=0|n,this.tileSpacing=0|s,this.properties=r||{},this.image=null,this.rows=0,this.columns=0,this.total=0,this.drawCoords=[]},G.Tileset.prototype={draw:function(t,e,i,o){o=o-this.firstgid<<1;0<=o&&1+o<this.drawCoords.length&&t.drawImage(this.image,this.drawCoords[o],this.drawCoords[1+o],this.tileWidth,this.tileHeight,e,i,this.tileWidth,this.tileHeight)},containsTileIndex:function(t){return t>=this.firstgid&&t<this.firstgid+this.total},setImage:function(t){this.image=t,this.updateTileData(t.width,t.height)},setSpacing:function(t,e){this.tileMargin=0|t,this.tileSpacing=0|e,this.image&&this.updateTileData(this.image.width,this.image.height)},updateTileData:function(t,e){e=(e-2*this.tileMargin+this.tileSpacing)/(this.tileHeight+this.tileSpacing),t=(t-2*this.tileMargin+this.tileSpacing)/(this.tileWidth+this.tileSpacing),e=Math.floor(e),t=Math.floor(t);this.rows&&this.rows!==e||this.columns&&this.columns,this.rows=e,this.columns=t,this.total=e*t,this.drawCoords.length=0;for(var i=this.tileMargin,o=this.tileMargin,n=0;n<this.rows;n++){for(var s=0;s<this.columns;s++)this.drawCoords.push(i),this.drawCoords.push(o),i+=this.tileWidth+this.tileSpacing;i=this.tileMargin,o+=this.tileHeight+this.tileSpacing}}},G.Tileset.prototype.constructor=G.Tileset,G.Particle=function(t,e,i,o,n){G.Sprite.call(this,t,e,i,o,n),this.autoScale=!1,this.scaleData=null,this._s=0,this.autoAlpha=!1,this.alphaData=null,this._a=0},G.Particle.prototype=Object.create(G.Sprite.prototype),G.Particle.prototype.constructor=G.Particle,G.Particle.prototype.update=function(){this.autoScale&&(this._s--,this._s?this.scale.set(this.scaleData[this._s].x,this.scaleData[this._s].y):this.autoScale=!1),this.autoAlpha&&(this._a--,this._a?this.alpha=this.alphaData[this._a].v:this.autoAlpha=!1)},G.Particle.prototype.onEmit=function(){},G.Particle.prototype.setAlphaData=function(t){this.alphaData=t,this._a=t.length-1,this.alpha=this.alphaData[this._a].v,this.autoAlpha=!0},G.Particle.prototype.setScaleData=function(t){this.scaleData=t,this._s=t.length-1,this.scale.set(this.scaleData[this._s].x,this.scaleData[this._s].y),this.autoScale=!0},G.Particle.prototype.reset=function(t,e,i){return G.Component.Reset.prototype.reset.call(this,t,e,i),this.alpha=1,this.scale.set(1),this.autoScale=!1,this.autoAlpha=!1,this},G.Particles=function(t){this.game=t,this.emitters={},this.ID=0},G.Particles.prototype={add:function(t){return this.emitters[t.name]=t},remove:function(t){delete this.emitters[t.name]},update:function(){for(var t in this.emitters)this.emitters[t].exists&&this.emitters[t].update()}},G.Particles.prototype.constructor=G.Particles,G.Particles.Arcade={},G.Particles.Arcade.Emitter=function(t,e,i,o){this.maxParticles=o||50,G.Group.call(this,t),this.name="emitter"+this.game.particles.ID++,this.type=G.EMITTER,this.physicsType=G.GROUP,this.area=new G.Rectangle(e,i,1,1),this.minParticleSpeed=new G.Point(-100,-100),this.maxParticleSpeed=new G.Point(100,100),this.minParticleScale=1,this.maxParticleScale=1,this.scaleData=null,this.minRotation=-360,this.maxRotation=360,this.minParticleAlpha=1,this.maxParticleAlpha=1,this.alphaData=null,this.gravity=100,this.particleClass=G.Particle,this.particleDrag=new G.Point,this.angularDrag=0,this.frequency=100,this.lifespan=2e3,this.bounce=new G.Point,this.on=!1,this.particleAnchor=new G.Point(.5,.5),this.blendMode=G.blendModes.NORMAL,this.emitX=e,this.emitY=i,this.autoScale=!1,this.autoAlpha=!1,this.particleBringToTop=!1,this.particleSendToBack=!1,this._minParticleScale=new G.Point(1,1),this._maxParticleScale=new G.Point(1,1),this._quantity=0,this._timer=0,this._counter=0,this._flowQuantity=0,this._flowTotal=0,this._explode=!0,this._frames=null},G.Particles.Arcade.Emitter.prototype=Object.create(G.Group.prototype),G.Particles.Arcade.Emitter.prototype.constructor=G.Particles.Arcade.Emitter,G.Particles.Arcade.Emitter.prototype.update=function(){if(this.on&&this.game.time.time>=this._timer)if(this._timer=this.game.time.time+this.frequency*this.game.time.slowMotion,0!==this._flowTotal)if(0<this._flowQuantity){for(var t=0;t<this._flowQuantity;t++)if(this.emitParticle()&&(this._counter++,-1!==this._flowTotal&&this._counter>=this._flowTotal)){this.on=!1;break}}else this.emitParticle()&&(this._counter++,-1!==this._flowTotal&&this._counter>=this._flowTotal&&(this.on=!1));else this.emitParticle()&&(this._counter++,0<this._quantity&&this._counter>=this._quantity&&(this.on=!1));for(t=this.children.length;t--;)this.children[t].exists&&this.children[t].update()},G.Particles.Arcade.Emitter.prototype.makeParticles=function(t,e,i,o,n){void 0===i&&(i=this.maxParticles),void 0===o&&(o=!1),void 0===n&&(n=!1);var s,r=0,c=t,a=e=void 0===e?0:e;for(this._frames=e,i>this.maxParticles&&(this.maxParticles=i);r<i;)Array.isArray(t)&&(c=this.game.rnd.pick(t)),Array.isArray(e)&&(a=this.game.rnd.pick(e)),s=new this.particleClass(this.game,0,0,c,a),this.game.physics.arcade.enable(s,!1),o?(s.body.checkCollision.any=!0,s.body.checkCollision.none=!1):s.body.checkCollision.none=!0,s.body.collideWorldBounds=n,s.body.skipQuadTree=!0,s.exists=!1,s.visible=!1,s.anchor.copyFrom(this.particleAnchor),this.add(s),r++;return this},G.Particles.Arcade.Emitter.prototype.kill=function(){return this.on=!1,this.alive=!1,this.exists=!1,this},G.Particles.Arcade.Emitter.prototype.revive=function(){return this.alive=!0,this.exists=!0,this},G.Particles.Arcade.Emitter.prototype.explode=function(t,e){return this._flowTotal=0,this.start(!0,t,0,e,!1),this},G.Particles.Arcade.Emitter.prototype.flow=function(t,e,i,o,n){return void 0===o&&(o=-1),void 0===n&&(n=!0),(i=void 0!==i&&0!==i?i:1)>this.maxParticles&&(i=this.maxParticles),this._counter=0,this._flowQuantity=i,this._flowTotal=o,n?(this.start(!0,t,e,i),this._counter+=i,this.on=!0,this._timer=this.game.time.time+e*this.game.time.slowMotion):this.start(!1,t,e,i),this},G.Particles.Arcade.Emitter.prototype.start=function(t,e,i,o,n){if(void 0===t&&(t=!0),void 0===e&&(e=0),null==i&&(i=250),void 0===n&&(n=!1),(o=void 0===o?0:o)>this.maxParticles&&(o=this.maxParticles),this.revive(),this.visible=!0,this.lifespan=e,this.frequency=i,t||n)for(var s=0;s<o;s++)this.emitParticle();else this.on=!0,this._quantity=o,this._counter=0,this._timer=this.game.time.time+i*this.game.time.slowMotion;return this},G.Particles.Arcade.Emitter.prototype.emitParticle=function(t,e,i,o){void 0===t&&(t=null),void 0===e&&(e=null);var n=this.getFirstExists(!1);if(null===n)return!1;var s=this.game.rnd,i=(void 0!==i&&void 0!==o?n.loadTexture(i,o):void 0!==i&&n.loadTexture(i),this.emitX),r=this.emitY,t=(null!==t?i=t:1<this.width&&(i=s.between(this.left,this.right)),null!==e?r=e:1<this.height&&(r=s.between(this.top,this.bottom)),n.reset(i,r),n.angle=0,n.lifespan=this.lifespan,this.particleBringToTop?this.bringToTop(n):this.particleSendToBack&&this.sendToBack(n),this.autoScale?n.setScaleData(this.scaleData):1!==this.minParticleScale||1!==this.maxParticleScale?n.scale.set(s.realInRange(this.minParticleScale,this.maxParticleScale)):this._minParticleScale.x===this._maxParticleScale.x&&this._minParticleScale.y===this._maxParticleScale.y||n.scale.set(s.realInRange(this._minParticleScale.x,this._maxParticleScale.x),s.realInRange(this._minParticleScale.y,this._maxParticleScale.y)),void 0===o&&(Array.isArray(this._frames)?n.frame=this.game.rnd.pick(this._frames):n.frame=this._frames),this.autoAlpha?n.setAlphaData(this.alphaData):n.alpha=s.realInRange(this.minParticleAlpha,this.maxParticleAlpha),n.blendMode=this.blendMode,n.body);return t.updateBounds(),t.bounce.copyFrom(this.bounce),t.drag.copyFrom(this.particleDrag),t.velocity.x=s.between(this.minParticleSpeed.x,this.maxParticleSpeed.x),t.velocity.y=s.between(this.minParticleSpeed.y,this.maxParticleSpeed.y),t.angularVelocity=s.between(this.minRotation,this.maxRotation),t.gravity.y=this.gravity,t.angularDrag=this.angularDrag,n.onEmit(),!0},G.Particles.Arcade.Emitter.prototype.destroy=function(){this.game.particles.remove(this),G.Group.prototype.destroy.call(this,!0,!1)},G.Particles.Arcade.Emitter.prototype.setSize=function(t,e){return this.area.width=t,this.area.height=e,this},G.Particles.Arcade.Emitter.prototype.setXSpeed=function(t,e){return e=e||0,this.minParticleSpeed.x=t=t||0,this.maxParticleSpeed.x=e,this},G.Particles.Arcade.Emitter.prototype.setYSpeed=function(t,e){return e=e||0,this.minParticleSpeed.y=t=t||0,this.maxParticleSpeed.y=e,this},G.Particles.Arcade.Emitter.prototype.setRotation=function(t,e){return e=e||0,this.minRotation=t=t||0,this.maxRotation=e,this},G.Particles.Arcade.Emitter.prototype.setAlpha=function(t,e,i,o,n){return void 0===e&&(e=1),void 0===i&&(i=0),void 0===o&&(o=G.Easing.Linear.None),void 0===n&&(n=!1),this.minParticleAlpha=t=void 0===t?1:t,this.maxParticleAlpha=e,this.autoAlpha=!1,0<i&&t!==e&&((t=this.game.make.tween({v:t}).to({v:e},i,o)).yoyo(n),this.alphaData=t.generateData(60),this.alphaData.reverse(),this.autoAlpha=!0),this},G.Particles.Arcade.Emitter.prototype.setScale=function(t,e,i,o,n,s,r){return void 0===t&&(t=1),void 0===e&&(e=1),void 0===i&&(i=1),void 0===o&&(o=1),void 0===n&&(n=0),void 0===s&&(s=G.Easing.Linear.None),void 0===r&&(r=!1),this.minParticleScale=1,this.maxParticleScale=1,this._minParticleScale.set(t,i),this._maxParticleScale.set(e,o),this.autoScale=!1,0<n&&(t!==e||i!==o)&&((t=this.game.make.tween({x:t,y:i}).to({x:e,y:o},n,s)).yoyo(r),this.scaleData=t.generateData(60),this.scaleData.reverse(),this.autoScale=!0),this},G.Particles.Arcade.Emitter.prototype.at=function(t){return t.center?(this.emitX=t.center.x,this.emitY=t.center.y):(this.emitX=t.world.x+t.anchor.x*t.width,this.emitY=t.world.y+t.anchor.y*t.height),this},Object.defineProperty(G.Particles.Arcade.Emitter.prototype,"width",{get:function(){return this.area.width},set:function(t){this.area.width=t}}),Object.defineProperty(G.Particles.Arcade.Emitter.prototype,"height",{get:function(){return this.area.height},set:function(t){this.area.height=t}}),Object.defineProperty(G.Particles.Arcade.Emitter.prototype,"x",{get:function(){return this.emitX},set:function(t){this.emitX=t}}),Object.defineProperty(G.Particles.Arcade.Emitter.prototype,"y",{get:function(){return this.emitY},set:function(t){this.emitY=t}}),Object.defineProperty(G.Particles.Arcade.Emitter.prototype,"left",{get:function(){return Math.floor(this.x-this.area.width/2)}}),Object.defineProperty(G.Particles.Arcade.Emitter.prototype,"right",{get:function(){return Math.floor(this.x+this.area.width/2)}}),Object.defineProperty(G.Particles.Arcade.Emitter.prototype,"top",{get:function(){return Math.floor(this.y-this.area.height/2)}}),Object.defineProperty(G.Particles.Arcade.Emitter.prototype,"bottom",{get:function(){return Math.floor(this.y+this.area.height/2)}}),G.Weapon=function(t,e){G.Plugin.call(this,t,e),this.bullets=null,this.autoExpandBulletsGroup=!1,this.autofire=!1,this.shots=0,this.fireLimit=0,this.fireRate=100,this.fireRateVariance=0,this.fireFrom=new G.Rectangle(0,0,1,1),this.fireAngle=G.ANGLE_UP,this.bulletInheritSpriteSpeed=!1,this.bulletAnimation="",this.bulletFrameRandom=!1,this.bulletFrameCycle=!1,this.bulletWorldWrap=!1,this.bulletWorldWrapPadding=0,this.bulletAngleOffset=0,this.bulletAngleVariance=0,this.bulletSpeed=200,this.bulletSpeedVariance=0,this.bulletLifespan=0,this.bulletKillDistance=0,this.bulletGravity=new G.Point(0,0),this.bulletRotateToVelocity=!1,this.bulletKey="",this.bulletFrame="",this._bulletClass=G.Bullet,this._bulletCollideWorldBounds=!1,this._bulletKillType=G.Weapon.KILL_WORLD_BOUNDS,this._data={customBody:!1,width:0,height:0,offsetX:0,offsetY:0},this.bounds=new G.Rectangle,this.bulletBounds=t.world.bounds,this.bulletFrames=[],this.bulletFrameIndex=0,this.anims={},this.onFire=new G.Signal,this.onKill=new G.Signal,this.onFireLimit=new G.Signal,this.trackedSprite=null,this.trackedPointer=null,this.trackRotation=!1,this.trackOffset=new G.Point,this._nextFire=0,this._rotatedPoint=new G.Point},G.Weapon.prototype=Object.create(G.Plugin.prototype),G.Weapon.prototype.constructor=G.Weapon,G.Weapon.KILL_NEVER=0,G.Weapon.KILL_LIFESPAN=1,G.Weapon.KILL_DISTANCE=2,G.Weapon.KILL_WEAPON_BOUNDS=3,G.Weapon.KILL_CAMERA_BOUNDS=4,G.Weapon.KILL_WORLD_BOUNDS=5,G.Weapon.KILL_STATIC_BOUNDS=6,G.Weapon.prototype.createBullets=function(t,e,i,o){return void 0===t&&(t=1),void 0===o&&(o=this.game.world),this.bullets||(this.bullets=this.game.add.physicsGroup(G.Physics.ARCADE,o),this.bullets.classType=this._bulletClass),0!==t&&(-1===t&&(this.autoExpandBulletsGroup=!0,t=1),this.bullets.createMultiple(t,e,i),this.bullets.setAll("data.bulletManager",this),this.bulletKey=e,this.bulletFrame=i),this},G.Weapon.prototype.forEach=function(t,e){return this.bullets.forEachExists(t,e,arguments),this},G.Weapon.prototype.pauseAll=function(){return this.bullets.setAll("body.enable",!1),this},G.Weapon.prototype.resumeAll=function(){return this.bullets.setAll("body.enable",!0),this},G.Weapon.prototype.killAll=function(){return this.bullets.callAllExists("kill",!0),this.bullets.setAll("body.enable",!0),this},G.Weapon.prototype.resetShots=function(t){return void(this.shots=0)!==t&&(this.fireLimit=t),this},G.Weapon.prototype.destroy=function(){this.parent.remove(this,!1),this.bullets.destroy(),this.game=null,this.parent=null,this.active=!1,this.visible=!1},G.Weapon.prototype.update=function(){this._bulletKillType===G.Weapon.KILL_WEAPON_BOUNDS&&(this.trackedSprite?(this.trackedSprite.updateTransform(),this.bounds.centerOn(this.trackedSprite.worldPosition.x,this.trackedSprite.worldPosition.y)):this.trackedPointer&&this.bounds.centerOn(this.trackedPointer.worldX,this.trackedPointer.worldY)),this.autofire&&this.fire()},G.Weapon.prototype.trackSprite=function(t,e,i,o){return void 0===e&&(e=0),void 0===i&&(i=0),void 0===o&&(o=!1),this.trackedPointer=null,this.trackedSprite=t,this.trackRotation=o,this.trackOffset.set(e,i),this},G.Weapon.prototype.trackPointer=function(t,e,i){return void 0===t&&(t=this.game.input.activePointer),void 0===e&&(e=0),void 0===i&&(i=0),this.trackedPointer=t,this.trackedSprite=null,this.trackRotation=!1,this.trackOffset.set(e,i),this},G.Weapon.prototype.fire=function(t,e,i){if(this.game.time.now<this._nextFire||0<this.fireLimit&&this.shots===this.fireLimit)return!1;var o=this.bulletSpeed,t=(0!==this.bulletSpeedVariance&&(o+=G.Math.between(-this.bulletSpeedVariance,this.bulletSpeedVariance)),t?1<this.fireFrom.width?this.fireFrom.centerOn(t.x,t.y):(this.fireFrom.x=t.x,this.fireFrom.y=t.y):this.trackedSprite?(this.trackRotation?(this._rotatedPoint.set(this.trackedSprite.world.x+this.trackOffset.x,this.trackedSprite.world.y+this.trackOffset.y),this._rotatedPoint.rotate(this.trackedSprite.world.x,this.trackedSprite.world.y,this.trackedSprite.rotation),1<this.fireFrom.width?this.fireFrom.centerOn(this._rotatedPoint.x,this._rotatedPoint.y):(this.fireFrom.x=this._rotatedPoint.x,this.fireFrom.y=this._rotatedPoint.y)):1<this.fireFrom.width?this.fireFrom.centerOn(this.trackedSprite.world.x+this.trackOffset.x,this.trackedSprite.world.y+this.trackOffset.y):(this.fireFrom.x=this.trackedSprite.world.x+this.trackOffset.x,this.fireFrom.y=this.trackedSprite.world.y+this.trackOffset.y),this.bulletInheritSpriteSpeed&&(o+=this.trackedSprite.body.speed)):this.trackedPointer&&(1<this.fireFrom.width?this.fireFrom.centerOn(this.trackedPointer.world.x+this.trackOffset.x,this.trackedPointer.world.y+this.trackOffset.y):(this.fireFrom.x=this.trackedPointer.world.x+this.trackOffset.x,this.fireFrom.y=this.trackedPointer.world.y+this.trackOffset.y)),1<this.fireFrom.width?this.fireFrom.randomX:this.fireFrom.x),n=1<this.fireFrom.height?this.fireFrom.randomY:this.fireFrom.y,s=this.trackRotation?this.trackedSprite.angle:this.fireAngle,i=(void 0!==e&&void 0!==i&&(s=this.game.math.radToDeg(Math.atan2(i-n,e-t))),0!==this.bulletAngleVariance&&(s+=G.Math.between(-this.bulletAngleVariance,this.bulletAngleVariance)),0),e=0,r=(0===s||180===s?i=Math.cos(this.game.math.degToRad(s))*o:e=(90===s||270===s||(i=Math.cos(this.game.math.degToRad(s))*o),Math.sin(this.game.math.degToRad(s))*o),null);return this.autoExpandBulletsGroup?(r=this.bullets.getFirstExists(!1,!0,t,n,this.bulletKey,this.bulletFrame)).data.bulletManager=this:r=this.bullets.getFirstExists(!1),r&&(r.reset(t,n),r.data.fromX=t,r.data.fromY=n,r.data.killType=this.bulletKillType,r.data.killDistance=this.bulletKillDistance,r.data.rotateToVelocity=this.bulletRotateToVelocity,this.bulletKillType===G.Weapon.KILL_LIFESPAN&&(r.lifespan=this.bulletLifespan),r.angle=s+this.bulletAngleOffset,""!==this.bulletAnimation?(null===r.animations.getAnimation(this.bulletAnimation)&&(t=this.anims[this.bulletAnimation],r.animations.add(t.name,t.frames,t.frameRate,t.loop,t.useNumericIndex)),r.animations.play(this.bulletAnimation)):this.bulletFrameCycle?(r.frame=this.bulletFrames[this.bulletFrameIndex],++this.bulletFrameIndex>=this.bulletFrames.length&&(this.bulletFrameIndex=0)):this.bulletFrameRandom&&(r.frame=this.bulletFrames[Math.floor(Math.random()*this.bulletFrames.length)]),r.data.bodyDirty&&(this._data.customBody&&r.body.setSize(this._data.width,this._data.height,this._data.offsetX,this._data.offsetY),r.body.collideWorldBounds=this.bulletCollideWorldBounds,r.data.bodyDirty=!1),r.body.velocity.set(i,e),r.body.gravity.set(this.bulletGravity.x,this.bulletGravity.y),0!==this.bulletSpeedVariance?(n=this.fireRate,n+=G.Math.between(-this.fireRateVariance,this.fireRateVariance),this._nextFire=this.game.time.now+(n=n<0?0:n)):this._nextFire=this.game.time.now+this.fireRate,this.shots++,this.onFire.dispatch(r,this,o),0<this.fireLimit&&this.shots===this.fireLimit&&this.onFireLimit.dispatch(this,this.fireLimit)),r},G.Weapon.prototype.fireAtPointer=function(t){return void 0===t&&(t=this.game.input.activePointer),this.fire(null,t.worldX,t.worldY)},G.Weapon.prototype.fireAtSprite=function(t){return this.fire(null,t.world.x,t.world.y)},G.Weapon.prototype.fireAtXY=function(t,e){return this.fire(null,t,e)},G.Weapon.prototype.setBulletBodyOffset=function(t,e,i,o){return void 0===i&&(i=0),void 0===o&&(o=0),this._data.customBody=!0,this._data.width=t,this._data.height=e,this._data.offsetX=i,this._data.offsetY=o,this.bullets.callAll("body.setSize","body",t,e,i,o),this.bullets.setAll("data.bodyDirty",!1),this},G.Weapon.prototype.setBulletFrames=function(t,e,i,o){return void 0===i&&(i=!0),void 0===o&&(o=!1),this.bulletFrames=G.ArrayUtils.numberArray(t,e),this.bulletFrameIndex=0,this.bulletFrameCycle=i,this.bulletFrameRandom=o,this},G.Weapon.prototype.addBulletAnimation=function(t,e,i,o,n){return this.anims[t]={name:t,frames:e,frameRate:i,loop:o,useNumericIndex:n},this.bullets.callAll("animations.add","animations",t,e,i,o,n),this.bulletAnimation=t,this},G.Weapon.prototype.debug=function(t,e,i){void 0===i&&(i=!1),this.game.debug.text("Weapon Plugin",t=void 0===t?16:t,e=void 0===e?32:e),this.game.debug.text("Bullets Alive: "+this.bullets.total+" - Total: "+this.bullets.length,t,e+24),i&&this.bullets.forEachExists(this.game.debug.body,this.game.debug,"rgba(255, 0, 255, 0.8)")},Object.defineProperty(G.Weapon.prototype,"bulletClass",{get:function(){return this._bulletClass},set:function(t){this._bulletClass=t,this.bullets.classType=this._bulletClass}}),Object.defineProperty(G.Weapon.prototype,"bulletKillType",{get:function(){return this._bulletKillType},set:function(t){switch(t){case G.Weapon.KILL_STATIC_BOUNDS:case G.Weapon.KILL_WEAPON_BOUNDS:this.bulletBounds=this.bounds;break;case G.Weapon.KILL_CAMERA_BOUNDS:this.bulletBounds=this.game.camera.view;break;case G.Weapon.KILL_WORLD_BOUNDS:this.bulletBounds=this.game.world.bounds}this._bulletKillType=t}}),Object.defineProperty(G.Weapon.prototype,"bulletCollideWorldBounds",{get:function(){return this._bulletCollideWorldBounds},set:function(t){this._bulletCollideWorldBounds=t,this.bullets.setAll("body.collideWorldBounds",t),this.bullets.setAll("data.bodyDirty",!1)}}),Object.defineProperty(G.Weapon.prototype,"x",{get:function(){return this.fireFrom.x},set:function(t){this.fireFrom.x=t}}),Object.defineProperty(G.Weapon.prototype,"y",{get:function(){return this.fireFrom.y},set:function(t){this.fireFrom.y=t}}),G.Bullet=function(t,e,i,o,n){G.Sprite.call(this,t,e,i,o,n),this.anchor.set(.5),this.data={bulletManager:null,fromX:0,fromY:0,bodyDirty:!0,rotateToVelocity:!1,killType:0,killDistance:0}},G.Bullet.prototype=Object.create(G.Sprite.prototype),G.Bullet.prototype.constructor=G.Bullet,G.Bullet.prototype.kill=function(){return this.alive=!1,this.exists=!1,this.visible=!1,this.data.bulletManager.onKill.dispatch(this),this},G.Bullet.prototype.update=function(){this.exists&&(this.data.killType>G.Weapon.KILL_LIFESPAN&&(this.data.killType===G.Weapon.KILL_DISTANCE?this.game.physics.arcade.distanceToXY(this,this.data.fromX,this.data.fromY,!0)>this.data.killDistance&&this.kill():this.data.bulletManager.bulletBounds.intersects(this)||this.kill()),this.data.rotateToVelocity&&(this.rotation=Math.atan2(this.body.velocity.y,this.body.velocity.x)),this.data.bulletManager.bulletWorldWrap&&this.game.world.wrap(this,this.data.bulletManager.bulletWorldWrapPadding))},G.Video=function(t,e,i){var o;void 0===e&&(e=null),void 0===i&&(i=null),this.game=t,this.key=e,this.width=0,this.height=0,this.type=G.VIDEO,this.disableTextureUpload=!1,this.touchLocked=!1,this.onPlay=new G.Signal,this.onChangeSource=new G.Signal,this.onComplete=new G.Signal,this.onAccess=new G.Signal,this.onError=new G.Signal,this.onTimeout=new G.Signal,this.timeout=15e3,this._timeOutID=null,this.video=null,this.videoStream=null,this.isStreaming=!1,this.retryLimit=20,this.retry=0,this.retryInterval=500,this._retryID=null,this._codeMuted=!1,this._muted=!1,this._codePaused=!1,this._paused=!1,this._pending=!1,this._autoplay=!1,this._endCallback=null,this._playCallback=null,e&&this.game.cache.checkVideoKey(e)?((o=this.game.cache.getVideo(e)).isBlob?this.createVideoFromBlob(o.data):this.video=o.data,this.width=this.video.videoWidth,this.height=this.video.videoHeight):i&&this.createVideoFromURL(i,!1),this.video&&!i?this.baseTexture=new PIXI.BaseTexture(this.video):this.baseTexture=new PIXI.BaseTexture(G.Cache.DEFAULT.baseTexture.source),this.baseTexture.forceLoaded(this.width,this.height),this.texture=new PIXI.Texture(this.baseTexture),this.textureFrame=new G.Frame(0,0,0,this.width,this.height,"video"),this.texture.setFrame(this.textureFrame),this.texture.valid=!1,null!==e&&this.video&&(this.texture.valid=this.video.canplay),this.snapshot=null,G.BitmapData&&(this.snapshot=new G.BitmapData(this.game,"",this.width,this.height)),!this.game.device.cocoonJS&&(this.game.device.iOS||this.game.device.chrome)||window.PhaserGlobal&&window.PhaserGlobal.fakeiOSTouchLock?this.setTouchLock():o&&(o.locked=!1)},G.Video.prototype={connectToMediaStream:function(t,e){return t&&e&&(this.video=t,this.videoStream=e,this.isStreaming=!0,this.baseTexture.source=this.video,this.updateTexture(null,this.video.videoWidth,this.video.videoHeight),this.onAccess.dispatch(this)),this},startMediaStream:function(t,e,i){if(void 0===t&&(t=!1),void 0===e&&(e=null),void 0===i&&(i=null),!this.game.device.getUserMedia)return this.onError.dispatch(this,"No getUserMedia"),!1;null!==this.videoStream&&(this.videoStream.active?this.videoStream.active=!1:this.videoStream.stop()),this.removeVideoElement(),this.video=document.createElement("video"),this.video.setAttribute("autoplay","autoplay"),null!==e&&(this.video.width=e),null!==i&&(this.video.height=i),this._timeOutID=window.setTimeout(this.getUserMediaTimeout.bind(this),this.timeout);try{navigator.getUserMedia({audio:t,video:!0},this.getUserMediaSuccess.bind(this),this.getUserMediaError.bind(this))}catch(t){this.getUserMediaError(t)}return this},getUserMediaTimeout:function(){clearTimeout(this._timeOutID),this.onTimeout.dispatch(this)},getUserMediaError:function(t){clearTimeout(this._timeOutID),this.onError.dispatch(this,t)},getUserMediaSuccess:function(t){clearTimeout(this._timeOutID),this.videoStream=t,void 0!==this.video.mozSrcObject?this.video.mozSrcObject=t:this.video.src=window.URL&&window.URL.createObjectURL(t)||t;var n=this;this.video.onloadeddata=function(){var o=10;!function t(){var e,i;0<o&&(0<n.video.videoWidth?(e=n.video.videoWidth,i=n.video.videoHeight,isNaN(n.video.videoHeight)&&(i=e/(4/3)),n.video.play(),n.isStreaming=!0,n.baseTexture.source=n.video,n.updateTexture(null,e,i),n.onAccess.dispatch(n)):window.setTimeout(t,500)),o--}()}},createVideoFromBlob:function(t){var e=this;return this.video=document.createElement("video"),this.video.controls=!1,this.video.setAttribute("autoplay","autoplay"),this.video.addEventListener("loadeddata",function(t){e.updateTexture(t)},!0),this.video.src=window.URL.createObjectURL(t),this.video.canplay=!0,this},createVideoFromURL:function(t,e){return void 0===e&&(e=!1),this.texture&&(this.texture.valid=!1),this.video=document.createElement("video"),this.video.controls=!1,e&&this.video.setAttribute("autoplay","autoplay"),this.video.src=t,this.video.canplay=!0,this.video.load(),this.retry=this.retryLimit,this._retryID=window.setTimeout(this.checkVideoProgress.bind(this),this.retryInterval),this.key=t,this},updateTexture:function(t,e,i){var o=!1;null==e&&(e=this.video.videoWidth,o=!0),null==i&&(i=this.video.videoHeight),this.width=e,this.height=i,this.baseTexture.source!==this.video&&(this.baseTexture.source=this.video),this.baseTexture.forceLoaded(e,i),this.texture.frame.resize(e,i),this.texture.width=e,this.texture.height=i,this.texture.valid=!0,this.snapshot&&this.snapshot.resize(e,i),o&&null!==this.key&&(this.onChangeSource.dispatch(this,e,i),this._autoplay&&(this.video.play(),this.onPlay.dispatch(this,this.loop,this.playbackRate)))},complete:function(){this.onComplete.dispatch(this)},play:function(t,e){return void 0===t&&(t=!1),void 0===e&&(e=1),this.game.sound.onMute&&(this.game.sound.onMute.add(this.setMute,this),this.game.sound.onUnMute.add(this.unsetMute,this),this.game.sound.mute&&this.setMute()),this.game.onPause.add(this.setPause,this),this.game.onResume.add(this.setResume,this),this._endCallback=this.complete.bind(this),this.video.addEventListener("ended",this._endCallback,!0),this.video.addEventListener("webkitendfullscreen",this._endCallback,!0),this.video.loop=t?"loop":"",this.video.playbackRate=e,this.touchLocked?this._pending=!0:(this._pending=!1,null!==this.key&&(4!==this.video.readyState?(this.retry=this.retryLimit,this._retryID=window.setTimeout(this.checkVideoProgress.bind(this),this.retryInterval)):(this._playCallback=this.playHandler.bind(this),this.video.addEventListener("playing",this._playCallback,!0))),this.video.play(),this.onPlay.dispatch(this,t,e)),this},playHandler:function(){this.video.removeEventListener("playing",this._playCallback,!0),this.updateTexture()},stop:function(){return this.game.sound.onMute&&(this.game.sound.onMute.remove(this.setMute,this),this.game.sound.onUnMute.remove(this.unsetMute,this)),this.game.onPause.remove(this.setPause,this),this.game.onResume.remove(this.setResume,this),this.isStreaming?(this.video.mozSrcObject?(this.video.mozSrcObject.stop(),this.video.src=null):(this.video.src="",this.videoStream.active?this.videoStream.active=!1:this.videoStream.getTracks?this.videoStream.getTracks().forEach(function(t){t.stop()}):this.videoStream.stop()),this.videoStream=null,this.isStreaming=!1):(this.video.removeEventListener("ended",this._endCallback,!0),this.video.removeEventListener("webkitendfullscreen",this._endCallback,!0),this.video.removeEventListener("playing",this._playCallback,!0),this.touchLocked?this._pending=!1:this.video.pause()),this},add:function(t){if(Array.isArray(t))for(var e=0;e<t.length;e++)t[e].loadTexture&&t[e].loadTexture(this);else t.loadTexture(this);return this},addToWorld:function(t,e,i,o,n,s){n=n||1,s=s||1;t=this.game.add.image(t,e,this);return t.anchor.set(i,o),t.scale.set(n,s),t},render:function(){!this.disableTextureUpload&&this.playing&&this.baseTexture.dirty()},setMute:function(){this._muted||(this._muted=!0,this.video.muted=!0)},unsetMute:function(){this._muted&&!this._codeMuted&&(this._muted=!1,this.video.muted=!1)},setPause:function(){this._paused||this.touchLocked||(this._paused=!0,this.video.pause())},setResume:function(){!this._paused||this._codePaused||this.touchLocked||(this._paused=!1,this.video.ended||this.video.play())},changeSource:function(t,e){return void 0===e&&(e=!0),this.texture.valid=!1,this.video.pause(),this.retry=this.retryLimit,this._retryID=window.setTimeout(this.checkVideoProgress.bind(this),this.retryInterval),this.video.src=t,this.video.load(),(this._autoplay=e)||(this.paused=!0),this},checkVideoProgress:function(){4===this.video.readyState?this.updateTexture():(this.retry--,0<this.retry&&(this._retryID=window.setTimeout(this.checkVideoProgress.bind(this),this.retryInterval)))},setTouchLock:function(){this.game.input.touch.addTouchLockCallback(this.unlock,this),this.touchLocked=!0},unlock:function(){var t;return this.touchLocked=!1,this.video.play(),this.onPlay.dispatch(this,this.loop,this.playbackRate),this.key&&(t=this.game.cache.getVideo(this.key))&&!t.isBlob&&(t.locked=!1),!0},grab:function(t,e,i){return void 0===t&&(t=!1),void 0===e&&(e=1),void 0===i&&(i=null),null===this.snapshot?void 0:(t&&this.snapshot.cls(),this.snapshot.copy(this.video,0,0,this.width,this.height,0,0,this.width,this.height,0,0,0,1,1,e,i),this.snapshot)},removeVideoElement:function(){if(this.video){for(this.video.parentNode&&this.video.parentNode.removeChild(this.video);this.video.hasChildNodes();)this.video.removeChild(this.video.firstChild);this.video.removeAttribute("autoplay"),this.video.removeAttribute("src"),this.video=null}},destroy:function(){this.stop(),this.removeVideoElement(),this.touchLocked&&this.game.input.touch.removeTouchLockCallback(this.unlock,this),this._retryID&&window.clearTimeout(this._retryID)}},Object.defineProperty(G.Video.prototype,"currentTime",{get:function(){return this.video?this.video.currentTime:0},set:function(t){this.video.currentTime=t}}),Object.defineProperty(G.Video.prototype,"duration",{get:function(){return this.video?this.video.duration:0}}),Object.defineProperty(G.Video.prototype,"progress",{get:function(){return this.video?this.video.currentTime/this.video.duration:0}}),Object.defineProperty(G.Video.prototype,"mute",{get:function(){return this._muted},set:function(t){(t=t||null)?this._muted||(this._codeMuted=!0,this.setMute()):this._muted&&(this._codeMuted=!1,this.unsetMute())}}),Object.defineProperty(G.Video.prototype,"paused",{get:function(){return this._paused},set:function(t){t=t||null,this.touchLocked||(t?this._paused||(this._codePaused=!0,this.setPause()):this._paused&&(this._codePaused=!1,this.setResume()))}}),Object.defineProperty(G.Video.prototype,"volume",{get:function(){return this.video?this.video.volume:1},set:function(t){t<0?t=0:1<t&&(t=1),this.video&&(this.video.volume=t)}}),Object.defineProperty(G.Video.prototype,"playbackRate",{get:function(){return this.video?this.video.playbackRate:1},set:function(t){this.video&&(this.video.playbackRate=t)}}),Object.defineProperty(G.Video.prototype,"loop",{get:function(){return!!this.video&&this.video.loop},set:function(t){t&&this.video?this.video.loop="loop":this.video&&(this.video.loop="")}}),Object.defineProperty(G.Video.prototype,"playing",{get:function(){return!(this.video.paused&&this.video.ended)}}),G.Video.prototype.constructor=G.Video,void 0===PIXI.blendModes&&(PIXI.blendModes=G.blendModes),void 0===PIXI.scaleModes&&(PIXI.scaleModes=G.scaleModes),void 0===PIXI.Texture.emptyTexture&&(PIXI.Texture.emptyTexture=new PIXI.Texture(new PIXI.BaseTexture)),void 0===PIXI.DisplayObject._tempMatrix&&(PIXI.DisplayObject._tempMatrix=new PIXI.Matrix),void 0===PIXI.RenderTexture.tempMatrix&&(PIXI.RenderTexture.tempMatrix=new PIXI.Matrix),PIXI.Graphics&&void 0===PIXI.Graphics.POLY&&(PIXI.Graphics.POLY=G.POLYGON,PIXI.Graphics.RECT=G.RECTANGLE,PIXI.Graphics.CIRC=G.CIRCLE,PIXI.Graphics.ELIP=G.ELLIPSE,PIXI.Graphics.RREC=G.ROUNDEDRECTANGLE),PIXI.TextureSilentFail=!0,"undefined"!=typeof exports?(exports="undefined"!=typeof module&&module.exports?module.exports=G:exports).Phaser=G:"undefined"!=typeof define&&define.amd?define("Phaser",n.Phaser=G):n.Phaser=G,G}.call(this),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).h5branding=t.h5branding||{})}(this,function(s){"use strict";var ot="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function nt(){throw new Error("Dynamic requires are not currently supported by rollup-plugin-commonjs")}function t(t,e){return t(e={exports:{}},e.exports),e.exports}t(function(t,e){t.exports=function(){function o(t){var e=typeof t;return t!==null&&(e==="object"||e==="function")}function a(t){return typeof t==="function"}var t=void 0;if(Array.isArray)t=Array.isArray;else t=function(t){return Object.prototype.toString.call(t)==="[object Array]"};var i=t,n=0,e=void 0,s=void 0,r=function t(e,i){Y[n]=e;Y[n+1]=i;n+=2;if(n===2)if(s)s(f);else b()};function c(t){s=t}function h(t){r=t}var u=typeof window!=="undefined"?window:undefined,l=u||{},d=l.MutationObserver||l.WebKitMutationObserver,p=typeof self==="undefined"&&typeof process!=="undefined"&&{}.toString.call(process)==="[object process]",F=typeof Uint8ClampedArray!=="undefined"&&typeof importScripts!=="undefined"&&typeof MessageChannel!=="undefined";function M(){return function(){return process.nextTick(f)}}function R(){if(typeof e!=="undefined")return function(){e(f)};return j()}function L(){var t=0;var e=new d(f);var i=document.createTextNode("");e.observe(i,{characterData:true});return function(){i.data=t=++t%2}}function k(){var t=new MessageChannel;t.port1.onmessage=f;return function(){return t.port2.postMessage(0)}}function j(){var t=setTimeout;return function(){return t(f,1)}}var Y=new Array(1e3);function f(){for(var t=0;t<n;t+=2){var e=Y[t];var i=Y[t+1];e(i);Y[t]=undefined;Y[t+1]=undefined}n=0}function D(){try{var t=Function("return this")().require("vertx");e=t.runOnLoop||t.runOnContext;return R()}catch(t){return j()}}var b=void 0;if(p)b=M();else if(d)b=L();else if(F)b=k();else if(u===undefined&&typeof nt==="function")b=D();else b=j();function g(t,e){var i=this;var o=new this.constructor(x);if(o[m]===undefined)B(o);var n=i._state;if(n){var s=arguments[n-1];r(function(){return I(n,o,s,i._result)})}else A(i,o,t,e);return o}function y(t){var e=this;if(t&&typeof t==="object"&&t.constructor===e)return t;var i=new e(x);S(i,t);return i}var m=Math.random().toString(36).substring(2);function x(){}var v=void 0,w=1,_=2;function O(){return new TypeError("You cannot resolve a promise with itself")}function G(){return new TypeError("A promises callback cannot return that same promise.")}function Q(t,e,i,o){try{t.call(e,i,o)}catch(t){return t}}function N(t,o,n){r(function(e){var i=false;var t=Q(n,o,function(t){if(i)return;i=true;if(o!==t)S(e,t);else C(e,t)},function(t){if(i)return;i=true;P(e,t)},"Settle: "+(e._label||" unknown promise"));if(!i&&t){i=true;P(e,t)}},t)}function W(e,t){if(t._state===w)C(e,t._result);else if(t._state===_)P(e,t._result);else A(t,undefined,function(t){return S(e,t)},function(t){return P(e,t)})}function E(t,e,i){if(e.constructor===t.constructor&&i===g&&e.constructor.resolve===y)W(t,e);else if(i===undefined)C(t,e);else if(a(i))N(t,e,i);else C(t,e)}function S(e,t){if(e===t)P(e,O());else if(o(t)){var i=void 0;try{i=t.then}catch(t){P(e,t);return}E(e,t,i)}else C(e,t)}function U(t){if(t._onerror)t._onerror(t._result);T(t)}function C(t,e){if(t._state!==v)return;t._result=e;t._state=w;if(t._subscribers.length!==0)r(T,t)}function P(t,e){if(t._state!==v)return;t._state=_;t._result=e;r(U,t)}function A(t,e,i,o){var n=t._subscribers;var s=n.length;t._onerror=null;n[s]=e;n[s+w]=i;n[s+_]=o;if(s===0&&t._state)r(T,t)}function T(t){var e=t._subscribers;var i=t._state;if(e.length===0)return;var o=void 0,n=void 0,s=t._result;for(var r=0;r<e.length;r+=3){o=e[r];n=e[r+i];if(o)I(i,o,n,s);else n(s)}t._subscribers.length=0}function I(t,e,i,o){var n=a(i),s=void 0,r=void 0,c=true;if(n){try{s=i(o)}catch(t){c=false;r=t}if(e===s){P(e,G());return}}else s=o;if(e._state!==v);else if(n&&c)S(e,s);else if(c===false)P(e,r);else if(t===w)C(e,s);else if(t===_)P(e,s)}function X(i,t){try{t(function t(e){S(i,e)},function t(e){P(i,e)})}catch(t){P(i,t)}}var q=0;function V(){return q++}function B(t){t[m]=q++;t._state=undefined;t._result=undefined;t._subscribers=[]}function H(){return new Error("Array Methods must be provided an Array")}var z=function(){function t(t,e){this._instanceConstructor=t;this.promise=new t(x);if(!this.promise[m])B(this.promise);if(i(e)){this.length=e.length;this._remaining=e.length;this._result=new Array(this.length);if(this.length===0)C(this.promise,this._result);else{this.length=this.length||0;this._enumerate(e);if(this._remaining===0)C(this.promise,this._result)}}else P(this.promise,H())}t.prototype._enumerate=function t(e){for(var i=0;this._state===v&&i<e.length;i++)this._eachEntry(e[i],i)};t.prototype._eachEntry=function t(e,i){var o=this._instanceConstructor;var n=o.resolve;if(n===y){var s=void 0;var r=void 0;var c=false;try{s=e.then}catch(t){c=true;r=t}if(s===g&&e._state!==v)this._settledAt(e._state,i,e._result);else if(typeof s!=="function"){this._remaining--;this._result[i]=e}else if(o===J){var a=new o(x);if(c)P(a,r);else E(a,e,s);this._willSettleAt(a,i)}else this._willSettleAt(new o(function(t){return t(e)}),i)}else this._willSettleAt(n(e),i)};t.prototype._settledAt=function t(e,i,o){var n=this.promise;if(n._state===v){this._remaining--;if(e===_)P(n,o);else this._result[i]=o}if(this._remaining===0)C(n,this._result)};t.prototype._willSettleAt=function t(e,i){var o=this;A(e,undefined,function(t){return o._settledAt(w,i,t)},function(t){return o._settledAt(_,i,t)})};return t}();function K(t){return new z(this,t).promise}function Z(n){var s=this;if(!i(n))return new s(function(t,e){return e(new TypeError("You must pass an array to race."))});else return new s(function(t,e){var i=n.length;for(var o=0;o<i;o++)s.resolve(n[o]).then(t,e)})}function $(t){var e=this;var i=new e(x);P(i,t);return i}function tt(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function et(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var J=function(){function e(t){this[m]=V();this._result=this._state=undefined;this._subscribers=[];if(x!==t){typeof t!=="function"&&tt();this instanceof e?X(this,t):et()}}e.prototype.catch=function t(e){return this.then(null,e)};e.prototype.finally=function t(e){var i=this;var o=i.constructor;if(a(e))return i.then(function(t){return o.resolve(e()).then(function(){return t})},function(t){return o.resolve(e()).then(function(){throw t})});return i.then(e,e)};return e}();function it(){var t=void 0;if(typeof ot!=="undefined")t=ot;else if(typeof self!=="undefined")t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var i=null;try{i=Object.prototype.toString.call(e.resolve())}catch(t){}if(i==="[object Promise]"&&!e.cast)return}t.Promise=J}return J.prototype.then=g,J.all=K,J.race=Z,J.resolve=y,J.reject=$,J._setScheduler=c,J._setAsap=h,J._asap=r,J.polyfill=it,J.Promise=J}()}).polyfill(),e.has=function(t){var e=t.lastIndexOf(".");if(e<=0||e>=t.length-1)return!1;var i=t.lastIndexOf(".",e-1);if(i<=0||e-1<=i)return!1;var o=n[t.slice(e+1)];return!!o&&0<=o.indexOf(" "+t.slice(i+1,e)+" ")},e.is=function(t){var e=t.lastIndexOf(".");if(e<=0||e>=t.length-1)return!1;if(0<=t.lastIndexOf(".",e-1))return!1;var i=n[t.slice(e+1)];return!!i&&0<=i.indexOf(" "+t.slice(0,e)+" ")},e.get=function(t){var e=t.lastIndexOf(".");if(e<=0||e>=t.length-1)return null;var i=t.lastIndexOf(".",e-1);if(i<=0||e-1<=i)return null;var o=n[t.slice(e+1)];return!o||o.indexOf(" "+t.slice(i+1,e)+" ")<0?null:t.slice(i+1)};var n,i=e;function e(){}r.setList=function(t){n=t||{}},r.getDomain=function(t){if(!n)return null;var e=t.match(/\./g);if(e&&e.length<2)return t;e=this.getTld(t);if(!e)return null;e=t.length-e.length-1,e=t.lastIndexOf(".",e-1)+1;return t.substring(e)||""},r.getTld=function(t){if(!n)return"";var e=t.lastIndexOf("."),e=t.substring(e+1);return n[e.toLowerCase()]&&i.get(t)||e},r.KEY="Domains";var o=r;function r(){}Object.defineProperty(a,"instance",{get:function(){return a.classInstance=void 0===a.classInstance?new a:a.classInstance},enumerable:!1,configurable:!0}),a.prototype.load=function(e,t,i){var o=this;return this.contains(e)?Promise.reject("Already in cache."):(this.cache[e]={url:t,data:null},this.requestXhr(t,i).then(function(t){return o.loadComplete(e,t)}).catch(function(t){return o.remove(e),Promise.reject(t)}))},a.prototype.loadComplete=function(t,e){if(!this.contains(t))return Promise.reject("Item was removed from cache before loading was complete.");try{var i=JSON.parse(e);return this.cache[t].data=i,Promise.resolve(i)}catch(t){return Promise.reject("There was an error parsing JSON file.")}},a.prototype.remove=function(t){this.contains(t)&&delete this.cache[t]},a.prototype.get=function(t){return this.contains(t)?this.cache[t].data:null},a.prototype.contains=function(t){return this.cache.hasOwnProperty(t)},a.prototype.isLoading=function(t){return this.contains(t)&&null===this.cache[t].data},a.prototype.isLoaded=function(t){return this.contains(t)&&null!==this.cache[t].data},a.prototype.loadScript=function(o,t,n){return new Promise(function(t,e){var i=document.createElement("script");i.src=o,i.async=!1,i.onload=function(){"function"==typeof n&&n(),t()},document.head.appendChild(i)})},a.prototype.requestXhr=function(i,o){var n;return void 0===o&&(o="application/json"),window.XMLHttpRequest?(n=new XMLHttpRequest,new Promise(function(t,e){n.onreadystatechange=function(){4===n.readyState&&(200===n.status?(t(n.responseText),n.onreadystatechange=null):0<n.status&&(e("There was a problem with the request: status ".concat(n.status)),n.onreadystatechange=null))};try{n.open("GET",i,!0),n.setRequestHeader("Content-Type",o),n.send()}catch(t){e("Error: Unable to send request, CORS not allowed.")}})):Promise.reject("Unable to send request, XMLHttpRequest not supported.")};var c=a;function a(){this.cache={}}function h(s,r,c,a){return new(c=c||Promise)(function(t,e){function i(t){try{n(a.next(t))}catch(t){e(t)}}function o(t){try{n(a.throw(t))}catch(t){e(t)}}function n(e){e.done?t(e.value):new c(function(t){t(e.value)}).then(i,o)}n((a=a.apply(s,r||[])).next())})}function u(o,n){var s,r,c,a={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]},t={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(i){return function(t){var e=[i,t];if(s)throw new TypeError("Generator is already executing.");for(;a;)try{if(s=1,r&&(c=2&e[0]?r.return:e[0]?r.throw||((c=r.return)&&c.call(r),0):r.next)&&!(c=c.call(r,e[1])).done)return c;switch(r=0,(e=c?[2&e[0],c.value]:e)[0]){case 0:case 1:c=e;break;case 4:return a.label++,{value:e[1],done:!1};case 5:a.label++,r=e[1],e=[0];continue;case 7:e=a.ops.pop(),a.trys.pop();continue;default:if(!(c=0<(c=a.trys).length&&c[c.length-1])&&(6===e[0]||2===e[0])){a=0;continue}if(3===e[0]&&(!c||e[1]>c[0]&&e[1]<c[3])){a.label=e[1];break}if(6===e[0]&&a.label<c[1]){a.label=c[1],c=e;break}if(c&&a.label<c[2]){a.label=c[2],a.ops.push(e);break}c[2]&&a.ops.pop(),a.trys.pop();continue}e=n.call(o,a)}catch(t){e=[6,t],r=0}finally{s=c=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}}}s.BrandingDomain=void 0,(_=s.BrandingDomain||(s.BrandingDomain={}))[_.Neutral=0]="Neutral",_[_.Yepi=1]="Yepi",_[_.Spele=2]="Spele",_[_.Funnygames=3]="Funnygames",_[_.Kizi=4]="Kizi",_[_.PlayCell=5]="PlayCell",_[_.GameCell=6]="GameCell",_[_.Bild=7]="Bild",_[_.AGame=8]="AGame",_[_.Admeen=9]="Admeen",_[_.PlayTime=10]="PlayTime",_[_.Zigiz=11]="Zigiz";d.isBip=function(){return-1!==window.location.search.indexOf("bipgaming")||"bip.fbrq.io"===window.location.host},d.isPlaycellApp=function(){return-1!==window.location.search.indexOf("playcellApp")},d.isAGame=function(){return-1!==window.location.search.indexOf("agame")},d.isAirfi=function(){return!!window.hasOwnProperty("airfi")&&window.airfi},d.isPlaytime=function(){return-1!==window.location.host.indexOf("playtime.nl")},d.isBild=function(){return"bild.fbrq.io"===window.location.host||-1!==window.location.host.indexOf("contentfleet.com")},d.isYandex=function(){return window.hasOwnProperty("_YaSDK")||window.hasOwnProperty("YaGames")},d.getYandexBaseURL=function(){var t;if(null!=(t=null==(t=window.YandexGamesSDKEnvironment)?void 0:t.browser)&&t.lang&&"en"===window.YandexGamesSDKEnvironment.browser.lang)return"yandex.com";return"yandex.ru"};var l=d;function d(){}s.UtmTargets=void 0,(_=s.UtmTargets||(s.UtmTargets={}))[_.splashscreen=0]="splashscreen",_[_.logo=1]="logo",_[_.facebook=2]="facebook",_[_.twitter=3]="twitter",_[_.playstore=4]="playstore",_[_.appstore=5]="appstore",_[_.more_games=6]="more_games",_[_.download_game=7]="download_game",_[_.walkthrough=8]="walkthrough",_[_.disclaimer=9]="disclaimer",_[_.highscores=10]="highscores";F.getProtocol=function(t){return t?"https://":"//"},F.getUtmContent=function(t){return"string"==typeof t?t:s.UtmTargets[t]},F.getDomainURL=function(t,e){var i;switch(t){case s.BrandingDomain.Spele:i=e+"www.spele.nl";break;case s.BrandingDomain.Yepi:i=e+"www.yepi.com";break;case s.BrandingDomain.Admeen:i="https://media.admeen.com/branding/link.php";break;case s.BrandingDomain.PlayCell:i=e+"www.playcell.com";break;case s.BrandingDomain.GameCell:i=e+"www.gamecell.com";break;case s.BrandingDomain.Kizi:i=e+"www.kizi.com";break;case s.BrandingDomain.Bild:i=e+"www.bildspielt.de";break;case s.BrandingDomain.Funnygames:i=e+"www.funnygames.nu";break;case s.BrandingDomain.PlayTime:i=e+"playtime.nl";break;default:case s.BrandingDomain.AGame:i=e+"www.agame.com";break;case s.BrandingDomain.Zigiz:i=e+"m.zigiz.com"}return i},F.getPromoURL=function(t,e,i,o,n){return window.hasOwnProperty("_YaSDK")||window.hasOwnProperty("YaGames")?"https://".concat(l.getYandexBaseURL(),"/games/developer?name=Azerion"):t===s.BrandingDomain.Admeen?"https://media.admeen.com/branding/link.php":t===s.BrandingDomain.Bild?e:e+"/?utm_source="+i+"&utm_medium=html5&utm_term="+o+"&utm_content="+n+"&utm_campaign=Gamedistribution"};var p=F;function F(){}function j(t,e,i){var o=document.createElement("script");o.setAttribute("src",t+"?v="+e),"function"==typeof i&&(o.onload=i),document.body.appendChild(o)}f.loadPortalScript=function(t){t&&t.hasOwnProperty("minijuegos")&&-1!==t.minijuegos.indexOf(x.getSourceSite())&&(void 0!==window.mpConfig?window.mpConfig.partner="orange-games":window.mpConfig={partner:"orange-games"},j("https://ext.minijuegosgratis.com/external-host/main.js",Date.now()/1e3)),t&&t.hasOwnProperty("kongregate")&&-1!==t.kongregate.indexOf(x.getSourceSite())&&j("https://cdn1.kongregate.com/javascripts/kongregate_api.js",Date.now()/1e3,function(){"undefined"!=typeof kongregateAPI&&kongregateAPI.loadAPI(function(){window.kongregate=kongregateAPI.getAPI()})}),t&&t.hasOwnProperty("newgrounds")&&-1!==t.newgrounds.indexOf(x.getSourceSite())&&j("https://cdn.fbrq.io/@azerion/splash/assets/scripts/newgroundsio.min.js",Date.now()/1e3)};var Y=f;function f(){}g.isStandAlone=function(){var t;return null!=(t=window._azerionIntegration)&&t.sa?null==(t=window._azerionIntegration)?void 0:t.sa:!!window.hasOwnProperty("fbrqSA")&&window.fbrqSA},g.hasDomainForCustomBuild=function(){var t;return(null==(t=window._azerionIntegration)?void 0:t.bd)||window.hasOwnProperty("fbrqBD")},g.getDomainForCustomBuild=function(){var t;return null!=(t=window._azerionIntegration)&&t.bd&&(null==(t=window._azerionIntegration)?void 0:t.bd)in s.BrandingDomain?null==(t=window._azerionIntegration)?void 0:t.bd:window.hasOwnProperty("fbrqBD")&&window.fbrqBD in s.BrandingDomain?window.fbrqBD:void 0},g.hasLinksSettingsForCustomBuild=function(){var t;return(null==(t=window._azerionIntegration)?void 0:t.la)||window.hasOwnProperty("fbrqLA")},g.getLinkSettingsForCustomBuild=function(){var t;return null!=(t=window._azerionIntegration)&&t.la?null==(t=window._azerionIntegration)?void 0:t.la:window.hasOwnProperty("fbrqLA")?window.hasOwnProperty("fbrqLA"):void 0};var b=g;function g(){}m.preload=function(t){var e=Promise.all([c.instance.load(o.KEY,"".concat(x.ASSET_LOCATION,"json/domains.json?v=").concat(t),"text/plain"),c.instance.load(m.SITELOCK_PORTALS,"".concat(x.ASSET_LOCATION,"json/sitelock.json?v=").concat(t),"text/plain")]);return Promise.all([c.instance.load(m.INTERNAL_PORTALS_KEY,"".concat(x.ASSET_LOCATION,"json/internal.json?v=").concat(t),"text/plain"),c.instance.load(m.CONTRACTED_PORTALS_KEY,"".concat(x.ASSET_LOCATION,"json/contracted.json?v=").concat(t),"text/plain"),c.instance.load(m.SPECIAL_PORTALS_KEY,"".concat(x.ASSET_LOCATION,"json/special.json?v=").concat(t),"text/plain")]),e.then(function(t){var e=t[0],t=t[1];o.setList(e),Y.loadPortalScript(t),m.setSiteLock(t)}).catch(function(){})},m.setSiteLock=function(t){m.siteLocks=t},Object.defineProperty(m,"brandingLogoUrl",{get:function(){var t;switch(x.isOnDevice()||l.isAirfi()?x.ASSET_LOCATION="assets/":"fbrq.io"===x.getSourceSite(!0)&&(x.ASSET_LOCATION="https://"+window.location.host+"/@azerion/splash/assets/"),x.getBrandingDomain()){case s.BrandingDomain.Spele:t="spele";break;case s.BrandingDomain.PlayCell:t="playcell";break;case s.BrandingDomain.GameCell:t="gamecell";break;case s.BrandingDomain.Yepi:t="yepi";break;case s.BrandingDomain.Admeen:t="admeen";break;case s.BrandingDomain.Bild:t="bild";break;case s.BrandingDomain.Kizi:t="kizi";break;case s.BrandingDomain.Funnygames:t="funnygames";break;case s.BrandingDomain.PlayTime:t="playtime";break;default:case s.BrandingDomain.AGame:t="agame";break;case s.BrandingDomain.Zigiz:t="zigiz"}return x.ASSET_LOCATION+"images/branding_logo_"+t+"_small.png"},enumerable:!1,configurable:!0}),Object.defineProperty(m,"brandingBackgroundColor",{get:function(){var t;switch(x.getBrandingDomain()){case s.BrandingDomain.Spele:t="#4a72ad";break;case s.BrandingDomain.PlayCell:t="#52a1e1";break;case s.BrandingDomain.GameCell:t="#c600b2";break;case s.BrandingDomain.Yepi:t="#0573a7";break;case s.BrandingDomain.AGame:t="#0C486C";break;case s.BrandingDomain.Admeen:t="#4267B2";break;case s.BrandingDomain.Bild:t="#de0000";break;default:case s.BrandingDomain.Kizi:t="#012f50";break;case s.BrandingDomain.Funnygames:t="#33b0ff";break;case s.BrandingDomain.PlayTime:case s.BrandingDomain.Zigiz:t="#023a63"}return t},enumerable:!1,configurable:!0}),m.blockedDomain=function(){return x.isOnDevice()||m.isSpecial()},m.createCampaignURL=function(t,e){var i=x.getSourceSite(),o=x.getBrandingDomain(),n=p.getProtocol(x.isOnDevice()),n=p.getDomainURL(o,n),e=p.getUtmContent(e);return p.getPromoURL(o,n,i,t,e)},m.openCampaignLink=function(t,e){t=m.createCampaignURL(t,e);m.blockedDomain()||(e=window.open(t))&&e.focus&&e.focus()},m.isInternal=function(){return m.hostMatchesList(c.instance.get(m.INTERNAL_PORTALS_KEY))},m.isContracted=function(){return m.hostMatchesList(c.instance.get(m.CONTRACTED_PORTALS_KEY))},m.isSpecial=function(){return m.hostMatchesList(c.instance.get(m.SPECIAL_PORTALS_KEY))},m.isAdmeen=function(){if(!m.siteLocks||!m.siteLocks.hasOwnProperty("admeen"))return!1;var t=m.siteLocks.admeen;return m.hostMatchesList(t)},m.isKongregate=function(){if(!m.siteLocks||!m.siteLocks.hasOwnProperty("kongregate"))return!1;var t=m.siteLocks.kongregate;return m.hostMatchesList(t)},m.isNewgrounds=function(){if(!m.siteLocks||!m.siteLocks.hasOwnProperty("newgrounds"))return!1;var t=m.siteLocks.newgrounds;return m.hostMatchesList(t)},m.crossPromoAllowed=function(){var t=m.siteLocks.yandex;return m.hostMatchesList(t)},m.outGoingLinksAllowed=function(){return!(l.isAirfi()||m.isSpecial()||m.isContracted())&&(!b.hasLinksSettingsForCustomBuild()||b.getLinkSettingsForCustomBuild())},m.hostMatchesList=function(t){t=t||[];for(var e=x.getSourceSite(),i=0;i<t.length;i++)if(e===t[i])return!0;return!1},m.LOGO_KEY="branding_logo",m.INTERNAL_PORTALS_KEY="branding_portals",m.CONTRACTED_PORTALS_KEY="branding_contracted",m.SPECIAL_PORTALS_KEY="branding_special",m.SITELOCK_PORTALS="sitelock_portals",m.DOMAIN_OVERWRITE=null,m.analyticsEnabled=!0;var y=m;function m(){}v.loadHost=function(){return h(this,void 0,void 0,function(){var e,i;return u(this,function(t){switch(t.label){case 0:if(e=document.referrer||window.location.host,!window.hasOwnProperty("gdsdk"))return[3,4];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,window.gdsdk.getSession()];case 2:return i=t.sent(),e=i.location.parentDomain,[3,4];case 3:return t.sent(),[3,4];case 4:return v.HOST=e,[2]}})})},v.getSourceSite=function(t){var e=v.HOST;if(-1!==(e=(t=void 0===t?!1:t)?window.location.host:e).indexOf("embed.gamedistribution.com")&&-1!==window.location.search.indexOf("gd_sdk_referrer_url")&&(e=v.getUrlParameter("gd_sdk_referrer_url")||e),e=decodeURIComponent(e),l.isBild())return"bildspielt.de";if(l.isBip())return"bipgaming.com";e=(e=-1<e.indexOf("://")?e.split("/")[2]:e.split("/")[0]).split(":")[0],t=o.getDomain(e);return null!==t?t:3===e.split(".").length?e.substr(e.indexOf(".")+1):e},v.getBrandingDomain=function(){if(b.hasDomainForCustomBuild())return b.getDomainForCustomBuild();if(y.DOMAIN_OVERWRITE)return y.DOMAIN_OVERWRITE;var t=v.getSourceSite();if(y.isAdmeen())return s.BrandingDomain.Admeen;if(l.isPlaycellApp()||l.isBip())return s.BrandingDomain.PlayCell;switch(t){case"spele.nl":return s.BrandingDomain.Spele;case"yepi.com":return s.BrandingDomain.Yepi;case"oyunskor.com":case"barbioyunu.com.tr":case"bebekoyunu.com.tr":case"oyunkolu.com":case"oyungemisi.com":case"oyunlar1.com":case"oyunkuzusu.com":case"kraloyun.com":case"rekoroyun.com":case"oyundedem.com":case"oyunoyna.com":case"pastaoyunu.com.tr":case"playcell.com":return s.BrandingDomain.PlayCell;case"gamecell.com":return s.BrandingDomain.GameCell;case"playxl.com":return s.BrandingDomain.Admeen;case"kizi.com":return s.BrandingDomain.Kizi;case"bildspielt.de":return s.BrandingDomain.Bild;case"funnygames.nl":return s.BrandingDomain.Funnygames;case"playtime.nl":return s.BrandingDomain.PlayTime;default:case"agame.com":return s.BrandingDomain.AGame;case"gmbl.nl":case"zigiz.com":return s.BrandingDomain.Zigiz;case"coolmathgames.com":return s.BrandingDomain.Neutral}},v.getReferrer=function(t){return-1!==t.indexOf("?ref=")?t.substr(t.indexOf("?ref=")+5):t},v.inIframe=function(){try{return window.self!==window.top}catch(t){return!0}},v.inGDGameZone=function(){return-1!==document.referrer.indexOf("html5.gamedistribution.com")},v.getDomain=function(t){var e=document.createElement("a");return e.href=t,e.origin},v.isOnDevice=function(){return void 0!==window.cordova&&!/(gamedistribution\.com)/.test(window.location.hostname)},v.isTc=function(){return/(teamcity\.azerdev\.com)/.test(window.location.host)},v.getRandomRange=function(t,e){return Math.random()*(e-t)+t|0},v.getUrlParameter=function(t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");t=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(location.search);return null===t?"":decodeURIComponent(t[1].replace(/\+/g," "))},v.intTimeToString=function(t){var e=Math.floor(t/3600),i=Math.floor(t%3600/60),t=t%60;return(e<10?"0"+e:e.toString())+":"+(i<10?"0"+i:i.toString())+":"+(t<10?"0"+t:t.toString())},v.LANGUAGE="en",v.HOST=document.referrer||window.location.host,v.ASSET_LOCATION=b.isStandAlone()?"assets/":"https://cdn.fbrq.io/@azerion/splash/assets/";var x=v;function v(){}var w=t(function(t,e){t.exports=function e(o,n,s){function r(i,t){if(!n[i]){if(!o[i]){if(!t&&nt)return nt();if(c)return c(i,!0);t=new Error("Cannot find module '"+i+"'");throw t.code="MODULE_NOT_FOUND",t}t=n[i]={exports:{}};o[i][0].call(t.exports,function(t){var e=o[i][1][t];return r(e||t)},t,t.exports,e,o,n,s)}return n[i].exports}for(var c=nt,t=0;t<s.length;t++)r(s[t]);return r}({1:[function(t,D,O){!function(){var u,i,l,d,p,t,F,c,h,r,a,s,n,j,o,Y,e,f,b=this||Function("return this")(),g=(t=Date.now||function(){return+new Date},F="undefined"!=typeof SHIFTY_DEBUG_NOW?SHIFTY_DEBUG_NOW:t,i="undefined"!=typeof window&&(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||window.mozCancelRequestAnimationFrame&&window.mozRequestAnimationFrame)||setTimeout,P.prototype.tween=function(t){return this._isTweening?this:(void 0===t&&this._configured||this.setConfig(t),this._timestamp=F(),this._start(this.get(),this._attachment),this.resume())},P.prototype.setConfig=function(t){t=t||{},this._configured=!0,this._attachment=t.attachment,this._pausedAtTime=null,this._scheduleId=null,this._delay=t.delay||0,this._start=t.start||y,this._step=t.step||y,this._finish=t.finish||y,this._duration=t.duration||500,this._currentState=x({},t.from||this.get()),this._originalState=this.get(),this._targetState=x({},t.to||this.get());var e=this,i=(this._timeoutHandler=function(){S(e,e._timestamp,e._delay,e._duration,e._currentState,e._originalState,e._targetState,e._easing,e._step,e._scheduleFunction)},this._currentState),o=this._targetState;return v(o,i),this._easing=C(i,t.easing||"linear"),this._filterArgs=[i,this._originalState,o,this._easing],E(this,"tweenCreated"),this},P.prototype.get=function(){return x({},this._currentState)},P.prototype.set=function(t){this._currentState=t},P.prototype.pause=function(){return this._pausedAtTime=F(),this._isPaused=!0,this},P.prototype.resume=function(){return this._isPaused&&(this._timestamp+=F()-this._pausedAtTime),this._isPaused=!1,this._isTweening=!0,this._timeoutHandler(),this},P.prototype.seek=function(t){t=Math.max(t,0);var e=F();return this._timestamp+t===0||(this._timestamp=e-t,this.isPlaying()||(this._isTweening=!0,this._isPaused=!1,S(this,this._timestamp,this._delay,this._duration,this._currentState,this._originalState,this._targetState,this._easing,this._step,this._scheduleFunction,e),this.pause())),this},P.prototype.stop=function(t){return this._isTweening=!1,this._isPaused=!1,this._timeoutHandler=y,(b.cancelAnimationFrame||b.webkitCancelAnimationFrame||b.oCancelAnimationFrame||b.msCancelAnimationFrame||b.mozCancelRequestAnimationFrame||b.clearTimeout)(this._scheduleId),t&&(E(this,"beforeTween"),w(1,this._currentState,this._originalState,this._targetState,1,0,this._easing),E(this,"afterTween"),E(this,"afterTweenEnd"),this._finish.call(this,this._currentState,this._attachment)),this},P.prototype.isPlaying=function(){return this._isTweening&&!this._isPaused},P.prototype.setScheduleFunction=function(t){this._scheduleFunction=t},P.prototype.dispose=function(){for(var t in this)this.hasOwnProperty(t)&&delete this[t]},P.prototype.filter={},u=P.prototype.formula={linear:function(t){return t}},x(P,{now:F,each:m,tweenProps:w,tweenProp:_,applyFilter:E,shallowCopy:x,defaults:v,composeEasingObject:C}),"function"==typeof SHIFTY_DEBUG_NOW&&(b.timeoutHandler=S),"object"==typeof O?D.exports=P:void 0===b.Tweenable&&(b.Tweenable=P),P);function y(){}function m(t,e){for(var i in t)Object.hasOwnProperty.call(t,i)&&e(i)}function x(e,i){return m(i,function(t){e[t]=i[t]}),e}function v(e,i){m(i,function(t){void 0===e[t]&&(e[t]=i[t])})}function w(t,e,i,o,n,s,r){var c,a,h=t<s?0:(t-s)/n;for(c in e)e.hasOwnProperty(c)&&(a="function"==typeof(a=r[c])?a:u[a],e[c]=_(i[c],o[c],a,h));return e}function _(t,e,i,o){return t+(e-t)*i(o)}function E(e,i){var o=P.prototype.filter,n=e._filterArgs;m(o,function(t){void 0!==o[t][i]&&o[t][i].apply(e,n)})}function S(t,e,i,o,n,s,r,c,a,h,u){p=e+i+o,l=Math.min(u||F(),p),d=p<=l,p=o-(p-l),t.isPlaying()&&(d?(a(r,t._attachment,p),t.stop(!0)):(t._scheduleId=h(t._timeoutHandler,1e3/60),E(t,"beforeTween"),l<e+i?w(1,n,s,r,1,1,c):w(l,n,s,r,o,e+i,c),E(t,"afterTween"),a(n,t._attachment,p)))}function C(t,e){var i={},o=typeof e;return m(t,"string"==o||"function"==o?function(t){i[t]=e}:function(t){i[t]||(i[t]=e[t]||"linear")}),i}function P(t,e){this._currentState=t||{},this._configured=!1,this._scheduleFunction=i,void 0!==e&&this.setConfig(e)}function M(t,e,i,o,n,s){var a=0,h=0,u=0,r=0,c=0,l=0;function d(t){return((a*t+h)*t+u)*t}function p(t){return 0<=t?t:0-t}return a=1-(u=3*e)-(h=3*(o-e)-u),r=1-(l=3*i)-(c=3*(n-i)-l),o=function(t,e){var i,o,n,s,r,c;for(n=t,c=0;c<8;c++){if(p(s=d(n)-t)<e)return n;if(p(r=function(t){return(3*a*t+2*h)*t+u}(n))<1e-6)break;n-=s/r}if(o=1,(n=t)<(i=0))return i;if(o<n)return o;for(;i<o;){if(p((s=d(n))-t)<e)return n;s<t?i=n:o=n,n=.5*(o-i)+i}return n}(o=t,1/(200*s)),((r*o+c)*o+l)*o}function A(i){h.each(i,function(t){var e=i[t];"string"==typeof e&&e.match(o)&&(i[t]=I(o,e,R))})}function R(t){t=function(t){3===(t=t.replace(/#/,"")).length&&(t=(t=t.split(""))[0]+t[0]+t[1]+t[1]+t[2]+t[2]);return e[0]=T(t.substr(0,2)),e[1]=T(t.substr(2,2)),e[2]=T(t.substr(4,2)),e}(t);return"rgb("+t[0]+","+t[1]+","+t[2]+")"}function T(t){return parseInt(t,16)}function I(t,e,i){var o=e.match(t),n=e.replace(t,Y);if(o)for(var s,r=o.length,c=0;c<r;c++)s=o.shift(),n=n.replace(Y,i(s));return n}function L(t){for(var e=t.match(s),i=e.length,o=t.match(j)[0],n=0;n<i;n++)o+=parseInt(e[n],10)+",";return o=o.slice(0,-1)+")"}function k(n){var s={};return h.each(n,function(t){var e,i,o=n[t];"string"==typeof o&&(e=J(o),s[t]={formatString:((i=(o=o).match(a))?1!==i.length&&!o.charAt(0).match(r)||i.unshift(""):i=["",""],i.join(Y)),chunkNames:function(t,e){for(var i=[],o=t.length,n=0;n<o;n++)i.push("_"+e+"_"+n);return i}(e,t)})}),s}function q(n,s){h.each(s,function(t){for(var e=J(n[t]),i=e.length,o=0;o<i;o++)n[s[t].chunkNames[o]]=+e[o];delete n[t]})}function B(i,o){h.each(o,function(t){i[t];var e=function(t,e){f.length=0;for(var i=e.length,o=0;o<i;o++)f.push(t[e[o]]);return f}(function(t,e){for(var i,o={},n=e.length,s=0;s<n;s++)i=e[s],o[i]=t[i],delete t[i];return o}(i,o[t].chunkNames),o[t].chunkNames),e=function(t,e){for(var i=t,o=e.length,n=0;n<o;n++)i=i.replace(Y,+e[n].toFixed(4));return i}(o[t].formatString,e);i[t]=I(n,e,L)})}function J(t){return t.match(s)}g.shallowCopy(g.prototype.formula,{easeInQuad:function(t){return Math.pow(t,2)},easeOutQuad:function(t){return-(Math.pow(t-1,2)-1)},easeInOutQuad:function(t){return(t/=.5)<1?.5*Math.pow(t,2):-.5*((t-=2)*t-2)},easeInCubic:function(t){return Math.pow(t,3)},easeOutCubic:function(t){return Math.pow(t-1,3)+1},easeInOutCubic:function(t){return(t/=.5)<1?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)},easeInQuart:function(t){return Math.pow(t,4)},easeOutQuart:function(t){return-(Math.pow(t-1,4)-1)},easeInOutQuart:function(t){return(t/=.5)<1?.5*Math.pow(t,4):-.5*((t-=2)*Math.pow(t,3)-2)},easeInQuint:function(t){return Math.pow(t,5)},easeOutQuint:function(t){return Math.pow(t-1,5)+1},easeInOutQuint:function(t){return(t/=.5)<1?.5*Math.pow(t,5):.5*(Math.pow(t-2,5)+2)},easeInSine:function(t){return 1-Math.cos(t*(Math.PI/2))},easeOutSine:function(t){return Math.sin(t*(Math.PI/2))},easeInOutSine:function(t){return-.5*(Math.cos(Math.PI*t)-1)},easeInExpo:function(t){return 0===t?0:Math.pow(2,10*(t-1))},easeOutExpo:function(t){return 1===t?1:1-Math.pow(2,-10*t)},easeInOutExpo:function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*--t))},easeInCirc:function(t){return-(Math.sqrt(1-t*t)-1)},easeOutCirc:function(t){return Math.sqrt(1-Math.pow(t-1,2))},easeInOutCirc:function(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeOutBounce:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInBack:function(t){return t*t*(2.70158*t-1.70158)},easeOutBack:function(t){return(t-=1)*t*(2.70158*t+1.70158)+1},easeInOutBack:function(t){var e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},elastic:function(t){return-1*Math.pow(4,-8*t)*Math.sin((6*t-1)*(2*Math.PI)/2)+1},swingFromTo:function(t){var e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},swingFrom:function(t){return t*t*(2.70158*t-1.70158)},swingTo:function(t){return--t*t*(2.70158*t+1.70158)+1},bounce:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bouncePast:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?2-(7.5625*(t-=1.5/2.75)*t+.75):t<2.5/2.75?2-(7.5625*(t-=2.25/2.75)*t+.9375):2-(7.5625*(t-=2.625/2.75)*t+.984375)},easeFromTo:function(t){return(t/=.5)<1?.5*Math.pow(t,4):-.5*((t-=2)*Math.pow(t,3)-2)},easeFrom:function(t){return Math.pow(t,4)},easeTo:function(t){return Math.pow(t,.25)}}),g.setBezierFunction=function(t,e,i,o,n){s=e,r=i,c=o,a=n;var s,r,c,a,h=function(t){return M(t,s,r,c,a,1)};return h.displayName=t,h.x1=e,h.y1=i,h.x2=o,h.y2=n,g.prototype.formula[t]=h},g.unsetBezierFunction=function(t){delete g.prototype.formula[t]},(c=new g)._filterArgs=[],g.interpolate=function(t,e,i,o,n){var s=g.shallowCopy({},t),n=n||0,o=g.composeEasingObject(t,o||"linear"),r=(c.set({}),c._filterArgs),r=(r.length=0,r[0]=s,r[1]=t,r[2]=e,r[3]=o,g.applyFilter(c,"tweenCreated"),g.applyFilter(c,"beforeTween"),g.tweenProps(i,s,t,e,1,n,o));return g.applyFilter(c,"afterTween"),r},h=g,r=/(\d|\-|\.)/,a=/([^\-0-9\.]+)/g,s=/[0-9.\-]+/g,n=new RegExp("rgb\\("+s.source+/,\s*/.source+s.source+/,\s*/.source+s.source+"\\)","g"),j=/^.*\(/,o=/#([0-9]|[a-f]){3,6}/gi,Y="VAL",e=[],f=[],h.prototype.filter.token={tweenCreated:function(t,e,i,o){A(t),A(e),A(i),this._tokenData=k(t)},beforeTween:function(t,e,i,o){var c,a;c=o,a=this._tokenData,h.each(a,function(t){var e=a[t].chunkNames,i=e.length,o=c[t];if("string"==typeof o)for(var n=o.split(" "),s=n[n.length-1],r=0;r<i;r++)c[e[r]]=n[r]||s;else for(r=0;r<i;r++)c[e[r]]=o;delete c[t]}),q(t,this._tokenData),q(e,this._tokenData),q(i,this._tokenData)},afterTween:function(t,e,i,o){var r,c;B(t,this._tokenData),B(e,this._tokenData),B(i,this._tokenData),r=o,c=this._tokenData,h.each(c,function(t){var e=c[t].chunkNames,i=e.length,o=r[e[0]];if("string"==typeof o){for(var n="",s=0;s<i;s++)n+=" "+r[e[s]],delete r[e[s]];r[t]=n.substr(1)}else r[t]=o})}}}.call(null)},{}],2:[function(t,e,i){function o(t,e){this._pathTemplate="M 50,50 m 0,-{radius} a {radius},{radius} 0 1 1 0,{2radius} a {radius},{radius} 0 1 1 0,-{2radius}",this.containerAspectRatio=1,n.apply(this,arguments)}var n=t("./shape"),s=t("./utils");((o.prototype=new n).constructor=o).prototype._pathString=function(t){var e=t.strokeWidth,t=50-(e=t.trailWidth&&t.trailWidth>t.strokeWidth?t.trailWidth:e)/2;return s.render(this._pathTemplate,{radius:t,"2radius":2*t})},o.prototype._trailString=function(t){return this._pathString(t)},e.exports=o},{"./shape":7,"./utils":9}],3:[function(t,e,i){function o(t,e){this._pathTemplate="M 0,{center} L 100,{center}",n.apply(this,arguments)}var n=t("./shape"),s=t("./utils");((o.prototype=new n).constructor=o).prototype._initializeSvg=function(t,e){t.setAttribute("viewBox","0 0 100 "+e.strokeWidth),t.setAttribute("preserveAspectRatio","none")},o.prototype._pathString=function(t){return s.render(this._pathTemplate,{center:t.strokeWidth/2})},o.prototype._trailString=function(t){return this._pathString(t)},e.exports=o},{"./shape":7,"./utils":9}],4:[function(t,e,i){e.exports={Line:t("./line"),Circle:t("./circle"),SemiCircle:t("./semicircle"),Square:t("./square"),Path:t("./path"),Shape:t("./shape"),utils:t("./utils")}},{"./circle":2,"./line":3,"./path":5,"./semicircle":6,"./shape":7,"./square":8,"./utils":9}],5:[function(t,e,i){function o(t,e){if(!(this instanceof o))throw new Error("Constructor was called without new keyword");e=a.extend({duration:800,easing:"linear",from:{},to:{},step:function(){}},e),t=a.isString(t)?document.querySelector(t):t,this.path=t,this._opts=e,this._tweenable=null,t=this.path.getTotalLength(),this.path.style.strokeDasharray=t+" "+t,this.set(0)}var c=t("shifty"),a=t("./utils"),n={easeIn:"easeInCubic",easeOut:"easeOutCubic",easeInOut:"easeInOutCubic"};o.prototype.value=function(){var t=this._getComputedDashOffset(),e=this.path.getTotalLength();return parseFloat((1-t/e).toFixed(6),10)},o.prototype.set=function(t){this.stop(),this.path.style.strokeDashoffset=this._progressToOffset(t);var e,i=this._opts.step;a.isFunction(i)&&(e=this._easing(this._opts.easing),i(this._calculateTo(t,e),this._opts.shape||this,this._opts.attachment))},o.prototype.stop=function(){this._stopTween(),this.path.style.strokeDashoffset=this._getComputedDashOffset()},o.prototype.animate=function(t,i,e){i=i||{},a.isFunction(i)&&(e=i,i={});var o=a.extend({},i),n=a.extend({},this._opts),n=(i=a.extend(n,i),this._easing(i.easing)),o=this._resolveFromAndTo(t,n,o),s=(this.stop(),this.path.getBoundingClientRect(),this._getComputedDashOffset()),t=this._progressToOffset(t),r=this;this._tweenable=new c,this._tweenable.tween({from:a.extend({offset:s},o.from),to:a.extend({offset:t},o.to),duration:i.duration,easing:n,step:function(t){r.path.style.strokeDashoffset=t.offset;var e=i.shape||r;i.step(t,e,i.attachment)},finish:function(t){a.isFunction(e)&&e()}})},o.prototype._getComputedDashOffset=function(){var t=window.getComputedStyle(this.path,null);return parseFloat(t.getPropertyValue("stroke-dashoffset"),10)},o.prototype._progressToOffset=function(t){var e=this.path.getTotalLength();return e-t*e},o.prototype._resolveFromAndTo=function(t,e,i){return i.from&&i.to?{from:i.from,to:i.to}:{from:this._calculateFrom(e),to:this._calculateTo(t,e)}},o.prototype._calculateFrom=function(t){return c.interpolate(this._opts.from,this._opts.to,this.value(),t)},o.prototype._calculateTo=function(t,e){return c.interpolate(this._opts.from,this._opts.to,t,e)},o.prototype._stopTween=function(){null!==this._tweenable&&(this._tweenable.stop(),this._tweenable=null)},o.prototype._easing=function(t){return n.hasOwnProperty(t)?n[t]:t},e.exports=o},{"./utils":9,shifty:1}],6:[function(t,e,i){function o(t,e){this._pathTemplate="M 50,50 m -{radius},0 a {radius},{radius} 0 1 1 {2radius},0",this.containerAspectRatio=2,n.apply(this,arguments)}var n=t("./shape"),s=t("./circle"),r=t("./utils");((o.prototype=new n).constructor=o).prototype._initializeSvg=function(t,e){t.setAttribute("viewBox","0 0 100 50")},o.prototype._initializeTextContainer=function(t,e,i){t.text.style&&(i.style.top="auto",i.style.bottom="0",t.text.alignToBottom?r.setStyle(i,"transform","translate(-50%, 0)"):r.setStyle(i,"transform","translate(-50%, 50%)"))},o.prototype._pathString=s.prototype._pathString,o.prototype._trailString=s.prototype._trailString,e.exports=o},{"./circle":2,"./shape":7,"./utils":9}],7:[function(t,e,i){function o(t,e){if(!(this instanceof o))throw new Error("Constructor was called without new keyword");if(0!==arguments.length){this._opts=s.extend({color:"#555",strokeWidth:1,trailColor:null,trailWidth:null,fill:null,text:{style:{color:null,position:"absolute",left:"50%",top:"50%",padding:0,margin:0,transform:{prefix:!0,value:"translate(-50%, -50%)"}},autoStyleContainer:!0,alignToBottom:!0,value:null,className:"progressbar-text"},svgStyle:{display:"block",width:"100%"},warnings:!1},e,!0),s.isObject(e)&&void 0!==e.svgStyle&&(this._opts.svgStyle=e.svgStyle),s.isObject(e)&&s.isObject(e.text)&&void 0!==e.text.style&&(this._opts.text.style=e.text.style);var e=this._createSvgView(this._opts),i=s.isString(t)?document.querySelector(t):t;if(!i)throw new Error("Container does not exist: "+t);this._container=i,this._container.appendChild(e.svg),this._opts.warnings&&this._warnContainerAspectRatio(this._container),this._opts.svgStyle&&s.setStyles(e.svg,this._opts.svgStyle),this.svg=e.svg,this.path=e.path,this.trail=e.trail,this.text=null;t=s.extend({attachment:void 0,shape:this},this._opts);this._progressPath=new n(e.path,t),s.isObject(this._opts.text)&&null!==this._opts.text.value&&this.setText(this._opts.text.value)}}var n=t("./path"),s=t("./utils"),r="Object is destroyed";o.prototype.animate=function(t,e,i){if(null===this._progressPath)throw new Error(r);this._progressPath.animate(t,e,i)},o.prototype.stop=function(){if(null===this._progressPath)throw new Error(r);void 0!==this._progressPath&&this._progressPath.stop()},o.prototype.destroy=function(){if(null===this._progressPath)throw new Error(r);this.stop(),this.svg.parentNode.removeChild(this.svg),this.svg=null,this.path=null,this.trail=null,(this._progressPath=null)!==this.text&&(this.text.parentNode.removeChild(this.text),this.text=null)},o.prototype.set=function(t){if(null===this._progressPath)throw new Error(r);this._progressPath.set(t)},o.prototype.value=function(){if(null===this._progressPath)throw new Error(r);return void 0===this._progressPath?0:this._progressPath.value()},o.prototype.setText=function(t){if(null===this._progressPath)throw new Error(r);null===this.text&&(this.text=this._createTextContainer(this._opts,this._container),this._container.appendChild(this.text)),s.isObject(t)?(s.removeChildren(this.text),this.text.appendChild(t)):this.text.innerHTML=t},o.prototype._createSvgView=function(t){var e=document.createElementNS("http://www.w3.org/2000/svg","svg"),i=(this._initializeSvg(e,t),null),t=((t.trailColor||t.trailWidth)&&(i=this._createTrail(t),e.appendChild(i)),this._createPath(t));return e.appendChild(t),{svg:e,path:t,trail:i}},o.prototype._initializeSvg=function(t,e){t.setAttribute("viewBox","0 0 100 100")},o.prototype._createPath=function(t){var e=this._pathString(t);return this._createPathElement(e,t)},o.prototype._createTrail=function(t){var e=this._trailString(t),t=s.extend({},t);return t.trailColor||(t.trailColor="#eee"),t.trailWidth||(t.trailWidth=t.strokeWidth),t.color=t.trailColor,t.strokeWidth=t.trailWidth,t.fill=null,this._createPathElement(e,t)},o.prototype._createPathElement=function(t,e){var i=document.createElementNS("http://www.w3.org/2000/svg","path");return i.setAttribute("d",t),i.setAttribute("stroke",e.color),i.setAttribute("stroke-width",e.strokeWidth),e.fill?i.setAttribute("fill",e.fill):i.setAttribute("fill-opacity","0"),i},o.prototype._createTextContainer=function(t,e){var i=document.createElement("div"),o=(i.className=t.text.className,t.text.style);return o&&(t.text.autoStyleContainer&&(e.style.position="relative"),s.setStyles(i,o),o.color||(i.style.color=t.color)),this._initializeTextContainer(t,e,i),i},o.prototype._initializeTextContainer=function(t,e,i){},o.prototype._pathString=function(t){throw new Error("Override this function for each progress bar")},o.prototype._trailString=function(t){throw new Error("Override this function for each progress bar")},o.prototype._warnContainerAspectRatio=function(t){var e;this.containerAspectRatio&&(t=window.getComputedStyle(t,null),e=parseFloat(t.getPropertyValue("width"),10),t=parseFloat(t.getPropertyValue("height"),10),s.floatEquals(this.containerAspectRatio,e/t))},e.exports=o},{"./path":5,"./utils":9}],8:[function(t,e,i){function o(t,e){this._pathTemplate="M 0,{halfOfStrokeWidth} L {width},{halfOfStrokeWidth} L {width},{width} L {halfOfStrokeWidth},{width} L {halfOfStrokeWidth},{strokeWidth}",this._trailTemplate="M {startMargin},{halfOfStrokeWidth} L {width},{halfOfStrokeWidth} L {width},{width} L {halfOfStrokeWidth},{width} L {halfOfStrokeWidth},{halfOfStrokeWidth}",n.apply(this,arguments)}var n=t("./shape"),s=t("./utils");((o.prototype=new n).constructor=o).prototype._pathString=function(t){var e=100-t.strokeWidth/2;return s.render(this._pathTemplate,{width:e,strokeWidth:t.strokeWidth,halfOfStrokeWidth:t.strokeWidth/2})},o.prototype._trailString=function(t){var e=100-t.strokeWidth/2;return s.render(this._trailTemplate,{width:e,strokeWidth:t.strokeWidth,halfOfStrokeWidth:t.strokeWidth/2,startMargin:t.strokeWidth/2-t.trailWidth/2})},e.exports=o},{"./shape":7,"./utils":9}],9:[function(t,e,i){var s="Webkit Moz O ms".split(" ");function o(t,e,i){for(var o=t.style,n=0;n<s.length;++n)o[s[n]+r(e)]=i;o[e]=i}function r(t){return t.charAt(0).toUpperCase()+t.slice(1)}function c(t){return"[object Array]"!==Object.prototype.toString.call(t)&&("object"==typeof t&&!!t)}function n(t,e){for(var i in t)t.hasOwnProperty(i)&&e(t[i],i)}e.exports={extend:function t(e,i,o){for(var n in e=e||{},o=o||!1,i=i||{}){var s,r;i.hasOwnProperty(n)&&(s=e[n],r=i[n],o&&c(s)&&c(r)?e[n]=t(s,r,o):e[n]=r)}return e},render:function(t,e){var i,o,n,s=t;for(i in e)e.hasOwnProperty(i)&&(o=e[i],n=new RegExp("\\{"+i+"\\}","g"),s=s.replace(n,o));return s},setStyle:o,setStyles:function(i,t){n(t,function(t,e){null!=t&&(c(t)&&!0===t.prefix?o(i,e,t.value):i.style[e]=t)})},capitalize:r,isString:function(t){return"string"==typeof t||t instanceof String},isFunction:function(t){return"function"==typeof t},isObject:c,forEachObject:n,floatEquals:function(t,e){return Math.abs(t-e)<.001},removeChildren:function(t){for(;t.firstChild;)t.removeChild(t.firstChild)}}},{}]},{},[4])(4)});E.getInstance=function(t){if(!E.instance){if(!t)throw new Error("Can not create new SplashLoader instance without options!");E.instance=new E(t)}return E.instance},E.prototype.create=function(){return h(this,void 0,void 0,function(){var o,n,s,r;return u(this,function(t){switch(t.label){case 0:return n="\n        #h5branding-center {\n            position: absolute;\n            top: 45%;\n            left: 50%;\n            transform: translate(-50%, -20%);\n            text-align: center;\n            width: 100%;\n        }\n        #h5branding-wrapper {\n            position: relative;\n            z-index: 665;\n            width: 150px;\n            height: 150px;\n            display:inline-block;\n            margin: 35px 40px 96px 40px;\n        }\n\n        #h5branding-version {\n            position: absolute;\n            right: 10px;\n            font-family: Helvetica, Arial, sans-serif;\n            color: #ffffff;\n            font-size: 0.8em;\n            top: 10px;\n            display: none;\n        }\n\n        #h5branding-wrapper > #h5branding-bar, #h5branding-wrapper > img {\n            box-shadow: inset 10px 10px 20px 5px rgba(0, 0, 0, 0.5);\n            border-radius: 50%;\n            position: absolute;\n            top: 0;\n            left: 0;\n            width: 100%;\n            height: 100%;\n        }\n\n        #h5branding-ad {\n            position: relative;\n            z-index: 667;\n            border-radius: 5px;\n            border: 3px solid white;\n            background: rgba(256, 256, 256, 0.2);\n            width: 336px;\n            height: 280px;\n            display: none;\n            margin: 0px 10px 0px 10px;\n        }\n\n        #h5branding-wrapper > img {\n            /* Needs appropriate vendor prefixes */\n            box-sizing: border-box;\n\n            /* This needs to be equal to strokeWidth */\n            padding: 4%;\n        }\n\n        #h5branding-wrapper > img {\n            border-radius: 50%;\n            box-shadow: inset 0 5px 5px rgba(0, 0, 0, 0.5), 5px 5px 7px rgba(0, 0, 0, 0.3);\n        }\n\n        #h5branding-container {\n            box-sizing: border-box;\n            position: absolute;\n            z-index: 664;\n            top: 0;\n            left: 0;\n            width: 100%;\n            height: 100%;\n            background-color: #000;\n            overflow: hidden;\n        }\n\n        #h5branding-background {\n            position: absolute;\n            top: -25%;\n            left: -25%;\n            width: 150%;\n            height: 150%;\n            background-blend-mode: multiply;\n            background-size: cover;\n            filter: blur(40px) brightness(1.5);\n        }\n\n        @media all and (-ms-high-contrast: none), (-ms-high-contrast: active) {\n             /* IE10+ CSS styles go here */\n             #h5branding-background {\n                background-image: none !important;\n             }\n        }\n\n        #h5branding-logo {\n            position: absolute;\n            margin: 0 auto;\n            left: 0;\n            right: 0;\n            text-align: center;\n            top: 10%;\n        }\n\n        #h5branding-logo > img {\n            height: 150px;\n        }\n\n        #h5branding-title {\n            position: absolute;\n            width: 100%;\n            background: linear-gradient(90deg, transparent, rgba(0, 0, 0, 0.5) 50%, transparent);\n            color: #fff;\n            text-shadow: 0 0 1px rgba(0, 0, 0, 0.7);\n            bottom:10%;\n            padding: 15px 0;\n            text-align: center;\n            font-size: 18px;\n            font-family: Helvetica, Arial, sans-serif;\n            font-weight: bold;\n            line-height: 100%;\n        }\n\n        #h5branding-button {\n            /* border: 0; */\n            padding: 10px 22px;\n            border-radius: 5px;\n            border: 3px solid white;\n            background: linear-gradient(0deg, #dddddd, #ffffff);\n            color: #222;\n            text-transform: uppercase;\n            text-shadow: 0 0 1px #fff;\n            font-family: Helvetica, Arial, sans-serif;\n            font-weight: bold;\n            font-size: 18px;\n            cursor: pointer;\n            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);\n            display: none;\n            width: 150px;\n            position: absolute;\n            top: 170px;\n            margin: 0 auto;\n            left: 0;\n            right: 0;\n        }\n\n        @media (orientation: portrait) and (max-width: 1080px) {\n            #h5branding-logo > img {\n                height: initial;\n                width:100%;\n            }\n        }\n\n        @media (orientation: landscape) and (max-height: 640px) {\n            #h5branding-title {\n                display: none;\n            }\n\n            #h5branding-logo > img {\n                height: 100px;\n            }\n        }\n\n        @media (orientation: landscape) and (max-height: 460px) {\n            #h5branding-title {\n                display: none;\n            }\n\n            #h5branding-wrapper {\n                width: 110px;\n                height: 110px;\n                margin: 0;\n            }\n\n            #h5branding-logo {\n                top: 0;\n                transform: scale(0.7, 0.7);\n            }\n\n            #h5branding-button {\n                top: initial;\n                width: 110px;\n                font-size: 14px;\n                position: absolute;\n                top: 140px;\n                left: 0;\n                right: 0;\n            }\n\n            #h5branding-ad {\n               display: none !important;\n            }\n        }\n\n        @media (orientation: portrait) and (max-width: 250px) {\n            #h5branding-logo {\n                top: 2%;\n            }\n        }\n\n        @media (orientation: landscape) and (max-width: 330px) {\n             #h5branding-button {\n                top: 120px;\n            }\n\n            #h5branding-logo > img {\n                height: 70px;\n            }\n        }\n\n        @media (max-width: 600px) and (max-height: 850px) {\n            #h5branding-ad {\n               display: none !important;\n            }\n        }\n\n        @media (max-width: 600px) and (max-height: 1100px) {\n            #h5branding-center {\n                top: 40%;\n            }\n\n            #h5branding-title {\n               bottom: 5%\n            }\n        }\n\n        @media (max-width: 600px) and (max-height: 900px) {\n            #h5branding-title {\n               display: none\n            }\n        }\n\n        @media (orientation: landscape) and (min-width: 800px) {\n            #h5branding-wrapper {\n                margin-left: 120px;\n                margin-right: 120px;\n            }\n        }\n\n        ",e=this.getGameLogoUrl(),i=this.options.gameTitle,o='\n        <div id="h5branding-background"></div>\n        <div id="h5branding-version"></div>\n        <div id="h5branding-logo"></div>\n        <div id="h5branding-center">\n            <div id="h5branding-ad"></div>\n            <div id="h5branding-wrapper">\n                <img src="'.concat(e,'" />\n                <div id="h5branding-bar"></div>\n                <button id="h5branding-button" onclick="h5branding.SplashLoader.getInstance().onPlayButtonClick();">Play</button>\n            </div>\n        </div>\n        <div id="h5branding-title">').concat(i,"</div>\n    "),s=document.head||document.getElementsByTagName("head")[0],(r=document.createElement("style")).type="text/css",r.styleSheet?r.styleSheet.cssText=n:r.appendChild(document.createTextNode(n)),s.appendChild(r),(n=document.createElement("div")).innerHTML=o,n.id="h5branding-container",(s=document.body||document.getElementsByTagName("body")[0]).insertBefore(n,s.firstChild),this.circleLoader=new w.Circle("#h5branding-bar",{strokeWidth:3,color:this.options.barColor}),(r=document.getElementById("h5branding-version"))&&(r.innerHTML=this.options.version),[4,this.loadLibs()];case 1:return t.sent(),[4,x.loadHost()];case 2:return t.sent(),[4,this.loadBranding()];case 3:return t.sent(),this.loaded=!0,[2]}var e,i})})},E.prototype.loadBranding=function(){return h(this,void 0,void 0,function(){var e,i;return u(this,function(t){switch(t.label){case 0:return[4,y.preload(Date.now().toString())];case 1:return t.sent(),(e=document.getElementById("h5branding-background"))&&(e.style.backgroundColor=y.brandingBackgroundColor),(e=document.getElementById("h5branding-logo"))&&x.getBrandingDomain()!==s.BrandingDomain.Neutral&&((i=document.createElement("img")).src=y.brandingLogoUrl.replace("_small",""),e.appendChild(i)),[2]}})})},E.prototype.loadLibs=function(){var i=this,o=this.options.libs.map(function(t,e){return c.instance.loadScript(t,!0,function(){i.setScriptloadProgress(o.length,e+1)})});return Promise.all(o)},Object.defineProperty(E.prototype,"bannerAllowed",{get:function(){var t=document.body.clientWidth,e=document.body.clientHeight;return this.progress<100&&!(e<t&&e<=460)&&!(t<600&&e<850)},enumerable:!1,configurable:!0}),E.prototype.showBanner=function(){if(!this.bannerAllowed)return null;var t=document.getElementById("h5branding-ad");return t?(t.style.display="inline-flex",t):null},E.prototype.setScriptloadProgress=function(t,e){this.circleLoader.animate(.3*e/t,null,function(){})},E.prototype.setLoadProgress=function(t){var e,i=this;this.loaded&&(100===(this.progress=t=30+.7*t)?(e=document.querySelector("#h5branding-button"),this.circleLoader.animate(1,null,function(){!x.inGDGameZone()&&e&&!0===i.showPlayButton?e.style.display="block":!x.inGDGameZone()&&!1!==i.showPlayButton||i.onPlayButtonClick()})):this.circleLoader.animate(t/100,null,function(){}))},E.prototype.setButtonCallback=function(t){this.buttonCallback=t},E.prototype.onPlayButtonClick=function(){this.buttonCallback&&this.buttonCallback()},E.prototype.destroy=function(){var t=document.querySelector("#h5branding-container");null!==t&&null!==t.parentNode&&t.parentNode.removeChild(t)},E.prototype.getGameLogoUrl=function(){return"assets/icon.jpeg"};var _=E;function E(t){this.circleLoader=null,this.loaded=!1,this.showPlayButton="undefined"==typeof playBtn||playBtn,this.progress=0,this.options={gameId:"12346",gameTitle:"Place Holder",gameName:"place-holder",libs:[],version:"dev",barColor:"white",gaMeasurementId:"none"},this.options.gameId=t.gameId,this.options.gameTitle=t.gameTitle,this.options.version=t.version,this.options.barColor=t.barColor||this.options.barColor,this.options.libs=t.libs,this.options.gaMeasurementId=t.gaMeasurementId}s.Branding=y,s.Domain=o,s.Hosts=l,s.SplashLoader=_,s.Utils=x,Object.defineProperty(s,"__esModule",{value:!0})}),(()=>{var o={34:t=>{"use strict";var o=Object.prototype.hasOwnProperty,p="~";function i(){}function s(t,e,i){this.fn=t,this.context=e,this.once=i||!1}function n(t,e,i,o,n){if("function"!=typeof i)throw new TypeError("The listener must be a function");i=new s(i,o||t,n),o=p?p+e:e;return t._events[o]?t._events[o].fn?t._events[o]=[t._events[o],i]:t._events[o].push(i):(t._events[o]=i,t._eventsCount++),t}function a(t,e){0==--t._eventsCount?t._events=new i:delete t._events[e]}function e(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(p=!1)),e.prototype.eventNames=function(){var t,e,i=[];if(0===this._eventsCount)return i;for(e in t=this._events)o.call(t,e)&&i.push(p?e.slice(1):e);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},e.prototype.listeners=function(t){var t=p?p+t:t,e=this._events[t];if(!e)return[];if(e.fn)return[e.fn];for(var i=0,o=e.length,n=new Array(o);i<o;i++)n[i]=e[i].fn;return n},e.prototype.listenerCount=function(t){t=p?p+t:t,t=this._events[t];return t?t.fn?1:t.length:0},e.prototype.emit=function(t,e,i,o,n,s){var r=p?p+t:t;if(!this._events[r])return!1;var c,a=this._events[r],h=arguments.length;if(a.fn){switch(a.once&&this.removeListener(t,a.fn,void 0,!0),h){case 1:return a.fn.call(a.context),!0;case 2:return a.fn.call(a.context,e),!0;case 3:return a.fn.call(a.context,e,i),!0;case 4:return a.fn.call(a.context,e,i,o),!0;case 5:return a.fn.call(a.context,e,i,o,n),!0;case 6:return a.fn.call(a.context,e,i,o,n,s),!0}for(d=1,c=new Array(h-1);d<h;d++)c[d-1]=arguments[d];a.fn.apply(a.context,c)}else for(var u,l=a.length,d=0;d<l;d++)switch(a[d].once&&this.removeListener(t,a[d].fn,void 0,!0),h){case 1:a[d].fn.call(a[d].context);break;case 2:a[d].fn.call(a[d].context,e);break;case 3:a[d].fn.call(a[d].context,e,i);break;case 4:a[d].fn.call(a[d].context,e,i,o);break;default:if(!c)for(u=1,c=new Array(h-1);u<h;u++)c[u-1]=arguments[u];a[d].fn.apply(a[d].context,c)}return!0},e.prototype.on=function(t,e,i){return n(this,t,e,i,!1)},e.prototype.once=function(t,e,i){return n(this,t,e,i,!0)},e.prototype.removeListener=function(t,e,i,o){t=p?p+t:t;if(!this._events[t])return this;if(!e)return a(this,t),this;var n=this._events[t];if(n.fn)n.fn!==e||o&&!n.once||i&&n.context!==i||a(this,t);else{for(var s=0,r=[],c=n.length;s<c;s++)(n[s].fn!==e||o&&!n[s].once||i&&n[s].context!==i)&&r.push(n[s]);r.length?this._events[t]=1===r.length?r[0]:r:a(this,t)}return this},e.prototype.removeAllListeners=function(t){return t?(t=p?p+t:t,this._events[t]&&a(this,t)):(this._events=new i,this._eventsCount=0),this},e.prototype.off=e.prototype.removeListener,e.prototype.addListener=e.prototype.on,e.prefixed=p,t.exports=e.EventEmitter=e},729:(t,e,i)=>{i=[i,e,i(548),i(498)],e=function(t,e,i,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AdType=e.AdEvents=e.ProviderTypes=e.GameDistributionBannerSize=e.GameDistributionAlignment=e.AdWrapper=void 0,Object.defineProperty(e,"AdWrapper",{enumerable:!0,get:function(){return i.AdWrapper}}),Object.defineProperty(e,"GameDistributionAlignment",{enumerable:!0,get:function(){return o.GameDistributionAlignment}}),Object.defineProperty(e,"GameDistributionBannerSize",{enumerable:!0,get:function(){return o.GameDistributionBannerSize}}),Object.defineProperty(e,"ProviderTypes",{enumerable:!0,get:function(){return o.ProviderTypes}}),Object.defineProperty(e,"AdEvents",{enumerable:!0,get:function(){return o.AdEvents}}),Object.defineProperty(e,"AdType",{enumerable:!0,get:function(){return o.AdType}})}.apply(e,i);void 0!==e&&(t.exports=e)},110:(t,e,i)=>{i=[i,e,i(12)],e=function(t,e,i){"use strict";function o(){this.adsEnabled=!1}Object.defineProperty(e,"__esModule",{value:!0}),e.AdFreeUntrackedProvider=void 0,o.prototype.setManager=function(t){this.adManager=t},o.prototype.showAd=function(t){void 0===t&&(t=i.AdType.interstitial),this.resumeGameplay()},o.prototype.resumeGameplay=function(){this.adManager.emit(i.AdEvents.CONTENT_RESUMED)},o.prototype.preloadAd=function(t){void 0===t&&(t=i.AdType.interstitial)},o.prototype.destroyAd=function(){},o.prototype.hideAd=function(){},o.prototype.adAvailable=function(t){return!0},e.AdFreeUntrackedProvider=o}.apply(e,i);void 0!==e&&(t.exports=e)},670:(t,e,i)=>{i=[i,e,i(12)],e=function(t,e,o){"use strict";function i(){this.adsEnabled=!1}Object.defineProperty(e,"__esModule",{value:!0}),e.DummyProvider=void 0,i.prototype.setManager=function(t){this.adManager=t,this.adsEnabled=!0},i.prototype.showAd=function(t){var e=this,i=(void 0===t&&(t=o.AdType.interstitial),Math.floor(2*Math.random()));1!==i&&t===o.AdType.rewarded&&setTimeout(function(){e.adManager.emit(o.AdEvents.AD_REWARDED)},100),setTimeout(function(){e.resumeGameplay()},200)},i.prototype.resumeGameplay=function(){this.adManager.emit(o.AdEvents.CONTENT_RESUMED)},i.prototype.preloadAd=function(t){void 0===t&&(t=o.AdType.interstitial)},i.prototype.destroyAd=function(){},i.prototype.hideAd=function(){},i.prototype.adAvailable=function(t){return!0},e.DummyProvider=i}.apply(e,i);void 0!==e&&(t.exports=e)},474:(t,e,i)=>{i=[i,e,i(12)],e=function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GameDistribution=e.GameDistributionAdType=void 0,(o=i=e.GameDistributionAdType||(e.GameDistributionAdType={})).interstitial="interstitial",o.rewarded="rewarded",o.display="display",s.prototype.setManager=function(t){this.adManager=t,this.adManager.emit(n.AdEvents.AD_PROVIDER_LOADED)},s.prototype.sdkLoaded=function(){this.adsEnabled=!0},s.prototype.showAd=function(t){var e=this;if(this.adsEnabled){if(void 0===window.gdsdk||window.gdsdk&&void 0===window.gdsdk.showAd)return this.adsEnabled=!1,void this.adManager.emit(n.AdEvents.CONTENT_RESUMED);window.gdsdk.showAd(t===n.AdType.rewarded?i.rewarded:i.interstitial).then(function(){t===n.AdType.rewarded&&(e.adManager.emit(n.AdEvents.AD_REWARDED),e.hasRewarded=!1),e.adManager.emit(n.AdEvents.CONTENT_RESUMED)}).catch(function(){t===n.AdType.rewarded&&e.hasRewarded&&(e.hasRewarded=!1),e.adManager.emit(n.AdEvents.CONTENT_RESUMED)})}else this.adManager.emit(n.AdEvents.CONTENT_RESUMED)},s.prototype.preloadAd=function(t){var e=this;!this.hasRewarded&&this.adsEnabled&&t===n.AdType.rewarded&&window.gdsdk.preloadAd(i.rewarded).then(function(){e.hasRewarded=!0,e.adManager.emit(n.AdEvents.AD_LOADED,t)})},s.prototype.adAvailable=function(t){return t!==n.AdType.rewarded||this.hasRewarded},s.prototype.destroyAd=function(){},s.prototype.hideAd=function(){};var i,o=s;function s(t){var e,i,o=this;if(this.adsEnabled=!1,this.hasRewarded=!1,this.adShowing=!1,!t)throw new Error("Valid game id is not provided for GD Ad provider");window.GD_OPTIONS={gameId:t,advertisementSettings:{autoplay:!1},onEvent:function(t){switch(t.name){case"SDK_GAME_PAUSE":o.adManager.emit(n.AdEvents.CONTENT_PAUSED);break;case"SDK_READY":o.sdkLoaded()}}},t=document,e="gamedistribution-jssdk",i=t.getElementsByTagName("script")[0],t.getElementById(e)||((t=t.createElement("script")).id=e,t.src="patch/js/gd-main.js",i.parentNode&&i.parentNode.insertBefore(t,i))}e.GameDistribution=o}.apply(e,i);void 0!==e&&(t.exports=e)},444:(t,e,i)=>{i=[i,e,i(474),i(869)],e=function(t,e,i,o){"use strict";function n(){this.scaleFactor=1,this.offsetX=0,this.offsetY=0,this.element=document.createElement("div"),this.element.style.position="absolute",this.element.style.top="0px",this.element.style.left="0px",this.element.id="banner-".concat(Date.now()).concat(1e7*Math.random()|0),document.body.appendChild(this.element)}Object.defineProperty(e,"__esModule",{value:!0}),e.GameDistributionBanner=void 0,n.prototype.loadBanner=function(){return void 0===window.gdsdk?Promise.reject("GD Sdk not available, probably due to adblocker"):window.gdsdk.showAd(i.GameDistributionAdType.display,{containerId:this.element.id})},n.prototype.destroy=function(){document.body.removeChild(this.element),this.resizeListener&&window.removeEventListener("resize",this.resizeListener),delete this.element,delete this.parent,delete this.alignment},n.prototype.alignIn=function(t,e){var i=this;this.parent||(this.parent=t,this.alignment=e,this.resizeListener=function(){return i.resize()},window.addEventListener("resize",this.resizeListener),this.resize())},n.prototype.setOffset=function(t,e){void 0===e&&(e=0),this.offsetX=t=void 0===t?0:t,this.offsetY=e,this.resize()},n.prototype.resize=function(){if(this.parent){var t=this.parent.getBoundingClientRect();switch(this.alignment){case o.GameDistributionAlignment.TopLeft:this.position(t.left,t.top);break;case o.GameDistributionAlignment.TopCenter:this.position(t.left+t.width/2-this.width*this.scaleFactor/2,t.top);break;case o.GameDistributionAlignment.TopRight:this.position(t.left+t.width-this.width*this.scaleFactor,t.top);break;case o.GameDistributionAlignment.CenterLeft:this.position(t.left,t.top+t.height/2-this.height*this.scaleFactor/2);break;case o.GameDistributionAlignment.Center:this.position(t.left+t.width/2-this.width*this.scaleFactor/2,t.top+t.height/2-this.height*this.scaleFactor/2);break;case o.GameDistributionAlignment.CenterRight:this.position(t.left+t.width-this.width*this.scaleFactor,t.top+t.height/2-this.height*this.scaleFactor/2);break;case o.GameDistributionAlignment.BottomLeft:this.position(t.left,t.top+t.height-this.height*this.scaleFactor);break;case o.GameDistributionAlignment.BottomCenter:this.position(t.left+t.width/2-this.width*this.scaleFactor/2,t.top+t.height-this.height*this.scaleFactor);break;case o.GameDistributionAlignment.BottomRight:this.position(t.left+t.width-this.width*this.scaleFactor,t.top+t.height-this.height*this.scaleFactor)}}},n.prototype.setSize=function(t){var e,i;switch(t){default:case o.GameDistributionBannerSize.LargeRectangle:e=336,i=280;break;case o.GameDistributionBannerSize.MediumRectangle:e=300,i=250;break;case o.GameDistributionBannerSize.Billboard:e=970,i=250;break;case o.GameDistributionBannerSize.Leaderboard:e=728,i=90;break;case o.GameDistributionBannerSize.Skyscraper:e=120,i=600;break;case o.GameDistributionBannerSize.WideSkyscraper:e=160,i=600}this.width=e,this.height=i,this.element.style.width="".concat(e,"px"),this.element.style.height="".concat(i,"px")},n.prototype.position=function(t,e){this.element.style.left="".concat(t+this.offsetX,"px"),this.element.style.top="".concat(e+this.offsetY,"px")},n.prototype.scale=function(t){this.element.style.transformOrigin="left top",this.scaleFactor=t,this.element.style.transform="scale(".concat(t,")")},e.GameDistributionBanner=n}.apply(e,i);void 0!==e&&(t.exports=e)},654:(t,e,i)=>{i=[i,e,i(12)],e=function(t,e,o){"use strict";function i(t){var e,i,o,n=this;this.adsEnabled=!1,i=document,e="yandex-jssdk",o=i.getElementsByTagName("script")[0],i.getElementById(e)||((i=i.createElement("script")).addEventListener("load",function(){n.initialize()}),i.id=e,i.src="//yandex.ru/games/sdk/v2",o.parentNode.insertBefore(i,o)),e=document,i="gamedistribution-jssdk",o=e.getElementsByTagName("script")[0],e.getElementById(i)||((e=e.createElement("script")).id=i,e.src="patch/js/gd-main.js",o.parentNode.insertBefore(e,o))}Object.defineProperty(e,"__esModule",{value:!0}),e.YandexAdProvider=void 0,i.prototype.setManager=function(t){this.adManager=t},i.prototype.showAd=function(t){var e,i=this;void 0===t&&(t=o.AdType.interstitial),this.adsEnabled&&window.hasOwnProperty("_YaSDK")?t===o.AdType.interstitial&&null!=(e=null==(e=window._YaSDK)?void 0:e.adv)&&e.adOpened||(t===o.AdType.rewarded?null!=(e=null==(t=null==(e=window._YaSDK)?void 0:e.adv)?void 0:t.showRewardedVideo)&&e.call(t,{callbacks:{onOpen:function(){},onRewarded:function(){i.adManager.emit(o.AdEvents.AD_REWARDED)},onClose:function(){i.resumeGameplay()},onError:function(t){i.resumeGameplay()}}}):null!=(e=null==(t=null==(e=window._YaSDK)?void 0:e.adv)?void 0:t.showFullscreenAdv)&&e.call(t,{callbacks:{onClose:function(){i.resumeGameplay()},onError:function(){i.resumeGameplay()}}})):this.resumeGameplay()},i.prototype.initialize=function(){var e=this;window.YaGames.init().then(function(t){window._YaSDK=t,e.adsEnabled=!0})},i.prototype.resumeGameplay=function(){this.adManager.emit(o.AdEvents.CONTENT_RESUMED)},i.prototype.preloadAd=function(t){void 0===t&&(t=o.AdType.interstitial)},i.prototype.destroyAd=function(){},i.prototype.hideAd=function(){},i.prototype.adAvailable=function(t){return!0},e.YandexAdProvider=i}.apply(e,i);void 0!==e&&(t.exports=e)},563:(t,e,i)=>{i=[i,e,i(110),i(670),i(474),i(444),i(654)],e=function(t,e,i,o,n,s,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.YandexAdProvider=e.GameDistributionBanner=e.GameDistribution=e.DummyProvider=e.AdFreeUntrackedProvider=void 0,Object.defineProperty(e,"AdFreeUntrackedProvider",{enumerable:!0,get:function(){return i.AdFreeUntrackedProvider}}),Object.defineProperty(e,"DummyProvider",{enumerable:!0,get:function(){return o.DummyProvider}}),Object.defineProperty(e,"GameDistribution",{enumerable:!0,get:function(){return n.GameDistribution}}),Object.defineProperty(e,"GameDistributionBanner",{enumerable:!0,get:function(){return s.GameDistributionBanner}}),Object.defineProperty(e,"YandexAdProvider",{enumerable:!0,get:function(){return r.YandexAdProvider}})}.apply(e,i);void 0!==e&&(t.exports=e)},869:(t,e,i)=>{i=function(t,e){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),e.GameDistributionAlignment=e.GameDistributionBannerSize=void 0,(i=e.GameDistributionBannerSize||(e.GameDistributionBannerSize={}))[i.LargeRectangle=0]="LargeRectangle",i[i.MediumRectangle=1]="MediumRectangle",i[i.Billboard=2]="Billboard",i[i.Leaderboard=3]="Leaderboard",i[i.Skyscraper=4]="Skyscraper",i[i.WideSkyscraper=5]="WideSkyscraper",(i=e.GameDistributionAlignment||(e.GameDistributionAlignment={}))[i.TopLeft=0]="TopLeft",i[i.TopCenter=1]="TopCenter",i[i.TopRight=2]="TopRight",i[i.CenterLeft=3]="CenterLeft",i[i.Center=4]="Center",i[i.CenterRight=5]="CenterRight",i[i.BottomLeft=6]="BottomLeft",i[i.BottomCenter=7]="BottomCenter",i[i.BottomRight=8]="BottomRight"}.apply(e,[i,e]);void 0!==i&&(t.exports=i)},498:(t,e,i)=>{i=[i,e,i(12),i(869)],e=function(t,e,i,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GameDistributionAlignment=e.GameDistributionBannerSize=e.ProviderTypes=e.AdType=e.AdEvents=void 0,Object.defineProperty(e,"AdEvents",{enumerable:!0,get:function(){return i.AdEvents}}),Object.defineProperty(e,"AdType",{enumerable:!0,get:function(){return i.AdType}}),Object.defineProperty(e,"ProviderTypes",{enumerable:!0,get:function(){return i.ProviderTypes}}),Object.defineProperty(e,"GameDistributionBannerSize",{enumerable:!0,get:function(){return o.GameDistributionBannerSize}}),Object.defineProperty(e,"GameDistributionAlignment",{enumerable:!0,get:function(){return o.GameDistributionAlignment}})}.apply(e,i);void 0!==e&&(t.exports=e)},12:(t,e,i)=>{i=function(t,e){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),e.ProviderTypes=e.AdType=e.AdEvents=void 0,(i=e.AdEvents||(e.AdEvents={})).CONTENT_PAUSED="onContentPaused",i.CONTENT_RESUMED="onContentResumed",i.AD_PROGRESSION="onAdProgression",i.AD_DISABLED="onAdsDisabled",i.AD_CLICKED="onAdClicked",i.AD_REWARDED="onAdRewardGranted",i.BANNER_SHOWN="onBannerShown",i.BANNER_HIDDEN="onBannerHidden",i.AD_LOADED="onAdLoaded",i.AD_PROVIDER_LOADED="onAdProviderLoaded",(i=e.AdType||(e.AdType={}))[i.interstitial=0]="interstitial",i[i.rewarded=1]="rewarded",i[i.banner=2]="banner",(i=e.ProviderTypes||(e.ProviderTypes={})).Yandex="yx",i.Dummy="dm",i.AdFree="af",i.GD="gd",i.GDBanner="gdb"}.apply(e,[i,e]);void 0!==i&&(t.exports=i)},548:function(t,e,i){var o,c=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},i=[i,e,i(34),i(12),i(563)],e=function(t,e,i,o,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AdWrapper=void 0,i=a(i);s=i.default,c(r,s),r.prototype.showAd=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(null===this.provider)throw new Error("Can not request an ad without an provider, please attach an ad provider!");e.unshift(t),this.provider.showAd.apply(this.provider,e)},r.prototype.createBanner=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.provider.loadBanner.apply(this.provider,t)},r.prototype.loadBanner=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"function"==typeof this.provider.loadBanner?this.provider.loadBanner.apply(this.provider,t):null},r.prototype.preloadAd=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(null===this.provider)throw new Error("Can not preload an ad without an provider, please attach an ad provider!");e.unshift(t),this.provider.preloadAd.apply(this.provider,e)},r.prototype.destroyAd=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(null===this.provider)throw new Error("Can not destroy an ad without an provider, please attach an ad provider!");e.unshift(t),this.provider.destroyAd.apply(this.provider,e)},r.prototype.hideAd=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(null===this.provider)throw new Error("Can not hide an ad without an provider, please attach an ad provider!");e.unshift(t),this.provider.hideAd.apply(this.provider,e)},r.prototype.adsEnabled=function(){if(null===this.provider)throw new Error("Can not hide an ad without an provider, please attach an ad provider!");return this.provider.adsEnabled},r.prototype.adAvailable=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(null===this.provider)throw new Error("Can not hide an ad without an provider, please attach an ad provider!");return e.unshift(t),this.provider.adAvailable.apply(this.provider,e)};var s,i=r;function r(t,e){var i=s.call(this)||this;switch(i.bannerActive=!1,i.provider=null,t){case o.ProviderTypes.AdFree:i.provider=new n.AdFreeUntrackedProvider;break;case o.ProviderTypes.Dummy:i.provider=new n.DummyProvider;break;case o.ProviderTypes.Yandex:i.provider=new n.YandexAdProvider;break;default:case o.ProviderTypes.GD:i.provider=new n.GameDistribution(e)}return i.provider.setManager(i),i}e.AdWrapper=i}.apply(e,i);void 0!==e&&(t.exports=e)}},n={};var t=function t(e){var i=n[e];if(void 0!==i)return i.exports;i=n[e]={exports:{}};return o[e].call(i.exports,i,i.exports,t),i.exports}(729);self.h5ads=t})();var W4j,a4j,F3Y4j={v0ic:24,z3Ec:"isDateLike",o5v:function(t,e,i){return t*e*i},a2j:function(t,e){return t<e},I1qc:"b2DistanceSquaredVV",Y7N:function(t,e){return t<e},l1R:function(t,e){return t===e},C8v:function(t,e){return t-e},z5z:function(t,e){return t instanceof e},q0ic:"s_pA",P7Qc:"b2ContactFlag",N8z:function(t,e){return t*e},v7qc:"_key",X8N:function(t,e){return t-e},L3Jc:"separations",n1Jc:"GetCenter",k22c:"b2Profile",z9ic:"b2ReferenceFace",K2tc:"m_localAnchorD",L4l:function(t,e){return t===e},A82c:"e_concave",n9N:function(t,e){return t*e},X2p:function(t,e){return t/e},Y3z:function(t,e){return t===e},j2u:function(t,e,i){return t*e*i},w4R:function(t,e){return t===e},O0l:function(t,e){return t<e},R8F:function(t,e){return t*e},o37c:"if (true)\n",S3F:function(t,e){return t*e},l9Qc:"    shape.m_radius = %.15f;\n",d3X:function(t,e){return t===e},O5qc:"fixedRotation",Z9R:function(t,e){return t===e},Z2Qc:"e_atUpperLimit",U72c:"SetLinearDamping",E4qc:"m_contactListener",u1R:function(t,e){return t===e},S3u:function(t,e){return e<t},j9N:function(t,e){return t/e},e3j:function(t){box2d.b2_changelist=t},V32c:"b2_version",B3z:function(t,e){return t===e},K57c:"e_islandFlag",d8Qc:.7,N1Qc:"m_out_gravity",V6y:function(t,e){return t%e},Z3Jc:"DestroyProxies",z0y:function(t,e){return t<e},h8Jc:"e_shapeTypeCount",k7F:function(t,e){return t*e},Y1Ec:"b2EPAxis",n5tc:"m_nextVertex",H7j:function(t,e){return t in e},e6ic:"IsActive",U3j:function(t){box2d.b2_gjkCalls=t},S62c:"m_contactCapacity",V6p:function(t,e){return t%e},T0j:function(t,e){return t==e},T5l:function(t,e){return t<e},y5Gc:"IsAwake",U0Jc:"writeScriptTag_",n4u:function(t,e){return e<t},l0ic:"v2",b8v:function(t,e){return e<t},i1S:function(t,e){return t!==e},A7F:function(t,e){return t/e},G0F:function(t,e){return t*e},J8y:function(t,e,i){return t*e*i},F9u:function(t,e){return t<e},l2v:function(t,e){return t<e},Y2p:function(t,e){return t!==e},P8Ec:"s_e13",h6S:function(t,e){return t<e},p1N:function(t,e){return t===e},J1ic:"filterFunction",C7u:function(t,e){return t*e},c2S:function(t,e,i){return t-e-i},d8N:function(t,e){return e<t},Q4qc:"Q3j",P32c:"GetGravity",B8tc:"e_frictionJoint",A47c:"GetWorld",i1z:function(t,e){return t/e},O2Qc:"b2DotV3V3",H3S:function(t,e){return t<=e},A8Qc:"m_contactManager",s4ic:"m_bodyList",d4p:function(t,e){return t<e},P67c:"e_overlapped",K1w:function(t,e){return t%e},B5ic:"b2AbsV",M6R:function(t,e){return t*e},k9F:function(t,e){return t-e},g0u:function(t,e){return t*e},w2w:function(t,e){return t*e},b3tc:"m_hasVertex0",p6Jc:"makeCCW",v6v:function(t,e){return t<e},i6w:function(t,e){return t*e},T7l:function(t,e){return t/e},r0u:function(t,e){return t*e},n2v:function(t,e){return t-e},G1N:function(t,e){return t===e},u3R:function(t,e){return t===e},D0j:function(t,e){return e<t},H4N:function(t,e){return t*e},e2qc:"object",M57c:"b2AddVCrossSV",w8S:function(t,e){return t*e},V2Jc:"tangentSpeed",e3w:function(t,e){return e<t},V2u:function(t,e){return t*e},f9X:function(t,e){return t/e},A07c:"debugDraw",b8Qc:"N3j",k5N:function(t,e){return t*e},K1F:function(t,e){return t*e},H5v:function(t,e,i){return t*e*i},j0Ec:"s_cache",Z6F:function(t,e){return t*e},Z6S:function(t,e){return t===e},A1R:function(t,e){return t-e},B9N:function(t,e,i){return t*e*i},s1ic:"PI",g0R:function(t,e){return t<e},z87c:"R3j",j1R:function(t,e){return t<e},m0Jc:"SetAsOrientedBox",j2N:function(t,e){return t/e},g9F:function(t,e){return t-e},M1p:function(t,e){return t===e},n3z:function(t,e){return t*e},U37c:"b2ContactFactory",s0R:function(t,e){return t*e},S7qc:"hasUid",R6y:function(t,e){return e<t},w0F:function(t,e){return t*e},x1R:function(t,e){return t!==e},U4Ec:"concat",H17c:"SetAngularDamping",u4ic:"AddContact",U5F:function(t,e){return t*e},G8Ec:"isArrayLike",s7Ec:"SetAwake",Q22c:"localAxisA",P5S:function(t,e){return t*e},D9u:function(t,e){return t===e},r2Ec:"J3j",v4qc:"s_subInput",L4R:function(t,e){return t===e},s0Qc:"shapes",D67c:"e_chainShape",Y8ic:"CLOSURE_BASE_PATH",A8w:function(t,e){return t*e},j2p:function(t,e){return t%e},v9y:function(t,e){return t<e},G22c:"indexA",F2l:function(t,e){return e<t},o5Jc:"CreateProxies",d7ic:"b2ContactListener",R6tc:"b2Joint",P8p:function(t,e){return e<t},D5l:function(t,e){return t<e},P9Qc:"m_qA",q6l:function(t,e){return t*e},d8F:function(t,e){return t*e},n7v:function(t,e){return t&e},j5R:function(t,e){return t===e},z7l:function(t,e){return t<e},g0ic:"indexB",l8Ec:"b2MixRestitution",G4Ec:"_categoryPresolveCallbackContext",L9Jc:"m_sBx",P3z:function(t,e){return t/e},w4j:function(t){goog.DEBUG=t},L7j:function(t,e){return t in e},y2z:function(t,e){return t/e},v5Jc:"GetLocalPoint",e7N:function(t,e){return t<=e},G9X:function(t,e){return t===e},P7y:function(t,e){return t<e},b3ic:"Query",Q1F:function(t,e){return t-e},t1tc:"lengthA",n32c:"m_angularMass",T0ic:"canSee",k6qc:"e_circles",L37c:"areaInTriangle",R1N:function(t,e){return t===e},s6j:function(t,e){return t in e},T1Jc:"i2",x3z:function(t,e){return t===e},u07c:"b2BroadPhase",a4qc:"SetZero",N1w:function(t,e){return e<=t},H7X:function(t,e){return t===e},R3l:function(t,e){return e<t},T6y:function(t,e){return t instanceof e},K8Qc:.8,Z0j:function(t,e){return t==e},X7l:function(t,e){return e<t},Z9z:function(t,e){return t===e},X9w:function(t,e){return e<t},u9l:function(t,e){return e<=t},s5Ec:"b2RevoluteJointDef",a8Ec:"b2_unknown",B0R:function(t,e){return t<=e},n7F:function(t,e){return t*e},W3tc:"base",g1u:function(t,e){return t-e},Q4R:function(t,e){return t===e},F67c:"e_frictionJoint",c6j:function(t,e){return t===e},E7l:function(t,e){return t<e},j3Jc:"m_correctionFactor",C5Qc:"m_angularOffset",e32c:"b2BuoyancyController",U6y:function(t,e){return e<t},C32c:"box2d.b2MouseJoint",X4p:function(t,e){return t<e},N2tc:"bind",a72c:"b2MulXV",s1R:function(t,e){return t===e},G0Qc:"b2_toiMaxRootIters",T9z:function(t,e){return t===e},e87c:"m_as",X2z:function(t,e){return e<t},e1v:function(t,e){return t*e},W17c:"x",v4F:function(t,e){return t*e},G2qc:"V3j",s8j:function(t,e){return t*e},p97c:"m_max_count",X0j:function(t,e){return t instanceof e},t2R:function(t,e){return t===e},s8w:function(t,e){return e<t},d5F:function(t,e){return t*e},m8X:function(t,e){return t instanceof e},G4l:function(t,e){return t===e},s2F:function(t,e){return t*e},N5Jc:"b2CrossSV",B7p:function(t,e){return t<e},S4z:function(t,e){return t<e},W5tc:"m_beta",D1X:function(t,e){return e<t},E4Jc:"s_segmentAABB",f6R:function(t,e){return t instanceof e},W6v:function(t,e){return t<e},B9l:function(t,e){return t*e},A2ic:"b2Filter",I7ic:"e_bulletHitFlag",V9u:function(t,e){return t<e},g8w:function(t,e){return e<t},w7v:function(t,e,i,o){return t/e*i*o},j6Jc:"GetType",t6p:function(t,e){return t*e},C6N:function(t,e){return t*e},I3p:function(t,e){return t<e},D02c:"require",d6Qc:"_fixturePostsolveCallbacks",s7F:function(t,e){return t*e},L92c:"GetTransform",v6N:function(t,e){return t*e},J1p:function(t,e){return e<t},q67c:"s_J1",e2v:function(t,e){return t<e},z2X:function(t,e){return t===e},s0Ec:"e_atUpperLimit",a3p:function(t,e){return e<t},F0w:function(t,e){return e<=t},X5F:function(t,e){return t*e},y9u:function(t,e){return t<e},w5p:function(t,e){return t<e},E0p:function(t,e){return t<e},x2F:function(t,e){return t*e},C7R:function(t,e){return t===e},O5N:function(t,e){return t*e},O0tc:"e_unknown",E32c:"bodyA",T5y:function(t,e){return e<=t},T7u:function(t,e){return t/e},p8v:function(t,e){return t-e},t8Ec:"m_targetArea",m1v:function(t,e){return t!==e},g3Jc:"e_distanceJoint",A4S:function(t,e){return t-e},i6qc:"GetNext",D9z:function(t,e){return t===e},b4ic:"inherits",d2l:function(t,e){return e<t},A8X:function(t,e){return t instanceof e},O8qc:"getPathFromDeps_",c0tc:"e_edgeShape",V0j:function(t,e){return t==e},b6ic:"right",Z6qc:"typeOf",Y9N:function(t,e){return e<t},x8qc:"mass",U1X:function(t,e){return t*e},I8ic:"e_atLowerLimit",i6X:function(t,e){return t===e},q72c:"b2Manifold",T8u:function(t,e){return t*e},S27c:"TestOverlap",g47c:"b2_angularSleepTolerance",I27c:"m_lengthB",z7X:function(t,e){return t===e},V1N:function(t,e){return t!==e},f5qc:"global",P9qc:"m_dampingRatio",A6w:function(t,e){return t/e},J8Qc:"m_toiCount",B37c:"radiusA",R5y:function(t,e){return e<t},x3S:function(t,e,i){return t*e*i},s3Qc:"b2TempPolygon",p8N:function(t,e){return t*e},E1w:function(t,e){return t===e},x0l:function(t,e){return t<e},g22c:"writeScripts_",m9S:function(t,e){return t===e},T5Jc:"s_clipPoints1",g8y:function(t,e){return t===e},r3ic:"s_edgeShape",p6F:function(t,e){return t*e},m1R:function(t,e){return t===e},R1ic:"Create",y1S:function(t,e,i){return t-e-i},f7qc:"b2_kinematicBody",i7F:function(t,e){return t*e},H1F:function(t,e){return t-e},e6j:function(t,e){return t!=e},O87c:"SetDebugDraw",q7l:function(t,e){return t<e},t3v:function(t,e){return t*e},e8y:function(t,e){return t/e},D2Qc:"g4j",r2S:function(t,e){return t*e},R0tc:"FlagForFiltering",h8N:function(t,e){return t*e},c8S:function(t,e){return t*e},i2N:function(t,e){return t<=e},z3tc:"friction",i9p:function(t,e){return t===e},n7Ec:"e_clearForces",y4qc:"b2Velocity",U2Qc:"b2_persistState",r6j:function(t,e){return t==e},o3j:function(){box2d.b2_epsilon_sq=box2d.b2_epsilon*box2d.b2_epsilon},z1F:function(t,e){return t*e},T5ic:"b2InvSqrt",D9v:function(t,e,i){return t*e*i},v5F:function(t,e){return t*e},u2qc:"e_touchingFlag",y2Qc:"e_shapeTypeCount",t42c:"b2CollideCircles",A0z:function(t,e){return t%e},O0Ec:"b2ContactSolverDef",e8j:function(t,e){return t*e},W4tc:"filter",k8w:function(t,e){return t/e},b3v:function(t,e){return t*e},a2X:function(t,e){return t*e},z9X:function(t,e){return t*e},Q5Gc:function(){return t=parseInt,e=Date,i="_getTime2".substring(1,"_getTime2".length-1),s=27<t("pfn1pjdb0",27)-(t=i,(new e)[t]()),r=function(t,e){t=parseInt(t.charAt(e),16).toString(2);return t.charAt(t.length-1)},{v5Gc:function(t){for(var e,i=0,o=s;i<t["length"];i++){var n=r(t,i);e=i===0?n:e^n}return e?o:!o}};var s,r,t,e,i}(),M32c:"b2RotateDegreesV",R8y:function(t,e){return e<t},R02c:"b2PulleyJoint",D6F:function(t,e){return t*e},J8z:function(t,e){return t<e},a4z:function(t,e){return t<e},U5Jc:100,C7tc:"b2_maxRotation",G6R:function(t,e){return t instanceof e},J7tc:"bullet",Q8Jc:"m_positions",x5qc:"DefaultDebugDraw",W2Jc:"IsLocked",H1l:function(t,e){return t*e},Y1z:function(t,e){return t<e},q2X:function(t,e){return t===e},V2R:function(t,e){return e<=t},s2N:function(t,e){return e<t},c0Qc:"m_velocities",S42c:"m_v0",F6S:function(t,e){return t*e},b8y:function(t,e){return t<e},t4p:function(t,e){return t===e},P7F:function(t,e){return t!==e},Z3l:function(t,e){return t!==e},m9l:function(t,e){return t*e},a62c:.75,V9v:function(t,e){return t*e},b8F:function(t,e){return t*e},A8p:function(t,e){return e<t},F2qc:1e3,b22c:"b2Acos",I7tc:"E7j",r2F:function(t,e){return t*e},c2v:function(t,e){return t<e},f1tc:"m_ax",k1z:function(t,e){return t===e},S0y:function(t,e){return t instanceof e},X8tc:"s_pointA",I1l:function(t,e){return t*e},b9Ec:"flags",v6p:function(t,e){return e<t},A0R:function(t,e){return t===e},m2F:function(t,e){return t*e},N4qc:"normals",q1u:function(t,e){return t<=e},j2Qc:"SynchronizeTransform",i77c:"b2PolygonShape",V5Gc:"s_v",g1z:function(t,e){return t===e},C7l:function(t,e){return t<e},q17c:"z",n1z:function(t,e){return t===e},o0u:function(t,e){return t*e},y3u:function(t,e){return t*e},Q3tc:"prevController",J9Qc:"contacts",k7Qc:"fraction",F02c:"box2d.b2Controller",G3u:function(t,e){return e<t},R6p:function(t,e){return t*e},z8R:function(t,e){return t===e},P0qc:"m_referenceAngleA",f8tc:"b2_nullState",t0X:function(t,e){return t===e},S4j:function(t){goog.getHashCode=t.getUid},k4qc:"body",Q4l:function(t,e){return t===e},g3tc:"nameToPath",e7Ec:"m_typeB",f0S:function(t,e){return t*e},E1ic:"s_faceCenter",m1p:function(t,e,i){return t*e/i},w7qc:"b2_epsilon",x5X:function(t,e){return t&e},N6ic:"world",Q4Qc:"Reset",E3ic:"box2d.b2Settings",e9ic:"b2CollidePolygonAndCircle",y32c:"b2RadToDeg",C6tc:"p1",f8z:function(t,e){return t<e},H6z:function(t,e){return t%e},u0R:function(t,e){return t<e},j1S:function(t,e){return t<=e},Z9v:function(t,e){return t*e},l2N:function(t,e){return e<t},E0y:function(t,e){return t<=e},T37c:"b2_velocityThreshold",l9S:function(t,e){return t!==e},U6F:function(t,e){return t*e},x0R:function(t,e){return t<e},P62c:"ApplyForce",M3ic:"b2Swap",m8w:function(t,e){return e<t},J3y:function(t,e){return t<e},O5X:function(t,e){return t!==e},n8tc:"H3j",H4R:function(t,e){return t===e},G1qc:"R7j",D8tc:"s_axisB",o4z:function(t,e){return t*e},h8Ec:.008,o4u:function(t,e){return t/e},O7y:function(t,e){return t<e},r1ic:"aabbs",w8R:function(t,e){return e<t},P3ic:"b2MouseJointDef",u0Qc:"removeUid",d2Ec:"key",H2j:function(t,e){return t in e},D7Qc:"contactIndex",E3S:function(t,e){return t*e},m0u:function(t,e){return t!==e},e6X:function(t,e){return t!==e},D5qc:"m_proxyB",m6Jc:"m_angularDamping",o2w:function(t,e){return t/e},A1N:function(t,e){return t===e},k4w:function(t,e){return t<=e},a7tc:"b2ChainAndCircleContact",r3Ec:"b2FindIncidentEdge",J8Ec:"InsertLeaf",I62c:"useRadii",Y3Qc:"m_drawFlags",i2p:function(t,e,i){return t*e/i},y5l:function(t,e){return t<e},U9w:function(t,e){return e<t},v2Jc:"SetTransformVecRadians",c7tc:"b2ContactFilter",r7F:function(t,e){return t*e},I5S:function(t,e){return t!==e},r77c:"basePath",D6v:function(t,e){return t<e},E3j:function(t){box2d.b2_aabbMultiplier=t},E7j:function(t){box2d.b2_toiMaxRootIters=t},h7qc:"QueryCallback",y2y:function(t,e){return t instanceof e},u1Qc:"b2SubVMulSV",y6F:function(t,e){return t*e},L6z:function(t,e){return t<=e},V7z:function(t,e){return t*e},i0R:function(t,e){return t===e},B2v:function(t,e){return t<e},p77c:"e_circleShape",M9l:function(t,e,i){return t-e-i},M0p:function(t,e){return t*e},I47c:"s_d2",U2z:function(t,e){return t<e},A4j:function(){goog.DEPENDENCIES_ENABLED=!COMPILED&&goog.ENABLE_DEBUG_LOADER},C3S:function(t,e){return t!==e},e4v:function(t,e){return t!==e},x4Ec:"m_normal",c3w:function(t,e){return t/e},U5w:function(t,e){return t&e},C2R:function(t,e){return t===e},f17c:"e_bulletFlag",f42c:7,r5v:function(t,e){return e<t},m3z:function(t,e){return t===e},n7p:function(t,e){return t/e},P5N:function(t,e){return t!==e},h2z:function(t,e){return e<t},C9w:function(t,e){return t%e},W4F:function(t,e){return t*e},m8y:function(t,e,i){return t*e*i},z3ic:"s",c7N:function(t,e){return t<e},O2N:function(t,e){return t/e},b5Jc:"b2WheelJointDef",B87c:"J4j",z3S:function(t,e){return t*e},X5u:function(t,e){return t<e},i1Jc:"b2NegV",a2qc:"b2_pi_over_180",b9u:function(t,e){return t-e},j7F:function(t,e){return t!==e},K72c:"e_clearForces",G6l:function(t,e){return t<e},F27c:"_typeB",N62c:"correctionFactor",k8j:function(t,e){return t*e},B7y:function(t,e){return t<e},P6qc:"m_C",y5F:function(t,e){return t/e},I2X:function(t,e){return t/e},e9F:function(t,e){return t*e},b8tc:"box2d.b2FrictionJoint",R6F:function(t,e){return t*e},X2Qc:"e_autoSleepFlag",X3j:function(t){box2d.b2_toiTime=t},C5l:function(t,e){return t<e},s77c:"m_sweepB",W2R:function(t,e){return t===e},Z3j:function(t){box2d.b2_velocityThreshold=t},x9l:function(t,e){return t*e},J1F:function(t,e){return t*e},J27c:"typeA",m9ic:"m_localAxisD",Z8v:function(t,e){return t-e},X6N:function(t,e){return t*e},x9p:function(t,e){return e<t},v2l:function(t,e){return t<=e},j3j:function(){box2d.b2_maxAngularCorrection=8/180*box2d.b2_pi},j4u:function(t,e){return t===e},P3R:function(t,e){return t===e},g8j:function(t,e){return t*e},x1p:function(t,e){return e<t},D2tc:"m_warmStarting",f0ic:"GetFixtureB",u2F:function(t,e){return t-e},H8tc:"m_length",o6u:function(t,e){return t*e},P0u:function(t,e){return t-e},z3Qc:"b2_toiTime",z7v:function(t,e){return t-e},P0z:function(t,e){return t<e},C6p:function(t,e){return t*e},x5tc:"gettor",j1qc:"apply",B5X:function(t,e){return t===e},n1S:function(t,e){return t===e},W8tc:"velocities",L7S:function(t,e){return t*e},a3u:function(t,e,i){return t*e*i},F1qc:"dispatch",h7R:function(t,e){return t instanceof e},Y2N:function(t,e){return t<=e},Z4F:function(t,e){return t/e},c5N:function(t,e){return t<=e},R7R:function(t,e){return t===e},L2j:function(t,e){return e<t},b4F:function(t,e){return t*e},o0ic:"CLOSURE_DEFINES",j9Qc:"Copy",z1u:function(t,e){return t-e},v5Qc:"angularB",r6qc:"b2_maxTOIContacts",O5Jc:1,u3z:function(t,e){return t===e},y7ic:"K3j",W9z:function(t,e){return t*e},K7ic:"e_enabledFlag",j7u:function(t,e,i,o){return t*e*i*o},i7p:function(t,e){return e<=t},X8F:function(t,e){return t*e},E1F:function(t,e){return t*e},Y6Qc:"b2_persistState",u2S:function(t,e){return t*e},Q6tc:"b2ConstantAccelController",U4F:function(t,e){return t*e},I87c:"RayCastCallback",Z6tc:"IsBullet",U67c:"isString",o6Qc:"ey",N6u:function(t,e){return t*e},d3Qc:"m_out_linearVelocity",M4qc:"solveInit",r7p:function(t,e){return t<=e},i2v:function(t,e){return e<t},U82c:"b2_maxTranslationSquared",Q1p:function(t,e){return t===e},E0F:function(t,e){return t*e},I0F:function(t,e){return t*e},p3u:function(t,e){return t*e},u1tc:"b2ManifoldType",h6ic:"lowerBound",Y4X:function(t,e){return t&e},m6j:function(t,e){return t instanceof e},r9N:function(t,e,i){return t*e*i},F1Jc:"b2Atan2",m2p:function(t,e){return t*e},h9qc:"getMsg",a97c:"A4j",C8N:function(t,e){return t===e},S4y:function(t,e){return e<=t},A5Qc:"IsValid",M7Ec:"PointProxy",l32c:"Update",J9ic:"b2DistanceVV",v3Qc:"  jd.bodyA = bodies[%d];\n",L4Qc:"m_qD",m0Qc:"box2d.b2EdgeAndCircleContact",R2R:function(t,e){return t===e},f1y:function(t,e){return e<=t},W6N:function(t,e){return t*e},f7Qc:"s_e",h5w:function(t,e){return t<e},F72c:"ComputeHeightNode",F9R:function(t,e){return t===e},g4X:function(t,e){return t!==e},l7y:function(t,e){return t===e},e62c:"Advance",P6tc:"box2d.b2JointFactory",B3qc:"b2QueryCallback",G8Qc:.2,Q4ic:"s_indexA",W7R:function(t,e){return t===e},n2N:function(t,e){return e<t},A02c:"IsEnabled",D9tc:"b2RayCastCallback",X2Jc:"cf",H2w:function(t,e){return t*e},o8z:function(t,e){return t<e},D7z:function(t,e){return t-e},T9R:function(t,e){return t===e},q8p:function(t,e){return t%e},d5Qc:"GetChildEdge",O9F:function(t,e){return t===e},V8Qc:"GetMetric",o6z:function(t,e){return t*e},w72c:"pxm",c7y:function(t,e){return t<e},J97c:"b2SubVV",z0v:function(t,e){return t-e},H02c:.98,S4R:function(t,e){return t<=e},j5Ec:"m_axis",r6Jc:"CLOSURE_IMPORT_SCRIPT",K5tc:"s_v12",V57c:"m_stepComplete",o2j:function(t,e){return t instanceof e},j5v:function(t,e){return t*e},Q17c:"m_motorMass",p8u:function(t,e){return t*e},v4v:function(t,e,i){return t*e*i},p6N:function(t,e){return e<t},E2Jc:"IDENTITY",H6qc:"rotation",P0R:function(t,e){return e<=t},u87c:"b2CrossV3V3",V6N:function(t,e){return t<e},t3Qc:"m_qB",p2z:function(t,e){return t<e},a5p:function(t,e){return t-e},Y2S:function(t,e){return t*e},t6ic:"areVecsEqual",b4Jc:"m_invIA",n6X:function(t,e){return t<e},q6z:function(t,e){return t<e},S6z:function(t,e){return t*e},r2N:function(t,e){return t*e},d6N:function(t,e){return t*e},m4tc:"m_invMass",Y3Ec:"e_wheelJoint",B2F:function(t,e){return e<=t},b4p:function(t,e){return t instanceof e},s9l:function(t,e){return e<=t},u7j:function(t){box2d.b2_minPulleyLength=t},z2Jc:"b2RandomRange",q0N:function(t,e){return t*e},P4S:function(t,e,i){return t*e*i},j7p:function(t,e){return t<e},K7X:function(t,e){return t<e},D5w:function(t,e){return t===e},B42c:2,o6qc:"linearVelocity",V1Qc:"angularA",p3Ec:"b2CollideEdgeAndCircle",K9v:function(t,e,i){return t-e-i},l3j:function(){box2d.b2_polygonRadius=2*box2d.b2_linearSlop},U4N:function(t,e,i){return t*e*i},V7R:function(t,e){return t instanceof e},D7w:function(t,e){return t/e},l9F:function(t,e){return t*e},C1Jc:"DrawSegment",f4Ec:"localAnchorB",l62c:"tangent",O6j:function(t,e){return t in e},S5u:function(t,e,i){return t*e*i},V5Qc:"m_normal0",t72c:"I",Z6y:function(t,e){return t<e},c0z:function(t,e){return t-e},N37c:"m_type",g3j:function(){box2d.b2_180_over_pi=180/box2d.b2_pi},j4w:function(t,e){return t*e},m7p:function(t,e){return t<e},C8u:function(t,e){return e<t},a0ic:"provide",H8z:function(t,e){return t<e},F4ic:"m_jointCapacity",r4S:function(t,e){return t-e},D47c:"warmStarting",a1p:function(t,e){return t*e},I7v:function(t,e){return t<e},V8tc:"m_bodyB",s2Jc:"pointA",i8Ec:"m_delta",A5X:function(t,e){return t*e},d5qc:"m_indexC",l7p:function(t,e){return e<t},H0S:function(t,e){return t*e},X17c:"w",b1X:function(t,e){return t/e},E5Gc:"b2AreaJoint",q4qc:"Length",I9ic:"joint1",Z4tc:"W3j",Y0z:function(t,e){return t<e},H0p:function(t,e){return t<e},X8Ec:"s_contactSolverDef",c9l:function(t,e){return t<e},r8qc:"minor",t5F:function(t,e){return t*e},F2y:function(t,e){return t*e},h9w:function(t,e){return t<e},h2Jc:"e_ropeJoint",N7qc:"SetAngle",P1v:function(t,e){return t-e},H9Qc:256,L0p:function(t,e){return t/e},f6z:function(t,e){return t%e},C0y:function(t,e){return t===e},H7ic:"m_constant",y1y:function(t,e){return e<=t},u9p:function(t,e){return t===e},t9Qc:"linesCross",s9p:function(t,e){return t===e},T6qc:"m_joint1",V7j:function(t){box2d.b2_toiCalls=t},b3qc:"globalize",i1u:function(t,e){return t*e},F07c:"m_K3",h9R:function(t,e){return t===e},R8u:function(t,e){return t*e},b0tc:"p2",E9tc:"exportPath_",R72c:"box2d.b2WheelJoint",T5w:function(t,e){return t&e},z8z:function(t,e){return t<e},J62c:"s_supportB",d2p:function(t,e){return e<=t},z07c:"ReportFixture",i4j:function(t){goog.removeHashCode=t.removeUid},s5Gc:"removeBody",G3y:function(t,e){return t<e},U7u:function(t,e){return t*e},n6j:function(t,e){return t==e},S8qc:"evalWorksForGlobals_",u3ic:"b2_addState    ",h4p:function(t,e){return t instanceof e},n0z:function(t,e){return e<t},B0z:function(t,e){return t<e},x1Jc:"dependencies_",x87c:"e_circleShape",i5R:function(t,e){return t*e},c7F:function(t,e){return t-e},S9Jc:"b2Sq",k4u:function(t,e){return t-e},W5Jc:"s_perp",b0ic:"CLOSURE_NO_DEPS",L5R:function(t,e){return t<e},D9R:function(t,e){return t===e},o5Gc:"OBJECT_PROTOTYPE_FIELDS_",P9tc:"closestHitOnly",a4l:function(t,e){return t===e},q3j:function(t){box2d.b2_maxManifoldPoints=t},b2l:function(t,e){return t<=e},Z3u:function(t,e){return t<e},v5w:function(t,e){return t&e},y4ic:"s_indexB",a02c:"b2ConstantForceController",X02c:"m_out_xf",T7z:function(t,e){return t&e},z0u:function(t,e){return t*e},D6p:function(t,e){return t*e},Z5Qc:"m_out_center",U8F:function(t,e){return t*e},q1w:function(t,e){return t===e},r3R:function(t,e){return t&e},Q1N:function(t,e){return t*e},Z5l:function(t,e){return t<e},r9p:function(t,e){return t===e},E87c:"e_vertex",g9qc:"mpx",t1X:function(t,e){return t===e},r6Ec:"box2d.b2PrismaticJoint",H5Jc:"sideOffset2",d9y:function(t,e){return t instanceof e},j7y:function(t,e){return t instanceof e},r9S:function(t,e){return t<e},I5ic:"e_vertex",Z0Jc:"{\n",C22c:"typeB",h07c:"localCenterB",b3N:function(t,e){return t*e},G3Jc:"e_aabbBit",o0Jc:"object",q5tc:"s_v11",T9y:function(t,e){return t<e},h5l:function(t,e,i){return t*e*i},p9w:function(t,e,i,o){return t*e*i*o},Z6Ec:"indexOf",n0ic:"isDefAndNotNull",g87c:"invMassB",n8p:function(t,e){return t*e},F1X:function(t,e){return t/e},v2ic:"box2d.b2GearJoint",Q0tc:"ValidateMetrics",s0ic:"GetFixtureA",J4j:function(){goog.UID_PROPERTY_="closure_uid_"+(1e9*Math.random()>>>0)},v8v:function(t,e){return e<t},F0Qc:"b2TOIInput",S8R:function(t,e){return t===e},q0v:function(t,e){return e<=t},s3z:function(t,e){return t===e},D6tc:"array",E7tc:"box2d.b2Fixture",E62c:"normalImpulse",P7ic:"upperBound",M1ic:"GetUserData",O3ic:"distance",x8j:function(t,e){return t*e},K37c:"isReflex",J4R:function(t,e){return t===e},j5u:function(t,e){return t<e},V4S:function(t,e){return t!==e},N0N:function(t,e){return t/e},U02c:"m_lcC",N57c:"b2Shape",Q0v:function(t,e){return t<e},E9Jc:"m_linearMass",G6Jc:"m_vertices",D3u:function(t,e,i){return t*e*i},x9Jc:"e_awakeFlag",N0Jc:"e_motorJoint",T1y:function(t,e){return e<t},Z2y:function(t,e){return t instanceof e},x4X:function(t,e){return t===e},K3y:function(t,e){return t<e},R1S:function(t,e){return t/e},i47c:"DrawShape",u5Qc:"RED",h3v:function(t,e){return t*e},W2l:function(t,e){return t<e},O7u:function(t,e,i,o){return t*e*i*o},V3X:function(t,e){return t===e},r9Qc:"isDef",v8F:function(t,e){return t*e},L4z:function(t,e){return t<e},S82c:"b2Island",t3X:function(t,e){return t===e},i4w:function(t,e){return t-e},Q5p:function(t,e){return t<e},t3j:function(){box2d.b2_maxRotationSquared=box2d.b2_maxRotation*box2d.b2_maxRotation},W5l:function(t,e){return t===e},v07c:"typeB",X6p:function(t,e){return t%e},I4y:function(t,e){return t<e},M9Jc:"MAX_VALUE",i9Jc:"m_sBy",j5X:function(t,e){return t*e},q9ic:"b2World",g7F:function(t,e){return t/e},a6R:function(t,e){return t instanceof e},U1N:function(t,e,i){return t*e*i},D6Ec:"b2DestructionListener",r8w:function(t,e){return t*e},f5Qc:"m_normal1",t4Qc:"SetPositionXY",g4Qc:".",D4tc:"m_damping",N9X:function(t,e){return t===e},l67c:"m_proxies",n5X:function(t,e){return t*e},X72c:"b2Vec2_zero",V1S:function(t,e){return t*e},k3Jc:"e_edgeA",a0tc:"b2_dynamicBody",T3S:function(t,e){return t-e},g4u:function(t,e){return t/e},Y3qc:"m_gravityScale",F8v:function(t,e){return e<t},s7y:function(t,e){return t<=e},r9F:function(t,e){return t*e},y3v:function(t,e){return t-e},F7S:function(t,e){return t*e},Q5ic:"b2_epsilon_sq",w0y:function(t,e){return e<t},m2qc:"s_p",Z3ic:"p",W8N:function(t,e){return t===e},R1X:function(t,e){return t<=e},V0Ec:"e_bulletFlag",X7z:function(t,e){return t*e},k8y:function(t,e,i){return t*e*i},P1N:function(t,e,i){return t*e*i},t2y:function(t,e){return t<e},E1u:function(t,e){return t-e},J1l:function(t,e){return t-e},C6y:function(t,e){return t instanceof e},O0R:function(t,e){return t!==e},p6y:function(t,e){return t%e},P6w:function(t,e){return t*e},a8tc:"CLOSURE_UNCOMPILED_DEFINES",u3y:function(t,e){return e<t},j1v:function(t,e){return t*e},N6z:function(t,e){return t<e},e2N:function(t,e){return t<=e},A1v:function(t,e){return t*e},Z2u:function(t,e,i){return t*e*i},p7Qc:"b2_maxFloat",k8Qc:.9,v27c:"box2d.b2BuoyancyController",E0N:function(t,e){return t*e},N4ic:"A3j",P1z:function(t,e){return t===e},K2Qc:"s_saveB",g2tc:"e_all",J8l:function(t,e){return t*e},m2tc:"m_p0s",p6Ec:1e-5,F2R:function(t,e){return t===e},B3R:function(t,e){return t!==e},z0N:function(t,e){return t*e},B3y:function(t,e){return t-e},p32c:"s_localTangent",P8j:function(t,e){return t-e},d37c:"b2TimeOfImpact",g2N:function(t,e){return t<=e},k27c:"t4j",P3u:function(t,e){return t/e},z1l:function(t,e){return t===e},F6F:function(t,e){return t*e},l3w:function(t,e,i){return t*e*i},w42c:"Physics",J0S:function(t,e){return t!==e},e0Qc:"physics",p3l:function(t,e){return t*e},l4u:function(t,e){return t<e},O2p:function(t,e){return t*e},O9p:function(t,e){return t<e},O5Ec:"pixelsPerMeter",q8Qc:"maxMotorForce",v3l:function(t,e){return t<e},y5y:function(t,e){return e<=t},W1Jc:"sideOffset1",G8R:function(t,e){return t!==e},c0w:function(t,e,i,o){return t*e*i*o},F7z:function(t,e){return t-e},J4v:function(t,e){return t/e},b9w:function(t,e){return t<e},t2tc:"b2ContactEdge",E9X:function(t,e){return e<t},d0y:function(t,e){return t instanceof e},z2ic:12,G1F:function(t,e){return t-e},I0S:function(t,e){return t*e},r6X:function(t,e){return t===e},h9u:function(t,e){return e<t},M5z:function(t,e){return t*e},j5tc:"m_vertex1",W5w:function(t,e){return t===e},P8X:function(t,e){return t instanceof e},t9z:function(t,e){return t*e},u4X:function(t,e){return t!==e},u9F:function(t,e){return t-e},m1Qc:"m_out_sweep",R4Jc:"m_maxTorque",e7F:function(t,e){return t!==e},x6j:function(t,e){return t in e},z0Ec:"L3j",w6z:function(t,e){return t-e},Y7qc:"e_toiFlag",K0v:function(t,e){return t*e},W7tc:"m_destructionListener",Z6v:function(t,e){return t-e},v5qc:"SetShape",D2l:function(t,e){return t!==e},I8l:function(t,e){return t===e},U9qc:"e_areaJoint",p5F:function(t,e){return e<=t},O6Jc:"getFixturesAtPoint",P1y:function(t,e){return t<e},l5X:function(t,e){return t!==e},q4y:function(t,e){return t<e},k2v:function(t,e){return t-e},i4Ec:"b2PolygonContact",N0F:function(t,e){return t*e},W0j:function(t,e){return t===e},g1v:function(t,e){return t*e},D8Qc:"e_none",n1v:function(t,e){return t*e},A27c:"b2RotateRadiansV",F6v:function(t,e){return t<e},t2Jc:"Solve",a4N:function(t,e,i){return t-e-i},y1u:function(t,e){return t*e},Z2R:function(t,e){return t===e},U0y:function(t,e){return t instanceof e},V7Ec:"b2Asin",l3tc:"m_next",h9z:function(t,e){return t===e},Q8l:function(t,e){return t===e},m5X:function(t,e){return t===e},M77c:"e_toiFlag",t9R:function(t,e){return t===e},X2u:function(t,e){return t*e},M1w:function(t,e){return t<e},Y6X:function(t,e){return t===e},X1X:function(t,e){return t/e},Y2qc:"X3j",n0Jc:"box2d.b2TimeOfImpact",q8u:function(t,e,i){return t-e+i},A9N:function(t,e){return t*e},J5S:function(t,e,i){return t*e*i},T8N:function(t,e){return t<e},Y5X:function(t,e){return t&e},H6R:function(t,e){return t instanceof e},N8y:function(t,e){return t/e},E3F:function(t,e){return t*e},y9R:function(t,e){return t===e},L2w:function(t,e){return t*e},t47c:"b2TOIOutput",k2y:function(t,e){return e<t},t4Jc:"Reset",M6Jc:"b2_toiCalls",K1l:function(t,e){return t*e},C8F:function(t,e){return t/e},S5z:function(t,e){return t*e},y5Ec:"context",s9Qc:"m_angularVelocity",K67c:"m_limitState",l0z:function(t,e){return e<t},A0tc:"box2d.b2ConstantForceController",p7j:function(t){Phaser.Physics.Box2D.worldBoundsFilterCategory=t},b8S:function(t,e,i){return t*e*i},Z0w:function(t,e){return e<=t},Q2tc:"m_bodyC",P2N:function(t,e){return t<=e},K47c:"s_pointB",u2w:function(t,e,i){return t*e*i},Z6w:function(t,e,i){return t*e*i},g2y:function(t,e){return t<e},u1z:function(t,e){return t*e},H0N:function(t,e){return t*e},V02c:"getCssName",L8tc:"b2MassData",Y0qc:"DestroyProxy",b5w:function(t,e){return t instanceof e},g7ic:"state",a27c:"_typeA",x1z:function(t,e){return t/e},i0l:function(t,e){return e<t},r1u:function(t,e){return t*e},l6Ec:"lowerAngle",T6S:function(t,e){return t*e},F6p:function(t,e){return t*e},e0z:function(t,e){return t==e},R7j:function(t){box2d.b2_toiRootIters=t},T4p:function(t,e){return t<=e},x4N:function(t,e){return t-e},u5Ec:"b2Alloc",i3Ec:"bindNative_",y9Qc:"bindJs_",h4l:function(t,e){return t<e},O8j:function(t,e){return t&e},x2N:function(t,e){return t<=e},U8v:function(t,e){return t<=e},x8w:function(t,e){return t/e},h57c:!1,F7Jc:"gravity",K1Ec:"b2EdgeShape",O0z:function(t,e){return t<e},O1R:function(t,e){return t!==e},y3l:function(t,e){return t===e},s32c:"child2",Q3F:function(t,e){return t*e},h4S:function(t,e){return t===e},Y8j:function(t,e){return e<t},v4j:function(){goog.now=goog.TRUSTED_SITE&&Date.now||function(){return+new Date}},L9X:function(t,e){return t===e},q4z:function(t,e){return t<e},x7tc:"m_tree",a4R:function(t,e){return t===e},Z0tc:"b2MulRV",o1y:function(t,e){return e<=t},W8F:function(t,e){return t<e},q7ic:"b2Log",b4qc:"box2d.b2PulleyJoint",P7v:function(t,e){return t<e},L5S:function(t,e,i){return t*e*i},u8X:function(t,e){return t instanceof e},T4ic:"  jd.maxMotorTorque = %.15f;\n",H42c:5,O1ic:"b2_bulletBody",X0X:function(t,e){return t===e},X3X:function(t,e){return t===e},m4u:function(t,e){return t-e},V97c:"m_frequencyHz",y4tc:"s_e2",J0p:function(t,e){return t-e},m3j:function(t){box2d.b2_maxTOIContacts=t},q2w:function(t,e,i){return t*e*i},h3w:function(t,e){return e<t},k4j:function(t){box2d.DEBUG=t},h5y:function(t,e){return e<=t},r0l:function(t,e){return t*e},P2y:function(t,e){return t*e},g2F:function(t,e){return t*e},m8Jc:"s_edgeA",h27c:"m_prevVertex",W7z:function(t,e){return t&e},H82c:"P4j",g67c:"destroyFcn",r42c:.01,n2Jc:"SetTransformXYRadians",B7qc:"count",A4Ec:"localAnchorA",J0Qc:"FindNewContacts",O6Ec:"b2ContactSolver",u4S:function(t,e){return t===e},f8qc:"box2d.b2Joint",l2Jc:"DEBUG",F8F:function(t,e){return t*e},n9F:function(t,e){return t-e},t0ic:"primary",e5ic:"b2Draw",A3z:function(t,e){return t/e},F3v:function(t,e){return t<e},d4F:function(t,e){return t*e},h32c:"e_overlapped",u3j:function(t){box2d.b2_linearSlop=t},B8Jc:"maxMotorTorque",X7Jc:"SelfNormalize",P1ic:"UNITX",s2S:function(t,e){return t-e},X9z:function(t,e){return t*e},w3Ec:"b2Random",t0qc:"m_continuousPhysics",r3j:function(t){box2d.b2_baumgarte=t},w8l:function(t,e){return e<t},U6S:function(t,e){return t*e},g2ic:"M4j",l7u:function(t,e){return t*e},p2l:function(t,e){return t<e},P9S:function(t,e){return t===e},Z82c:"m_deltas",P8tc:"start",L1Jc:"restitution",O8X:function(t,e){return t instanceof e},b7Jc:"getTime",B2S:function(t,e){return t*e},X5l:function(t,e){return t-e},e4Jc:"degToRad",k5Ec:"revision",D3v:function(t,e){return t*e},y8Ec:"offset",L4Jc:"iterations",M4j:function(t){box2d.b2_maxFloat=t},m87c:"m_sleepTime",W3X:function(t,e){return t===e},K2w:function(t,e){return e<t},p6p:function(t,e){return t*e},U4p:function(t,e){return t<e},Z6Jc:"e_equalLimits",B6X:function(t,e){return t===e},V9z:function(t,e){return t===e},i8S:function(t,e){return t===e},z0Qc:"sqrt",B4ic:"enableMotor",F4j:function(){goog.instantiatedSingletons_=[]},Q9Ec:"lowerTranslation",q7N:function(t,e){return t*e},y4F:function(t,e){return t!==e},j1ic:"m_isSensor",l4Qc:"b2_staticBody",v6u:function(t,e){return t-e},N7Ec:"dt",W3N:function(t,e,i){return t*e*i},Y7y:function(t,e){return t instanceof e},z8p:function(t,e){return t*e},r6Qc:"bodyDef",i4ic:"b2AreaJointDef",m1z:function(t,e){return t/e},u4N:function(t,e,i){return t*e*i},I2j:function(t,e){return t in e},N9w:function(t,e){return t<e},s0l:function(t,e){return e<=t},E4z:function(t,e){return t<e},x6qc:"walls",i9Ec:"b2IsValid",g6Jc:"b2_polygonRadius",g4w:function(t,e){return t*e},y2Ec:"s_sweepA",j9F:function(t,e){return t-e},z3N:function(t,e,i){return t-e-i},H4v:function(t,e){return t*e},j6Ec:"b2_unknown",c6Qc:"b2MulMV",L8R:function(t,e){return t&e},A2p:function(t,e){return t===e},p9tc:"SetLinearVelocity",d6y:function(t,e){return t<e},f3qc:"m_allocator",p6S:function(t,e){return e<=t},O02c:"m_lcD",r0Qc:"b2DistanceInput",v5ic:"vertices",h3tc:"maxTorque",Z8qc:"e_locked",S4l:function(t,e){return t<e},C8qc:"b2Color",C3l:function(t,e){return t<e},c5X:function(t,e){return t===e},E9Qc:"Synchronize",s2p:function(t,e){return t*e},K6l:function(t,e){return e<t},d9qc:"scope",V0Qc:"b2VelocityConstraintPoint",h5Ec:"m_tangentSpeed",O7p:function(t,e){return t<e},b7z:function(t,e){return t/e},c2y:function(t,e){return t*e},c1v:function(t,e){return t*e},K0Jc:"toWorldVector",q6qc:"s_localNormal",h2qc:"included_",G1l:function(t,e){return e<=t},T2z:function(t,e){return t==e},c9Qc:"SelfAddXY",t77c:"nextController",m8p:function(t,e){return e<t},Y5R:function(t,e){return t-e},b0j:function(t,e){return t in e},M5p:function(t,e){return t<=e},m6Ec:"b2_removeState",p2Qc:"UNSEALABLE_CONSTRUCTOR_PROPERTY_",Y9p:function(t,e){return t===e},n5Ec:"upperAngle",f5Jc:"s_e12",u2tc:"ClassDescriptor",z0p:function(t,e){return t===e},o0Ec:"s_t3",B6j:function(t,e){return t<e},T7Qc:"GetAngleRadians",X9tc:"GetWorldCenter",y6v:function(t,e){return t<e},l7S:function(t,e){return t/e},H5p:function(t,e){return t<e},a0v:function(t,e){return t<e},i87c:"b2DistanceJoint",B1p:function(t,e){return t<e},W0X:function(t,e){return t===e},g9tc:"m_contactFactory",f4qc:"m_angularError",o3p:function(t,e){return t<e},a0N:function(t,e){return t*e},K0Ec:"b2MixFriction",z1v:function(t,e){return t!==e},j0l:function(t,e){return e<t},p4F:function(t,e){return t-e},M8qc:"e_atLowerLimit",d5u:function(t,e){return t<e},V9Qc:"transformB",K0F:function(t,e){return t*e},w9qc:"}\n",j2tc:"b2MulRR",N1p:function(t,e){return t<e},p5y:function(t,e){return e<=t},V5y:function(t,e){return t<e},e7Jc:"rB",P4X:function(t,e){return t===e},T2Ec:"shape",p3N:function(t,e){return t*e},S0F:function(t,e){return t*e},V9qc:"m_iB",X1Jc:"b2CollidePolygons",R2l:function(t,e){return t<e},A3u:function(t,e,i){return t*e*i},k3Ec:"s_polygonAxis",v5y:function(t,e){return e<=t},W3v:function(t,e){return t-e},j8X:function(t,e){return t-e},Z1u:function(t,e){return t-e},h0X:function(t,e){return t===e},e8p:function(t,e){return e<t},g7Jc:"GetFilterData",L0tc:"b2EPAxisType",K5Ec:"SetIdentity",Y8qc:"m_K",Y4qc:"F4j",V1X:function(t,e){return t===e},G9v:function(t,e){return e<t},D1u:function(t,e){return e<t},f7X:function(t,e){return t&e},s7p:function(t,e){return t===e},l82c:"m_mC",S02c:"SetXYZ",G4R:function(t,e){return t<e},c6w:function(t,e){return t-e},s3ic:"childIndex",W8u:function(t,e){return t instanceof e},z0tc:"b2Simplex",V2ic:16,v9qc:"removeNextStep",M82c:"box2d.b2AreaJoint",L6qc:"m_joint2",l5Qc:278,V8F:function(t,e){return t-e},x0ic:"EndContact",c9S:function(t,e){return e<t},A4u:function(t,e){return t/e},w3w:function(t,e){return t/e},G0qc:"m_force",X0w:function(t,e){return t!==e},E8tc:"m_localAnchorC",i9l:function(t,e){return t*e},H07c:"b2MulSV",j2qc:"e_revoluteJoint",Q4y:function(t,e){return t<e},E0S:function(t,e){return t*e},N8S:function(t,e,i){return t*e*i},A6qc:"onBodyRemoved",T9u:function(t,e){return t<e},A8j:function(t,e){return t-e},B5v:function(t,e,i){return t*e*i},d5y:function(t,e){return e<=t},A1z:function(t,e){return t-e},G0N:function(t,e){return t*e},t6v:function(t,e){return t===e},Y5u:function(t,e){return t*e},e6tc:"m_lalcA",D0w:function(t,e){return e<=t},y07c:"false",B8j:function(t,e){return t&e},Y8tc:"e_controllerBit",t2z:function(t,e){return t<e},o8R:function(t,e){return t===e},u42c:0,D5F:function(t,e){return t/e},H1ic:"MoveProxy",L4ic:"FromSSSS",w1p:function(t,e){return t*e},F8N:function(t,e){return t<e},Y9F:function(t,e){return t-e},G6ic:"inv_dt",T6Ec:"b2_maxPolygonVertices",U3u:function(t,e,i){return t*e*i},I37c:"m_vs",s1p:function(t,e){return t<e},w5Jc:"b2DistanceOutput",J7qc:"stop",Q0Qc:"e_mouseJoint",Y2v:function(t,e){return t*e},P77c:"s_timer",f8l:function(t,e){return t===e},M9qc:"  jd.enableLimit = %s;\n",p5Jc:"b2_180_over_pi",K5R:function(t,e){return t<e},m3Jc:"center",w0p:function(t,e){return e<t},Z1X:function(t,e){return t-e},y97c:"m_jointList",b2R:function(t,e){return t===e},n1u:function(t,e){return t*e},f6tc:"QueryAABB",R9u:function(t,e){return t/e},B9F:function(t,e){return t-e},w7j:function(t,e){return t in e},c7S:function(t,e,i){return t*e*i},E3p:function(t,e){return t<e},Q9N:function(t,e){return t*e},T2y:function(t,e){return t<e},b6S:function(t,e){return t!==e},y9Jc:"box2d.b2Rope",q27c:"m_lengthA",J4z:function(t,e){return t/e},S4Ec:"masses",W6y:function(t,e){return t instanceof e},u0Ec:"metric",N2j:function(t,e){return t!==e},w7l:function(t,e){return t*e},g32c:"e_weldJoint",v9R:function(t,e){return t===e},I6z:function(t,e){return t==e},P3tc:"b2Jacobian",J2u:function(t,e,i){return t*e*i},d92c:"c0",d2Qc:"e_edgeShape",j3qc:"e_separated",j9l:function(t,e){return e<=t},m9qc:"tangentImpulses",j3tc:"m_hasVertex3",Z77c:"s_translation",d1X:function(t,e){return e<t},w7Qc:"e3j",R9qc:"maxForce",o6R:function(t,e){return t!==e},t6N:function(t,e){return t*e},B0Jc:"box2d",R2tc:"_fixtureContactCallbacks",D6N:function(t,e){return t*e},a1Ec:"m_hasPrevVertex",d4S:function(t,e,i){return t*e*i},d6v:function(t,e){return t-e},N6Jc:"b2MulM33V3",B5N:function(t,e){return t*e},L02c:"cloneObject",D0ic:"_categoryContactCallbackContext",W6u:function(t,e){return t*e},X5tc:"b2_kinematicBody",J7l:function(t,e,i){return t*e*i},Z2l:function(t,e){return t<e},H8l:function(t,e){return t===e},G8tc:"s_axisA",F6Jc:"b2MulTMM",t4j:function(t){goog.uidCounter_=t},H0tc:"ComputeMass",W9Jc:"b2FixtureDef",c6Ec:"cssNameMapping_",O5ic:"m_mD",q1F:function(t,e){return t-e},G8z:function(t,e){return t===e},w9w:function(t,e){return t%e},K2S:function(t,e,i){return t-e+i},O62c:"b2CrossVV",A1tc:"s_normal",u5X:function(t,e){return t&e},i9F:function(t,e){return t*e},j5N:function(t,e){return t*e},Y4w:function(t,e){return t<e},n77c:"partial",n0l:function(t,e){return t<e},o0v:function(t,e){return e<=t},z1w:function(t,e){return t!==e},n8j:function(t,e){return t*e},c3j:function(t){box2d.b2_linearSleepTolerance=t},w4l:function(t,e){return e<t},l0qc:"p3j",b4l:function(t,e){return t*e},f6u:function(t,e){return t*e},y8u:function(t,e){return t*e},y3Qc:"b2RevoluteJoint",g0z:function(t,e){return t==e},U6u:function(t,e){return t*e},Q1Jc:"m_springImpulse",B9p:function(t,e){return t<e},d7z:function(t,e){return t<e},v1tc:"m_collideConnected",X9u:function(t,e){return t/e},u37c:"b2Body",n3j:function(t){box2d.b2_gjkMaxIters=t},J9X:function(t,e){return t<e},c8p:function(t,e){return e<t},W6S:function(t,e){return t*e},S7X:function(t,e){return t===e},y6S:function(t,e){return t!==e},e67c:"groupIndex",N27c:"e_newFixture",O9qc:"e_convex",I2Jc:"s_edge2",y7tc:"e_concave",G5Qc:"e_weldJoint",O5tc:"b2_maxManifoldPoints",k8X:function(t,e){return t<e},G4ic:"c4j",f4ic:"m_vertex3",y1qc:"box2d.b2TimeStep",v2R:function(t,e){return t!==e},q2ic:11,P9N:function(t,e,i){return t*e*i},b1tc:"lengthB",x2p:function(t,e){return t*e},w0S:function(t,e){return t*e},Q3y:function(t,e){return t-e},C6F:function(t,e){return t*e},p5qc:"m_indexA",L0N:function(t,e){return t<=e},Q9w:function(t,e,i){return t*e/i},E8w:function(t,e,i){return t*e*i},e1R:function(t,e){return t===e},O8w:function(t,e,i){return t*e*i},U7l:function(t,e){return t<e},G0Ec:"Solve33",D6ic:"floor",w6R:function(t,e){return t instanceof e},q3Jc:"b2JointEdge",P1R:function(t,e){return t===e},k4X:function(t,e){return t!==e},h6p:function(t,e){return t*e},K7Ec:"box2d.b2Collision",y6y:function(t,e){return t<e},v6S:function(t,e){return t*e},j77c:"b2Assert",y0X:function(t,e){return t<e},S0Qc:"isArray",v8N:function(t,e){return t<e},O3qc:"e_controllerBit",l2Qc:"SelfAdd",H2Jc:"m_localCenterB",k2N:function(t,e){return e<t},m6tc:"nextFixtureId",Y9Jc:"m_invIB",c0Jc:"joints",l8tc:"m_bodyA",s2Ec:"AllocateNode",j6w:function(t,e){return e<t},Q7j:function(t,e){return t==e},k2F:function(t,e){return t-e},S9X:function(t,e){return t===e},D2Jc:"b2FindMaxSeparation",v7z:function(t,e){return t&e},p3j:function(){box2d.b2_angularSlop=2/180*box2d.b2_pi},E7X:function(t,e){return t===e},j0tc:"b2Rope",W6ic:"m_radius",B9S:function(t,e){return t*e},K2u:function(t,e,i){return t-e-i},I3Jc:"s_edgeB",i4u:function(t,e){return t*e},T7S:function(t,e,i){return t*e*i},H0Qc:"u7j",Q6l:function(t,e){return t*e},s6X:function(t,e){return t===e},N2ic:"clear",S6R:function(t,e){return t instanceof e},X5w:function(t,e){return t===e},V5Jc:"IsSensor",w3j:function(t){box2d.b2_maxLinearCorrection=t},C9y:function(t,e){return e<=t},e5X:function(t,e){return t&e},h8y:function(t,e){return t<e},I1w:function(t,e){return t===e},d5l:function(t,e){return t*e},n2Qc:"box2d.b2PolygonContact",l1ic:"Combine",I8z:function(t,e){return t-e},o6l:function(t,e){return t/e},a7S:function(t,e){return t===e},d0j:function(t,e){return t!=e},M6z:function(t,e){return t-e},i2S:function(t,e){return t*e},s8X:function(t,e){return t&e},X6Qc:"Pop",j9S:function(t,e){return t===e},d5v:function(t,e,i,o){return t*e*i*o},y57c:"GetHeight",L5p:function(t,e){return t*e},R5Jc:"GetBodyA",q7v:function(t,e){return t!==e},D4N:function(t,e){return t*e},s3Ec:"m_JwB",R3w:function(t,e){return t/e},q5p:function(t,e){return t*e},o4l:function(t,e,i){return t-e-i},h9y:function(t,e){return t%e},V9ic:"joint2",b6F:function(t,e){return t*e},H8R:function(t,e){return e<t},C5w:function(t,e){return t<e},c7qc:"normalMass",a4y:function(t,e){return e<t},O4N:function(t,e){return t-e},F0tc:"pointCount",B82c:"typeA",K7j:function(t,e){return t in e},o2y:function(t,e){return t instanceof e},u1Ec:"e_pulleyJoint",l4X:function(t,e){return t===e},J6z:function(t,e){return t==e},z6z:function(t,e){return t%e},w8z:function(t,e){return t-e},X2S:function(t,e){return t-e},R8ic:"b2ParseUInt",S6qc:"e_points",W0ic:"getObjectByName",T8Qc:.5,S8ic:"  jd.dampingRatio = %.15f;\n",q5S:function(t,e){return e<t},R6w:function(t,e,i){return t*e*i},r9qc:"GetVertex",J0N:function(t,e){return t*e},S1F:function(t,e){return t-e},X6y:function(t,e){return e<t},G2X:function(t,e){return t/e},A5u:function(t,e,i){return t*e*i},D6Jc:"FromAngleRadians",P37c:"U3j",B2p:function(t,e){return t*e},r9ic:"CreateChain",Z6p:function(t,e){return t*e},X8S:function(t,e,i){return t*e*i},t62c:"box2d.b2Draw",X4F:function(t,e){return t*e},o3Qc:"m_enableLimit",n3u:function(t,e){return e<t},z4tc:"GetBody",e2y:function(t,e){return t<e},p6v:function(t,e){return t-e},V7w:function(t,e,i){return t*e*i},z6u:function(t,e){return t*e},W3l:function(t,e){return t<e},u8Jc:"createSealingConstructor_",Q7Jc:"GetAngularVelocity",A4w:function(t,e){return t*e},w7S:function(t,e,i){return t*e*i},h0qc:"maskBits",j9p:function(t,e){return t===e},X2l:function(t,e){return t===e},T6u:function(t,e){return t*e},w3F:function(t,e){return t*e},i3R:function(t,e){return t===e},Z9tc:"b2MulM33XYZ",j67c:"b2TensorDampingController",t1qc:"GREEN",T0Ec:"b2BodyType",V5N:function(t,e,i){return t*e*i},v3S:function(t,e){return t!==e},G6z:function(t,e){return e<=t},c1y:function(t,e){return t!==e},U6Jc:"box2d.b2ChainAndCircleContact",G1w:function(t,e){return t<e},C2Qc:"PopTransform",S6Qc:"  jd.enableMotor = %s;\n",Q2j:function(t,e){return t<e},q5qc:"  jd.maxTorque = %.15f;\n",W9u:function(t,e){return t<e},l1z:function(t,e){return t/e},Y5Qc:"e_enabledFlag",a3Ec:"box2d.b2EdgeShape",r5Jc:"s_stack",p42c:6,J32c:"m_contactCount",y9y:function(t,e){return t===e},l2ic:"define",T3j:function(t){box2d.b2_toiBaumgarte=t},K0p:function(t,e){return t/e},V1ic:"m_groundAnchorA",a2u:function(t,e){return e<t},a1qc:"m_count",P7Ec:"GetInverse",Z1N:function(t,e){return t===e},B02c:"F",H3j:function(t){box2d.b2_maxSubSteps=t},A8tc:"A",V0ic:"b2ExtVV",w8Qc:"ENABLE_ASSERTS",J42c:"atan2",b4Qc:"box2d.b2GravityController",A6ic:"enableLimit",k1R:function(t,e){return t!==e},Y5Jc:"GetBodyB",o4v:function(t,e){return t*e},W22c:"dtRatio",a1w:function(t,e){return t<e},R3X:function(t,e){return t===e},F5w:function(t,e){return t===e},i5N:function(t,e){return t<=e},Q6R:function(t,e){return t instanceof e},h9Jc:"awake",Q42c:"ZERO",n1y:function(t,e){return t===e},f5l:function(t,e,i){return t*e*i},S8l:function(t,e){return e<t},f5p:function(t,e){return t-e},m6ic:"m_upperLimit",f3ic:"m_filter",e4w:function(t,e){return t*e},v97c:"b2MaxV",n7y:function(t,e){return t<e},H7v:function(t,e){return t*e},B4tc:"b2Counter",M7X:function(t,e){return t===e},m0ic:"_bodyContactCallbackContext",w9ic:"b2AbsM",s1Ec:"s_Q",c4X:function(t,e){return t===e},N4l:function(t,e){return t*e},X8u:function(t,e){return t===e},w8y:function(t,e){return e<t},f7v:function(t,e){return t*e},C2p:function(t,e){return t/e},E5Ec:"GetAngle",R8S:function(t,e){return t-e},o8u:function(t,e){return t*e},P4j:function(t){box2d.b2_epsilon=t},X1qc:"m_maxForce",Z9Jc:"superClass_",n6w:function(t,e){return t*e},j82c:"m_motorImpulse",e1y:function(t,e){return e<t},F5qc:"m_ratio",V2l:function(t,e){return t!==e},Q0S:function(t,e){return t*e},F6ic:"e_convex",G7X:function(t,e){return t<e},k42c:"b2_defaultFilter",E8R:function(t,e){return t===e},f2tc:"m_bodyD",r5R:function(t,e){return t*e},o27c:"s_fcn",i4N:function(t,e,i){return t*e*i},J2tc:"m_localAnchorA",K3ic:"b2RayCastInput",l3R:function(t,e){return t-e},i7y:function(t,e){return t<e},d4Jc:"mouseJointBody",U9u:function(t,e){return t<e},x3N:function(t,e,i){return t*e*i},A2F:function(t,e){return t-e},c9tc:"b2Position",C6S:function(t,e){return t!==e},F8u:function(t,e){return e<t},y47c:"m_controllerList",G87c:"removeFromWorld",Q6z:function(t,e){return e<t},G0p:function(t,e){return t%e},V5tc:"b2_aabbExtension",Y1Qc:"RemoveLeaf",v0qc:"positionIterations",f4Jc:"k4j",H3y:function(t,e){return t<e},e6w:function(t,e){return t*e},c8X:function(t,e){return t*e},v5Ec:"maxLength",f3Jc:"SelfSub",i3tc:"e_edgeA",L1p:function(t,e){return e<t},E2tc:"_bodyPostsolveCallbackContext",v6Jc:"m_localXAxisA",M3y:function(t,e){return t%e},e1z:function(t,e){return t/e},p02c:"b2AABB",h17c:"push",E6z:function(t,e){return t%e},I42c:9,K8S:function(t,e,i){return t*e*i},s9Jc:"b2Pair",C9Jc:"e_jointBit",x2S:function(t,e){return t-e},U9z:function(t,e){return t/e},d7l:function(t,e){return t<e},J5p:function(t,e){return t===e},j4X:function(t,e){return t&e},X7qc:"b2JointDef",c5Qc:"collideConnected",W6tc:"MakeStyleString",l5R:function(t,e){return e<t},L1F:function(t,e){return t*e},Y2F:function(t,e){return t-e},I4v:function(t,e){return t-e},i82c:"m_mB",c4S:function(t,e){return t*e},s4X:function(t,e){return t===e},d4j:function(t){box2d.ENABLE_ASSERTS=t.DEBUG},r1N:function(t,e,i){return t-e-i},l5Ec:"m_a1",q77c:"Solve22",b6Ec:"m_JvAC",V5qc:"m_manifold",H4y:function(t,e){return t<e},V0w:function(t,e){return e<t},S2w:function(t,e){return t/e},Z6N:function(t,e){return t*e},u0z:function(t,e){return t===e},V4p:function(t,e){return t===e},T62c:"point",J6qc:"b2EdgeAndPolygonContact",W67c:"e_motorJoint",H1Ec:"true",G17c:"onBodyAdded",k0u:function(t,e){return t-e},Y9S:function(t,e){return t-e},Q1Ec:"e_shapeBit",E5Qc:"e_faceB",y6ic:"e_failed",v9tc:"b2TOIOutputState",u1p:function(t,e){return t<=e},I72c:.25,a6z:function(t,e){return t<e},G3p:function(t,e){return t%e},c8j:function(t,e){return t*e},k1v:function(t,e){return t*e},m8j:function(t,e){return t&e},F7w:function(t,e){return t*e},q1y:function(t,e){return e<=t},l9p:function(t,e){return t!==e},U3S:function(t,e){return t!==e},I3w:function(t,e){return e<t},C7w:function(t,e){return e<t},Y7p:function(t,e){return t/e},L5tc:"cos",p8tc:"renderBody",b3Ec:"solveTOI",k82c:"m_centroidB",H8ic:"b2Cos",D7R:function(t,e){return t===e},y5qc:"m_proxyA",e1u:function(t,e){return t*e},L1w:function(t,e){return t%e},r8p:function(t,e){return e<t},s02c:"indexB",e3z:function(t,e){return t<e},Q0N:function(t,e){return t*e},H3qc:!0,v0Jc:"log",T2u:function(t,e,i){return t*e*i},n0R:function(t,e){return e<=t},U6p:function(t,e){return t*e},x27c:"SetType",b8N:function(t,e){return t/e},g5N:function(t,e){return t*e},L2ic:"GetMass",c0l:function(t,e){return t/e},R2u:function(t,e){return t<=e},W8Qc:.1,N6R:function(t,e){return t instanceof e},x7F:function(t,e){return t*e},g0l:function(t,e){return t===e},r4X:function(t,e){return t&e},O8ic:"b2FixtureProxy",j8w:function(t,e){return t*e},k7p:function(t,e){return t/e},q7tc:"m_lowerAngle",O9S:function(t,e){return t-e},y0j:function(t,e){return t==e},I6Qc:"box2d.b2ContactManager",G7Qc:"e_separated",F82c:"box2d.b2Distance",F0qc:"collide",z0qc:"b2NextPowerOfTwo",y1N:function(t,e){return t===e},i3z:function(t,e){return t&e},N07c:"Clone",y3X:function(t,e){return t===e},n9Jc:"e_awakeFlag",d6ic:"maxFraction",U8N:function(t,e){return e<t},D6S:function(t,e){return t*e},R6Ec:"m_JvBD",G7ic:"sideNormal2",w1l:function(t,e){return e<=t},u6Qc:"ez",r8Jc:"box2d.b2WorldCallbacks",h8v:function(t,e){return e<t},U9R:function(t,e){return t===e},Q7X:function(t,e){return t&e},e3R:function(t,e){return t!==e},A7Qc:"b2Free",b6v:function(t,e){return t<e},O9Ec:"b2Controller",f0y:function(t,e){return e<t},c9F:function(t,e){return t*e},G5Jc:"ShiftOrigin",G42c:"b2MulTXX",Z8F:function(t,e){return t*e},T7w:function(t,e){return t*e},R3j:function(t){box2d.b2_aabbExtension=t},w0N:function(t,e){return t<=e},m7y:function(t,e){return t instanceof e},p0X:function(t,e){return t===e},k5Qc:"V7j",R4F:function(t,e){return t*e},L4tc:"addChain",H4Jc:"target",M0ic:"FromVV",u3Qc:"s_rf",D4F:function(t,e){return t*e},t7w:function(t,e){return t*e},E3tc:"e_ropeJoint",B2ic:20,v8u:function(t,e){return t/e},o3Ec:"b2_maxSubSteps",o3F:function(t,e){return t*e},A9v:function(t,e,i){return t*e*i},e4S:function(t,e,i){return t*e*i},P2F:function(t,e){return t*e},A57c:"s_tangent",J0v:function(t,e){return t-e},o5p:function(t,e){return t/e},x5R:function(t,e){return t*e},N5tc:"set",b7u:function(t,e,i){return t*e*i},J4y:function(t,e){return t===e},A2v:function(t,e){return e<t},z4Ec:"e_none",E2j:function(t,e){return t in e},p9qc:"SelfNeg",a1N:function(t,e,i){return t*e*i},V5F:function(t,e){return t*e},u47c:"invIB",S4v:function(t,e,i){return t*e*i},D2ic:10,r4u:function(t,e){return t*e},a57c:"m_sAy",Z9Qc:"m_island",r3z:function(t,e){return t*e},L72c:"b2CrossVS",h6N:function(t,e){return t<e},N3S:function(t,e){return t*e},D1qc:"m_iD",e4u:function(t,e){return t===e},N7j:function(t,e){return t in e},v4tc:"s_e1",b3l:function(t,e){return t*e},K8l:function(t,e){return t===e},r3Qc:"b2CrossVOne",U9N:function(t,e,i){return t*e*i},u6w:function(t,e,i){return t*e*i},I9X:function(t,e){return t===e},I4R:function(t,e){return t<=e},G2p:function(t,e,i){return t*e/i},N0Qc:"m_enableMotor",v2z:function(t,e){return t==e},p22c:"m_edgeB",p4l:function(t,e,i){return t*e*i},W42c:"b2CircleContact",w6qc:"m_prev",f0F:function(t,e){return t*e},W5y:function(t,e){return e<=t},S1qc:"next",o4Ec:"m_typeA",I0Jc:"joint",Z8N:function(t,e){return t*e},D9y:function(t,e){return t<=e},g4j:function(){goog.defineClass.OBJECT_PROTOTYPE_FIELDS_=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},S0N:function(t,e){return t*e},T0X:function(t,e){return t===e},v1Qc:"b2_gjkMaxIters",X7u:function(t,e){return t*e},Z7ic:"sideNormal1",o0S:function(t,e){return t*e},g8p:function(t,e){return e<t},G6Ec:"b2BodyDef",M42c:"T",U9Ec:"localPoint",k1S:function(t,e){return t!==e},I8Jc:"m_localCenterA",A0l:function(t,e){return t/e},k4v:function(t,e){return t*e},K6Ec:"m_xf",I0Qc:"b2WorldFlag",T6p:function(t,e){return t*e},i8Jc:"m_shape",G5p:function(t,e){return t<e},F5l:function(t,e){return t*e},S37c:"SolveTOI",l2tc:"b2Fixture",j4j:function(t){goog.basePath=t},k7y:function(t,e){return t<e},v7u:function(t,e){return e<t},V3j:function(t){box2d.b2_pi=t.PI},Z1y:function(t,e){return e<=t},s9F:function(t,e){return t*e},Y3R:function(t,e){return t===e},k9p:function(t,e){return t instanceof e},u1ic:"  jd.localAnchorA.SetXY(%.15f, %.15f);\n",t5l:function(t,e){return t*e},A2S:function(t,e){return t*e},w6u:function(t,e){return t*e},o4R:function(t,e){return t===e},S1l:function(t,e){return t-e},f3S:function(t,e){return t<=e},K9Ec:"box2d.b2MotorJoint",R5u:function(t,e){return e<t},p8Jc:"e_filterFlag",B4X:function(t,e){return t!==e},x9N:function(t,e){return t*e},l4Jc:"localPoints",u0Jc:"b2_staticBody",i57c:"e_inactiveLimit",d6S:function(t,e){return t*e},N3tc:"e_edgeB",t6tc:"_indexA",j2ic:"TouchProxy",l2S:function(t,e){return t*e},U6ic:"normal",q8z:function(t,e){return t<e},A9Qc:"s_n",t9ic:"sweepA",w3p:function(t,e){return t===e},c2Jc:"createBody",I0p:function(t,e){return t-e},i9tc:"b2Version",L3F:function(t,e){return t*e},w77c:"solve",w8qc:"replace",y5tc:"groundAnchorB",E5p:function(t,e){return t<e},L5z:function(t,e){return t<e},n3ic:"b2TestOverlapAABB",u4Ec:"m_angularImpulse",Y3N:function(t,e,i){return t*e*i},t7Jc:"s_planePoint",A1S:function(t,e){return t!==e},L4S:function(t,e,i){return t*e*i},p1ic:"b2RayCastOutput",U17c:"b2AddMM",M8R:function(t,e){return t!==e},M4z:function(t,e){return t!==e},v22c:"m_edgeA",K32c:"SetAngularVelocity",c1Jc:"s_t0",b0X:function(t,e){return t<e},g6j:function(t,e){return t==e},N3F:function(t,e){return t*e},Z42c:8,C5u:function(t,e){return t-e},S3y:function(t,e){return e<t},T6v:function(t,e){return t<e},k7Ec:"  jd.referenceAngle = %.15f;\n",H67c:"box2d.b2CollideEdge",k3R:function(t,e){return t===e},V8v:function(t,e){return e<t},u2N:function(t,e){return t*e},R7Qc:"getMsgWithFallback",y3tc:"b2JointFactory",M1Qc:"box2d.b2CollideCircle",r8Ec:"box2d.b2PolygonShape",T8y:function(t,e,i){return t*e*i},o1Qc:"  jd.localAnchorB.SetXY(%.15f, %.15f);\n",O9l:function(t,e){return t*e},X6u:function(t,e){return t*e},Z0X:function(t,e){return t===e},j8j:function(t,e){return t===e},N4R:function(t,e){return t-e},Q8z:function(t,e){return t/e},I17c:"y",Z2tc:"e_inactiveLimit",c4j:function(t){goog.evalWorksForGlobals_=t},s3N:function(t,e){return t===e},q22c:"exportSymbol",E4tc:"IsLeaf",k0l:function(t,e){return t<e},n9ic:"e_activeFlag",c5ic:"m_groundAnchorB",h2Qc:"m_out_extent",C0X:function(t,e){return t&e},e5v:function(t,e,i){return t-e-i},Y5tc:"IsTouching",l8S:function(t,e,i){return t*e*i},Z5v:function(t,e,i){return t*e*i},O7F:function(t,e){return t!==e},T42c:"angularVelocity",z4y:function(t,e){return t<e},J7j:function(t,e){return t-e},Y7Jc:"SelfMulSub",X9y:function(t,e){return t===e},C8Ec:"box2d.b2RevoluteJoint",q2tc:"b2_maxRotationSquared",p1S:function(t,e){return t===e},y2R:function(t,e){return e<t},p0w:function(t,e){return t*e},S6l:function(t,e){return t*e},Y0R:function(t,e){return t<e},A2Jc:"m_k3",e8ic:"m_registers",c5R:function(t,e){return t-e},E9qc:"e_equalLimits",C4F:function(t,e){return t*e},S5Qc:"Push",D2z:function(t,e){return t*e},y4Jc:"_categoryPresolveCallbacks",k0qc:"e_all",v6qc:"m_ps",p7R:function(t,e){return t===e},z4w:function(t,e){return t*e},C9R:function(t,e){return t===e},y4p:function(t,e){return t===e},M7j:function(t,e){return t in e},A9p:function(t,e){return t===e},x0z:function(t,e){return t*e},q8Ec:"box2d.b2ConstantAccelController",e1Ec:"m_invI",J2X:function(t,e){return t|e},g2v:function(t,e){return t-e},V3Ec:"b2WheelJoint",X77c:"e_autoSleepFlag",O22c:"a",K7qc:"Polygon",H97c:"v",C7z:function(t,e){return t&e},u3qc:"e_distanceJoint",N2Jc:"e_face",V0tc:"SetXY",a7X:function(t,e){return t<e},E3qc:null,I5z:function(t,e){return t<e},I3S:function(t,e){return t*e},P6Qc:"m_contacts",z0Jc:"_bodyPresolveCallbackContext",K22c:"c",Y8Qc:"l3j",m3R:function(t,e){return t-e},p0j:function(t,e){return t==e},c6ic:"b2_dynamicBody",g9p:function(t,e){return t instanceof e},j3z:function(t,e){return t!==e},e7y:function(t,e){return e<t},C0j:function(t,e){return t===e},X6S:function(t,e){return t*e},f6Qc:"userData",W8Ec:"e_gearJoint",R8Ec:"s_combinedAABB",v4ic:"major",o7Ec:"b2Sin",P9Jc:"O7j",x5Ec:"b2_baumgarte",t7z:function(t,e){return t-e},D6qc:"box2d.b2DynamicTree",n4w:function(t,e){return e<t},Q3j:function(t){box2d.b2_timeToSleep=t},i5v:function(t,e){return e<t},z7Qc:"b2MotorJoint",L3p:function(t,e){return t<e},j6Qc:"b2GravityController",G0v:function(t,e){return t<e},m0R:function(t,e){return t===e},b9Qc:"m_perp",N3j:function(t){box2d.b2_maxTranslation=t},H6u:function(t,e){return t*e},l6j:function(t,e){return t==e},z42c:"m_v1",S07c:"invMassA",n4X:function(t,e){return e<t},Z5w:function(t,e){return t===e},r4w:function(t,e){return t*e},S8z:function(t,e){return e<t},e1qc:"m_iC",d0Qc:"b2PolygonAndCircleContact",M2j:function(t,e){return t/e},K5p:function(t,e){return e<t},h77c:"s_J2",y2l:function(t,e){return t<=e},J07c:"m_fixtureCount",n8X:function(t,e){return t instanceof e},M8y:function(t,e,i){return t*e*i},J3ic:"",T1Qc:"Collide",F32c:"bodyB",G4y:function(t,e){return t-e},J3tc:"s_distanceOutput",H0F:function(t,e){return t*e},C3j:function(){box2d.b2_pi_over_180=box2d.b2_pi/180},Z3tc:"s_Jd1",i8j:function(t,e){return t*e},y0Ec:"box2d.b2CircleShape",K4Ec:"solveVelocity",x97c:"b2Vec3",u7F:function(t,e){return t*e},I9w:function(t,e){return t<e},o2Qc:"b2DistanceProxy",H9v:function(t,e,i){return t*e*i},U2l:function(t,e){return t<e},v4p:function(t,e){return t<=e},y7R:function(t,e){return t===e},u2p:function(t,e){return t*e},j2S:function(t,e){return t*e},b5F:function(t,e){return t*e},R0X:function(t,e){return t*e},C0w:function(t,e){return t*e},W7w:function(t,e){return t*e},P4v:function(t,e){return t-e},Z1Qc:"_id",o0F:function(t,e){return t*e},P42c:"isNumber",p0u:function(t,e,i){return t*e*i},O4ic:"m_centroid",I7l:function(t,e){return t===e},r7N:function(t,e){return e<t},j7N:function(t,e){return e<t},E7v:function(t,e){return t-e},I7X:function(t,e){return t===e},S1w:function(t,e){return t%e},T8F:function(t,e){return t*e},b9ic:"s_abs_v",m3tc:"b2ContactID",k6j:function(t,e){return t==e},F0j:function(t,e){return t==e},D9Ec:"GetPosition",Y6j:function(t,e){return t instanceof e},w3S:function(t,e){return t*e},q5Jc:1.5,k8p:function(t,e){return t*e},F2z:function(t,e){return t-e},L2Qc:"BLUE",R5w:function(t,e){return t instanceof e},C1Qc:"e_faceA",X8v:function(t,e){return t<e},y5w:function(t,e){return t&e},I5p:function(t,e){return e<t},o6ic:"b2MulTMV",C0ic:32,W8ic:"m_density",x2Jc:"GetLength",o1tc:"groundAnchorA",p57c:"m_mass",Y7Ec:"e_revoluteJoint",T8v:function(t,e){return e<t},V72c:"_fixturePresolveCallbackContext",A42c:"mixin",R4u:function(t,e,i){return t*e*i},N3Ec:"random",F6N:function(t,e){return t*e},V3u:function(t,e){return t-e},r07c:"index",q07c:"box2d.b2ContactFactory",Z7z:function(t,e){return t-e},p8w:function(t,e,i){return t*e*i},W8v:function(t,e){return t-e},Q4Jc:"  joints[%d] = this.m_world.CreateJoint(jd);\n",Y6ic:"motorSpeed",t3N:function(t,e){return t-e},C4p:function(t,e){return t<e},L27c:"b2MotorJointDef",l0R:function(t,e){return t===e},Q2w:function(t,e){return t*e},m9Qc:255,l0l:function(t,e){return t<e},Q8Ec:"  jd.ratio = %.15f;\n",K7S:function(t,e){return t*e},f4y:function(t,e){return t/e},h6y:function(t,e){return e<t},j7qc:"_bodyPresolveCallbacks",l9l:function(t,e){return e<=t},X2qc:"b2_timeToSleep",s7Qc:"globalEval",u9v:function(t,e,i){return t*e*i},q0u:function(t,e){return t*e},j4S:function(t,e){return t===e},s5R:function(t,e){return t*e},r1R:function(t,e){return e<t},Y5Ec:"angle",t8N:function(t,e){return t===e},Q87c:"b2Clamp",W7Qc:"b2TreeNode",g3R:function(t,e){return t!==e},u8Qc:"Body",q4w:function(t,e){return t*e},H7Jc:"rA",d0X:function(t,e){return t===e},U9y:function(t,e){return e<t},h5Jc:"b2ContactFeatureType",V67c:"box2d.b2Island",A5v:function(t,e){return t*e},v3Ec:"game",D1Jc:"i1",P9F:function(t,e){return t-e},o62c:"s_incidentEdge",o5Qc:"e_wheelJoint",O27c:"box2d.b2Math",u5N:function(t,e){return t===e},n8Ec:"wrapAngle",R2w:function(t,e,i){return t*e*i},A9S:function(t,e){return t===e},F9Jc:"j3j",w3y:function(t,e){return t-e},w2tc:"Normalize",j7Jc:"b2Sqrt",V5w:function(t,e){return t instanceof e},k0R:function(t,e){return t!==e},l9Jc:"m_bodyCount",r4ic:"b2IsPowerOfTwo",M9tc:"m_lalcB",W6p:function(t,e){return t/e},F4N:function(t,e,i){return t*e*i},d6F:function(t,e){return t*e},M2tc:"e_polygonShape",N6qc:"b2_toiIters",P6Ec:"shift",n5N:function(t,e){return t!==e},K97c:"_categoryContactCallbacks",H2X:function(t,e){return t*e},E2X:function(t,e){return t&e},R4p:function(t,e){return t instanceof e},j7ic:"execScript",E3Jc:"  jd.motorSpeed = %.15f;\n",A5Jc:"pure virtual",e4X:function(t,e){return t===e},N32c:"b2_bulletBody",o9X:function(t,e){return e<t},U6N:function(t,e){return t*e},w9Jc:"m_id",r6w:function(t,e){return t*e},g3z:function(t,e){return t/e},f5v:function(t,e){return t*e},R0w:function(t,e){return t*e},X4tc:"function",G4z:function(t,e){return t<e},A3ic:"m_torque",h9tc:"m_invMassB",N3w:function(t,e,i){return t*e*i},f8R:function(t,e){return t===e},A0u:function(t,e){return t*e},v8Qc:.3,q6u:function(t,e){return t*e},O2S:function(t,e){return t*e},u0l:function(t,e){return t<e},W6F:function(t,e){return t*e},W7ic:"CLOSURE_CSS_NAME_MAPPING",K2j:function(t,e){return t*e},w2Jc:"m_upperAngle",Z5F:function(t,e){return e<=t},w6l:function(t,e){return t<e},t7S:function(t,e){return t*e},w4v:function(t,e){return e<t},N3N:function(t,e,i){return t*e*i},Q9X:function(t,e){return t===e},Y7u:function(t,e){return t/e},y27c:"d4j",g7N:function(t,e){return t<=e},G4N:function(t,e){return t===e},b3w:function(t,e,i){return t*e*i},y3N:function(t,e,i){return t*e*i},H1tc:"wA",u7p:function(t,e){return t/e},H6Ec:"m_impulse",G5z:function(t,e){return t===e},o0p:function(t,e){return t<e},k5X:function(t,e){return t*e},T8Jc:"SEAL_CLASS_INSTANCES",S32c:"at",B4N:function(t,e){return t*e},e5qc:"b2ContactFeature",M3F:function(t,e){return t*e},D77c:"b2_toiRootIters",z4v:function(t,e){return t<=e},m8qc:"b2MakeNumberArray",K4ic:"r",l97c:"nullFunction",K82c:"GetWorldPoint",Z9qc:"s_collider",R9ic:"b2WeldJoint",s0Jc:"isProvided_",k9S:function(t,e){return t*e},b2u:function(t,e){return t!==e},i0u:function(t,e){return t<=e},b9z:function(t,e){return t===e},D8v:function(t,e){return t-e},L3y:function(t,e){return t%e},H4Qc:"e_centerOfMassBit",I0N:function(t,e){return t<=e},N4v:function(t,e){return e<t},C9z:function(t,e){return t<e},s4qc:"m_rB",U7Qc:"s_c",b1ic:"SetAngleRadians",e7p:function(t,e){return e<=t},I2w:function(t,e){return t*e},e0u:function(t,e){return t*e},e0Ec:"Combine2",X6tc:"_indexB",Z7R:function(t,e){return t===e},m0z:function(t,e){return t-e},q3F:function(t,e){return t*e},m6Qc:"m_world",J4Jc:"m_nodeB",L1qc:"m_body",d9u:function(t,e){return t===e},r1Jc:"s_impulse",X7w:function(t,e){return t*e},l8j:function(t,e){return t&e},B7w:function(t,e){return t!==e},i0z:function(t,e){return t^e},M5R:function(t,e){return t<e},t22c:"m_mA",d3S:function(t,e){return t!==e},L8Jc:"m_bodies",S7tc:"prev",c3R:function(t,e){return t===e},f0p:function(t,e){return t-e},H5Ec:"applyProperties_",a8qc:"b2PairLessThan",o77c:"q7j",Z2z:function(t,e){return t*e},W4p:function(t,e){return t<e},V7u:function(t,e,i){return t*e*i},n1Ec:"m_motorSpeed",E2y:function(t,e){return t instanceof e},y8F:function(t,e){return t-e},o8Ec:.001,D0Qc:"n3j",f82c:"s_supportA",d7Jc:"b2FrictionJoint",U5qc:"m_maxLength",u2v:function(t,e){return t<e},f4R:function(t,e){return t===e},y22c:"r3j",R6N:function(t,e){return t===e},P6X:function(t,e){return t<e},Q02c:"m_lcB",h7Jc:"m_islandIndex",r0z:function(t,e){return e<t},f1F:function(t,e){return t-e},V0X:function(t,e){return t<e},R5F:function(t,e){return t*e},e7v:function(t,e){return t&e},K1Jc:"e_centerOfMassBit",A9qc:"b2SimplexCache",w2j:function(t,e){return t===e},B8X:function(t,e){return t instanceof e},A9Ec:"fixture",s3qc:"s_edge1",o1Jc:"s_clipPoints2",p4Ec:"Copy",P4Qc:"s_id",e9l:function(t,e){return t<e},C3v:function(t,e){return t*e},i8X:function(t,e){return t*e},Q0F:function(t,e){return t*e},E8p:function(t,e,i){return t*e*i},L2X:function(t,e){return e<t},F9y:function(t,e){return t===e},r8X:function(t,e){return t*e},L4Ec:"b2BodyFlag",f1v:function(t,e,i,o){return t*e*i*o},P72c:"TestPoint",P8Jc:"identityFunction",F47c:"invIA",U27c:"pairs",r4tc:"b2_aabbMultiplier",m9Ec:"allowSleep",N47c:"Initialize",D2y:function(t,e){return t<e},q0S:function(t,e){return t-e},h3u:function(t,e){return t*e},P1S:function(t,e,i){return t-e-i},y3ic:"b2Min",D8u:function(t,e){return t*e},w1Jc:"Clear",a6l:function(t,e){return t===e},o1l:function(t,e){return t*e},r8j:function(t,e){return t*e},M1l:function(t,e){return e<=t},h22c:"v4j",K0ic:"density",Q6Jc:"S4j",c2u:function(t,e,i){return t*e*i},d2z:function(t,e){return t<e},a6Qc:"layers",i7N:function(t,e){return t<=e},F5y:function(t,e){return e<=t},n1N:function(t,e){return t===e},m5u:function(t,e){return t*e},V3w:function(t,e){return e<t},N5p:function(t,e){return t<e},p4p:function(t,e){return t instanceof e},V6qc:"  jd.collideConnected = %s;\n",U5y:function(t,e){return e<=t},o1w:function(t,e){return t===e},R32c:"GetChildIndexA",K0N:function(t,e){return t<=e},D6Qc:"Evaluate",E6l:function(t,e){return t/e},p8p:function(t,e,i){return t*e*i},a17c:1e37,d67c:"tagUnsealableClass",z82c:"setTestOnly",p5u:function(t,e,i){return t-e-i},S47c:"s_d1",D8N:function(t,e){return t<e},s6ic:"m_buffer",p7N:function(t,e){return t*e},H9X:function(t,e){return t===e},L0v:function(t,e){return t/e},z5Qc:"b2Distance",w0v:function(t,e){return t<=e},g7v:function(t,e){return t&e},v9z:function(t,e){return t*e},b5y:function(t,e){return e<=t},J1w:function(t,e){return t<e},Y72c:"CreateJoint",Y1S:function(t,e){return t<e},E5S:function(t,e){return t!==e},p9y:function(t,e){return t<e},Q4z:function(t,e){return t/e},h5F:function(t,e){return t*e},X7R:function(t,e){return t!==e},U0w:function(t,e){return e<t},v3X:function(t,e){return e<t},r7ic:"positions",m2Ec:"box2d.b2RopeJoint",M1Jc:"s_t1",q5z:function(t,e){return t instanceof e},b5Gc:"m_stack",j6j:function(t,e){return t==e},F4p:function(t,e){return t<e},c1z:function(t,e){return t/e},V22c:"SynchronizeFixtures",N0S:function(t,e){return t-e},w3ic:"C3j",U6Qc:"e_polygonShape",R4l:function(t,e){return t<e},k1u:function(t,e){return t*e},K1Qc:"linearOffset",n07c:"s_e23",i2ic:"t3j",s7j:function(t){box2d.b2_toiMaxTime=t},E0v:function(t,e){return t-e},R9z:function(t,e){return t===e},c07c:"b2AddVMulSV",U5Ec:"m_contactList",U2p:function(t,e){return t<e},r1z:function(t,e){return t!==e},k72c:"o3j",E4y:function(t,e){return t===e},Z7w:function(t,e){return t!==e},e2F:function(t,e){return t*e},y4w:function(t,e,i){return t*e*i},n9p:function(t,e){return t instanceof e},O1p:function(t,e){return e<t},y0w:function(t,e){return t*e},k7ic:"e_aabbBit",o5z:function(t,e){return t==e},I3y:function(t,e){return t instanceof e},M3w:function(t,e,i,o){return t*e*i*o},e8w:function(t,e){return t/e},d8v:function(t,e){return t<=e},b9R:function(t,e){return t===e},s7N:function(t,e,i){return t*e*i},r7Jc:"b2ContactRegister",L9v:function(t,e){return t*e},z4z:function(t,e){return t/e},b7Qc:"ENABLE_DEBUG_LOADER",q7S:function(t,e,i){return t*e*i},Q0y:function(t,e){return t instanceof e},c8y:function(t,e){return e<t},Q3u:function(t,e){return t/e},K3j:function(t){box2d.b2_gjkIters=t},d8Ec:"m_joints",d5w:function(t,e){return t&e},D1N:function(t,e,i){return t-e-i},y8N:function(t,e){return t*e},h2l:function(t,e){return t<e},M5Ec:"script",N0v:function(t,e){return t<=e},C3X:function(t,e){return t===e},K5z:function(t,e){return t===e},g6Ec:"clearFixtures",o8S:function(t,e){return e<=t},X3v:function(t,e,i,o,n){return t/e/i*o*n},n9S:function(t,e){return t*e},R7S:function(t,e,i){return t*e*i},y6N:function(t,e){return t*e},g72c:"m_fixtureA",Q0p:function(t,e){return t-e},q4R:function(t,e){return t===e},k3tc:"p7j",J2Ec:"PushTransform",M6l:function(t,e){return e<t},j6X:function(t,e){return t!==e},g0Ec:"e_areaJoint",T3l:function(t,e){return t<e},u5ic:"Step",z6Ec:"mouseJoint",f3F:function(t,e){return t*e},o7l:function(t,e){return t*e},z8tc:"e_mouseJoint",Q8qc:"_fixturePostsolveCallbackContext",j0R:function(t,e){return t<e},q2Qc:"ComputeAABB",A6j:function(t,e){return t==e},x7p:function(t,e){return t<e},b2z:function(t,e){return t<e},w2X:function(t,e){return t<e},z1y:function(t,e){return e<=t},a7qc:"m_linearImpulse",X2R:function(t,e){return t===e},u5tc:"m_vertex0",f5ic:"b2GearJointDef",d7qc:"b2_gjkIters",I3F:function(t,e){return t*e},A2tc:"contactListener",e9S:function(t,e){return t*e},e5Ec:"GetSupport",F5Qc:"_categoryPostsolveCallbackContext",J6u:function(t,e,i){return t-e-i},X8ic:50,U3X:function(t,e){return t&e},c8w:function(t,e){return e<t},x5Jc:"BufferMove",T0w:function(t,e,i){return t*e*i},R8v:function(t,e){return e<t},V2z:function(t,e){return t<e},r0tc:"createFcn",m6X:function(t,e){return t===e},v6y:function(t,e){return t instanceof e},q6R:function(t,e){return t===e},q2y:function(t,e){return t===e},z0F:function(t,e){return t*e},Y4u:function(t,e){return t<e},P4tc:"s_input",Y8X:function(t,e){return t-e},g9l:function(t,e){return e<t},d3l:function(t,e){return t<e},c1R:function(t,e){return t===e},Q2ic:"b2PrismaticJointDef",f47c:"hits",I0v:function(t,e){return t<=e},U3Jc:"_fixturePresolveCallbacks",h5tc:"box2d.b2TensorDampingController",T7ic:"m_subStepping",g9Qc:"addRectangle",M2X:function(t,e){return e<t},p0ic:"m_localPoint",v1X:function(t,e){return t===e},h8F:function(t,e){return t-e},y9N:function(t,e,i){return t*e*i},d47c:"e_gearJoint",j8tc:"b2ContactPositionConstraint",f2X:function(t,e){return t!==e},V8y:function(t,e){return t*e},F0X:function(t,e){return t<e},w4z:function(t,e){return t!=e},o2qc:"m_moveBuffer",H7l:function(t,e){return t<e},E5qc:"requires",M4R:function(t,e){return t<e},q0p:function(t,e){return t===e},J0y:function(t,e){return t instanceof e},p8y:function(t,e,i){return t*e*i},s0z:function(t,e){return t*e},T4F:function(t,e){return t*e},m0qc:"m_friction",G1tc:"Set",Z0Ec:"Math",l2F:function(t,e){return t*e},m5Ec:"s_output",F0ic:"box2d",A6X:function(t,e){return t!==e},l57c:"m_proxyCount",R4qc:"GetDensity",D2R:function(t,e){return t===e},N1l:function(t,e){return e<=t},P1u:function(t,e){return e<=t},j8Ec:"b2MulTRR",D82c:"b2CollideEdgeAndPolygon",v7l:function(t,e){return t/e},x5Qc:"handleContactBeginOrEnd",a4Qc:"_bodyContactCallbacks",p8F:function(t,e){return t*e},p4Qc:"e_chainShape",L0F:function(t,e){return t*e},B5Qc:"settor",N3y:function(t,e){return t<=e},X9Jc:"q3j",T3Jc:"b2JointType",f5S:function(t,e){return t===e},D4p:function(t,e){return t<e},p2u:function(t,e){return e<=t},y6p:function(t,e){return t*e},T9Jc:"uidCounter_",h7z:function(t,e){return t*e},n4N:function(t,e,i){return t*e*i},g07c:"ptmRatio",L2Jc:"pointB",y9z:function(t,e){return t===e},K62c:"GetWorldVector",b9y:function(t,e){return t<e},P17c:"s_distanceInput",F4F:function(t,e){return t*e},c4u:function(t,e){return t*e},c4ic:"e_faceB",P1Ec:"box2d.b2DistanceJoint",r7Qc:"s_d",c7p:function(t,e){return t<e},G8l:function(t,e){return t===e},F6tc:"instantiatedSingletons_",R9w:function(t,e){return t/e},r1S:function(t,e){return e<=t},D5y:function(t,e){return e<=t},m77c:"m_debugDraw",q6tc:"b2GrowableStack",b6y:function(t,e){return e<t},L2u:function(t,e){return t/e},d7u:function(t,e){return t*e},N7l:function(t,e){return t*e},k7v:function(t,e){return t&e},G9ic:"m_min_count",F1Ec:"undefined",I6l:function(t,e){return t*e},w7Jc:"controller",T3N:function(t,e){return e<t},m7u:function(t,e){return e<t},k87c:"e_points",T6N:function(t,e){return t*e},v3N:function(t,e){return t*e},j1z:function(t,e){return t-e},t3w:function(t,e,i){return t*e*i},z97c:"b2ContactManager",r5X:function(t,e){return t*e},H0qc:"b2RotateV",s9w:function(t,e,i,o){return t*e*i*o},z8qc:"s_xf",s2v:function(t,e){return e<t},F2Ec:"m_restitution",o9qc:"sprite",g5Ec:"s_aabb",f3p:function(t,e){return t<e},i0Jc:"maxTimestep",m0Ec:"b2ParseInt",n0Qc:"e_failed",l8X:function(t,e){return t instanceof e},w7X:function(t,e){return t&e},d0qc:"addDependency",A7p:function(t,e){return t<=e},d0ic:"left",M8tc:"bounds",A3j:function(){box2d.b2_maxTranslationSquared=box2d.b2_maxTranslation*box2d.b2_maxTranslation},R9R:function(t,e){return t===e},m0l:function(t,e){return t<e},c2Qc:"b2ContactImpulse",D3X:function(t,e){return t===e},G7tc:"m_profile",q0qc:"AddBody",G4qc:"m_sweep",T2Jc:"velocityBias",b5u:function(t,e){return t/e},C6Ec:"b2_removeState ",t7u:function(t,e){return e<t},s3l:function(t,e,i){return t*e*i},V7Qc:"b2Timer",S0v:function(t,e){return t-e},z4R:function(t,e){return t===e},L0Ec:"broadphase",k3z:function(t,e){return t<e},e5Qc:"m_step",J5ic:"b2Transform",c1u:function(t,e){return t*e},y9qc:"m_iA",v5u:function(t,e){return t instanceof e},L7Jc:"e_edgeB",a9ic:"b2MidVV",K8R:function(t,e){return t-e},h1qc:"j4j",P7p:function(t,e){return t<e},t0j:function(t,e){return t<e},R8N:function(t,e){return t*e},e92c:"SelfSubXY",K92c:"localCenter",p1tc:"FreeNode",C4Qc:"implicitNamespaces_",a3y:function(t,e){return t<e},W3S:function(t,e){return t*e},c7v:function(t,e){return t|e},E3Qc:"_toRemove",p5ic:"normalImpulses",g1y:function(t,e){return t===e},f1u:function(t,e,i){return t*e*i},E7qc:"isBoolean",n02c:"b",f6l:function(t,e){return t*e},p2Jc:"m_k2",q3l:function(t,e,i){return t*e*i},L5v:function(t,e,i){return t*e*i},L7Ec:"proxy",a9v:function(t,e){return t*e},O3R:function(t,e){return t!==e},N6l:function(t,e){return t<e},m1Jc:"m_pairBuffer",U7z:function(t,e){return t&e},r4N:function(t,e){return t*e},p3v:function(t,e){return t*e},i1tc:"m_ay",H4z:function(t,e){return t*e},R2Qc:"Report",a9X:function(t,e){return t===e},Z6Qc:"Dump",Z4ic:"_bodyPostsolveCallbacks",T47c:"b2DistanceJointDef",c3Qc:"position",a1l:function(t,e){return t*e},u6X:function(t,e){return e<t},H1w:function(t,e){return t===e},d0w:function(t,e){return t*e},o1u:function(t,e){return t<=e},M0N:function(t,e){return e<t},S0p:function(t,e){return t-e},v2Ec:"SetContactListener",N22c:"cssNameMappingStyle_",G2w:function(t,e){return e<t},c6X:function(t,e){return t!==e},B5l:function(t,e,i){return t*e*i},s6tc:"dampingRatio",O2F:function(t,e){return t-e},f1w:function(t,e){return t===e},L1tc:"e_shapeBit",U7w:function(t,e){return t-e},s9ic:"b2MulTXV",E1Jc:"RayCast",W1X:function(t,e){return t===e},g6X:function(t,e){return t===e},g1tc:"b2DegToRad",C97c:"s_v1",p1X:function(t,e){return e<t},Y0Jc:"box2d.b2World",p9R:function(t,e){return t/e},E4w:function(t,e){return t*e},Q0qc:"m_listener",H5tc:"b2EPColliderVertexType",s5qc:"m_indexB",h3X:function(t,e){return e<t},Q0ic:"b2CircleShape",O5R:function(t,e){return t-e},H2qc:"e_filterFlag",b1S:function(t,e){return t===e},w1qc:"GetPerimeter",w4y:function(t,e){return e<t},M9ic:"sweepB",z0S:function(t,e){return t*e},j2F:function(t,e){return e<=t},C62c:"other",H0y:function(t,e){return t<=e},o8tc:"s7j",V6v:function(t,e){return t<e},J3Qc:"getLayer",b7N:function(t,e){return t<e},S0S:function(t,e){return t*e},p3Qc:"s_ie",n3R:function(t,e){return t===e},a42c:"child1",D3Qc:"localNormal",C6v:function(t,e){return t===e},d3v:function(t,e){return t<e},a0F:function(t,e){return t*e},x9F:function(t,e){return t===e},g7y:function(t,e){return t<=e},u9S:function(t,e){return t*e},p1Jc:"console",k0z:function(t,e){return e<t},o4tc:"m_lalcC",e2ic:"referenceAngle",A4X:function(t,e){return t&e},l2Ec:"m_oldManifold",J3p:function(t,e){return t===e},e17c:"s_pRef",r9l:function(t,e){return t*e},N0y:function(t,e){return t instanceof e},w4Jc:"sin",K1p:function(t,e){return t===e},m9F:function(t,e){return t*e},V9R:function(t,e){return e<t},q4u:function(t,e,i){return t*e*i},N9tc:"tangentMass",Q2X:function(t,e){return e<t},j9qc:"m_userData",S8Jc:"gravityScale",c87c:"importScript_",Q72c:"points",e5N:function(t,e){return t*e},i4X:function(t,e){return t&e},S9w:function(t,e){return t-e},I4z:function(t,e){return t<e},z5p:function(t,e){return t*e},j6ic:"v1",m0tc:"m_maxMotorTorque",g6w:function(t,e){return t-e},p3qc:"s_edge0",i6j:function(t,e){return t==e},N77c:"Box2D",A0Jc:"b2WeldJointDef",K4l:function(t,e){return t<e},J7Ec:"e_isolated",F1y:function(t,e){return t*e},A3R:function(t,e){return t===e},i1v:function(t,e){return t-e},M7S:function(t,e,i){return t*e*i},t5y:function(t,e){return e<=t},v9u:function(t,e){return t/e},K3tc:"split",K0S:function(t,e){return t*e},W5F:function(t,e){return t*e},p3X:function(t,e){return t===e},M67c:"e_locked",l1p:function(t,e){return t&e},J5z:function(t,e){return t<e},U07c:"m_K2",n5ic:"m_upperTranslation",l7w:function(t,e,i,o){return t*e*i*o},n2F:function(t,e){return t*e},x7y:function(t,e){return t<e},p62c:"GetLinearVelocityFromWorldPoint",k4Jc:"  jd.maxForce = %.15f;\n",N0qc:"box2d.b2Contact",D8F:function(t,e){return t*e},K6z:function(t,e){return t-e},t4F:function(t,e){return t*e},i5X:function(t,e){return t!==e},X9v:function(t,e){return t*e},h5v:function(t,e,i){return t*e*i},e2Jc:"m_s1",m2S:function(t,e){return t*e},L7X:function(t,e){return t===e},l4S:function(t,e){return t-e},t7R:function(t,e){return t===e},s3tc:"w3j",A5R:function(t,e){return t===e},L2S:function(t,e){return t<=e},c0R:function(t,e){return t===e},o5S:function(t,e){return t*e},H7Ec:"exportProperty",T7qc:"MakeArray",f4z:function(t,e){return t*e},C1X:function(t,e){return t*e},K7tc:"b2SimplexVertex",g9S:function(t,e){return t*e},M4Ec:"worldBoundsFilterCategory",J6R:function(t,e){return t instanceof e},x6X:function(t,e){return t*e},L4y:function(t,e){return t<e},Z4p:function(t,e){return t instanceof e},q7X:function(t,e){return e<t},c4w:function(t,e){return t-e},k8qc:1024,H0v:function(t,e){return t<=e},c5S:function(t,e,i){return t*e*i},F3l:function(t,e){return t!==e},M4y:function(t,e){return t===e},C4ic:"goog_defineClass_legacy_unsealable",m1Ec:"m_a2",u5R:function(t,e){return e<t},Q6ic:"proxyB",J8R:function(t,e){return t===e},K9ic:"b2SolverData",q57c:"box2d.b2Body",o47c:"box2d.b2CollidePolygon",J3S:function(t,e,i){return t-e-i},N8R:function(t,e){return t===e},Z5ic:"m_jointCount",W3j:function(){box2d.b2_angularSleepTolerance=2/180*box2d.b2_pi},y8v:function(t,e){return t-e},E1v:function(t,e){return t/e},v0X:function(t,e){return t===e},d1Qc:"m_normal2",a7j:function(t,e){return t==e},D2qc:"linear",P4w:function(t,e){return e<t},l6X:function(t,e){return t&e},K6Jc:"key",F7R:function(t,e){return t===e},E2Ec:"e_unknown",g5qc:"DestroyJoint",E6R:function(t,e){return t instanceof e},R0j:function(t,e){return t==e},b6Jc:"s_contactSolver",F3X:function(t,e){return t===e},n2Ec:"velocityIterations",L3j:function(){box2d.b2_two_pi=2*box2d.b2_pi},j8Jc:"m_p",d2R:function(t,e){return t&e},F6y:function(t,e){return t-e},L87c:"Z3j",b9Jc:"s_t2",k3N:function(t,e,i){return t*e*i},F7ic:"b2RopeJoint",S7j:function(t,e){return e<=t},K2X:function(t,e){return e<t},C5tc:"getNextFixtureId",c7Jc:"e_isolated",q0tc:"e_fixedRotationFlag",u6j:function(t,e){return t in e},m4ic:"m_ims",y42c:4,I5qc:"b2GearJoint",v0j:function(t,e){return t in e},x3y:function(t,e){return e<=t},x9S:function(t,e){return t*e},M1F:function(t,e){return t*e},O3y:function(t,e){return t<e},r7Ec:"step",d9R:function(t,e){return t===e},w9X:function(t,e){return t===e},O0ic:"BOX2D",y2u:function(t,e){return e<=t},o2X:function(t,e){return t===e},S2X:function(t,e){return t&e},n8w:function(t,e,i){return t*e*i},H6ic:"proxyA",W2z:function(t,e){return t<e},T2l:function(t,e){return t===e},C5F:function(t,e){return t-e},x2v:function(t,e){return e<t},f4w:function(t,e,i){return t*e*i},T4Jc:"Refilter",T3v:function(t,e){return t!==e},e8S:function(t,e){return t*e},t8u:function(t,e){return t*e},P2v:function(t,e){return t-e},o6S:function(t,e,i){return t*e*i},h1S:function(t,e){return e<t},n2y:function(t,e){return t<e},h9v:function(t,e){return t*e},m5N:function(t,e){return t*e},S5qc:"upperTranslation",r7y:function(t,e){return t<e},f2j:function(t,e){return t in e},c8Jc:"box2d.b2ChainAndPolygonContact",M4l:function(t,e){return t*e},k47c:"m_sweepA",O3Ec:"m_JwC",d42c:"b2_nullState   ",e4tc:"b2MulM33XY",y1X:function(t,e){return t===e},X6F:function(t,e){return t*e},k3w:function(t,e,i){return t*e*i},O1z:function(t,e){return t/e},y4Ec:"b2SeparationFunction",k6X:function(t,e){return t===e},a0Jc:"box2d.b2Shape",j0u:function(t,e){return t*e},P7N:function(t,e){return t<e},L1l:function(t,e){return t*e},p9u:function(t,e){return t-e},m2N:function(t,e){return e<t},k9l:function(t,e,i){return t-e-i},d9w:function(t,e){return t/e},Q1l:function(t,e){return e<=t},e1tc:"wB",R2z:function(t,e){return e<t},i1R:function(t,e){return t!==e},J0tc:"b2ManifoldPoint",d6p:function(t,e){return t<e},j3R:function(t,e){return t===e},h6F:function(t,e){return t*e},T7R:function(t,e){return t===e},b17c:"b2Vec2",S1p:function(t,e){return t===e},W3Jc:"GetFixtureList",u2Jc:"e_pairBit",C2ic:"b2MouseJoint",t6F:function(t,e){return t*e},g3w:function(t,e){return t-e},X32c:"angularOffset",P0l:function(t,e){return e<t},w8ic:"sqdist",J2w:function(t,e){return e<t},o7X:function(t,e){return t===e},B4Ec:"m_fixtureList",d7w:function(t,e){return t*e},Z8u:function(t,e){return t*e},X9R:function(t,e){return t===e},z3p:function(t,e){return t===e},v2tc:"written",H6w:function(t,e,i){return t*e*i},S3p:function(t,e){return t<e},E8l:function(t,e){return e<t},g8X:function(t,e){return t instanceof e},a2ic:"ShouldCollide",I4N:function(t,e,i){return t*e*i},n7Qc:"b2ContactVelocityConstraint",C2z:function(t,e){return t<e},E4v:function(t,e){return t*e},g3Qc:"m_qC",s3y:function(t,e){return t===e},b8u:function(t,e){return t-e},V3Qc:"Destroy",h4F:function(t,e){return t/e},U5l:function(t,e){return t-e},y8tc:"CreateFixture",I8R:function(t,e){return t===e},g4v:function(t,e){return t/e},X3S:function(t,e){return t!==e},z2y:function(t,e){return t===e},m7S:function(t,e,i){return t*e*i},I2ic:"m_controllerCount",K7Qc:"GetContactList",f9N:function(t,e,i){return t*e*i},x3R:function(t,e){return t<e},u77c:"GetLengthSquared",N2w:function(t,e){return t*e},o1F:function(t,e){return t*e},W3Ec:"GetManifold",h6v:function(t,e){return t===e},g7qc:"m_referenceAngleB",Q5qc:"b2PositionSolverManifold",D0X:function(t,e){return t===e},M0S:function(t,e){return t-e},C67c:"localCenterA",O0Qc:"s_solverData",m9p:function(t,e){return t===e},O9N:function(t,e){return t*e},M0F:function(t,e){return t!==e},l7F:function(t,e){return t*e},M0v:function(t,e){return t*e},p9z:function(t,e){return t===e},G8qc:"RemoveBody",T9tc:"m_lalcD",j0z:function(t,e){return t%e},s5u:function(t,e,i){return t*e*i},S9v:function(t,e){return t*e},A5N:function(t,e){return t*e},Y7F:function(t,e){return t-e},f0v:function(t,e){return t*e},O77c:"b2EPCollider",C5Ec:"e_newFixture",a8R:function(t,e){return t===e},P6j:function(t,e){return t==e},k9qc:"box2d.b2BroadPhase",t9u:function(t,e){return e<t},x8X:function(t,e){return t instanceof e},z6R:function(t,e){return t===e},J2ic:"b2SeparationFunctionType",L6R:function(t,e){return t instanceof e},T0Jc:"b2MakeArray",t2l:function(t,e){return t===e},I7Qc:"DefaultContactListener",i6Ec:"b2Pow",h4ic:"box2d.b2PolygonAndCircleContact",D42c:"box2d.b2WeldJoint",Y8p:function(t,e){return t/e},D4qc:"E3j",u8tc:"b2RopeJointDef",u4u:function(t,e){return t-e},U3Qc:"frequencyHz",r5N:function(t,e){return t*e},r7v:function(t,e){return t|e},C5y:function(t,e){return e<=t},k3ic:"isObject",p5w:function(t,e){return t===e},e1S:function(t,e){return t*e},M62c:"SelfMul",N5qc:"m_indexD",a2w:function(t,e){return t!==e},i4S:function(t,e){return t*e},q4Jc:"b2ClampV",t9y:function(t,e){return t<e},Y5N:function(t,e){return t*e},r2p:function(t,e){return t*e},M2w:function(t,e){return t/e},t5tc:"tMax",z2j:function(t,e){return t<e},y7z:function(t,e){return t/e},V77c:"addSingletonGetter",U0j:function(t,e){return t==e},P2Qc:"m_linearError",i2Ec:"b2TestOverlapShape",x32c:"s_cLocal",u82c:"m_root",v7w:function(t,e){return t*e},G3Qc:"b2MulMM",C6Jc:"box2d.b2Timer",w1Ec:"separation",K9X:function(t,e){return t===e},a4Jc:"id",t6y:function(t,e){return t<=e},O7w:function(t,e){return t*e},J7ic:"call",q4v:function(t,e){return t<=e},W7u:function(t,e){return t/e},Y9l:function(t,e){return t*e},Y8w:function(t,e){return t/e},R3ic:"s_simplex",f0Qc:"forwardDeclare",h37c:"SetActive",j2v:function(t,e){return t*e},m2v:function(t,e){return t/e},E0u:function(t,e,i){return t*e*i},P9p:function(t,e){return t===e},q8l:function(t,e){return t!==e},B22c:"m_linearDamping",p1Ec:"m_targetA",J7X:function(t,e){return t===e},N7Jc:"b2ClipVertex",B0l:function(t,e){return t<e},S22c:"u3j",n7N:function(t,e){return e<t},T3Ec:"T3j",R7z:function(t,e){return t*e},S1tc:"findBasePath_",G9N:function(t,e,i){return t*e*i},i8w:function(t,e){return t*e},z1ic:"e_unknownJoint",W2qc:"s_r",n6Jc:"c3j",T5Ec:"e_islandFlag",q0y:function(t,e){return t%e},b7R:function(t,e){return t===e},A9F:function(t,e){return t*e},s8Qc:"bodies",M87c:"b2_maxAngularCorrection",B0Qc:"b2LimitState",d8u:function(t,e){return e<t},w6Ec:"UID_PROPERTY_",y37c:"document",o6w:function(t,e){return t<e},F1u:function(t,e,i){return t*e*i},w1w:function(t,e){return t===e},W9R:function(t,e){return t===e},J9w:function(t,e){return t/e},X4Qc:"e_unknownJoint",U7R:function(t,e){return t===e},q2j:function(t,e){return t===e},y7Jc:"b2_pi",l07c:"b2DynamicTree",l3z:function(t,e){return t!==e},m5Qc:"e_touching",h1N:function(t,e){return t*e},N4z:function(t,e){return t<e},p8Qc:"s_edgeAxis",T32c:"m_linearOffset",k3qc:"e_circles",r2v:function(t,e){return e<t},f7l:function(t,e){return t<e},j17c:"GetCount",q9X:function(t,e){return t===e},g1S:function(t,e){return t===e},P5X:function(t,e){return t===e},L22c:"b2Sweep",A7v:function(t,e){return t|e},s5X:function(t,e){return t===e},x7Jc:"m_moveCount",M7Jc:"_categoryPostsolveCallbacks",U8u:function(t,e){return t instanceof e},V8qc:"  jd.bodyB = bodies[%d];\n",K4R:function(t,e){return t===e},Z97c:"e_bulletHitFlag",b6p:function(t,e){return t*e},u7S:function(t,e){return e<t},A7y:function(t,e){return t instanceof e},x77c:"e_pulleyJoint",g7p:function(t,e){return t<e},e8X:function(t,e){return t*e},Q97c:"w4j",v5l:function(t,e){return t===e},u7y:function(t,e){return t===e},a3tc:2,E1l:function(t,e){return t-e},O7j:function(t){box2d.b2_toiMaxIters=t},q5u:function(t,e,i){return t*e*i},U0Qc:"hasOwnProperty",Q1w:function(t,e){return t<e},V8N:function(t,e){return t/e},X5y:function(t,e){return e<=t},N5S:function(t,e){return t===e},n4v:function(t,e){return t*e},L6l:function(t,e){return t===e},O6X:function(t,e){return t|e},i7v:function(t,e){return t|e},B07c:"g3j",O4X:function(t,e){return t===e},S5p:function(t,e){return t===e},h2R:function(t,e){return t===e},L0S:function(t,e){return t*e},q8S:function(t,e,i){return t-e-i},b1N:function(t,e){return t===e},N2X:function(t,e){return t!==e},O2ic:"b2AddVV",c5v:function(t,e){return t/e},u7w:function(t,e){return t/e},a0S:function(t,e){return t===e},h0j:function(t,e){return t!=e},f7ic:"b2ControllerEdge",V07c:"b2ChainAndPolygonContact",x0Qc:"ComputeCentroid",m72c:"b2EdgeAndCircleContact",B2N:function(t,e){return t*e},C2l:function(t,e){return t<=e},x42c:"decompose",Y1v:function(t,e){return t/e},N7X:function(t,e){return t<e},P82c:"m_referenceAngle",F4tc:"O3j",C0Ec:"s_normal1",J6l:function(t,e){return t<e},c5tc:"GetChildCount",g6tc:"b2ClipSegmentToLine",D2Ec:"centerOfMass",M8Ec:"b2MulTRV",d5Jc:"b2PrismaticJoint",h6Qc:"ResetMassData",A2Qc:"tangentImpulse",n4tc:"s_Jd2",B1z:function(t,e){return t*e},R6S:function(t,e){return t<=e},b2ic:"box2d.b2CircleContact",H5qc:"m_contactFilter",z5S:function(t,e){return t!==e},b0w:function(t,e){return t*e},m4l:function(t,e,i){return t*e*i},f62c:"K",O3z:function(t,e){return t!==e},f4v:function(t,e){return t*e},B72c:"prevBody",j32c:"GetChildIndexB",G3F:function(t,e){return t*e},P4ic:"e_faceA",w3Qc:"s_ntangent",d7R:function(t,e){return t!==e},I8S:function(t,e){return t*e},I6Jc:"m_bodyCapacity",k2qc:"m_linearVelocity",c0u:function(t,e){return t*e},b0qc:"b2_toiMaxIters",W4ic:"b2_toiBaumgarte",R9v:function(t,e,i){return t*e*i},D3l:function(t,e){return e<t},x8Jc:"m_gamma",e0l:function(t,e){return t*e},U0X:function(t,e){return t===e},Q5tc:"m_start",Z5y:function(t,e){return e<=t},p82c:"GetShape",x62c:"m_fixtureB",f7Ec:"b2CrossOneV",K6R:function(t,e){return t*e},l4ic:"t",M3Ec:"e_prismaticJoint",H57c:"b2Contact",t8S:function(t,e,i){return t*e*i},H5S:function(t,e){return t===e},U8qc:"subPolygon",f5z:function(t,e){return t/e},b6N:function(t,e){return t<e},k7N:function(t,e){return t<e},i32c:"b2MulXX",w1F:function(t,e){return t*e},U5u:function(t,e){return t-e},B5R:function(t,e){return t-e},a8l:function(t,e){return t-e},X3l:function(t,e){return t<e},n6qc:"m_Ls",c8tc:"m_flags",U3Ec:"defineProperty",V1tc:"  jd.frequencyHz = %.15f;\n",V9y:function(t,e){return t<e},m6qc:"b2_maxLinearCorrection",W57c:"isNull",h82c:"b2Max",f0N:function(t,e){return t*e},r5qc:"frameRate",o0N:function(t,e){return t*e},W5u:function(t,e){return t<=e},Q5z:function(t,e){return t===e},s1z:function(t,e){return t*e},Y4S:function(t,e){return t-e},J2j:function(t,e){return t<e},b2qc:"box2d.b2GrowableStack",i5Qc:"e_fixedRotationFlag",J0F:function(t,e){return t*e},W7l:function(t,e){return t<e},K4z:function(t,e){return t===e},T5F:function(t,e){return t*e},z9tc:"ratio",o0y:function(t,e){return e<t},G2j:function(t,e){return e<t},h02c:"s_xfB",A7N:function(t,e){return t<e},V1qc:"m_broadPhase",O2v:function(t,e){return e<t},v7R:function(t,e){return t===e},U3v:function(t,e){return t*e},c3z:function(t,e){return t/e},Y9Qc:"b2_toiMaxTime",o8l:function(t,e){return t!==e},r5Ec:"b2Mat22",b3u:function(t,e){return t*e},v6F:function(t,e){return t*e},m4X:function(t,e){return t===e},O7Qc:"b2Abs",q8R:function(t,e){return t===e},k7qc:"    vs[%d].SetXY(%.15f, %.15f);\n",B1qc:"box2d.b2ChainShape",d5S:function(t,e,i){return t*e*i},g3N:function(t,e){return t*e},T1X:function(t,e){return t===e},y0ic:"s_pB",Q8R:function(t,e){return t===e},r0ic:"indexA",T5S:function(t,e,i){return t*e*i},o8p:function(t,e){return t<e},y7N:function(t,e,i){return t*e*i},w37c:"GetLinearVelocity",E6u:function(t,e){return t*e},Q9v:function(t,e){return t*e},c9p:function(t,e){return t===e},o72c:"m_v3",t3l:function(t,e){return t!==e},q3p:function(t,e){return e<t},t0w:function(t,e){return t===e},z7N:function(t,e,i){return t*e*i},O3j:function(t){box2d.b2_maxPolygonVertices=t},c1S:function(t,e){return t*e},G2tc:"b2_addState",u5Gc:"InitializeVelocityConstraints",N0p:function(t,e){return t-e},b72c:"b2WorldManifold",p72c:"e_touchingFlag",h42c:"m_lcA",z6l:function(t,e){return e<t},R42c:3,z7tc:"m_maxMotorForce",U2R:function(t,e){return t===e},o4w:function(t,e){return t===e},B7F:function(t,e){return t/e},a5S:function(t,e){return t*e},F7Ec:"contact",b5Ec:"b2_two_pi",a5z:function(t,e){return t<e},x4Qc:"m_normals",r1v:function(t,e){return e<t},X0y:function(t,e){return t instanceof e},c2N:function(t,e){return t<=e},i8p:function(t,e){return t<=e},f9Qc:"    /*box2d.b2Vec2[]*/ var vs = box2d.b2Vec2.MakeArray(%d);\n",o5l:function(t,e,i){return t*e*i},t8v:function(t,e){return e<t},i2F:function(t,e){return t*e},L9qc:"m_rA",j72c:"categoryBits",x0Ec:"number",h0w:function(t,e){return t*e},M9X:function(t,e){return t===e},H3Jc:"m_nodeA",B4Qc:"lastIndexOf",t6S:function(t,e){return t*e},q1l:function(t,e){return t*e},e1ic:"b2ChainShape",H3p:function(t,e){return t===e},q5Gc:"m_I",e8Qc:0,I0y:function(t,e){return e<t},v0tc:"m3j",E4R:function(t,e){return t!==e},M0Jc:"L4j",y7Ec:"s_simplexCache",g1R:function(t,e){return e<t},u0ic:"g",j9Jc:"m_u",M3p:function(t,e){return t<e},I1F:function(t,e){return t*e},D57c:"m_sAx",G3ic:"q",H3F:function(t,e){return t*e},t8F:function(t,e){return t*e},I9tc:"m_invMassA",G1Ec:"nextBodyId",j8p:function(t,e){return t<=e},F8Ec:"b2FrictionJointDef",k92c:"m_v2",V7Jc:"ValidateStructure",R6qc:"b2_maxTranslation",U3qc:"b2_angularSlop",k5Jc:"box2d.b2ContactSolver",C1qc:"SelfMulAdd",K3p:function(t,e){return e<t},m4Jc:"m_lowerTranslation",l5N:function(t,e){return t*e},b42c:1,X1Ec:"defineClass",Z3v:function(t,e){return t*e},C7ic:"aabb",Z3X:function(t,e){return t===e},c2F:function(t,e){return t*e},I5Ec:"m_freeList",h1Ec:"s_P",p2R:function(t,e){return t&e},I6u:function(t,e){return t*e},x17c:"b2_gjkCalls",g8qc:"b2RopeDef",v3v:function(t,e){return t-e},g8S:function(t,e,i){return t*e*i},T6F:function(t,e){return t*e},G9Jc:"b2GetPointStates",q0F:function(t,e){return t*e},J37c:"radiusB",M8l:function(t,e){return e<t},c42c:"DEPENDENCIES_ENABLED",a3F:function(t,e){return t*e},c0qc:"allocator",I6R:function(t,e){return t instanceof e},k9Jc:"m_velocityConstraints",P4u:function(t,e){return t*e},e0R:function(t,e){return t===e},m02c:"s_xfA",r0Jc:"type",v17c:"m_gravity",G3tc:"b2PulleyJointDef",G72c:"_fixtureContactCallbackContext",R3v:function(t,e){return t-e},d9ic:"b2ShapeType",K3F:function(t,e){return t*e},z3F:function(t,e){return t*e},W0y:function(t,e){return t===e},z8l:function(t,e){return t===e},O7tc:"m_index",S2j:function(t,e){return t<e},f4Qc:"e_jointBit",p7z:function(t,e){return t/e},o0tc:"b2PointState",i5Jc:"b2Mat33",m4S:function(t,e){return t===e},f2y:function(t,e){return t instanceof e},m5R:function(t,e){return t-e},y3Ec:"linearDamping",w5S:function(t,e){return t-e},l9qc:"b2_linearSlop",Y9Ec:"m_JwA",Y0u:function(t,e){return t*e},R1qc:"b2_linearSleepTolerance",i3w:function(t,e){return t!==e},Y2Jc:"m_s2",i9S:function(t,e){return t===e},n27c:"m_front",T4tc:"isFunction",D3Ec:"b2DrawFlags",t1y:function(t,e){return t===e},A77c:"SolveVelocityConstraints",h8qc:"setCssNameMapping",n1tc:"m_bias",g5X:function(t,e){return t*e},n1R:function(t,e){return t===e},j3Qc:"angularDamping",A4ic:"m_vertex2",s3R:function(t,e){return t<e},n0u:function(t,e){return t*e},d6u:function(t,e){return t*e},W9y:function(t,e){return e<t},I4Jc:"m_polygonB",T3X:function(t,e){return t===e},Y1R:function(t,e){return t!==e},k1y:function(t,e){return e<t},U6v:function(t,e){return t<e},X6v:function(t,e){return t-e},N1qc:"inHtmlDocument_",b3Jc:"e_touching",L3Ec:"m_state",q7j:function(t){box2d.b2_toiIters=t},J3F:function(t,e){return t*e},l2p:function(t,e){return t*e},d3Ec:"b2TimeStep",q1Jc:"m_hasNextVertex",U2tc:"b2DotVV",N8l:function(t,e){return t*e},z9qc:"b2IsEqualToV",l6Jc:"b2MulM33V2",F97c:"a0",i2Qc:"s_saveA",t5w:function(t,e){return t===e},h0tc:"m_allowSleep",a0p:function(t,e){return t%e},R3u:function(t,e){return t-e},N4y:function(t,e){return t===e},E5z:function(t,e){return t===e},A8Ec:"s_sweepB",m17c:"Balance",f3Ec:"m_JwD",T2R:function(t,e){return e<t},d9z:function(t,e){return t<e},c72c:"GetLocalVector",z4Jc:"b2_defaultListener",V3v:function(t,e){return t<e},h2u:function(t,e){return t<=e},R9y:function(t,e){return t%e},Z9y:function(t,e){return t<e},F5F:function(t,e){return t-e},C9N:function(t,e){return t*e},K4y:function(t,e){return t-e},u8j:function(t,e){return t&e},F9z:function(t,e){return t===e},N5z:function(t,e){return t===e},q6w:function(t,e,i){return t*e*i},U6qc:"solvePosition",Y0l:function(t,e){return t<e},o97c:"m_lowerLimit",p7Jc:"useElapsedTime",M3N:function(t,e){return t*e},C6u:function(t,e){return t*e},a1Qc:"transformA",r0R:function(t,e){return t<e},k6w:function(t,e){return t*e},h1X:function(t,e){return t!==e},t5Ec:"box2d.b2EdgeAndPolygonContact",w5z:function(t,e){return t<e},H6l:function(t,e){return t*e},P0Jc:"nextBody",G1p:function(t,e){return t===e},H5z:function(t,e){return t!==e},J4l:function(t,e){return t*e},m47c:"CreateProxy",w5ic:"m_uB",E1y:function(t,e){return e<=t},C7Qc:"ex",q7Jc:"e_activeFlag",i0ic:"alpha0",d1ic:"m_localAxisC",N17c:"m_localYAxisA",D1y:function(t,e){return t<e},S3tc:"DestroyFixture",T1Ec:"abstractMethod",R4S:function(t,e,i){return t-e-i},D6y:function(t,e){return t<e},o4y:function(t,e){return t/e},w4Ec:"b2MinV",f1l:function(t,e){return t-e},V4F:function(t,e){return t!==e},s5ic:"m_uA",J3j:function(){box2d.b2_maxRotation=.5*box2d.b2_pi},O4Jc:"getUid",A2N:function(t,e){return t*e},o7S:function(t,e){return t-e},m7F:function(t,e){return t*e},z4qc:"CreateBody",e5R:function(t,e,i){return t-e+i},a2S:function(t,e){return t<e},V6F:function(t,e){return t/e},e9p:function(t,e){return t instanceof e},G7j:function(t,e){return t-e},h2Ec:"\n",e57c:"e_pairBit",W9w:function(t,e){return t<e},t3qc:"velocity",Q3p:function(t,e){return t<e},N1F:function(t,e){return t*e},E8z:function(t,e){return t===e},A9l:function(t,e){return e<=t},f7tc:"i4j",L4j:function(t){goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_=t},Z9u:function(t,e){return t<e},b3X:function(t,e){return t===e},B2tc:"m_localAnchorB",C8ic:"e_face",B1R:function(t,e){return t!==e},j7tc:"GetMilliseconds",U3l:function(t,e){return t*e},g8Qc:"m_positionConstraints",l6tc:"m_springMass",K42c:"UNITY",N3p:function(t,e){return e<t},a1F:function(t,e){return t*e},G0S:function(t,e){return t===e},q1v:function(t,e){return t*e},L8l:function(t,e){return e<t},s1v:function(t,e,i){return t*e*i},I7j:function(t,e){return t in e},R6v:function(t,e){return e<t},G9Qc:"GetFatAABB",C9u:function(t,e){return t-e},s4Jc:"b2Rot",x1ic:"e_prismaticJoint"},COMPILED=F3Y4j.Q5Gc.v5Gc("33")?"FixedToCamera":F3Y4j.h57c,goog=F3Y4j.Q5Gc.v5Gc("25d")?"e_shapeTypeCount":goog||{};goog[F3Y4j.f5qc]=F3Y4j.Q5Gc.v5Gc("f5")?"transform1":this,goog[F3Y4j.f5qc][F3Y4j.a8tc],goog[F3Y4j.f5qc][F3Y4j.o0ic],goog[F3Y4j.r9Qc]=F3Y4j.Q5Gc.v5Gc("ef")?function(t){return t!==void F3Y4j.u42c}:44,goog[F3Y4j.E9tc]=F3Y4j.Q5Gc.v5Gc("5d6")?"webkitRequestFullScreen":function(t,e,i){var o,n=F3Y4j.Q5Gc.v5Gc("f4")?"H7j":"#f00",s=F3Y4j.Q5Gc.v5Gc("fb")?"key":t[F3Y4j.K3tc]("."),r=F3Y4j.Q5Gc.v5Gc("fb4")?"Quint":i||goog[F3Y4j.f5qc];for(!F3Y4j[n](s[0],r)&&r[F3Y4j.j7ic]&&r[F3Y4j.j7ic]("var "+s[0]);s.length&&(o=s[F3Y4j.P6Ec]());)!s.length&&goog[F3Y4j.r9Qc](e)?r[o]=e:r=r[o]||(r[o]={})},goog[F3Y4j.l2ic]=function(t,e){e=F3Y4j.Q5Gc.v5Gc("36")?e:"setTileLocationCallback";COMPILED||(goog[F3Y4j.f5qc][F3Y4j.a8tc]&&Object.prototype.hasOwnProperty.call(goog[F3Y4j.f5qc][F3Y4j.a8tc],t)?e=goog[F3Y4j.f5qc][F3Y4j.a8tc][t]:goog[F3Y4j.f5qc][F3Y4j.o0ic]&&Object.prototype.hasOwnProperty.call(goog[F3Y4j.f5qc][F3Y4j.o0ic],t)&&(e=goog[F3Y4j.f5qc][F3Y4j.o0ic][t])),goog[F3Y4j.E9tc](t,e)},F3Y4j[F3Y4j.Q97c](F3Y4j.H3qc),goog[F3Y4j.l2ic]("goog.LOCALE","en"),goog[F3Y4j.l2ic]("goog.TRUSTED_SITE",!0),goog[F3Y4j.l2ic]("goog.STRICT_MODE_COMPATIBLE",!1),goog[F3Y4j.a0ic]=F3Y4j.Q5Gc.v5Gc("6aa8")?"window.orientation":function(t){var e=F3Y4j.Q5Gc.v5Gc("aacb")?'" already declared.':"getChildAt: Supplied index ",i=F3Y4j.Q5Gc.v5Gc("f2c3")?"Sine.easeInOut":'Namespace "';if(!COMPILED){if(goog[F3Y4j.s0Jc](t))throw Error(i+t+e);delete goog[F3Y4j.C4Qc][t];for(var o=F3Y4j.Q5Gc.v5Gc("b2")?t:"b2PrismaticJointDef";(o=o.substring(F3Y4j.u42c,o[F3Y4j.B4Qc](F3Y4j.g4Qc)))&&!goog[F3Y4j.W0ic](o);)goog[F3Y4j.C4Qc][o]=F3Y4j.H3qc}goog[F3Y4j.E9tc](t)},goog[F3Y4j.z82c]=function(t){var e=F3Y4j.Q5Gc.v5Gc("bc")?": ":"attribute vec2 aPositionCoord;";if(COMPILED&&!goog[F3Y4j.l2Jc])throw t=t||F3Y4j.J3ic,Error("Importing test-only code into non-debug environment"+(t?e+t:F3Y4j.g4Qc))},goog[F3Y4j.f0Qc]=function(t){},COMPILED||(goog[F3Y4j.s0Jc]=F3Y4j.Q5Gc.v5Gc("ff")?"Element":function(t){return!goog[F3Y4j.C4Qc][t]&&goog[F3Y4j.n0ic](goog[F3Y4j.W0ic](t))},goog[F3Y4j.C4Qc]={}),goog[F3Y4j.W0ic]=function(t,e){for(var i,o=t[F3Y4j.K3tc](F3Y4j.g4Qc),n=F3Y4j.Q5Gc.v5Gc("4eaf")?e||goog[F3Y4j.f5qc]:"invalid XML";i=o[F3Y4j.P6Ec]();){if(!goog[F3Y4j.n0ic](n[i]))return F3Y4j.E3qc;n=n[i]}return n},goog[F3Y4j.b3qc]=function(t,e){var i,o=F3Y4j.Q5Gc.v5Gc("2d")?e||goog[F3Y4j.f5qc]:"requestFullScreen";for(i in t)o[i]=t[i]},goog[F3Y4j.d0qc]=F3Y4j.Q5Gc.v5Gc("2e8f")?function(t,e,i){var o=F3Y4j.Q5Gc.v5Gc("cfbf")?"w7j":"Smoothed",n=F3Y4j.Q5Gc.v5Gc("62a4")?"useWorldGravity":"pathToNames";if(goog[F3Y4j.c42c]){for(var s,r,c=t[F3Y4j.w8qc](/\\/g,"/"),a=goog[F3Y4j.x1Jc],h=F3Y4j.u42c;s=e[h];h++)a[F3Y4j.g3tc][s]=c,F3Y4j.I7j(c,a[n])||(a[n][c]={}),a[n][c][s]=F3Y4j.H3qc;for(var u=F3Y4j.u42c;r=i[u];u++)F3Y4j[o](c,a[F3Y4j.E5qc])||(a[F3Y4j.E5qc][c]={}),a[F3Y4j.E5qc][c][r]=F3Y4j.H3qc}}:65535,goog[F3Y4j.l2ic]("goog.ENABLE_DEBUG_LOADER",!0),goog[F3Y4j.D02c]=F3Y4j.Q5Gc.v5Gc("c8")?44100:function(t){var e=F3Y4j.Q5Gc.v5Gc("261")?"error":"saturation",i=F3Y4j.Q5Gc.v5Gc("62")?"centerOfMass":"goog.require could not find: ";if(!COMPILED&&!goog[F3Y4j.s0Jc](t)){if(goog[F3Y4j.b7Qc]){var o=goog[F3Y4j.O8qc](t);if(o)return goog[F3Y4j.h2qc][o]=F3Y4j.Q5Gc.v5Gc("858")?F3Y4j.H3qc:14,void goog[F3Y4j.g22c]()}o=i+t;throw goog[F3Y4j.f5qc][F3Y4j.p1Jc]&&goog[F3Y4j.f5qc][F3Y4j.p1Jc][e](o),Error(o)}},F3Y4j[F3Y4j.h1qc](F3Y4j.J3ic),goog[F3Y4j.f5qc][F3Y4j.Y8ic],goog[F3Y4j.f5qc][F3Y4j.b0ic],goog[F3Y4j.f5qc][F3Y4j.r6Jc],goog[F3Y4j.l97c]=function(){},goog[F3Y4j.P8Jc]=F3Y4j.Q5Gc.v5Gc("6ff5")?function(t,e){return t}:"deltaMode",goog[F3Y4j.T1Ec]=F3Y4j.Q5Gc.v5Gc("35")?"box2d.b2PrismaticJoint":function(){throw Error("unimplemented abstract method")},goog[F3Y4j.V77c]=function(e){var t=F3Y4j.Q5Gc.v5Gc("622")?"ix":"getInstance";e[t]=function(){var t="instance_";return e[t]||(goog[F3Y4j.l2Jc]&&(goog[F3Y4j.F6tc][goog[F3Y4j.F6tc].length]=F3Y4j.Q5Gc.v5Gc("e78b")?"dummy":e),e[t]=new e)}},F3Y4j[F3Y4j.Y4qc](),F3Y4j[F3Y4j.a97c](),goog[F3Y4j.c42c]&&(goog[F3Y4j.h2qc]={},goog[F3Y4j.x1Jc]={pathToNames:{},nameToPath:{},requires:{},visited:{},written:{}},goog[F3Y4j.N1qc]=F3Y4j.Q5Gc.v5Gc("ed4")?function(){var t=F3Y4j.Q5Gc.v5Gc("af")?"write":"color",e=F3Y4j.Q5Gc.v5Gc("ec")?"  bd.bullet = %s;\n":"N7j",i=goog[F3Y4j.f5qc][F3Y4j.y37c];return typeof i!=F3Y4j.F1Ec&&F3Y4j[e](t,i)}:"shadowBlur",goog[F3Y4j.S1tc]=F3Y4j.Q5Gc.v5Gc("fec3")?"box2d.b2WorldCallbacks":function(){var t=F3Y4j.Q5Gc.v5Gc("52b8")?"view":"J7j",e=F3Y4j.Q5Gc.v5Gc("4fe")?"getElementsByTagName":"onDownCallback";if(goog[F3Y4j.f5qc][F3Y4j.Y8ic])goog[F3Y4j.r77c]=goog[F3Y4j.f5qc][F3Y4j.Y8ic];else if(goog[F3Y4j.N1qc]())for(var i=goog[F3Y4j.f5qc][F3Y4j.y37c][e]("script"),o=F3Y4j[t](i.length,1);F3Y4j.S7j(o,0);--o){var n=i[o].src,s=n[F3Y4j.B4Qc]("?"),s=-1==s?n.length:s;if(F3Y4j.Q7j(n.substr(s-7,7),"base.js"))return void(goog[F3Y4j.r77c]=n.substr(0,F3Y4j.G7j(s,7)))}},goog[F3Y4j.c87c]=F3Y4j.Q5Gc.v5Gc("2ce3")?function(t){var e=goog[F3Y4j.f5qc][F3Y4j.r6Jc]||goog[F3Y4j.U0Jc];!goog[F3Y4j.x1Jc][F3Y4j.v2tc][t]&&e(t)&&(goog[F3Y4j.x1Jc][F3Y4j.v2tc][t]=F3Y4j.H3qc)}:"normalAngle",goog[F3Y4j.U0Jc]=function(t){var e=F3Y4j.Q5Gc.v5Gc("d7")?"wALocal":"write";if(goog[F3Y4j.N1qc]()){var i=goog[F3Y4j.f5qc][F3Y4j.y37c];if(F3Y4j.a7j(i.readyState,"complete")){if(/\bdeps.js$/.test(t))return F3Y4j.h57c;throw Error('Cannot write "'+t+'" after document load')}return i[e]('<script type="text/javascript" src="'+t+'"><\/script>'),F3Y4j.H3qc}return F3Y4j.h57c},goog[F3Y4j.g22c]=function(){var t=F3Y4j.Q5Gc.v5Gc("f6")?"B6j":"Phaser.Loader - aborting: processing queue empty, loading may have stalled";var e,n=F3Y4j.Q5Gc.v5Gc("a56")?[]:"dot",s={},r=goog[F3Y4j.x1Jc];for(e in goog[F3Y4j.h2qc])r[F3Y4j.v2tc][e]||!function t(e){var i=F3Y4j.Q5Gc.v5Gc("72a")?"M7j":"e_prismaticJoint";if(!F3Y4j.L7j(e,r[F3Y4j.v2tc]))if(F3Y4j.K7j(e,r.visited))F3Y4j[i](e,s)||(s[e]=!0,n[F3Y4j.h17c](e));else{if(r.visited[e]=!0,F3Y4j.s6j(e,r[F3Y4j.E5qc]))for(var o in r[F3Y4j.E5qc][e])if(!goog[F3Y4j.s0Jc](o)){if(!F3Y4j.x6j(o,r[F3Y4j.g3tc]))throw Error("Undefined nameToPath for "+o);t(r[F3Y4j.g3tc][o])}F3Y4j.O6j(e,s)||(s[e]=!F3Y4j.Q5Gc.v5Gc("7c7")||"b2_timeToSleep",n[F3Y4j.h17c](e))}}(e);for(var i=0;F3Y4j[t](i,n.length);i++){if(!n[i])throw Error("Undefined script input");goog[F3Y4j.c87c](goog[F3Y4j.r77c]+n[i])}},goog[F3Y4j.O8qc]=F3Y4j.Q5Gc.v5Gc("176b")?function(t){var e=F3Y4j.Q5Gc.v5Gc("572")?"area":"u6j";return F3Y4j[e](t,goog[F3Y4j.x1Jc][F3Y4j.g3tc])?goog[F3Y4j.x1Jc][F3Y4j.g3tc][t]:F3Y4j.E3qc}:"touchcancel",goog[F3Y4j.S1tc]()),goog[F3Y4j.Z6qc]=function(t){var e=F3Y4j.Q5Gc.v5Gc("3256")?"box2d.b2EdgeAndCircleContact":"i6j",i="propertyIsEnumerable",o=F3Y4j.Q5Gc.v5Gc("e3ae")?"A6j":'Phaser.Cache.getXML: Invalid key: "',n=F3Y4j.Q5Gc.v5Gc("8e7c")?"m6j":"e_polygonShape",s=typeof t;if(F3Y4j.l6j(s,"object")){if(!t)return"null";if(F3Y4j[n](t,Array))return"array";if(F3Y4j.Y6j(t,Object))return s;n=Object.prototype.toString.call(t);if(F3Y4j.j6j(n,"[object Window]"))return"object";if(F3Y4j[o](n,"[object Array]")||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t[i]&&!t[i]("splice"))return"array";if(F3Y4j.r6j(n,"[object Function]")||void 0!==t[F3Y4j.J7ic]&&void 0!==t[i]&&!t[i]("call"))return"function"}else if(F3Y4j[e](s,"function")&&void 0===t[F3Y4j.J7ic])return"object";return s},goog[F3Y4j.W57c]=function(t){var e=F3Y4j.Q5Gc.v5Gc("a5")?"c6j":"mass";return F3Y4j[e](t,F3Y4j.E3qc)},goog[F3Y4j.n0ic]=F3Y4j.Q5Gc.v5Gc("ac")?"duration:":function(t){return F3Y4j.e6j(t,F3Y4j.E3qc)},goog[F3Y4j.S0Qc]=function(t){var e=F3Y4j.Q5Gc.v5Gc("5f")?"total":"g6j";return F3Y4j[e](goog[F3Y4j.Z6qc](t),F3Y4j.D6tc)},goog[F3Y4j.G8Ec]=function(t){var e=goog[F3Y4j.Z6qc](t);return F3Y4j.k6j(e,"array")||F3Y4j.n6j(e,"object")&&"number"==typeof t.length},goog[F3Y4j.z3Ec]=function(t){return goog[F3Y4j.k3ic](t)&&typeof t.getFullYear==F3Y4j.X4tc},goog[F3Y4j.U67c]=function(t){return"string"==typeof t},goog[F3Y4j.E7qc]=function(t){return"boolean"==typeof t},goog[F3Y4j.P42c]=function(t){return typeof t==F3Y4j.x0Ec},goog[F3Y4j.T4tc]=function(t){return F3Y4j.P6j(goog[F3Y4j.Z6qc](t),F3Y4j.X4tc)},goog[F3Y4j.k3ic]=function(t){var e=typeof t;return F3Y4j.V0j(e,F3Y4j.e2qc)&&F3Y4j.h0j(t,F3Y4j.E3qc)||F3Y4j.R0j(e,F3Y4j.X4tc)},goog[F3Y4j.O4Jc]=function(t){return t[goog[F3Y4j.w6Ec]]||(t[goog[F3Y4j.w6Ec]]=++goog[F3Y4j.T9Jc])},goog[F3Y4j.S7qc]=function(t){return!!t[goog[F3Y4j.w6Ec]]},goog[F3Y4j.u0Qc]=function(t){F3Y4j.b0j("removeAttribute",t)&&t.removeAttribute(goog[F3Y4j.w6Ec]);try{delete t[goog[F3Y4j.w6Ec]]}catch(t){}},F3Y4j[F3Y4j.B87c](),F3Y4j[F3Y4j.k27c](F3Y4j.u42c),F3Y4j[F3Y4j.Q6Jc](goog),F3Y4j[F3Y4j.f7tc](goog),goog[F3Y4j.L02c]=function(t){var e=goog[F3Y4j.Z6qc](t);if(F3Y4j.p0j(e,F3Y4j.e2qc)||F3Y4j.y0j(e,F3Y4j.D6tc)){if(t.clone)return t.clone();var i,o=F3Y4j.Z0j(e,F3Y4j.D6tc)?[]:{};for(i in t)o[i]=goog[F3Y4j.L02c](t[i]);return o}return t},goog[F3Y4j.i3Ec]=function(t,e,i){return t[F3Y4j.J7ic][F3Y4j.j1qc](t[F3Y4j.N2tc],arguments)},goog[F3Y4j.y9Qc]=function(e,i,t){var o;if(e)return F3Y4j.D0j(arguments.length,2)?(o=Array.prototype.slice.call(arguments,2),function(){var t=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(t,o),e[F3Y4j.j1qc](i,t)}):function(){return e[F3Y4j.j1qc](i,arguments)};throw new Error},goog[F3Y4j.N2tc]=function(t,e,i){return Function.prototype.bind&&Function.prototype.bind.toString()[F3Y4j.Z6Ec]("native code")!=-F3Y4j.b42c?goog[F3Y4j.N2tc]=goog[F3Y4j.i3Ec]:goog[F3Y4j.N2tc]=goog[F3Y4j.y9Qc],goog[F3Y4j.N2tc][F3Y4j.j1qc](F3Y4j.E3qc,arguments)},goog[F3Y4j.n77c]=function(e,t){var i=Array.prototype.slice.call(arguments,F3Y4j.b42c);return function(){var t=i.slice();return t[F3Y4j.h17c][F3Y4j.j1qc](t,arguments),e[F3Y4j.j1qc](this,t)}},goog[F3Y4j.A42c]=function(t,e){for(var i in e)t[i]=e[i]},F3Y4j[F3Y4j.h22c](),goog[F3Y4j.s7Qc]=function(t){var e,i,o="appendChild";if(goog[F3Y4j.f5qc][F3Y4j.j7ic])goog[F3Y4j.f5qc][F3Y4j.j7ic](t,"JavaScript");else{if(!goog[F3Y4j.f5qc].eval)throw Error("goog.globalEval not available");F3Y4j.F0j(goog[F3Y4j.S8qc],F3Y4j.E3qc)&&(goog[F3Y4j.f5qc].eval("var j=1"),typeof goog[F3Y4j.f5qc]._et_!=F3Y4j.F1Ec?(delete goog[F3Y4j.f5qc]._et_,goog[F3Y4j.S8qc]=F3Y4j.H3qc):goog[F3Y4j.S8qc]=F3Y4j.h57c),goog[F3Y4j.S8qc]?goog[F3Y4j.f5qc].eval(t):((i=(e=goog[F3Y4j.f5qc][F3Y4j.y37c]).createElement(F3Y4j.M5Ec))[F3Y4j.r0Jc]="text/javascript",i.defer=F3Y4j.h57c,i[o](e.createTextNode(t)),e[F3Y4j.k4qc][o](i),e[F3Y4j.k4qc].removeChild(i))}},F3Y4j[F3Y4j.G4ic](F3Y4j.E3qc),goog[F3Y4j.c6Ec],goog[F3Y4j.N22c],goog[F3Y4j.V02c]=function(t,e){function n(t){return goog[F3Y4j.c6Ec][t]||t}var i=goog[F3Y4j.c6Ec]?F3Y4j.T0j(goog[F3Y4j.N22c],"BY_WHOLE")?n:function(t){for(var e=t[F3Y4j.K3tc]("-"),i=[],o=0;F3Y4j.t0j(o,e.length);o++)i[F3Y4j.h17c](n(e[o]));return i.join("-")}:function(t){return t};return e?t+"-"+i(e):i(t)},goog[F3Y4j.h8qc]=function(t,e){goog[F3Y4j.c6Ec]=t,goog[F3Y4j.N22c]=e},goog[F3Y4j.f5qc][F3Y4j.W7ic],!COMPILED&&goog[F3Y4j.f5qc][F3Y4j.W7ic]&&(W4j=function(t){goog[F3Y4j.c6Ec]=t[F3Y4j.f5qc][F3Y4j.W7ic]})(goog),goog[F3Y4j.h9qc]=function(t,i){return t=i?t[F3Y4j.w8qc](/\{\$([^}]+)}/g,function(t,e){return F3Y4j.v0j(e,i)?i[e]:t}):t},goog[F3Y4j.R7Qc]=function(t,e){return t},goog[F3Y4j.q22c]=function(t,e,i){goog[F3Y4j.E9tc](t,e,i)},goog[F3Y4j.H7Ec]=function(t,e,i){t[e]=i},goog[F3Y4j.b4ic]=function(t,n){function e(){}e.prototype=n.prototype,t[F3Y4j.Z9Jc]=n.prototype,t.prototype=new e,(t.prototype.constructor=t)[F3Y4j.W3tc]=function(t,e,i){var o=Array.prototype.slice.call(arguments,F3Y4j.B42c);return n.prototype[e].apply(t,o)}},goog[F3Y4j.W3tc]=function(t,e,i){var o=arguments.callee.caller;if(goog.STRICT_MODE_COMPATIBLE||goog[F3Y4j.l2Jc]&&!o)throw Error("arguments.caller not defined.  goog.base() cannot be used with strict mode code. See http://www.ecma-international.org/ecma-262/5.1/#sec-C");if(o[F3Y4j.Z9Jc])return o.superClass_.constructor.apply(t,Array.prototype.slice.call(arguments,F3Y4j.b42c));for(var n=Array.prototype.slice.call(arguments,F3Y4j.B42c),s=F3Y4j.h57c,r=t.constructor;r;r=r[F3Y4j.Z9Jc]&&r.superClass_.constructor)if(F3Y4j.W0j(r.prototype[e],o))s=F3Y4j.H3qc;else if(s)return r.prototype[e].apply(t,n);if(F3Y4j.C0j(t[e],o))return t.constructor.prototype[e].apply(t,n);throw Error("goog.base called from a method of one name to a method of a different name")},goog[F3Y4j.d9qc]=function(t){t[F3Y4j.J7ic](goog[F3Y4j.f5qc])},COMPILED||(a4j=function(t){goog[F3Y4j.f5qc].COMPILED=t})(COMPILED),goog[F3Y4j.X1Ec]=function(t,e){var i=e.constructor,o=e.statics,i=(i&&!F3Y4j.U0j(i,Object.prototype.constructor)||(i=function(){throw Error("cannot instantiate an interface (no constructor defined).")}),goog[F3Y4j.X1Ec][F3Y4j.u8Jc](i,t));return t&&goog[F3Y4j.b4ic](i,t),delete e.constructor,delete e.statics,goog[F3Y4j.X1Ec][F3Y4j.H5Ec](i.prototype,e),F3Y4j.d0j(o,F3Y4j.E3qc)&&(F3Y4j.X0j(o,Function)?o(i):goog[F3Y4j.X1Ec][F3Y4j.H5Ec](i,o)),i},goog[F3Y4j.X1Ec][F3Y4j.u2tc],goog[F3Y4j.l2ic]("goog.defineClass.SEAL_CLASS_INSTANCES",goog.DEBUG),goog[F3Y4j.X1Ec][F3Y4j.u8Jc]=function(e,t){if(goog[F3Y4j.X1Ec][F3Y4j.T8Jc]&&F3Y4j.o2j(Object.seal,Function)){if(t&&t.prototype&&t.prototype[goog[F3Y4j.p2Qc]])return e;function i(){var t=e[F3Y4j.j1qc](this,arguments)||this;return F3Y4j.q2j(this.constructor,i)&&Object.seal(t),t}return i}return e},F3Y4j[F3Y4j.D2Qc](),goog[F3Y4j.X1Ec][F3Y4j.H5Ec]=function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);for(var o=0;F3Y4j.z2j(o,goog[F3Y4j.X1Ec][F3Y4j.o5Gc].length);o++)i=goog[F3Y4j.X1Ec][F3Y4j.o5Gc][o],Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},goog[F3Y4j.d67c]=function(t){!COMPILED&&goog[F3Y4j.X1Ec][F3Y4j.T8Jc]&&(t.prototype[goog[F3Y4j.p2Qc]]=F3Y4j.H3qc)},F3Y4j[F3Y4j.M0Jc](F3Y4j.C4ic),goog[F3Y4j.a0ic](F3Y4j.E3ic),Object[F3Y4j.U3Ec]||(Object[F3Y4j.U3Ec]=function(t,e,i){var o="__defineSetter__",n="__defineGetter__";Object[n]&&(F3Y4j.E2j("get",i)?t[n](e,i.get):F3Y4j.f2j("value",i)&&t[n](e,i.value)),Object[o]&&(F3Y4j.H2j("set",i)?t[o](e,i[F3Y4j.N5tc]):F3Y4j.I2j("value",i)&&t[o](e,i.value))}),F3Y4j[F3Y4j.f4Jc](F3Y4j.h57c),F3Y4j[F3Y4j.y27c](box2d),box2d[F3Y4j.j77c]=function(t,e,i){box2d[F3Y4j.l2Jc]},F3Y4j[F3Y4j.g2ic](F3Y4j.a17c),F3Y4j[F3Y4j.H82c](F3Y4j.p6Ec),F3Y4j[F3Y4j.k72c](),F3Y4j[F3Y4j.G2qc](Math),F3Y4j[F3Y4j.X9Jc](F3Y4j.B42c),F3Y4j[F3Y4j.F4tc](F3Y4j.Z42c),F3Y4j[F3Y4j.z87c](F3Y4j.W8Qc),F3Y4j[F3Y4j.D4qc](F3Y4j.B42c),F3Y4j[F3Y4j.S22c](F3Y4j.h8Ec),F3Y4j[F3Y4j.l0qc](),F3Y4j[F3Y4j.Y8Qc](),F3Y4j[F3Y4j.n8tc](F3Y4j.Z42c),F3Y4j[F3Y4j.v0tc](F3Y4j.C0ic),F3Y4j[F3Y4j.L87c](F3Y4j.b42c),F3Y4j[F3Y4j.s3tc](F3Y4j.G8Qc),F3Y4j[F3Y4j.F9Jc](),F3Y4j[F3Y4j.b8Qc](F3Y4j.B42c),F3Y4j[F3Y4j.N4ic](),F3Y4j[F3Y4j.r2Ec](),F3Y4j[F3Y4j.i2ic](),F3Y4j[F3Y4j.y22c](F3Y4j.G8Qc),F3Y4j[F3Y4j.T3Ec](F3Y4j.a62c),F3Y4j[F3Y4j.Q4qc](F3Y4j.T8Qc),F3Y4j[F3Y4j.n6Jc](F3Y4j.r42c),F3Y4j[F3Y4j.Z4tc](),box2d[F3Y4j.u5Ec]=function(t){return F3Y4j.E3qc},box2d[F3Y4j.A7Qc]=function(t){},box2d[F3Y4j.q7ic]=function(t){goog[F3Y4j.f5qc][F3Y4j.p1Jc][F3Y4j.v0Jc][F3Y4j.j1qc](F3Y4j.E3qc,arguments)},box2d[F3Y4j.i9tc]=function(t,e,i){this[F3Y4j.v4ic]=t||F3Y4j.u42c,this[F3Y4j.r8qc]=e||F3Y4j.u42c,this[F3Y4j.k5Ec]=i||F3Y4j.u42c},box2d.b2Version.prototype.major=F3Y4j.u42c,box2d.b2Version.prototype.minor=F3Y4j.u42c,box2d.b2Version.prototype.revision=F3Y4j.u42c,box2d.b2Version.prototype.toString=function(){return this[F3Y4j.v4ic]+"."+this[F3Y4j.r8qc]+"."+this[F3Y4j.k5Ec]},box2d[F3Y4j.V32c]=new box2d[F3Y4j.i9tc](F3Y4j.B42c,F3Y4j.R42c,F3Y4j.u42c),F3Y4j[F3Y4j.w7Qc](F3Y4j.l5Qc),box2d[F3Y4j.m0Ec]=function(t){return parseInt(t,F3Y4j.D2ic)},box2d[F3Y4j.R8ic]=function(t){return box2d[F3Y4j.O7Qc](parseInt(t,F3Y4j.D2ic))},box2d[F3Y4j.T0Jc]=function(t,e){F3Y4j.w2j(t,void 0)&&(t=0);var i=new Array(t);if(F3Y4j.N2j(e,void 0))for(var o=0;F3Y4j.J2j(o,t);++o)i[o]=e(o);return i},box2d[F3Y4j.m8qc]=function(t){return box2d[F3Y4j.T0Jc](t,function(t){return 0})},goog[F3Y4j.a0ic](F3Y4j.O27c),goog[F3Y4j.D02c]("box2d.b2Settings"),F3Y4j[F3Y4j.w3ic](),F3Y4j[F3Y4j.B07c](),F3Y4j[F3Y4j.z0Ec](),box2d[F3Y4j.O7Qc]=function(t){return F3Y4j.S2j(t,F3Y4j.u42c)?-t:t},box2d[F3Y4j.y3ic]=function(t,e){return F3Y4j.Q2j(t,e)?t:e},box2d[F3Y4j.h82c]=function(t,e){return F3Y4j.G2j(t,e)?t:e},box2d[F3Y4j.Q87c]=function(t,e,i){return F3Y4j.a2j(t,e)?e:F3Y4j.L2j(t,i)?i:t},box2d[F3Y4j.M3ic]=function(t,e){box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.h57c);var i=t[F3Y4j.u42c];t[F3Y4j.u42c]=e[F3Y4j.u42c],e[F3Y4j.u42c]=i},box2d[F3Y4j.i9Ec]=function(t){return isFinite(t)},box2d[F3Y4j.S9Jc]=function(t){return F3Y4j.K2j(t,t)},box2d[F3Y4j.T5ic]=function(t){return F3Y4j.M2j(F3Y4j.b42c,Math[F3Y4j.z0Qc](t))},box2d[F3Y4j.j7Jc]=function(t){return Math[F3Y4j.z0Qc](t)},box2d[F3Y4j.i6Ec]=function(t,e){return Math.pow(t,e)},box2d[F3Y4j.g1tc]=function(t){return F3Y4j.s8j(t,box2d[F3Y4j.a2qc])},box2d[F3Y4j.y32c]=function(t){return F3Y4j.x8j(t,box2d[F3Y4j.p5Jc])},box2d[F3Y4j.H8ic]=function(t){return Math[F3Y4j.L5tc](t)},box2d[F3Y4j.o7Ec]=function(t){return Math[F3Y4j.w4Jc](t)},box2d[F3Y4j.b22c]=function(t){return Math.acos(t)},box2d[F3Y4j.V7Ec]=function(t){return Math.asin(t)},box2d[F3Y4j.F1Jc]=function(t,e){return Math[F3Y4j.J42c](t,e)},box2d[F3Y4j.z0qc]=function(t){return(t=(t=(t=(t=(t|=F3Y4j.O8j(t>>F3Y4j.b42c,2147483647))|F3Y4j.B8j(t>>F3Y4j.B42c,1073741823))|F3Y4j.u8j(t>>F3Y4j.y42c,268435455))|F3Y4j.l8j(t>>F3Y4j.Z42c,16777215))|F3Y4j.m8j(t>>F3Y4j.V2ic,65535))+F3Y4j.b42c},box2d[F3Y4j.r4ic]=function(t){return F3Y4j.Y8j(t,F3Y4j.u42c)&&F3Y4j.j8j(t&t-F3Y4j.b42c,F3Y4j.u42c)},box2d[F3Y4j.w3Ec]=function(){return F3Y4j.A8j(Math[F3Y4j.N3Ec]()*F3Y4j.a3tc,F3Y4j.O5Jc)},box2d[F3Y4j.z2Jc]=function(t,e){return F3Y4j.r8j(e-t,Math[F3Y4j.N3Ec]())+t},box2d[F3Y4j.b17c]=function(t,e){this[F3Y4j.W17c]=t||F3Y4j.e8Qc,this[F3Y4j.I17c]=e||F3Y4j.e8Qc},box2d.b2Vec2.prototype.x=F3Y4j.e8Qc,box2d.b2Vec2.prototype.y=F3Y4j.e8Qc,box2d[F3Y4j.X72c]=new box2d[F3Y4j.b17c],box2d[F3Y4j.b17c][F3Y4j.Q42c]=new box2d[F3Y4j.b17c],box2d[F3Y4j.b17c][F3Y4j.P1ic]=new box2d[F3Y4j.b17c](F3Y4j.O5Jc,F3Y4j.e8Qc),box2d[F3Y4j.b17c][F3Y4j.K42c]=new box2d[F3Y4j.b17c](F3Y4j.e8Qc,F3Y4j.O5Jc),box2d[F3Y4j.b17c][F3Y4j.c1Jc]=new box2d[F3Y4j.b17c],box2d[F3Y4j.b17c][F3Y4j.M1Jc]=new box2d[F3Y4j.b17c],box2d[F3Y4j.b17c][F3Y4j.b9Jc]=new box2d[F3Y4j.b17c],box2d[F3Y4j.b17c][F3Y4j.o0Ec]=new box2d[F3Y4j.b17c],box2d[F3Y4j.b17c][F3Y4j.T7qc]=function(t){return box2d[F3Y4j.T0Jc](t,function(t){return new box2d[F3Y4j.b17c]})},box2d.b2Vec2.prototype.Clone=function(){return new box2d[F3Y4j.b17c](this[F3Y4j.W17c],this[F3Y4j.I17c])},box2d.b2Vec2.prototype.SetZero=function(){return this[F3Y4j.W17c]=F3Y4j.e8Qc,this[F3Y4j.I17c]=F3Y4j.e8Qc,this},box2d.b2Vec2.prototype.SetXY=function(t,e){return this[F3Y4j.W17c]=t,this[F3Y4j.I17c]=e,this},box2d.b2Vec2.prototype.Copy=function(t){return this[F3Y4j.W17c]=t[F3Y4j.W17c],this[F3Y4j.I17c]=t[F3Y4j.I17c],this},box2d.b2Vec2.prototype.SelfAdd=function(t){return this[F3Y4j.W17c]+=t[F3Y4j.W17c],this[F3Y4j.I17c]+=t[F3Y4j.I17c],this},box2d.b2Vec2.prototype.SelfAddXY=function(t,e){return this[F3Y4j.W17c]+=t,this[F3Y4j.I17c]+=e,this},box2d.b2Vec2.prototype.SelfSub=function(t){return this[F3Y4j.W17c]-=t[F3Y4j.W17c],this[F3Y4j.I17c]-=t[F3Y4j.I17c],this},box2d.b2Vec2.prototype.SelfSubXY=function(t,e){return this[F3Y4j.W17c]-=t,this[F3Y4j.I17c]-=e,this},box2d.b2Vec2.prototype.SelfMul=function(t){return this[F3Y4j.W17c]*=t,this[F3Y4j.I17c]*=t,this},box2d.b2Vec2.prototype.SelfMulAdd=function(t,e){return this[F3Y4j.W17c]+=F3Y4j.i8j(t,e[F3Y4j.W17c]),this[F3Y4j.I17c]+=F3Y4j.c8j(t,e[F3Y4j.I17c]),this},box2d.b2Vec2.prototype.SelfMulSub=function(t,e){return this[F3Y4j.W17c]-=F3Y4j.e8j(t,e[F3Y4j.W17c]),this[F3Y4j.I17c]-=F3Y4j.g8j(t,e[F3Y4j.I17c]),this},box2d.b2Vec2.prototype.Dot=function(t){return F3Y4j.k8j(this[F3Y4j.W17c],t[F3Y4j.W17c])+F3Y4j.n8j(this[F3Y4j.I17c],t[F3Y4j.I17c])},box2d.b2Vec2.prototype.Cross=function(t){return F3Y4j.P8j(this[F3Y4j.W17c]*t[F3Y4j.I17c],this[F3Y4j.I17c]*t[F3Y4j.W17c])},box2d.b2Vec2.prototype.Length=function(){var t=this[F3Y4j.W17c],e=this[F3Y4j.I17c];return Math[F3Y4j.z0Qc](F3Y4j.V5F(t,t)+F3Y4j.h5F(e,e))},box2d.b2Vec2.prototype.GetLength=box2d.b2Vec2.prototype.Length,box2d.b2Vec2.prototype.LengthSquared=function(){var t=this[F3Y4j.W17c],e=this[F3Y4j.I17c];return F3Y4j.R5F(t,t)+F3Y4j.b5F(e,e)},box2d.b2Vec2.prototype.GetLengthSquared=box2d.b2Vec2.prototype.LengthSquared,box2d.b2Vec2.prototype.Normalize=function(){var t,e=this[F3Y4j.x2Jc]();return F3Y4j.p5F(e,box2d[F3Y4j.w7qc])&&(t=F3Y4j.y5F(1,e),this[F3Y4j.W17c]*=t,this[F3Y4j.I17c]*=t),e},box2d.b2Vec2.prototype.SelfNormalize=function(){var t=this[F3Y4j.x2Jc]();return F3Y4j.Z5F(t,box2d[F3Y4j.w7qc])&&(t=F3Y4j.D5F(1,t),this[F3Y4j.W17c]*=t,this[F3Y4j.I17c]*=t),this},box2d.b2Vec2.prototype.SelfRotate=function(t,e){var i=this[F3Y4j.W17c],o=this[F3Y4j.I17c];return this[F3Y4j.W17c]=F3Y4j.F5F(t*i,e*o),this[F3Y4j.I17c]=F3Y4j.t5F(e,i)+F3Y4j.T5F(t,o),this},box2d.b2Vec2.prototype.SelfRotateRadians=function(t){return this.SelfRotate(Math[F3Y4j.L5tc](t),Math[F3Y4j.w4Jc](t))},box2d.b2Vec2.prototype.SelfRotateDegrees=function(t){return this.SelfRotateRadians(box2d[F3Y4j.g1tc](t))},box2d.b2Vec2.prototype.IsValid=function(){return isFinite(this[F3Y4j.W17c])&&isFinite(this[F3Y4j.I17c])},box2d.b2Vec2.prototype.SelfCrossVS=function(t){var e=this[F3Y4j.W17c];return this[F3Y4j.W17c]=F3Y4j.v5F(t,this[F3Y4j.I17c]),this[F3Y4j.I17c]=-t*e,this},box2d.b2Vec2.prototype.SelfCrossSV=function(t){var e=this[F3Y4j.W17c];return this[F3Y4j.W17c]=-t*this[F3Y4j.I17c],this[F3Y4j.I17c]=F3Y4j.W5F(t,e),this},box2d.b2Vec2.prototype.SelfMinV=function(t){return this[F3Y4j.W17c]=box2d[F3Y4j.y3ic](this[F3Y4j.W17c],t[F3Y4j.W17c]),this[F3Y4j.I17c]=box2d[F3Y4j.y3ic](this[F3Y4j.I17c],t[F3Y4j.I17c]),this},box2d.b2Vec2.prototype.SelfMaxV=function(t){return this[F3Y4j.W17c]=box2d[F3Y4j.h82c](this[F3Y4j.W17c],t[F3Y4j.W17c]),this[F3Y4j.I17c]=box2d[F3Y4j.h82c](this[F3Y4j.I17c],t[F3Y4j.I17c]),this},box2d.b2Vec2.prototype.SelfAbs=function(){return this[F3Y4j.W17c]=box2d[F3Y4j.O7Qc](this[F3Y4j.W17c]),this[F3Y4j.I17c]=box2d[F3Y4j.O7Qc](this[F3Y4j.I17c]),this},box2d.b2Vec2.prototype.SelfNeg=function(){return this[F3Y4j.W17c]=-this[F3Y4j.W17c],this[F3Y4j.I17c]=-this[F3Y4j.I17c],this},box2d.b2Vec2.prototype.SelfSkew=function(){var t=this[F3Y4j.W17c];return this[F3Y4j.W17c]=-this[F3Y4j.I17c],this[F3Y4j.I17c]=t,this},box2d[F3Y4j.B5ic]=function(t,e){return e[F3Y4j.W17c]=box2d[F3Y4j.O7Qc](t[F3Y4j.W17c]),e[F3Y4j.I17c]=box2d[F3Y4j.O7Qc](t[F3Y4j.I17c]),e},box2d[F3Y4j.w4Ec]=function(t,e,i){return i[F3Y4j.W17c]=box2d[F3Y4j.y3ic](t[F3Y4j.W17c],e[F3Y4j.W17c]),i[F3Y4j.I17c]=box2d[F3Y4j.y3ic](t[F3Y4j.I17c],e[F3Y4j.I17c]),i},box2d[F3Y4j.v97c]=function(t,e,i){return i[F3Y4j.W17c]=box2d[F3Y4j.h82c](t[F3Y4j.W17c],e[F3Y4j.W17c]),i[F3Y4j.I17c]=box2d[F3Y4j.h82c](t[F3Y4j.I17c],e[F3Y4j.I17c]),i},box2d[F3Y4j.q4Jc]=function(t,e,i,o){return o[F3Y4j.W17c]=box2d[F3Y4j.Q87c](t[F3Y4j.W17c],e[F3Y4j.W17c],i[F3Y4j.W17c]),o[F3Y4j.I17c]=box2d[F3Y4j.Q87c](t[F3Y4j.I17c],e[F3Y4j.I17c],i[F3Y4j.I17c]),o},box2d[F3Y4j.H0qc]=function(t,e,i,o){var n=t[F3Y4j.W17c],t=t[F3Y4j.I17c];return o[F3Y4j.W17c]=F3Y4j.C5F(e*n,i*t),o[F3Y4j.I17c]=F3Y4j.U5F(i,n)+F3Y4j.d5F(e,t),o},box2d[F3Y4j.A27c]=function(t,e,i){return box2d[F3Y4j.H0qc](t,Math[F3Y4j.L5tc](e),Math[F3Y4j.w4Jc](e),i)},box2d[F3Y4j.M32c]=function(t,e,i){return box2d[F3Y4j.A27c](t,box2d[F3Y4j.g1tc](e),i)},box2d[F3Y4j.U2tc]=function(t,e){return F3Y4j.X5F(t[F3Y4j.W17c],e[F3Y4j.W17c])+F3Y4j.o1F(t[F3Y4j.I17c],e[F3Y4j.I17c])},box2d[F3Y4j.O62c]=function(t,e){return F3Y4j.q1F(t[F3Y4j.W17c]*e[F3Y4j.I17c],t[F3Y4j.I17c]*e[F3Y4j.W17c])},box2d[F3Y4j.L72c]=function(t,e,i){var o=t[F3Y4j.W17c];return i[F3Y4j.W17c]=F3Y4j.z1F(e,t[F3Y4j.I17c]),i[F3Y4j.I17c]=-e*o,i},box2d[F3Y4j.r3Qc]=function(t,e){var i=t[F3Y4j.W17c];return e[F3Y4j.W17c]=t[F3Y4j.I17c],e[F3Y4j.I17c]=-i,e},box2d[F3Y4j.N5Jc]=function(t,e,i){var o=e[F3Y4j.W17c];return i[F3Y4j.W17c]=-t*e[F3Y4j.I17c],i[F3Y4j.I17c]=F3Y4j.E1F(t,o),i},box2d[F3Y4j.f7Ec]=function(t,e){var i=t[F3Y4j.W17c];return e[F3Y4j.W17c]=-t[F3Y4j.I17c],e[F3Y4j.I17c]=i,e},box2d[F3Y4j.O2ic]=function(t,e,i){return i[F3Y4j.W17c]=t[F3Y4j.W17c]+e[F3Y4j.W17c],i[F3Y4j.I17c]=t[F3Y4j.I17c]+e[F3Y4j.I17c],i},box2d[F3Y4j.J97c]=function(t,e,i){return i[F3Y4j.W17c]=F3Y4j.f1F(t[F3Y4j.W17c],e[F3Y4j.W17c]),i[F3Y4j.I17c]=F3Y4j.H1F(t[F3Y4j.I17c],e[F3Y4j.I17c]),i},box2d[F3Y4j.H07c]=function(t,e,i){return i[F3Y4j.W17c]=F3Y4j.I1F(e[F3Y4j.W17c],t),i[F3Y4j.I17c]=F3Y4j.w1F(e[F3Y4j.I17c],t),i},box2d[F3Y4j.c07c]=function(t,e,i,o){return o[F3Y4j.W17c]=t[F3Y4j.W17c]+F3Y4j.N1F(e,i[F3Y4j.W17c]),o[F3Y4j.I17c]=t[F3Y4j.I17c]+F3Y4j.J1F(e,i[F3Y4j.I17c]),o},box2d[F3Y4j.u1Qc]=function(t,e,i,o){return o[F3Y4j.W17c]=F3Y4j.S1F(t[F3Y4j.W17c],e*i[F3Y4j.W17c]),o[F3Y4j.I17c]=F3Y4j.Q1F(t[F3Y4j.I17c],e*i[F3Y4j.I17c]),o},box2d[F3Y4j.M57c]=function(t,e,i,o){var n=i[F3Y4j.W17c];return o[F3Y4j.W17c]=F3Y4j.G1F(t[F3Y4j.W17c],e*i[F3Y4j.I17c]),o[F3Y4j.I17c]=t[F3Y4j.I17c]+F3Y4j.a1F(e,n),o},box2d[F3Y4j.a9ic]=function(t,e,i){return i[F3Y4j.W17c]=F3Y4j.L1F(t[F3Y4j.W17c]+e[F3Y4j.W17c],F3Y4j.T8Qc),i[F3Y4j.I17c]=F3Y4j.K1F(t[F3Y4j.I17c]+e[F3Y4j.I17c],F3Y4j.T8Qc),i},box2d[F3Y4j.V0ic]=function(t,e,i){return i[F3Y4j.W17c]=F3Y4j.M1F(e[F3Y4j.W17c]-t[F3Y4j.W17c],F3Y4j.T8Qc),i[F3Y4j.I17c]=F3Y4j.s9F(e[F3Y4j.I17c]-t[F3Y4j.I17c],F3Y4j.T8Qc),i},box2d[F3Y4j.z9qc]=function(t,e){return F3Y4j.x9F(t[F3Y4j.W17c],e[F3Y4j.W17c])&&F3Y4j.O9F(t[F3Y4j.I17c],e[F3Y4j.I17c])},box2d[F3Y4j.J9ic]=function(t,e){var i=F3Y4j.B9F(t[F3Y4j.W17c],e[F3Y4j.W17c]),t=F3Y4j.u9F(t[F3Y4j.I17c],e[F3Y4j.I17c]);return Math[F3Y4j.z0Qc](F3Y4j.l9F(i,i)+F3Y4j.m9F(t,t))},box2d[F3Y4j.I1qc]=function(t,e){var i=F3Y4j.Y9F(t[F3Y4j.W17c],e[F3Y4j.W17c]),t=F3Y4j.j9F(t[F3Y4j.I17c],e[F3Y4j.I17c]);return F3Y4j.A9F(i,i)+F3Y4j.r9F(t,t)},box2d[F3Y4j.i1Jc]=function(t,e){return e[F3Y4j.W17c]=-t[F3Y4j.W17c],e[F3Y4j.I17c]=-t[F3Y4j.I17c],e},box2d[F3Y4j.x97c]=function(t,e,i){this[F3Y4j.W17c]=t||F3Y4j.e8Qc,this[F3Y4j.I17c]=e||F3Y4j.e8Qc,this[F3Y4j.q17c]=i||F3Y4j.e8Qc},box2d.b2Vec3.prototype.x=F3Y4j.e8Qc,box2d.b2Vec3.prototype.y=F3Y4j.e8Qc,box2d.b2Vec3.prototype.z=F3Y4j.e8Qc,box2d[F3Y4j.x97c][F3Y4j.Q42c]=new box2d[F3Y4j.x97c],box2d[F3Y4j.x97c][F3Y4j.c1Jc]=new box2d[F3Y4j.x97c],box2d.b2Vec3.prototype.Clone=function(){return new box2d[F3Y4j.x97c](this[F3Y4j.W17c],this[F3Y4j.I17c],this[F3Y4j.q17c])},box2d.b2Vec3.prototype.SetZero=function(){return this[F3Y4j.W17c]=F3Y4j.e8Qc,this[F3Y4j.I17c]=F3Y4j.e8Qc,this[F3Y4j.q17c]=F3Y4j.e8Qc,this},box2d.b2Vec3.prototype.SetXYZ=function(t,e,i){return this[F3Y4j.W17c]=t,this[F3Y4j.I17c]=e,this[F3Y4j.q17c]=i,this},box2d.b2Vec3.prototype.Copy=function(t){return this[F3Y4j.W17c]=t[F3Y4j.W17c],this[F3Y4j.I17c]=t[F3Y4j.I17c],this[F3Y4j.q17c]=t[F3Y4j.q17c],this},box2d.b2Vec3.prototype.SelfNeg=function(){return this[F3Y4j.W17c]=-this[F3Y4j.W17c],this[F3Y4j.I17c]=-this[F3Y4j.I17c],this[F3Y4j.q17c]=-this[F3Y4j.q17c],this},box2d.b2Vec3.prototype.SelfAdd=function(t){return this[F3Y4j.W17c]+=t[F3Y4j.W17c],this[F3Y4j.I17c]+=t[F3Y4j.I17c],this[F3Y4j.q17c]+=t[F3Y4j.q17c],this},box2d.b2Vec3.prototype.SelfAddXYZ=function(t,e,i){return this[F3Y4j.W17c]+=t,this[F3Y4j.I17c]+=e,this[F3Y4j.q17c]+=i,this},box2d.b2Vec3.prototype.SelfSub=function(t){return this[F3Y4j.W17c]-=t[F3Y4j.W17c],this[F3Y4j.I17c]-=t[F3Y4j.I17c],this[F3Y4j.q17c]-=t[F3Y4j.q17c],this},box2d.b2Vec3.prototype.SelfSubXYZ=function(t,e,i){return this[F3Y4j.W17c]-=t,this[F3Y4j.I17c]-=e,this[F3Y4j.q17c]-=i,this},box2d.b2Vec3.prototype.SelfMul=function(t){return this[F3Y4j.W17c]*=t,this[F3Y4j.I17c]*=t,this[F3Y4j.q17c]*=t,this},box2d[F3Y4j.O2Qc]=function(t,e){return F3Y4j.i9F(t[F3Y4j.W17c],e[F3Y4j.W17c])+F3Y4j.c9F(t[F3Y4j.I17c],e[F3Y4j.I17c])+F3Y4j.e9F(t[F3Y4j.q17c],e[F3Y4j.q17c])},box2d[F3Y4j.u87c]=function(t,e,i){var o=t[F3Y4j.W17c],n=t[F3Y4j.I17c],t=t[F3Y4j.q17c],s=e[F3Y4j.W17c],r=e[F3Y4j.I17c],e=e[F3Y4j.q17c];return i[F3Y4j.W17c]=F3Y4j.g9F(n*e,t*r),i[F3Y4j.I17c]=F3Y4j.k9F(t*s,o*e),i[F3Y4j.q17c]=F3Y4j.n9F(o*r,n*s),i},box2d[F3Y4j.r5Ec]=function(){this[F3Y4j.C7Qc]=new box2d[F3Y4j.b17c](F3Y4j.O5Jc,F3Y4j.e8Qc),this[F3Y4j.o6Qc]=new box2d[F3Y4j.b17c](F3Y4j.e8Qc,F3Y4j.O5Jc)},box2d.b2Mat22.prototype.ex=F3Y4j.E3qc,box2d.b2Mat22.prototype.ey=F3Y4j.E3qc,box2d[F3Y4j.r5Ec][F3Y4j.E2Jc]=new box2d[F3Y4j.r5Ec],box2d.b2Mat22.prototype.Clone=function(){return(new box2d[F3Y4j.r5Ec])[F3Y4j.j9Qc](this)},box2d[F3Y4j.r5Ec][F3Y4j.M0ic]=function(t,e){return(new box2d[F3Y4j.r5Ec]).SetVV(t,e)},box2d[F3Y4j.r5Ec][F3Y4j.L4ic]=function(t,e,i,o){return(new box2d[F3Y4j.r5Ec]).SetSSSS(t,e,i,o)},box2d[F3Y4j.r5Ec][F3Y4j.D6Jc]=function(t){return(new box2d[F3Y4j.r5Ec])[F3Y4j.b1ic](t)},box2d.b2Mat22.prototype.SetSSSS=function(t,e,i,o){return this[F3Y4j.C7Qc][F3Y4j.V0tc](t,i),this[F3Y4j.o6Qc][F3Y4j.V0tc](e,o),this},box2d.b2Mat22.prototype.SetVV=function(t,e){return this[F3Y4j.C7Qc][F3Y4j.j9Qc](t),this[F3Y4j.o6Qc][F3Y4j.j9Qc](e),this},box2d.b2Mat22.prototype.SetAngle=function(t){var e=Math[F3Y4j.L5tc](t),t=Math[F3Y4j.w4Jc](t);return this[F3Y4j.C7Qc][F3Y4j.V0tc](e,t),this[F3Y4j.o6Qc][F3Y4j.V0tc](-t,e),this},box2d.b2Mat22.prototype.SetAngleRadians=box2d.b2Mat22.prototype.SetAngle,box2d.b2Mat22.prototype.SetAngleDegrees=function(t){return this[F3Y4j.N7qc](box2d[F3Y4j.g1tc](t))},box2d.b2Mat22.prototype.Copy=function(t){return this[F3Y4j.C7Qc][F3Y4j.j9Qc](t[F3Y4j.C7Qc]),this[F3Y4j.o6Qc][F3Y4j.j9Qc](t[F3Y4j.o6Qc]),this},box2d.b2Mat22.prototype.SetIdentity=function(){return this[F3Y4j.C7Qc][F3Y4j.V0tc](F3Y4j.O5Jc,F3Y4j.e8Qc),this[F3Y4j.o6Qc][F3Y4j.V0tc](F3Y4j.e8Qc,F3Y4j.O5Jc),this},box2d.b2Mat22.prototype.SetZero=function(){return this[F3Y4j.C7Qc][F3Y4j.a4qc](),this[F3Y4j.o6Qc][F3Y4j.a4qc](),this},box2d.b2Mat22.prototype.GetAngle=function(){return Math[F3Y4j.J42c](this[F3Y4j.C7Qc][F3Y4j.I17c],this[F3Y4j.C7Qc][F3Y4j.W17c])},box2d.b2Mat22.prototype.GetAngleRadians=box2d.b2Mat22.prototype.GetAngle,box2d.b2Mat22.prototype.GetInverse=function(t){var e=this[F3Y4j.C7Qc][F3Y4j.W17c],i=this[F3Y4j.o6Qc][F3Y4j.W17c],o=this[F3Y4j.C7Qc][F3Y4j.I17c],n=this[F3Y4j.o6Qc][F3Y4j.I17c],s=F3Y4j.P9F(e*n,i*o);return F3Y4j.V4F(s,F3Y4j.e8Qc)&&(s=F3Y4j.h4F(F3Y4j.O5Jc,s)),t[F3Y4j.C7Qc][F3Y4j.W17c]=F3Y4j.R4F(s,n),t[F3Y4j.o6Qc][F3Y4j.W17c]=-s*i,t[F3Y4j.C7Qc][F3Y4j.I17c]=-s*o,t[F3Y4j.o6Qc][F3Y4j.I17c]=F3Y4j.b4F(s,e),t},box2d.b2Mat22.prototype.Solve=function(t,e,i){var o=this[F3Y4j.C7Qc][F3Y4j.W17c],n=this[F3Y4j.o6Qc][F3Y4j.W17c],s=this[F3Y4j.C7Qc][F3Y4j.I17c],r=this[F3Y4j.o6Qc][F3Y4j.I17c],c=F3Y4j.p4F(o*r,n*s);return F3Y4j.y4F(c,F3Y4j.e8Qc)&&(c=F3Y4j.Z4F(F3Y4j.O5Jc,c)),i[F3Y4j.W17c]=F3Y4j.D4F(c,r*t-n*e),i[F3Y4j.I17c]=F3Y4j.F4F(c,o*e-s*t),i},box2d.b2Mat22.prototype.SelfAbs=function(){return this[F3Y4j.C7Qc].SelfAbs(),this[F3Y4j.o6Qc].SelfAbs(),this},box2d.b2Mat22.prototype.SelfInv=function(){return this[F3Y4j.P7Ec](this)},box2d.b2Mat22.prototype.SelfAddM=function(t){return this[F3Y4j.C7Qc][F3Y4j.l2Qc](t[F3Y4j.C7Qc]),this[F3Y4j.o6Qc][F3Y4j.l2Qc](t[F3Y4j.o6Qc]),this},box2d.b2Mat22.prototype.SelfSubM=function(t){return this[F3Y4j.C7Qc][F3Y4j.f3Jc](t[F3Y4j.C7Qc]),this[F3Y4j.o6Qc][F3Y4j.f3Jc](t[F3Y4j.o6Qc]),this},box2d[F3Y4j.w9ic]=function(t,e){var i=t[F3Y4j.C7Qc],t=t[F3Y4j.o6Qc];return e[F3Y4j.C7Qc][F3Y4j.W17c]=box2d[F3Y4j.O7Qc](i[F3Y4j.W17c]),e[F3Y4j.C7Qc][F3Y4j.I17c]=box2d[F3Y4j.O7Qc](i[F3Y4j.I17c]),e[F3Y4j.o6Qc][F3Y4j.W17c]=box2d[F3Y4j.O7Qc](t[F3Y4j.W17c]),e[F3Y4j.o6Qc][F3Y4j.I17c]=box2d[F3Y4j.O7Qc](t[F3Y4j.I17c]),e},box2d[F3Y4j.c6Qc]=function(t,e,i){var o=t[F3Y4j.C7Qc],t=t[F3Y4j.o6Qc],n=e[F3Y4j.W17c],e=e[F3Y4j.I17c];return i[F3Y4j.W17c]=F3Y4j.t4F(o[F3Y4j.W17c],n)+F3Y4j.T4F(t[F3Y4j.W17c],e),i[F3Y4j.I17c]=F3Y4j.v4F(o[F3Y4j.I17c],n)+F3Y4j.W4F(t[F3Y4j.I17c],e),i},box2d[F3Y4j.o6ic]=function(t,e,i){var o=t[F3Y4j.C7Qc],t=t[F3Y4j.o6Qc],n=e[F3Y4j.W17c],e=e[F3Y4j.I17c];return i[F3Y4j.W17c]=F3Y4j.C4F(o[F3Y4j.W17c],n)+F3Y4j.U4F(o[F3Y4j.I17c],e),i[F3Y4j.I17c]=F3Y4j.d4F(t[F3Y4j.W17c],n)+F3Y4j.X4F(t[F3Y4j.I17c],e),i},box2d[F3Y4j.U17c]=function(t,e,i){var o=t[F3Y4j.C7Qc],t=t[F3Y4j.o6Qc],n=e[F3Y4j.C7Qc],e=e[F3Y4j.o6Qc];return i[F3Y4j.C7Qc][F3Y4j.W17c]=o[F3Y4j.W17c]+n[F3Y4j.W17c],i[F3Y4j.C7Qc][F3Y4j.I17c]=o[F3Y4j.I17c]+n[F3Y4j.I17c],i[F3Y4j.o6Qc][F3Y4j.W17c]=t[F3Y4j.W17c]+e[F3Y4j.W17c],i[F3Y4j.o6Qc][F3Y4j.I17c]=t[F3Y4j.I17c]+e[F3Y4j.I17c],i},box2d[F3Y4j.G3Qc]=function(t,e,i){var o=t[F3Y4j.C7Qc][F3Y4j.W17c],n=t[F3Y4j.C7Qc][F3Y4j.I17c],s=t[F3Y4j.o6Qc][F3Y4j.W17c],t=t[F3Y4j.o6Qc][F3Y4j.I17c],r=e[F3Y4j.C7Qc][F3Y4j.W17c],c=e[F3Y4j.C7Qc][F3Y4j.I17c],a=e[F3Y4j.o6Qc][F3Y4j.W17c],e=e[F3Y4j.o6Qc][F3Y4j.I17c];return i[F3Y4j.C7Qc][F3Y4j.W17c]=F3Y4j.o3F(o,r)+F3Y4j.q3F(s,c),i[F3Y4j.C7Qc][F3Y4j.I17c]=F3Y4j.z3F(n,r)+F3Y4j.E3F(t,c),i[F3Y4j.o6Qc][F3Y4j.W17c]=F3Y4j.f3F(o,a)+F3Y4j.H3F(s,e),i[F3Y4j.o6Qc][F3Y4j.I17c]=F3Y4j.I3F(n,a)+F3Y4j.w3F(t,e),i},box2d[F3Y4j.F6Jc]=function(t,e,i){var o=t[F3Y4j.C7Qc][F3Y4j.W17c],n=t[F3Y4j.C7Qc][F3Y4j.I17c],s=t[F3Y4j.o6Qc][F3Y4j.W17c],t=t[F3Y4j.o6Qc][F3Y4j.I17c],r=e[F3Y4j.C7Qc][F3Y4j.W17c],c=e[F3Y4j.C7Qc][F3Y4j.I17c],a=e[F3Y4j.o6Qc][F3Y4j.W17c],e=e[F3Y4j.o6Qc][F3Y4j.I17c];return i[F3Y4j.C7Qc][F3Y4j.W17c]=F3Y4j.N3F(o,r)+F3Y4j.J3F(n,c),i[F3Y4j.C7Qc][F3Y4j.I17c]=F3Y4j.S3F(s,r)+F3Y4j.Q3F(t,c),i[F3Y4j.o6Qc][F3Y4j.W17c]=F3Y4j.G3F(o,a)+F3Y4j.a3F(n,e),i[F3Y4j.o6Qc][F3Y4j.I17c]=F3Y4j.L3F(s,a)+F3Y4j.K3F(t,e),i},box2d[F3Y4j.i5Jc]=function(){this[F3Y4j.C7Qc]=new box2d[F3Y4j.x97c](F3Y4j.O5Jc,F3Y4j.e8Qc,F3Y4j.e8Qc),this[F3Y4j.o6Qc]=new box2d[F3Y4j.x97c](F3Y4j.e8Qc,F3Y4j.O5Jc,F3Y4j.e8Qc),this[F3Y4j.u6Qc]=new box2d[F3Y4j.x97c](F3Y4j.e8Qc,F3Y4j.e8Qc,F3Y4j.O5Jc)},box2d.b2Mat33.prototype.ex=F3Y4j.E3qc,box2d.b2Mat33.prototype.ey=F3Y4j.E3qc,box2d.b2Mat33.prototype.ez=F3Y4j.E3qc,box2d[F3Y4j.i5Jc][F3Y4j.E2Jc]=new box2d[F3Y4j.i5Jc],box2d.b2Mat33.prototype.Clone=function(){return(new box2d[F3Y4j.i5Jc])[F3Y4j.j9Qc](this)},box2d.b2Mat33.prototype.SetVVV=function(t,e,i){return this[F3Y4j.C7Qc][F3Y4j.j9Qc](t),this[F3Y4j.o6Qc][F3Y4j.j9Qc](e),this[F3Y4j.u6Qc][F3Y4j.j9Qc](i),this},box2d.b2Mat33.prototype.Copy=function(t){return this[F3Y4j.C7Qc][F3Y4j.j9Qc](t[F3Y4j.C7Qc]),this[F3Y4j.o6Qc][F3Y4j.j9Qc](t[F3Y4j.o6Qc]),this[F3Y4j.u6Qc][F3Y4j.j9Qc](t[F3Y4j.u6Qc]),this},box2d.b2Mat33.prototype.SetIdentity=function(){return this[F3Y4j.C7Qc][F3Y4j.S02c](F3Y4j.O5Jc,F3Y4j.e8Qc,F3Y4j.e8Qc),this[F3Y4j.o6Qc][F3Y4j.S02c](F3Y4j.e8Qc,F3Y4j.O5Jc,F3Y4j.e8Qc),this[F3Y4j.u6Qc][F3Y4j.S02c](F3Y4j.e8Qc,F3Y4j.e8Qc,F3Y4j.O5Jc),this},box2d.b2Mat33.prototype.SetZero=function(){return this[F3Y4j.C7Qc][F3Y4j.a4qc](),this[F3Y4j.o6Qc][F3Y4j.a4qc](),this[F3Y4j.u6Qc][F3Y4j.a4qc](),this},box2d.b2Mat33.prototype.SelfAddM=function(t){return this[F3Y4j.C7Qc][F3Y4j.l2Qc](t[F3Y4j.C7Qc]),this[F3Y4j.o6Qc][F3Y4j.l2Qc](t[F3Y4j.o6Qc]),this[F3Y4j.u6Qc][F3Y4j.l2Qc](t[F3Y4j.u6Qc]),this},box2d.b2Mat33.prototype.Solve33=function(t,e,i,o){var n=this[F3Y4j.C7Qc][F3Y4j.W17c],s=this[F3Y4j.C7Qc][F3Y4j.I17c],r=this[F3Y4j.C7Qc][F3Y4j.q17c],c=this[F3Y4j.o6Qc][F3Y4j.W17c],a=this[F3Y4j.o6Qc][F3Y4j.I17c],h=this[F3Y4j.o6Qc][F3Y4j.q17c],u=this[F3Y4j.u6Qc][F3Y4j.W17c],l=this[F3Y4j.u6Qc][F3Y4j.I17c],d=this[F3Y4j.u6Qc][F3Y4j.q17c],p=F3Y4j.M3F(n,a*d-h*l)+F3Y4j.s7F(s,h*u-c*d)+F3Y4j.x7F(r,c*l-a*u);return F3Y4j.O7F(p,F3Y4j.e8Qc)&&(p=F3Y4j.B7F(F3Y4j.O5Jc,p)),o[F3Y4j.W17c]=F3Y4j.u7F(p,t*(a*d-h*l)+e*(h*u-c*d)+i*(c*l-a*u)),o[F3Y4j.I17c]=F3Y4j.l7F(p,n*(e*d-i*l)+s*(i*u-t*d)+r*(t*l-e*u)),o[F3Y4j.q17c]=F3Y4j.m7F(p,n*(a*i-h*e)+s*(h*t-c*i)+r*(c*e-a*t)),o},box2d.b2Mat33.prototype.Solve22=function(t,e,i){var o=this[F3Y4j.C7Qc][F3Y4j.W17c],n=this[F3Y4j.o6Qc][F3Y4j.W17c],s=this[F3Y4j.C7Qc][F3Y4j.I17c],r=this[F3Y4j.o6Qc][F3Y4j.I17c],c=F3Y4j.Y7F(o*r,n*s);return F3Y4j.j7F(c,F3Y4j.e8Qc)&&(c=F3Y4j.A7F(F3Y4j.O5Jc,c)),i[F3Y4j.W17c]=F3Y4j.r7F(c,r*t-n*e),i[F3Y4j.I17c]=F3Y4j.i7F(c,o*e-s*t),i},box2d.b2Mat33.prototype.GetInverse22=function(t){var e=this[F3Y4j.C7Qc][F3Y4j.W17c],i=this[F3Y4j.o6Qc][F3Y4j.W17c],o=this[F3Y4j.C7Qc][F3Y4j.I17c],n=this[F3Y4j.o6Qc][F3Y4j.I17c],s=F3Y4j.c7F(e*n,i*o);F3Y4j.e7F(s,F3Y4j.e8Qc)&&(s=F3Y4j.g7F(F3Y4j.O5Jc,s)),t[F3Y4j.C7Qc][F3Y4j.W17c]=F3Y4j.k7F(s,n),t[F3Y4j.o6Qc][F3Y4j.W17c]=-s*i,t[F3Y4j.C7Qc][F3Y4j.q17c]=F3Y4j.e8Qc,t[F3Y4j.C7Qc][F3Y4j.I17c]=-s*o,t[F3Y4j.o6Qc][F3Y4j.I17c]=F3Y4j.n7F(s,e),t[F3Y4j.o6Qc][F3Y4j.q17c]=F3Y4j.e8Qc,t[F3Y4j.u6Qc][F3Y4j.W17c]=F3Y4j.e8Qc,t[F3Y4j.u6Qc][F3Y4j.I17c]=F3Y4j.e8Qc,t[F3Y4j.u6Qc][F3Y4j.q17c]=F3Y4j.e8Qc},box2d.b2Mat33.prototype.GetSymInverse33=function(t){var e=box2d[F3Y4j.O2Qc](this[F3Y4j.C7Qc],box2d[F3Y4j.u87c](this[F3Y4j.o6Qc],this[F3Y4j.u6Qc],box2d[F3Y4j.x97c][F3Y4j.c1Jc])),i=(F3Y4j.P7F(e,F3Y4j.e8Qc)&&(e=F3Y4j.V6F(F3Y4j.O5Jc,e)),this[F3Y4j.C7Qc][F3Y4j.W17c]),o=this[F3Y4j.o6Qc][F3Y4j.W17c],n=this[F3Y4j.u6Qc][F3Y4j.W17c],s=this[F3Y4j.o6Qc][F3Y4j.I17c],r=this[F3Y4j.u6Qc][F3Y4j.I17c],c=this[F3Y4j.u6Qc][F3Y4j.q17c];t[F3Y4j.C7Qc][F3Y4j.W17c]=F3Y4j.h6F(e,s*c-r*r),t[F3Y4j.C7Qc][F3Y4j.I17c]=F3Y4j.R6F(e,n*r-o*c),t[F3Y4j.C7Qc][F3Y4j.q17c]=F3Y4j.b6F(e,o*r-n*s),t[F3Y4j.o6Qc][F3Y4j.W17c]=t[F3Y4j.C7Qc][F3Y4j.I17c],t[F3Y4j.o6Qc][F3Y4j.I17c]=F3Y4j.p6F(e,i*c-n*n),t[F3Y4j.o6Qc][F3Y4j.q17c]=F3Y4j.y6F(e,n*o-i*r),t[F3Y4j.u6Qc][F3Y4j.W17c]=t[F3Y4j.C7Qc][F3Y4j.q17c],t[F3Y4j.u6Qc][F3Y4j.I17c]=t[F3Y4j.o6Qc][F3Y4j.q17c],t[F3Y4j.u6Qc][F3Y4j.q17c]=F3Y4j.Z6F(e,i*s-o*o)},box2d[F3Y4j.N6Jc]=function(t,e,i){var o=e[F3Y4j.W17c],n=e[F3Y4j.I17c],e=e[F3Y4j.q17c];return i[F3Y4j.W17c]=F3Y4j.D6F(t[F3Y4j.C7Qc][F3Y4j.W17c],o)+F3Y4j.F6F(t[F3Y4j.o6Qc][F3Y4j.W17c],n)+F3Y4j.t6F(t[F3Y4j.u6Qc][F3Y4j.W17c],e),i[F3Y4j.I17c]=F3Y4j.T6F(t[F3Y4j.C7Qc][F3Y4j.I17c],o)+F3Y4j.v6F(t[F3Y4j.o6Qc][F3Y4j.I17c],n)+F3Y4j.W6F(t[F3Y4j.u6Qc][F3Y4j.I17c],e),i[F3Y4j.q17c]=F3Y4j.C6F(t[F3Y4j.C7Qc][F3Y4j.q17c],o)+F3Y4j.U6F(t[F3Y4j.o6Qc][F3Y4j.q17c],n)+F3Y4j.d6F(t[F3Y4j.u6Qc][F3Y4j.q17c],e),i},box2d[F3Y4j.Z9tc]=function(t,e,i,o,n){return n[F3Y4j.W17c]=F3Y4j.X6F(t[F3Y4j.C7Qc][F3Y4j.W17c],e)+F3Y4j.o0F(t[F3Y4j.o6Qc][F3Y4j.W17c],i)+F3Y4j.q0F(t[F3Y4j.u6Qc][F3Y4j.W17c],o),n[F3Y4j.I17c]=F3Y4j.z0F(t[F3Y4j.C7Qc][F3Y4j.I17c],e)+F3Y4j.E0F(t[F3Y4j.o6Qc][F3Y4j.I17c],i)+F3Y4j.f0F(t[F3Y4j.u6Qc][F3Y4j.I17c],o),n[F3Y4j.q17c]=F3Y4j.H0F(t[F3Y4j.C7Qc][F3Y4j.q17c],e)+F3Y4j.I0F(t[F3Y4j.o6Qc][F3Y4j.q17c],i)+F3Y4j.w0F(t[F3Y4j.u6Qc][F3Y4j.q17c],o),n},box2d[F3Y4j.l6Jc]=function(t,e,i){var o=e[F3Y4j.W17c],e=e[F3Y4j.I17c];return i[F3Y4j.W17c]=F3Y4j.N0F(t[F3Y4j.C7Qc][F3Y4j.W17c],o)+F3Y4j.J0F(t[F3Y4j.o6Qc][F3Y4j.W17c],e),i[F3Y4j.I17c]=F3Y4j.S0F(t[F3Y4j.C7Qc][F3Y4j.I17c],o)+F3Y4j.Q0F(t[F3Y4j.o6Qc][F3Y4j.I17c],e),i},box2d[F3Y4j.e4tc]=function(t,e,i,o){return o[F3Y4j.W17c]=F3Y4j.G0F(t[F3Y4j.C7Qc][F3Y4j.W17c],e)+F3Y4j.a0F(t[F3Y4j.o6Qc][F3Y4j.W17c],i),o[F3Y4j.I17c]=F3Y4j.L0F(t[F3Y4j.C7Qc][F3Y4j.I17c],e)+F3Y4j.K0F(t[F3Y4j.o6Qc][F3Y4j.I17c],i),o},box2d[F3Y4j.s4Jc]=function(t){t&&(this[F3Y4j.Y5Ec]=t,this[F3Y4j.z3ic]=Math[F3Y4j.w4Jc](t),this[F3Y4j.K22c]=Math[F3Y4j.L5tc](t))},box2d.b2Rot.prototype.angle=F3Y4j.e8Qc,box2d.b2Rot.prototype.s=F3Y4j.e8Qc,box2d.b2Rot.prototype.c=F3Y4j.O5Jc,box2d[F3Y4j.s4Jc][F3Y4j.E2Jc]=new box2d[F3Y4j.s4Jc],box2d.b2Rot.prototype.Clone=function(){return(new box2d[F3Y4j.s4Jc])[F3Y4j.j9Qc](this)},box2d.b2Rot.prototype.Copy=function(t){return this[F3Y4j.Y5Ec]=t[F3Y4j.Y5Ec],this[F3Y4j.z3ic]=t[F3Y4j.z3ic],this[F3Y4j.K22c]=t[F3Y4j.K22c],this},box2d.b2Rot.prototype.SetAngle=function(t){return F3Y4j.M0F(this[F3Y4j.Y5Ec],t)&&(this[F3Y4j.Y5Ec]=t,this[F3Y4j.z3ic]=Math[F3Y4j.w4Jc](t),this[F3Y4j.K22c]=Math[F3Y4j.L5tc](t)),this},box2d.b2Rot.prototype.SetAngleRadians=box2d.b2Rot.prototype.SetAngle,box2d.b2Rot.prototype.SetAngleDegrees=function(t){return this[F3Y4j.N7qc](box2d[F3Y4j.g1tc](t))},box2d.b2Rot.prototype.SetIdentity=function(){return this[F3Y4j.Y5Ec]=F3Y4j.e8Qc,this[F3Y4j.z3ic]=F3Y4j.e8Qc,this[F3Y4j.K22c]=F3Y4j.O5Jc,this},box2d.b2Rot.prototype.GetAngle=function(){return this[F3Y4j.Y5Ec]},box2d.b2Rot.prototype.GetAngleRadians=box2d.b2Rot.prototype.GetAngle,box2d.b2Rot.prototype.GetAngleDegrees=function(){return box2d[F3Y4j.y32c](this[F3Y4j.E5Ec]())},box2d.b2Rot.prototype.GetXAxis=function(t){return t[F3Y4j.W17c]=this[F3Y4j.K22c],t[F3Y4j.I17c]=this[F3Y4j.z3ic],t},box2d.b2Rot.prototype.GetYAxis=function(t){return t[F3Y4j.W17c]=-this[F3Y4j.z3ic],t[F3Y4j.I17c]=this[F3Y4j.K22c],t},box2d[F3Y4j.j2tc]=function(t,e,i){var o=t[F3Y4j.K22c],n=t[F3Y4j.z3ic],s=e[F3Y4j.K22c],r=e[F3Y4j.z3ic];for(i[F3Y4j.z3ic]=F3Y4j.s2F(n,s)+F3Y4j.x2F(o,r),i[F3Y4j.K22c]=F3Y4j.O2F(o*s,n*r),i[F3Y4j.Y5Ec]=t[F3Y4j.Y5Ec]+e[F3Y4j.Y5Ec];i[F3Y4j.Y5Ec]<-box2d[F3Y4j.y7Jc];)i[F3Y4j.Y5Ec]+=box2d[F3Y4j.b5Ec];for(;F3Y4j.B2F(i[F3Y4j.Y5Ec],box2d[F3Y4j.y7Jc]);)i[F3Y4j.Y5Ec]-=box2d[F3Y4j.b5Ec];return i},box2d[F3Y4j.j8Ec]=function(t,e,i){var o=t[F3Y4j.K22c],n=t[F3Y4j.z3ic],s=e[F3Y4j.K22c],r=e[F3Y4j.z3ic];for(i[F3Y4j.z3ic]=F3Y4j.u2F(o*r,n*s),i[F3Y4j.K22c]=F3Y4j.l2F(o,s)+F3Y4j.m2F(n,r),i[F3Y4j.Y5Ec]=F3Y4j.Y2F(t[F3Y4j.Y5Ec],e[F3Y4j.Y5Ec]);i[F3Y4j.Y5Ec]<-box2d[F3Y4j.y7Jc];)i[F3Y4j.Y5Ec]+=box2d[F3Y4j.b5Ec];for(;F3Y4j.j2F(i[F3Y4j.Y5Ec],box2d[F3Y4j.y7Jc]);)i[F3Y4j.Y5Ec]-=box2d[F3Y4j.b5Ec];return i},box2d[F3Y4j.Z0tc]=function(t,e,i){var o=t[F3Y4j.K22c],t=t[F3Y4j.z3ic],n=e[F3Y4j.W17c],e=e[F3Y4j.I17c];return i[F3Y4j.W17c]=F3Y4j.A2F(o*n,t*e),i[F3Y4j.I17c]=F3Y4j.r2F(t,n)+F3Y4j.i2F(o,e),i},box2d[F3Y4j.M8Ec]=function(t,e,i){var o=t[F3Y4j.K22c],t=t[F3Y4j.z3ic],n=e[F3Y4j.W17c],e=e[F3Y4j.I17c];return i[F3Y4j.W17c]=F3Y4j.c2F(o,n)+F3Y4j.e2F(t,e),i[F3Y4j.I17c]=-t*n+F3Y4j.g2F(o,e),i},box2d[F3Y4j.J5ic]=function(){this[F3Y4j.Z3ic]=new box2d[F3Y4j.b17c],this[F3Y4j.G3ic]=new box2d[F3Y4j.s4Jc]},box2d.b2Transform.prototype.p=F3Y4j.E3qc,box2d.b2Transform.prototype.q=F3Y4j.E3qc,box2d[F3Y4j.J5ic][F3Y4j.E2Jc]=new box2d[F3Y4j.J5ic],box2d.b2Transform.prototype.Clone=function(){return(new box2d[F3Y4j.J5ic])[F3Y4j.j9Qc](this)},box2d.b2Transform.prototype.Copy=function(t){return this[F3Y4j.Z3ic][F3Y4j.j9Qc](t[F3Y4j.Z3ic]),this[F3Y4j.G3ic][F3Y4j.j9Qc](t[F3Y4j.G3ic]),this},box2d.b2Transform.prototype.SetIdentity=function(){return this[F3Y4j.Z3ic][F3Y4j.a4qc](),this[F3Y4j.G3ic][F3Y4j.K5Ec](),this},box2d.b2Transform.prototype.SetPositionRotation=function(t,e){return this[F3Y4j.Z3ic][F3Y4j.j9Qc](t),this[F3Y4j.G3ic][F3Y4j.j9Qc](e),this},box2d.b2Transform.prototype.SetPositionAngleRadians=function(t,e){return this[F3Y4j.Z3ic][F3Y4j.j9Qc](t),this[F3Y4j.G3ic][F3Y4j.b1ic](e),this},box2d.b2Transform.prototype.SetPosition=function(t){return this[F3Y4j.Z3ic][F3Y4j.j9Qc](t),this},box2d.b2Transform.prototype.SetPositionXY=function(t,e){return this[F3Y4j.Z3ic][F3Y4j.V0tc](t,e),this},box2d.b2Transform.prototype.SetRotation=function(t){return this[F3Y4j.G3ic][F3Y4j.j9Qc](t),this},box2d.b2Transform.prototype.SetRotationAngleRadians=function(t){return this[F3Y4j.G3ic][F3Y4j.b1ic](t),this},box2d.b2Transform.prototype.GetPosition=function(){return this[F3Y4j.Z3ic]},box2d.b2Transform.prototype.GetRotation=function(){return this[F3Y4j.G3ic]},box2d.b2Transform.prototype.GetRotationAngle=function(){return this[F3Y4j.G3ic][F3Y4j.E5Ec]()},box2d.b2Transform.prototype.GetRotationAngleRadians=box2d.b2Transform.prototype.GetRotationAngle,box2d.b2Transform.prototype.GetAngle=function(){return this[F3Y4j.G3ic][F3Y4j.E5Ec]()},box2d.b2Transform.prototype.GetAngleRadians=box2d.b2Transform.prototype.GetAngle,box2d[F3Y4j.a72c]=function(t,e,i){var o=t[F3Y4j.G3ic][F3Y4j.K22c],n=t[F3Y4j.G3ic][F3Y4j.z3ic],s=e[F3Y4j.W17c],e=e[F3Y4j.I17c];return i[F3Y4j.W17c]=F3Y4j.k2F(o*s,n*e)+t[F3Y4j.Z3ic][F3Y4j.W17c],i[F3Y4j.I17c]=F3Y4j.n2F(n,s)+F3Y4j.P2F(o,e)+t[F3Y4j.Z3ic][F3Y4j.I17c],i},box2d[F3Y4j.s9ic]=function(t,e,i){var o=t[F3Y4j.G3ic][F3Y4j.K22c],n=t[F3Y4j.G3ic][F3Y4j.z3ic],s=F3Y4j.V8F(e[F3Y4j.W17c],t[F3Y4j.Z3ic][F3Y4j.W17c]),e=F3Y4j.h8F(e[F3Y4j.I17c],t[F3Y4j.Z3ic][F3Y4j.I17c]);return i[F3Y4j.W17c]=F3Y4j.R8F(o,s)+F3Y4j.b8F(n,e),i[F3Y4j.I17c]=-n*s+F3Y4j.p8F(o,e),i},box2d[F3Y4j.i32c]=function(t,e,i){return box2d[F3Y4j.j2tc](t[F3Y4j.G3ic],e[F3Y4j.G3ic],i[F3Y4j.G3ic]),box2d[F3Y4j.O2ic](box2d[F3Y4j.Z0tc](t[F3Y4j.G3ic],e[F3Y4j.Z3ic],i[F3Y4j.Z3ic]),t[F3Y4j.Z3ic],i[F3Y4j.Z3ic]),i},box2d[F3Y4j.G42c]=function(t,e,i){return box2d[F3Y4j.j8Ec](t[F3Y4j.G3ic],e[F3Y4j.G3ic],i[F3Y4j.G3ic]),box2d[F3Y4j.M8Ec](t[F3Y4j.G3ic],box2d[F3Y4j.J97c](e[F3Y4j.Z3ic],t[F3Y4j.Z3ic],i[F3Y4j.Z3ic]),i[F3Y4j.Z3ic]),i},box2d[F3Y4j.L22c]=function(){this[F3Y4j.K92c]=new box2d[F3Y4j.b17c],this[F3Y4j.d92c]=new box2d[F3Y4j.b17c],this[F3Y4j.K22c]=new box2d[F3Y4j.b17c]},box2d.b2Sweep.prototype.localCenter=F3Y4j.E3qc,box2d.b2Sweep.prototype.c0=F3Y4j.E3qc,box2d.b2Sweep.prototype.c=F3Y4j.E3qc,box2d.b2Sweep.prototype.a0=F3Y4j.e8Qc,box2d.b2Sweep.prototype.a=F3Y4j.e8Qc,box2d.b2Sweep.prototype.alpha0=F3Y4j.e8Qc,box2d.b2Sweep.prototype.Clone=function(){return(new box2d[F3Y4j.L22c])[F3Y4j.j9Qc](this)},box2d.b2Sweep.prototype.Copy=function(t){return this[F3Y4j.K92c][F3Y4j.j9Qc](t[F3Y4j.K92c]),this[F3Y4j.d92c][F3Y4j.j9Qc](t[F3Y4j.d92c]),this[F3Y4j.K22c][F3Y4j.j9Qc](t[F3Y4j.K22c]),this[F3Y4j.F97c]=t[F3Y4j.F97c],this[F3Y4j.O22c]=t[F3Y4j.O22c],this[F3Y4j.i0ic]=t[F3Y4j.i0ic],this},box2d.b2Sweep.prototype.GetTransform=function(t,e){var i=F3Y4j.y8F(F3Y4j.O5Jc,e),i=(t[F3Y4j.Z3ic][F3Y4j.W17c]=F3Y4j.Z8F(i,this[F3Y4j.d92c][F3Y4j.W17c])+F3Y4j.D8F(e,this[F3Y4j.K22c][F3Y4j.W17c]),t[F3Y4j.Z3ic][F3Y4j.I17c]=F3Y4j.F8F(i,this[F3Y4j.d92c][F3Y4j.I17c])+F3Y4j.t8F(e,this[F3Y4j.K22c][F3Y4j.I17c]),F3Y4j.T8F(i,this[F3Y4j.F97c])+F3Y4j.v8F(e,this[F3Y4j.O22c]));return t[F3Y4j.G3ic][F3Y4j.b1ic](i),t[F3Y4j.Z3ic][F3Y4j.f3Jc](box2d[F3Y4j.Z0tc](t[F3Y4j.G3ic],this[F3Y4j.K92c],box2d[F3Y4j.b17c][F3Y4j.c1Jc])),t},box2d.b2Sweep.prototype.Advance=function(t){box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.W8F(this[F3Y4j.i0ic],F3Y4j.O5Jc));var e=F3Y4j.C8F(t-this[F3Y4j.i0ic],F3Y4j.O5Jc-this[F3Y4j.i0ic]);this[F3Y4j.d92c][F3Y4j.W17c]+=F3Y4j.U8F(e,this[F3Y4j.K22c][F3Y4j.W17c]-this[F3Y4j.d92c][F3Y4j.W17c]),this[F3Y4j.d92c][F3Y4j.I17c]+=F3Y4j.d8F(e,this[F3Y4j.K22c][F3Y4j.I17c]-this[F3Y4j.d92c][F3Y4j.I17c]),this[F3Y4j.F97c]+=F3Y4j.X8F(e,this[F3Y4j.O22c]-this[F3Y4j.F97c]),this[F3Y4j.i0ic]=t},box2d.b2Sweep.prototype.Normalize=function(){var t=F3Y4j.o5S(box2d[F3Y4j.b5Ec],Math[F3Y4j.D6ic](this[F3Y4j.F97c]/box2d[F3Y4j.b5Ec]));this[F3Y4j.F97c]-=t,this[F3Y4j.O22c]-=t},goog[F3Y4j.a0ic](F3Y4j.F02c),goog[F3Y4j.D02c]("box2d.b2Settings"),box2d[F3Y4j.f7ic]=function(){},box2d.b2ControllerEdge.prototype.controller=F3Y4j.E3qc,box2d.b2ControllerEdge.prototype.body=F3Y4j.E3qc,box2d.b2ControllerEdge.prototype.prevBody=F3Y4j.E3qc,box2d.b2ControllerEdge.prototype.nextBody=F3Y4j.E3qc,box2d.b2ControllerEdge.prototype.prevController=F3Y4j.E3qc,box2d.b2ControllerEdge.prototype.nextController=F3Y4j.E3qc,box2d[F3Y4j.O9Ec]=function(){},box2d.b2Controller.prototype.m_world=F3Y4j.E3qc,box2d.b2Controller.prototype.m_bodyList=F3Y4j.E3qc,box2d.b2Controller.prototype.m_bodyCount=F3Y4j.u42c,box2d.b2Controller.prototype.m_prev=F3Y4j.E3qc,box2d.b2Controller.prototype.m_next=F3Y4j.E3qc,box2d.b2Controller.prototype.Step=function(t){},box2d.b2Controller.prototype.Draw=function(t){},box2d.b2Controller.prototype.GetNext=function(){return this[F3Y4j.l3tc]},box2d.b2Controller.prototype.GetPrev=function(){return this[F3Y4j.w6qc]},box2d.b2Controller.prototype.GetWorld=function(){return this[F3Y4j.m6Qc]},box2d.b2Controller.prototype.GetBodyList=function(){return this[F3Y4j.s4ic]},box2d.b2Controller.prototype.AddBody=function(t){var e=new box2d[F3Y4j.f7ic];e[F3Y4j.k4qc]=t,e[F3Y4j.w7Jc]=this,e[F3Y4j.P0Jc]=this[F3Y4j.s4ic],e[F3Y4j.B72c]=F3Y4j.E3qc,this[F3Y4j.s4ic]&&(this[F3Y4j.s4ic][F3Y4j.B72c]=e),this[F3Y4j.s4ic]=e,++this[F3Y4j.l9Jc],e[F3Y4j.t77c]=t[F3Y4j.y47c],e[F3Y4j.Q3tc]=F3Y4j.E3qc,t[F3Y4j.y47c]&&(t[F3Y4j.y47c][F3Y4j.Q3tc]=e),t[F3Y4j.y47c]=e,++t[F3Y4j.I2ic]},box2d.b2Controller.prototype.RemoveBody=function(t){box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.q5S(this[F3Y4j.l9Jc],F3Y4j.u42c));for(var e=this[F3Y4j.s4ic];e&&F3Y4j.z5S(e[F3Y4j.k4qc],t);)e=e[F3Y4j.P0Jc];box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.E5S(e,F3Y4j.E3qc)),e[F3Y4j.B72c]&&(e[F3Y4j.B72c][F3Y4j.P0Jc]=e[F3Y4j.P0Jc]),e[F3Y4j.P0Jc]&&(e[F3Y4j.P0Jc][F3Y4j.B72c]=e[F3Y4j.B72c]),F3Y4j.f5S(this[F3Y4j.s4ic],e)&&(this[F3Y4j.s4ic]=e[F3Y4j.P0Jc]),--this[F3Y4j.l9Jc],e[F3Y4j.t77c]&&(e[F3Y4j.t77c][F3Y4j.Q3tc]=e[F3Y4j.Q3tc]),e[F3Y4j.Q3tc]&&(e[F3Y4j.Q3tc][F3Y4j.t77c]=e[F3Y4j.t77c]),F3Y4j.H5S(t[F3Y4j.y47c],e)&&(t[F3Y4j.y47c]=e[F3Y4j.t77c]),--t[F3Y4j.I2ic]},box2d.b2Controller.prototype.Clear=function(){for(;this[F3Y4j.s4ic];)this[F3Y4j.G8qc](this[F3Y4j.s4ic][F3Y4j.k4qc]);this[F3Y4j.l9Jc]=F3Y4j.u42c},goog[F3Y4j.a0ic](F3Y4j.q8Ec),goog[F3Y4j.D02c]("box2d.b2Settings"),goog[F3Y4j.D02c]("box2d.b2Controller"),goog[F3Y4j.D02c]("box2d.b2Math"),box2d[F3Y4j.Q6tc]=function(){goog[F3Y4j.W3tc](this),this[F3Y4j.A8tc]=new box2d[F3Y4j.b17c](F3Y4j.u42c,F3Y4j.u42c)},goog[F3Y4j.b4ic](box2d[F3Y4j.Q6tc],box2d[F3Y4j.O9Ec]),box2d.b2ConstantAccelController.prototype.A=F3Y4j.E3qc,box2d.b2ConstantAccelController.prototype.Step=function(t){for(var e=box2d[F3Y4j.H07c](t[F3Y4j.N7Ec],this[F3Y4j.A8tc],box2d.b2ConstantAccelController.prototype.Step.s_dtA),i=this[F3Y4j.s4ic];i;i=i[F3Y4j.P0Jc]){var o=i[F3Y4j.k4qc];o[F3Y4j.y5Gc]()&&o[F3Y4j.p9tc](box2d[F3Y4j.O2ic](o[F3Y4j.w37c](),e,box2d[F3Y4j.b17c][F3Y4j.c1Jc]))}},box2d.b2ConstantAccelController.prototype.Step.s_dtA=new box2d[F3Y4j.b17c],goog[F3Y4j.a0ic](F3Y4j.f8qc),goog[F3Y4j.D02c]("box2d.b2Settings"),goog[F3Y4j.D02c]("box2d.b2Math"),box2d[F3Y4j.T3Jc]={e_unknownJoint:F3Y4j.u42c,e_revoluteJoint:F3Y4j.b42c,e_prismaticJoint:F3Y4j.B42c,e_distanceJoint:F3Y4j.R42c,e_pulleyJoint:F3Y4j.y42c,e_mouseJoint:F3Y4j.H42c,e_gearJoint:F3Y4j.p42c,e_wheelJoint:F3Y4j.f42c,e_weldJoint:F3Y4j.Z42c,e_frictionJoint:F3Y4j.I42c,e_ropeJoint:F3Y4j.D2ic,e_motorJoint:F3Y4j.q2ic,e_areaJoint:F3Y4j.z2ic},goog[F3Y4j.H7Ec](box2d[F3Y4j.T3Jc],F3Y4j.z1ic,box2d[F3Y4j.T3Jc][F3Y4j.X4Qc]),goog[F3Y4j.H7Ec](box2d[F3Y4j.T3Jc],F3Y4j.j2qc,box2d[F3Y4j.T3Jc][F3Y4j.Y7Ec]),goog[F3Y4j.H7Ec](box2d[F3Y4j.T3Jc],F3Y4j.x1ic,box2d[F3Y4j.T3Jc][F3Y4j.M3Ec]),goog[F3Y4j.H7Ec](box2d[F3Y4j.T3Jc],F3Y4j.u3qc,box2d[F3Y4j.T3Jc][F3Y4j.g3Jc]),goog[F3Y4j.H7Ec](box2d[F3Y4j.T3Jc],F3Y4j.x77c,box2d[F3Y4j.T3Jc][F3Y4j.u1Ec]),goog[F3Y4j.H7Ec](box2d[F3Y4j.T3Jc],F3Y4j.Q0Qc,box2d[F3Y4j.T3Jc][F3Y4j.z8tc]),goog[F3Y4j.H7Ec](box2d[F3Y4j.T3Jc],F3Y4j.W8Ec,box2d[F3Y4j.T3Jc][F3Y4j.d47c]),goog[F3Y4j.H7Ec](box2d[F3Y4j.T3Jc],F3Y4j.Y3Ec,box2d[F3Y4j.T3Jc][F3Y4j.o5Qc]),goog[F3Y4j.H7Ec](box2d[F3Y4j.T3Jc],F3Y4j.g32c,box2d[F3Y4j.T3Jc][F3Y4j.G5Qc]),goog[F3Y4j.H7Ec](box2d[F3Y4j.T3Jc],F3Y4j.B8tc,box2d[F3Y4j.T3Jc][F3Y4j.F67c]),goog[F3Y4j.H7Ec](box2d[F3Y4j.T3Jc],F3Y4j.E3tc,box2d[F3Y4j.T3Jc][F3Y4j.h2Jc]),goog[F3Y4j.H7Ec](box2d[F3Y4j.T3Jc],F3Y4j.N0Jc,box2d[F3Y4j.T3Jc][F3Y4j.W67c]),goog[F3Y4j.H7Ec](box2d[F3Y4j.T3Jc],F3Y4j.U9qc,box2d[F3Y4j.T3Jc][F3Y4j.g0Ec]),box2d[F3Y4j.B0Qc]={e_inactiveLimit:F3Y4j.u42c,e_atLowerLimit:F3Y4j.b42c,e_atUpperLimit:F3Y4j.B42c,e_equalLimits:F3Y4j.R42c},goog[F3Y4j.H7Ec](box2d[F3Y4j.B0Qc],F3Y4j.i57c,box2d[F3Y4j.B0Qc][F3Y4j.Z2tc]),goog[F3Y4j.H7Ec](box2d[F3Y4j.B0Qc],F3Y4j.I8ic,box2d[F3Y4j.B0Qc][F3Y4j.M8qc]),goog[F3Y4j.H7Ec](box2d[F3Y4j.B0Qc],F3Y4j.Z2Qc,box2d[F3Y4j.B0Qc][F3Y4j.s0Ec]),goog[F3Y4j.H7Ec](box2d[F3Y4j.B0Qc],F3Y4j.E9qc,box2d[F3Y4j.B0Qc][F3Y4j.Z6Jc]),box2d[F3Y4j.P3tc]=function(){this[F3Y4j.D2qc]=new box2d[F3Y4j.b17c]},box2d.b2Jacobian.prototype.linear=F3Y4j.E3qc,box2d.b2Jacobian.prototype.angularA=F3Y4j.u42c,box2d.b2Jacobian.prototype.angularB=F3Y4j.u42c,box2d.b2Jacobian.prototype.SetZero=function(){return this[F3Y4j.D2qc][F3Y4j.a4qc](),this[F3Y4j.V1Qc]=F3Y4j.u42c,this[F3Y4j.v5Qc]=F3Y4j.u42c,this},box2d.b2Jacobian.prototype.Set=function(t,e,i){return this[F3Y4j.D2qc][F3Y4j.j9Qc](t),this[F3Y4j.V1Qc]=e,this[F3Y4j.v5Qc]=i,this},box2d[F3Y4j.q3Jc]=function(){},box2d.b2JointEdge.prototype.other=F3Y4j.E3qc,box2d.b2JointEdge.prototype.joint=F3Y4j.E3qc,box2d.b2JointEdge.prototype.prev=F3Y4j.E3qc,box2d.b2JointEdge.prototype.next=F3Y4j.E3qc,box2d[F3Y4j.X7qc]=function(t){this[F3Y4j.r0Jc]=t},box2d.b2JointDef.prototype.type=box2d[F3Y4j.T3Jc][F3Y4j.X4Qc],box2d.b2JointDef.prototype.userData=F3Y4j.E3qc,box2d.b2JointDef.prototype.bodyA=F3Y4j.E3qc,box2d.b2JointDef.prototype.bodyB=F3Y4j.E3qc,box2d.b2JointDef.prototype.collideConnected=F3Y4j.h57c,box2d[F3Y4j.R6tc]=function(t){box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.I5S(t[F3Y4j.E32c],t[F3Y4j.F32c])),this[F3Y4j.N37c]=t[F3Y4j.r0Jc],this[F3Y4j.v22c]=new box2d[F3Y4j.q3Jc],this[F3Y4j.p22c]=new box2d[F3Y4j.q3Jc],this[F3Y4j.l8tc]=t[F3Y4j.E32c],this[F3Y4j.V8tc]=t[F3Y4j.F32c],this[F3Y4j.v1tc]=t[F3Y4j.c5Qc],this[F3Y4j.j9qc]=t[F3Y4j.f6Qc]},box2d.b2Joint.prototype.m_type=box2d[F3Y4j.T3Jc][F3Y4j.X4Qc],box2d.b2Joint.prototype.m_prev=F3Y4j.E3qc,box2d.b2Joint.prototype.m_next=F3Y4j.E3qc,box2d.b2Joint.prototype.m_edgeA=F3Y4j.E3qc,box2d.b2Joint.prototype.m_edgeB=F3Y4j.E3qc,box2d.b2Joint.prototype.m_bodyA=F3Y4j.E3qc,box2d.b2Joint.prototype.m_bodyB=F3Y4j.E3qc,box2d.b2Joint.prototype.m_index=F3Y4j.u42c,box2d.b2Joint.prototype.m_islandFlag=F3Y4j.h57c,box2d.b2Joint.prototype.m_collideConnected=F3Y4j.h57c,box2d.b2Joint.prototype.m_userData=F3Y4j.E3qc,box2d.b2Joint.prototype.GetAnchorA=function(t){return t[F3Y4j.a4qc]()},box2d.b2Joint.prototype.GetAnchorB=function(t){return t[F3Y4j.a4qc]()},box2d.b2Joint.prototype.GetReactionForce=function(t,e){return e[F3Y4j.a4qc]()},box2d.b2Joint.prototype.GetReactionTorque=function(t){return F3Y4j.u42c},box2d.b2Joint.prototype.InitVelocityConstraints=function(t){},box2d.b2Joint.prototype.SolveVelocityConstraints=function(t){},box2d.b2Joint.prototype.SolvePositionConstraints=function(t){return!1},box2d.b2Joint.prototype.GetType=function(){return this[F3Y4j.N37c]},box2d.b2Joint.prototype.GetBodyA=function(){return this[F3Y4j.l8tc]},box2d.b2Joint.prototype.GetBodyB=function(){return this[F3Y4j.V8tc]},box2d.b2Joint.prototype.GetNext=function(){return this[F3Y4j.l3tc]},box2d.b2Joint.prototype.GetUserData=function(){return this[F3Y4j.j9qc]},box2d.b2Joint.prototype.SetUserData=function(t){this[F3Y4j.j9qc]=t},box2d.b2Joint.prototype.GetCollideConnected=function(){return this[F3Y4j.v1tc]},box2d.b2Joint.prototype.Dump=function(){box2d[F3Y4j.l2Jc]&&box2d[F3Y4j.q7ic]("// Dump is not supported for this joint type.\n")},box2d.b2Joint.prototype.IsActive=function(){return this[F3Y4j.l8tc][F3Y4j.e6ic]()&&this[F3Y4j.V8tc][F3Y4j.e6ic]()},box2d.b2Joint.prototype.ShiftOrigin=function(t){},goog[F3Y4j.a0ic](F3Y4j.C8Ec),goog[F3Y4j.D02c]("box2d.b2Settings"),goog[F3Y4j.D02c]("box2d.b2Joint"),goog[F3Y4j.D02c]("box2d.b2Math"),box2d[F3Y4j.s5Ec]=function(){goog[F3Y4j.W3tc](this,box2d[F3Y4j.T3Jc][F3Y4j.Y7Ec]),this[F3Y4j.A4Ec]=new box2d[F3Y4j.b17c](F3Y4j.u42c,F3Y4j.u42c),this[F3Y4j.f4Ec]=new box2d[F3Y4j.b17c](F3Y4j.u42c,F3Y4j.u42c)},goog[F3Y4j.b4ic](box2d[F3Y4j.s5Ec],box2d[F3Y4j.X7qc]),box2d.b2RevoluteJointDef.prototype.localAnchorA=F3Y4j.E3qc,box2d.b2RevoluteJointDef.prototype.localAnchorB=F3Y4j.E3qc,box2d.b2RevoluteJointDef.prototype.referenceAngle=F3Y4j.u42c,box2d.b2RevoluteJointDef.prototype.enableLimit=F3Y4j.h57c,box2d.b2RevoluteJointDef.prototype.lowerAngle=F3Y4j.u42c,box2d.b2RevoluteJointDef.prototype.upperAngle=F3Y4j.u42c,box2d.b2RevoluteJointDef.prototype.enableMotor=F3Y4j.h57c,box2d.b2RevoluteJointDef.prototype.motorSpeed=F3Y4j.u42c,box2d.b2RevoluteJointDef.prototype.maxMotorTorque=F3Y4j.u42c,box2d.b2RevoluteJointDef.prototype.Initialize=function(t,e,i){this[F3Y4j.E32c]=t,this[F3Y4j.F32c]=e,this[F3Y4j.E32c][F3Y4j.v5Jc](i,this[F3Y4j.A4Ec]),this[F3Y4j.F32c][F3Y4j.v5Jc](i,this[F3Y4j.f4Ec]),this[F3Y4j.e2ic]=F3Y4j.w5S(this[F3Y4j.F32c][F3Y4j.T7Qc](),this[F3Y4j.E32c][F3Y4j.T7Qc]())},box2d[F3Y4j.y3Qc]=function(t){goog[F3Y4j.W3tc](this,t),this[F3Y4j.J2tc]=new box2d[F3Y4j.b17c],this[F3Y4j.B2tc]=new box2d[F3Y4j.b17c],this[F3Y4j.H6Ec]=new box2d[F3Y4j.x97c],this[F3Y4j.L9qc]=new box2d[F3Y4j.b17c],this[F3Y4j.s4qc]=new box2d[F3Y4j.b17c],this[F3Y4j.I8Jc]=new box2d[F3Y4j.b17c],this[F3Y4j.H2Jc]=new box2d[F3Y4j.b17c],this[F3Y4j.p57c]=new box2d[F3Y4j.i5Jc],this[F3Y4j.P9Qc]=new box2d[F3Y4j.s4Jc],this[F3Y4j.t3Qc]=new box2d[F3Y4j.s4Jc],this[F3Y4j.e6tc]=new box2d[F3Y4j.b17c],this[F3Y4j.M9tc]=new box2d[F3Y4j.b17c],this[F3Y4j.Y8qc]=new box2d[F3Y4j.r5Ec],this[F3Y4j.J2tc][F3Y4j.j9Qc](t[F3Y4j.A4Ec]),this[F3Y4j.B2tc][F3Y4j.j9Qc](t[F3Y4j.f4Ec]),this[F3Y4j.P82c]=t[F3Y4j.e2ic],this[F3Y4j.H6Ec][F3Y4j.a4qc](),this[F3Y4j.j82c]=F3Y4j.u42c,this[F3Y4j.q7tc]=t[F3Y4j.l6Ec],this[F3Y4j.w2Jc]=t[F3Y4j.n5Ec],this[F3Y4j.m0tc]=t[F3Y4j.B8Jc],this[F3Y4j.n1Ec]=t[F3Y4j.Y6ic],this[F3Y4j.o3Qc]=t[F3Y4j.A6ic],this[F3Y4j.N0Qc]=t[F3Y4j.B4ic],this[F3Y4j.K67c]=box2d[F3Y4j.B0Qc][F3Y4j.Z2tc]},goog[F3Y4j.b4ic](box2d[F3Y4j.y3Qc],box2d[F3Y4j.R6tc]),box2d.b2RevoluteJoint.prototype.m_localAnchorA=F3Y4j.E3qc,box2d.b2RevoluteJoint.prototype.m_localAnchorB=F3Y4j.E3qc,box2d.b2RevoluteJoint.prototype.m_impulse=F3Y4j.E3qc,box2d.b2RevoluteJoint.prototype.m_motorImpulse=F3Y4j.u42c,box2d.b2RevoluteJoint.prototype.m_enableMotor=F3Y4j.h57c,box2d.b2RevoluteJoint.prototype.m_maxMotorTorque=F3Y4j.u42c,box2d.b2RevoluteJoint.prototype.m_motorSpeed=F3Y4j.u42c,box2d.b2RevoluteJoint.prototype.m_enableLimit=F3Y4j.h57c,box2d.b2RevoluteJoint.prototype.m_referenceAngle=F3Y4j.u42c,box2d.b2RevoluteJoint.prototype.m_lowerAngle=F3Y4j.u42c,box2d.b2RevoluteJoint.prototype.m_upperAngle=F3Y4j.u42c,box2d.b2RevoluteJoint.prototype.m_indexA=F3Y4j.u42c,box2d.b2RevoluteJoint.prototype.m_indexB=F3Y4j.u42c,box2d.b2RevoluteJoint.prototype.m_rA=F3Y4j.E3qc,box2d.b2RevoluteJoint.prototype.m_rB=F3Y4j.E3qc,box2d.b2RevoluteJoint.prototype.m_localCenterA=F3Y4j.E3qc,box2d.b2RevoluteJoint.prototype.m_localCenterB=F3Y4j.E3qc,box2d.b2RevoluteJoint.prototype.m_invMassA=F3Y4j.u42c,box2d.b2RevoluteJoint.prototype.m_invMassB=F3Y4j.u42c,box2d.b2RevoluteJoint.prototype.m_invIA=F3Y4j.u42c,box2d.b2RevoluteJoint.prototype.m_invIB=F3Y4j.u42c,box2d.b2RevoluteJoint.prototype.m_mass=F3Y4j.E3qc,box2d.b2RevoluteJoint.prototype.m_motorMass=F3Y4j.u42c,box2d.b2RevoluteJoint.prototype.m_limitState=box2d[F3Y4j.B0Qc][F3Y4j.Z2tc],box2d.b2RevoluteJoint.prototype.m_qA=F3Y4j.E3qc,box2d.b2RevoluteJoint.prototype.m_qB=F3Y4j.E3qc,box2d.b2RevoluteJoint.prototype.m_lalcA=F3Y4j.E3qc,box2d.b2RevoluteJoint.prototype.m_lalcB=F3Y4j.E3qc,box2d.b2RevoluteJoint.prototype.m_K=F3Y4j.E3qc,box2d.b2RevoluteJoint.prototype.InitVelocityConstraints=function(t){this[F3Y4j.p5qc]=this[F3Y4j.l8tc][F3Y4j.h7Jc],this[F3Y4j.s5qc]=this[F3Y4j.V8tc][F3Y4j.h7Jc],this[F3Y4j.I8Jc][F3Y4j.j9Qc](this[F3Y4j.l8tc][F3Y4j.G4qc][F3Y4j.K92c]),this[F3Y4j.H2Jc][F3Y4j.j9Qc](this[F3Y4j.V8tc][F3Y4j.G4qc][F3Y4j.K92c]),this[F3Y4j.I9tc]=this[F3Y4j.l8tc][F3Y4j.m4tc],this[F3Y4j.h9tc]=this[F3Y4j.V8tc][F3Y4j.m4tc],this[F3Y4j.b4Jc]=this[F3Y4j.l8tc][F3Y4j.e1Ec],this[F3Y4j.Y9Jc]=this[F3Y4j.V8tc][F3Y4j.e1Ec];var e=t[F3Y4j.r7ic][this[F3Y4j.p5qc]][F3Y4j.O22c],i=t[F3Y4j.W8tc][this[F3Y4j.p5qc]][F3Y4j.H97c],o=t[F3Y4j.W8tc][this[F3Y4j.p5qc]][F3Y4j.X17c],n=t[F3Y4j.r7ic][this[F3Y4j.s5qc]][F3Y4j.O22c],s=t[F3Y4j.W8tc][this[F3Y4j.s5qc]][F3Y4j.H97c],r=t[F3Y4j.W8tc][this[F3Y4j.s5qc]][F3Y4j.X17c],c=this[F3Y4j.P9Qc][F3Y4j.b1ic](e),a=this[F3Y4j.t3Qc][F3Y4j.b1ic](n),c=(box2d[F3Y4j.J97c](this[F3Y4j.J2tc],this[F3Y4j.I8Jc],this[F3Y4j.e6tc]),box2d[F3Y4j.Z0tc](c,this[F3Y4j.e6tc],this[F3Y4j.L9qc]),box2d[F3Y4j.J97c](this[F3Y4j.B2tc],this[F3Y4j.H2Jc],this[F3Y4j.M9tc]),box2d[F3Y4j.Z0tc](a,this[F3Y4j.M9tc],this[F3Y4j.s4qc]),this[F3Y4j.I9tc]),a=this[F3Y4j.h9tc],h=this[F3Y4j.b4Jc],u=this[F3Y4j.Y9Jc],l=F3Y4j.N5S(h+u,0);this[F3Y4j.p57c][F3Y4j.C7Qc][F3Y4j.W17c]=c+a+F3Y4j.J5S(this[F3Y4j.L9qc][F3Y4j.I17c],this[F3Y4j.L9qc][F3Y4j.I17c],h)+F3Y4j.T5S(this[F3Y4j.s4qc][F3Y4j.I17c],this[F3Y4j.s4qc][F3Y4j.I17c],u),this[F3Y4j.p57c][F3Y4j.o6Qc][F3Y4j.W17c]=-this[F3Y4j.L9qc][F3Y4j.I17c]*this[F3Y4j.L9qc][F3Y4j.W17c]*h-F3Y4j.c5S(this[F3Y4j.s4qc][F3Y4j.I17c],this[F3Y4j.s4qc][F3Y4j.W17c],u),this[F3Y4j.p57c][F3Y4j.u6Qc][F3Y4j.W17c]=-this[F3Y4j.L9qc][F3Y4j.I17c]*h-F3Y4j.a5S(this[F3Y4j.s4qc][F3Y4j.I17c],u),this[F3Y4j.p57c][F3Y4j.C7Qc][F3Y4j.I17c]=this[F3Y4j.p57c][F3Y4j.o6Qc][F3Y4j.W17c],this[F3Y4j.p57c][F3Y4j.o6Qc][F3Y4j.I17c]=c+a+F3Y4j.L5S(this[F3Y4j.L9qc][F3Y4j.W17c],this[F3Y4j.L9qc][F3Y4j.W17c],h)+F3Y4j.d5S(this[F3Y4j.s4qc][F3Y4j.W17c],this[F3Y4j.s4qc][F3Y4j.W17c],u),this[F3Y4j.p57c][F3Y4j.u6Qc][F3Y4j.I17c]=F3Y4j.P5S(this[F3Y4j.L9qc][F3Y4j.W17c],h)+F3Y4j.V1S(this[F3Y4j.s4qc][F3Y4j.W17c],u),this[F3Y4j.p57c][F3Y4j.C7Qc][F3Y4j.q17c]=this[F3Y4j.p57c][F3Y4j.u6Qc][F3Y4j.W17c],this[F3Y4j.p57c][F3Y4j.o6Qc][F3Y4j.q17c]=this[F3Y4j.p57c][F3Y4j.u6Qc][F3Y4j.I17c],this[F3Y4j.p57c][F3Y4j.u6Qc][F3Y4j.q17c]=h+u,this[F3Y4j.Q17c]=h+u,F3Y4j.h1S(this[F3Y4j.Q17c],0)&&(this[F3Y4j.Q17c]=F3Y4j.R1S(1,this[F3Y4j.Q17c])),(F3Y4j.b1S(this[F3Y4j.N0Qc],!1)||l)&&(this[F3Y4j.j82c]=0),this[F3Y4j.o3Qc]&&F3Y4j.p1S(l,!1)?(l=F3Y4j.y1S(n,e,this[F3Y4j.P82c]),F3Y4j.Y1S(box2d[F3Y4j.O7Qc](this[F3Y4j.w2Jc]-this[F3Y4j.q7tc]),2*box2d[F3Y4j.U3qc])?this[F3Y4j.K67c]=box2d[F3Y4j.B0Qc][F3Y4j.Z6Jc]:F3Y4j.j1S(l,this[F3Y4j.q7tc])?(F3Y4j.A1S(this[F3Y4j.K67c],box2d[F3Y4j.B0Qc][F3Y4j.M8qc])&&(this[F3Y4j.H6Ec][F3Y4j.q17c]=0),this[F3Y4j.K67c]=box2d[F3Y4j.B0Qc][F3Y4j.M8qc]):F3Y4j.r1S(l,this[F3Y4j.w2Jc])?(F3Y4j.i1S(this[F3Y4j.K67c],box2d[F3Y4j.B0Qc][F3Y4j.s0Ec])&&(this[F3Y4j.H6Ec][F3Y4j.q17c]=0),this[F3Y4j.K67c]=box2d[F3Y4j.B0Qc][F3Y4j.s0Ec]):(this[F3Y4j.K67c]=box2d[F3Y4j.B0Qc][F3Y4j.Z2tc],this[F3Y4j.H6Ec][F3Y4j.q17c]=0)):this[F3Y4j.K67c]=box2d[F3Y4j.B0Qc][F3Y4j.Z2tc],t[F3Y4j.r7Ec][F3Y4j.D47c]?(this[F3Y4j.H6Ec][F3Y4j.M62c](t[F3Y4j.r7Ec][F3Y4j.W22c]),this[F3Y4j.j82c]*=t[F3Y4j.r7Ec][F3Y4j.W22c],n=box2d.b2RevoluteJoint.prototype.InitVelocityConstraints.s_P.SetXY(this[F3Y4j.H6Ec][F3Y4j.W17c],this[F3Y4j.H6Ec][F3Y4j.I17c]),i[F3Y4j.Y7Jc](c,n),o-=F3Y4j.c1S(h,box2d[F3Y4j.O62c](this[F3Y4j.L9qc],n)+this[F3Y4j.j82c]+this[F3Y4j.H6Ec][F3Y4j.q17c]),s[F3Y4j.C1qc](a,n),r+=F3Y4j.e1S(u,box2d[F3Y4j.O62c](this[F3Y4j.s4qc],n)+this[F3Y4j.j82c]+this[F3Y4j.H6Ec][F3Y4j.q17c])):(this[F3Y4j.H6Ec][F3Y4j.a4qc](),this[F3Y4j.j82c]=0),t[F3Y4j.W8tc][this[F3Y4j.p5qc]][F3Y4j.X17c]=o,t[F3Y4j.W8tc][this[F3Y4j.s5qc]][F3Y4j.X17c]=r},box2d.b2RevoluteJoint.prototype.InitVelocityConstraints.s_P=new box2d[F3Y4j.b17c],box2d.b2RevoluteJoint.prototype.SolveVelocityConstraints=function(t){var e,i,o,n,s,r,c,a,h=t[F3Y4j.W8tc][this[F3Y4j.p5qc]][F3Y4j.H97c],u=t[F3Y4j.W8tc][this[F3Y4j.p5qc]][F3Y4j.X17c],l=t[F3Y4j.W8tc][this[F3Y4j.s5qc]][F3Y4j.H97c],d=t[F3Y4j.W8tc][this[F3Y4j.s5qc]][F3Y4j.X17c],p=this[F3Y4j.I9tc],F=this[F3Y4j.h9tc],j=this[F3Y4j.b4Jc],Y=this[F3Y4j.Y9Jc],f=F3Y4j.g1S(j+Y,0);this[F3Y4j.N0Qc]&&F3Y4j.k1S(this[F3Y4j.K67c],box2d[F3Y4j.B0Qc][F3Y4j.Z6Jc])&&F3Y4j.n1S(f,!1)&&(c=F3Y4j.P1S(d,u,this[F3Y4j.n1Ec]),a=-this[F3Y4j.Q17c]*c,i=this[F3Y4j.j82c],e=F3Y4j.x9S(t[F3Y4j.r7Ec][F3Y4j.N7Ec],this[F3Y4j.m0tc]),this[F3Y4j.j82c]=box2d[F3Y4j.Q87c](this[F3Y4j.j82c]+a,-e,e),a=F3Y4j.O9S(this[F3Y4j.j82c],i),u-=F3Y4j.B9S(j,a),d+=F3Y4j.u9S(Y,a)),this[F3Y4j.o3Qc]&&F3Y4j.l9S(this[F3Y4j.K67c],box2d[F3Y4j.B0Qc][F3Y4j.Z2tc])&&F3Y4j.m9S(f,!1)?(e=box2d[F3Y4j.J97c](box2d[F3Y4j.M57c](l,d,this[F3Y4j.s4qc],box2d[F3Y4j.b17c][F3Y4j.c1Jc]),box2d[F3Y4j.M57c](h,u,this[F3Y4j.L9qc],box2d[F3Y4j.b17c][F3Y4j.M1Jc]),box2d.b2RevoluteJoint.prototype.SolveVelocityConstraints.s_Cdot1),i=F3Y4j.Y9S(d,u),a=this[F3Y4j.p57c][F3Y4j.G0Ec](e[F3Y4j.W17c],e[F3Y4j.I17c],i,box2d.b2RevoluteJoint.prototype.SolveVelocityConstraints.s_impulse3)[F3Y4j.p9qc](),F3Y4j.j9S(this[F3Y4j.K67c],box2d[F3Y4j.B0Qc][F3Y4j.Z6Jc])?this[F3Y4j.H6Ec][F3Y4j.l2Qc](a):F3Y4j.A9S(this[F3Y4j.K67c],box2d[F3Y4j.B0Qc][F3Y4j.M8qc])?(o=this[F3Y4j.H6Ec][F3Y4j.q17c]+a[F3Y4j.q17c],F3Y4j.r9S(o,0)?(n=-e[F3Y4j.W17c]+this[F3Y4j.H6Ec][F3Y4j.q17c]*this[F3Y4j.p57c][F3Y4j.u6Qc][F3Y4j.W17c],s=-e[F3Y4j.I17c]+this[F3Y4j.H6Ec][F3Y4j.q17c]*this[F3Y4j.p57c][F3Y4j.u6Qc][F3Y4j.I17c],r=this[F3Y4j.p57c][F3Y4j.q77c](n,s,box2d.b2RevoluteJoint.prototype.SolveVelocityConstraints.s_reduced),a[F3Y4j.W17c]=r[F3Y4j.W17c],a[F3Y4j.I17c]=r[F3Y4j.I17c],a[F3Y4j.q17c]=-this[F3Y4j.H6Ec][F3Y4j.q17c],this[F3Y4j.H6Ec][F3Y4j.W17c]+=r[F3Y4j.W17c],this[F3Y4j.H6Ec][F3Y4j.I17c]+=r[F3Y4j.I17c],this[F3Y4j.H6Ec][F3Y4j.q17c]=0):this[F3Y4j.H6Ec][F3Y4j.l2Qc](a)):F3Y4j.i9S(this[F3Y4j.K67c],box2d[F3Y4j.B0Qc][F3Y4j.s0Ec])&&(o=this[F3Y4j.H6Ec][F3Y4j.q17c]+a[F3Y4j.q17c],F3Y4j.c9S(o,0)?(n=-e[F3Y4j.W17c]+this[F3Y4j.H6Ec][F3Y4j.q17c]*this[F3Y4j.p57c][F3Y4j.u6Qc][F3Y4j.W17c],s=-e[F3Y4j.I17c]+this[F3Y4j.H6Ec][F3Y4j.q17c]*this[F3Y4j.p57c][F3Y4j.u6Qc][F3Y4j.I17c],r=this[F3Y4j.p57c][F3Y4j.q77c](n,s,box2d.b2RevoluteJoint.prototype.SolveVelocityConstraints.s_reduced),a[F3Y4j.W17c]=r[F3Y4j.W17c],a[F3Y4j.I17c]=r[F3Y4j.I17c],a[F3Y4j.q17c]=-this[F3Y4j.H6Ec][F3Y4j.q17c],this[F3Y4j.H6Ec][F3Y4j.W17c]+=r[F3Y4j.W17c],this[F3Y4j.H6Ec][F3Y4j.I17c]+=r[F3Y4j.I17c],this[F3Y4j.H6Ec][F3Y4j.q17c]=0):this[F3Y4j.H6Ec][F3Y4j.l2Qc](a)),f=box2d.b2RevoluteJoint.prototype.SolveVelocityConstraints.s_P.SetXY(a[F3Y4j.W17c],a[F3Y4j.I17c]),h[F3Y4j.Y7Jc](p,f),u-=F3Y4j.e9S(j,box2d[F3Y4j.O62c](this[F3Y4j.L9qc],f)+a[F3Y4j.q17c]),l[F3Y4j.C1qc](F,f),d+=F3Y4j.g9S(Y,box2d[F3Y4j.O62c](this[F3Y4j.s4qc],f)+a[F3Y4j.q17c])):(c=box2d[F3Y4j.J97c](box2d[F3Y4j.M57c](l,d,this[F3Y4j.s4qc],box2d[F3Y4j.b17c][F3Y4j.c1Jc]),box2d[F3Y4j.M57c](h,u,this[F3Y4j.L9qc],box2d[F3Y4j.b17c][F3Y4j.M1Jc]),box2d.b2RevoluteJoint.prototype.SolveVelocityConstraints.s_Cdot),a=this[F3Y4j.p57c][F3Y4j.q77c](-c[F3Y4j.W17c],-c[F3Y4j.I17c],box2d.b2RevoluteJoint.prototype.SolveVelocityConstraints.s_impulse2),this[F3Y4j.H6Ec][F3Y4j.W17c]+=a[F3Y4j.W17c],this[F3Y4j.H6Ec][F3Y4j.I17c]+=a[F3Y4j.I17c],h[F3Y4j.Y7Jc](p,a),u-=F3Y4j.k9S(j,box2d[F3Y4j.O62c](this[F3Y4j.L9qc],a)),l[F3Y4j.C1qc](F,a),d+=F3Y4j.n9S(Y,box2d[F3Y4j.O62c](this[F3Y4j.s4qc],a))),t[F3Y4j.W8tc][this[F3Y4j.p5qc]][F3Y4j.X17c]=u,t[F3Y4j.W8tc][this[F3Y4j.s5qc]][F3Y4j.X17c]=d},box2d.b2RevoluteJoint.prototype.SolveVelocityConstraints.s_P=new box2d[F3Y4j.b17c],box2d.b2RevoluteJoint.prototype.SolveVelocityConstraints.s_Cdot=new box2d[F3Y4j.b17c],box2d.b2RevoluteJoint.prototype.SolveVelocityConstraints.s_Cdot1=new box2d[F3Y4j.b17c],box2d.b2RevoluteJoint.prototype.SolveVelocityConstraints.s_impulse3=new box2d[F3Y4j.x97c],box2d.b2RevoluteJoint.prototype.SolveVelocityConstraints.s_reduced=new box2d[F3Y4j.b17c],box2d.b2RevoluteJoint.prototype.SolveVelocityConstraints.s_impulse2=new box2d[F3Y4j.b17c],box2d.b2RevoluteJoint.prototype.SolvePositionConstraints=function(t){var e,i=t[F3Y4j.r7ic][this[F3Y4j.p5qc]][F3Y4j.K22c],o=t[F3Y4j.r7ic][this[F3Y4j.p5qc]][F3Y4j.O22c],n=t[F3Y4j.r7ic][this[F3Y4j.s5qc]][F3Y4j.K22c],s=t[F3Y4j.r7ic][this[F3Y4j.s5qc]][F3Y4j.O22c],r=this[F3Y4j.P9Qc][F3Y4j.b1ic](o),c=this[F3Y4j.t3Qc][F3Y4j.b1ic](s),a=0,h=F3Y4j.P9S(this[F3Y4j.b4Jc]+this[F3Y4j.Y9Jc],0),h=(this[F3Y4j.o3Qc]&&F3Y4j.V4S(this[F3Y4j.K67c],box2d[F3Y4j.B0Qc][F3Y4j.Z2tc])&&F3Y4j.h4S(h,!1)&&(h=F3Y4j.R4S(s,o,this[F3Y4j.P82c]),u=0,F3Y4j.u4S(this[F3Y4j.K67c],box2d[F3Y4j.B0Qc][F3Y4j.Z6Jc])?(e=box2d[F3Y4j.Q87c](F3Y4j.l4S(h,this[F3Y4j.q7tc]),-box2d[F3Y4j.M87c],box2d[F3Y4j.M87c]),u=-this[F3Y4j.Q17c]*e,a=box2d[F3Y4j.O7Qc](e)):F3Y4j.m4S(this[F3Y4j.K67c],box2d[F3Y4j.B0Qc][F3Y4j.M8qc])?(a=-(e=F3Y4j.Y4S(h,this[F3Y4j.q7tc])),e=box2d[F3Y4j.Q87c](e+box2d[F3Y4j.U3qc],-box2d[F3Y4j.M87c],0),u=-this[F3Y4j.Q17c]*e):F3Y4j.j4S(this[F3Y4j.K67c],box2d[F3Y4j.B0Qc][F3Y4j.s0Ec])&&(a=e=F3Y4j.A4S(h,this[F3Y4j.w2Jc]),e=box2d[F3Y4j.Q87c](F3Y4j.r4S(e,box2d[F3Y4j.U3qc]),0,box2d[F3Y4j.M87c]),u=-this[F3Y4j.Q17c]*e),o-=F3Y4j.i4S(this[F3Y4j.b4Jc],u),s+=F3Y4j.c4S(this[F3Y4j.Y9Jc],u)),r[F3Y4j.b1ic](o),c[F3Y4j.b1ic](s),box2d[F3Y4j.J97c](this[F3Y4j.J2tc],this[F3Y4j.I8Jc],this[F3Y4j.e6tc]),box2d[F3Y4j.Z0tc](r,this[F3Y4j.e6tc],this[F3Y4j.L9qc])),u=(box2d[F3Y4j.J97c](this[F3Y4j.B2tc],this[F3Y4j.H2Jc],this[F3Y4j.M9tc]),box2d[F3Y4j.Z0tc](c,this[F3Y4j.M9tc],this[F3Y4j.s4qc])),r=(e=box2d[F3Y4j.J97c](box2d[F3Y4j.O2ic](n,u,box2d[F3Y4j.b17c][F3Y4j.c1Jc]),box2d[F3Y4j.O2ic](i,h,box2d[F3Y4j.b17c][F3Y4j.M1Jc]),box2d.b2RevoluteJoint.prototype.SolvePositionConstraints.s_C))[F3Y4j.x2Jc](),c=this[F3Y4j.I9tc],l=this[F3Y4j.h9tc],d=this[F3Y4j.b4Jc],p=this[F3Y4j.Y9Jc],F=this[F3Y4j.Y8qc],F=(F[F3Y4j.C7Qc][F3Y4j.W17c]=c+l+F3Y4j.e4S(d,h[F3Y4j.I17c],h[F3Y4j.I17c])+F3Y4j.L4S(p,u[F3Y4j.I17c],u[F3Y4j.I17c]),F[F3Y4j.C7Qc][F3Y4j.I17c]=-d*h[F3Y4j.W17c]*h[F3Y4j.I17c]-F3Y4j.d4S(p,u[F3Y4j.W17c],u[F3Y4j.I17c]),F[F3Y4j.o6Qc][F3Y4j.W17c]=F[F3Y4j.C7Qc][F3Y4j.I17c],F[F3Y4j.o6Qc][F3Y4j.I17c]=c+l+F3Y4j.P4S(d,h[F3Y4j.W17c],h[F3Y4j.W17c])+F3Y4j.x3S(p,u[F3Y4j.W17c],u[F3Y4j.W17c]),F[F3Y4j.t2Jc](e[F3Y4j.W17c],e[F3Y4j.I17c],box2d.b2RevoluteJoint.prototype.SolvePositionConstraints.s_impulse)[F3Y4j.p9qc]());return i[F3Y4j.Y7Jc](c,F),o-=F3Y4j.z3S(d,box2d[F3Y4j.O62c](h,F)),n[F3Y4j.C1qc](l,F),s+=F3Y4j.E3S(p,box2d[F3Y4j.O62c](u,F)),t[F3Y4j.r7ic][this[F3Y4j.p5qc]][F3Y4j.O22c]=o,t[F3Y4j.r7ic][this[F3Y4j.s5qc]][F3Y4j.O22c]=s,F3Y4j.f3S(r,box2d[F3Y4j.l9qc])&&F3Y4j.H3S(a,box2d[F3Y4j.U3qc])},box2d.b2RevoluteJoint.prototype.SolvePositionConstraints.s_C=new box2d[F3Y4j.b17c],box2d.b2RevoluteJoint.prototype.SolvePositionConstraints.s_impulse=new box2d[F3Y4j.b17c],box2d.b2RevoluteJoint.prototype.GetAnchorA=function(t){return this[F3Y4j.l8tc][F3Y4j.K82c](this[F3Y4j.J2tc],t)},box2d.b2RevoluteJoint.prototype.GetAnchorB=function(t){return this[F3Y4j.V8tc][F3Y4j.K82c](this[F3Y4j.B2tc],t)},box2d.b2RevoluteJoint.prototype.GetReactionForce=function(t,e){return e[F3Y4j.V0tc](F3Y4j.I3S(t,this[F3Y4j.H6Ec][F3Y4j.W17c]),F3Y4j.w3S(t,this[F3Y4j.H6Ec][F3Y4j.I17c]))},box2d.b2RevoluteJoint.prototype.GetReactionTorque=function(t){return F3Y4j.N3S(t,this[F3Y4j.H6Ec][F3Y4j.q17c])},box2d.b2RevoluteJoint.prototype.GetLocalAnchorA=function(t){return t[F3Y4j.j9Qc](this[F3Y4j.J2tc])},box2d.b2RevoluteJoint.prototype.GetLocalAnchorB=function(t){return t[F3Y4j.j9Qc](this[F3Y4j.B2tc])},box2d.b2RevoluteJoint.prototype.GetReferenceAngle=function(){return this[F3Y4j.P82c]},box2d.b2RevoluteJoint.prototype.GetJointAngleRadians=function(){return F3Y4j.J3S(this[F3Y4j.V8tc][F3Y4j.G4qc][F3Y4j.O22c],this[F3Y4j.l8tc][F3Y4j.G4qc][F3Y4j.O22c],this[F3Y4j.P82c])},box2d.b2RevoluteJoint.prototype.GetJointSpeed=function(){return F3Y4j.T3S(this[F3Y4j.V8tc][F3Y4j.s9Qc],this[F3Y4j.l8tc][F3Y4j.s9Qc])},box2d.b2RevoluteJoint.prototype.IsMotorEnabled=function(){return this[F3Y4j.N0Qc]},box2d.b2RevoluteJoint.prototype.EnableMotor=function(t){F3Y4j.v3S(this[F3Y4j.N0Qc],t)&&(this[F3Y4j.l8tc][F3Y4j.s7Ec](F3Y4j.H3qc),this[F3Y4j.V8tc][F3Y4j.s7Ec](F3Y4j.H3qc),this[F3Y4j.N0Qc]=t)},box2d.b2RevoluteJoint.prototype.GetMotorTorque=function(t){return F3Y4j.W3S(t,this[F3Y4j.j82c])},box2d.b2RevoluteJoint.prototype.GetMotorSpeed=function(){return this[F3Y4j.n1Ec]},box2d.b2RevoluteJoint.prototype.SetMaxMotorTorque=function(t){this[F3Y4j.m0tc]=t},box2d.b2RevoluteJoint.prototype.GetMaxMotorTorque=function(){return this[F3Y4j.m0tc]},box2d.b2RevoluteJoint.prototype.IsLimitEnabled=function(){return this[F3Y4j.o3Qc]},box2d.b2RevoluteJoint.prototype.EnableLimit=function(t){F3Y4j.C3S(t,this[F3Y4j.o3Qc])&&(this[F3Y4j.l8tc][F3Y4j.s7Ec](F3Y4j.H3qc),this[F3Y4j.V8tc][F3Y4j.s7Ec](F3Y4j.H3qc),this[F3Y4j.o3Qc]=t,this[F3Y4j.H6Ec][F3Y4j.q17c]=F3Y4j.u42c)},box2d.b2RevoluteJoint.prototype.GetLowerLimit=function(){return this[F3Y4j.q7tc]},box2d.b2RevoluteJoint.prototype.GetUpperLimit=function(){return this[F3Y4j.w2Jc]},box2d.b2RevoluteJoint.prototype.SetLimits=function(t,e){(F3Y4j.U3S(t,this[F3Y4j.q7tc])||F3Y4j.d3S(e,this[F3Y4j.w2Jc]))&&(this[F3Y4j.l8tc][F3Y4j.s7Ec](F3Y4j.H3qc),this[F3Y4j.V8tc][F3Y4j.s7Ec](F3Y4j.H3qc),this[F3Y4j.H6Ec][F3Y4j.q17c]=F3Y4j.u42c,this[F3Y4j.q7tc]=t,this[F3Y4j.w2Jc]=e)},box2d.b2RevoluteJoint.prototype.SetMotorSpeed=function(t){F3Y4j.X3S(this[F3Y4j.n1Ec],t)&&(this[F3Y4j.l8tc][F3Y4j.s7Ec](!0),this[F3Y4j.V8tc][F3Y4j.s7Ec](!0),this[F3Y4j.n1Ec]=t)},box2d.b2RevoluteJoint.prototype.Dump=function(){var t,e;box2d[F3Y4j.l2Jc]&&(t=this[F3Y4j.l8tc][F3Y4j.h7Jc],e=this[F3Y4j.V8tc][F3Y4j.h7Jc],box2d[F3Y4j.q7ic]("  /*box2d.b2RevoluteJointDef*/ var jd = new box2d.b2RevoluteJointDef();\n"),box2d[F3Y4j.q7ic](F3Y4j.v3Qc,t),box2d[F3Y4j.q7ic](F3Y4j.V8qc,e),box2d[F3Y4j.q7ic](F3Y4j.V6qc,this[F3Y4j.v1tc]?F3Y4j.H1Ec:F3Y4j.y07c),box2d[F3Y4j.q7ic](F3Y4j.u1ic,this[F3Y4j.J2tc][F3Y4j.W17c],this[F3Y4j.J2tc][F3Y4j.I17c]),box2d[F3Y4j.q7ic](F3Y4j.o1Qc,this[F3Y4j.B2tc][F3Y4j.W17c],this[F3Y4j.B2tc][F3Y4j.I17c]),box2d[F3Y4j.q7ic](F3Y4j.k7Ec,this[F3Y4j.P82c]),box2d[F3Y4j.q7ic](F3Y4j.M9qc,this[F3Y4j.o3Qc]?F3Y4j.H1Ec:F3Y4j.y07c),box2d[F3Y4j.q7ic]("  jd.lowerAngle = %.15f;\n",this[F3Y4j.q7tc]),box2d[F3Y4j.q7ic]("  jd.upperAngle = %.15f;\n",this[F3Y4j.w2Jc]),box2d[F3Y4j.q7ic](F3Y4j.S6Qc,this[F3Y4j.N0Qc]?F3Y4j.H1Ec:F3Y4j.y07c),box2d[F3Y4j.q7ic](F3Y4j.E3Jc,this[F3Y4j.n1Ec]),box2d[F3Y4j.q7ic](F3Y4j.T4ic,this[F3Y4j.m0tc]),box2d[F3Y4j.q7ic](F3Y4j.Q4Jc,this[F3Y4j.O7tc]))},goog[F3Y4j.a0ic](F3Y4j.r6Ec),goog[F3Y4j.D02c]("box2d.b2Settings"),goog[F3Y4j.D02c]("box2d.b2Joint"),goog[F3Y4j.D02c]("box2d.b2Math"),box2d[F3Y4j.Q2ic]=function(){goog[F3Y4j.W3tc](this,box2d[F3Y4j.T3Jc][F3Y4j.M3Ec]),this[F3Y4j.A4Ec]=new box2d[F3Y4j.b17c],this[F3Y4j.f4Ec]=new box2d[F3Y4j.b17c],this[F3Y4j.Q22c]=new box2d[F3Y4j.b17c](F3Y4j.b42c,F3Y4j.u42c)},goog[F3Y4j.b4ic](box2d[F3Y4j.Q2ic],box2d[F3Y4j.X7qc]),box2d.b2PrismaticJointDef.prototype.localAnchorA=F3Y4j.E3qc,box2d.b2PrismaticJointDef.prototype.localAnchorB=F3Y4j.E3qc,box2d.b2PrismaticJointDef.prototype.localAxisA=F3Y4j.E3qc,box2d.b2PrismaticJointDef.prototype.referenceAngle=F3Y4j.u42c,box2d.b2PrismaticJointDef.prototype.enableLimit=F3Y4j.h57c,box2d.b2PrismaticJointDef.prototype.lowerTranslation=F3Y4j.u42c,box2d.b2PrismaticJointDef.prototype.upperTranslation=F3Y4j.u42c,box2d.b2PrismaticJointDef.prototype.enableMotor=F3Y4j.h57c,box2d.b2PrismaticJointDef.prototype.maxMotorForce=F3Y4j.u42c,box2d.b2PrismaticJointDef.prototype.motorSpeed=F3Y4j.u42c,box2d.b2PrismaticJointDef.prototype.Initialize=function(t,e,i,o){this[F3Y4j.E32c]=t,this[F3Y4j.F32c]=e,this[F3Y4j.E32c][F3Y4j.v5Jc](i,this[F3Y4j.A4Ec]),this[F3Y4j.F32c][F3Y4j.v5Jc](i,this[F3Y4j.f4Ec]),this[F3Y4j.E32c][F3Y4j.c72c](o,this[F3Y4j.Q22c]),this[F3Y4j.e2ic]=F3Y4j.o7S(this[F3Y4j.F32c][F3Y4j.T7Qc](),this[F3Y4j.E32c][F3Y4j.T7Qc]())},box2d[F3Y4j.d5Jc]=function(t){goog[F3Y4j.W3tc](this,t),this[F3Y4j.J2tc]=t[F3Y4j.A4Ec][F3Y4j.N07c](),this[F3Y4j.B2tc]=t[F3Y4j.f4Ec][F3Y4j.N07c](),this[F3Y4j.v6Jc]=t[F3Y4j.Q22c][F3Y4j.N07c]()[F3Y4j.X7Jc](),this[F3Y4j.N17c]=box2d[F3Y4j.f7Ec](this[F3Y4j.v6Jc],new box2d[F3Y4j.b17c]),this[F3Y4j.P82c]=t[F3Y4j.e2ic],this[F3Y4j.H6Ec]=new box2d[F3Y4j.x97c](F3Y4j.u42c,F3Y4j.u42c,F3Y4j.u42c),this[F3Y4j.m4Jc]=t[F3Y4j.Q9Ec],this[F3Y4j.n5ic]=t[F3Y4j.S5qc],this[F3Y4j.z7tc]=t[F3Y4j.q8Qc],this[F3Y4j.n1Ec]=t[F3Y4j.Y6ic],this[F3Y4j.o3Qc]=t[F3Y4j.A6ic],this[F3Y4j.N0Qc]=t[F3Y4j.B4ic],this[F3Y4j.I8Jc]=new box2d[F3Y4j.b17c],this[F3Y4j.H2Jc]=new box2d[F3Y4j.b17c],this[F3Y4j.j5Ec]=new box2d[F3Y4j.b17c](F3Y4j.u42c,F3Y4j.u42c),this[F3Y4j.b9Qc]=new box2d[F3Y4j.b17c](F3Y4j.u42c,F3Y4j.u42c),this[F3Y4j.Y8qc]=new box2d[F3Y4j.i5Jc],this[F3Y4j.F07c]=new box2d[F3Y4j.i5Jc],this[F3Y4j.U07c]=new box2d[F3Y4j.r5Ec],this[F3Y4j.P9Qc]=new box2d[F3Y4j.s4Jc],this[F3Y4j.t3Qc]=new box2d[F3Y4j.s4Jc],this[F3Y4j.e6tc]=new box2d[F3Y4j.b17c],this[F3Y4j.M9tc]=new box2d[F3Y4j.b17c],this[F3Y4j.L9qc]=new box2d[F3Y4j.b17c],this[F3Y4j.s4qc]=new box2d[F3Y4j.b17c]},goog[F3Y4j.b4ic](box2d[F3Y4j.d5Jc],box2d[F3Y4j.R6tc]),box2d.b2PrismaticJoint.prototype.m_localAnchorA=F3Y4j.E3qc,box2d.b2PrismaticJoint.prototype.m_localAnchorB=F3Y4j.E3qc,box2d.b2PrismaticJoint.prototype.m_localXAxisA=F3Y4j.E3qc,box2d.b2PrismaticJoint.prototype.m_localYAxisA=F3Y4j.E3qc,box2d.b2PrismaticJoint.prototype.m_referenceAngle=F3Y4j.u42c,box2d.b2PrismaticJoint.prototype.m_impulse=F3Y4j.E3qc,box2d.b2PrismaticJoint.prototype.m_motorImpulse=F3Y4j.u42c,box2d.b2PrismaticJoint.prototype.m_lowerTranslation=F3Y4j.u42c,box2d.b2PrismaticJoint.prototype.m_upperTranslation=F3Y4j.u42c,box2d.b2PrismaticJoint.prototype.m_maxMotorForce=F3Y4j.u42c,box2d.b2PrismaticJoint.prototype.m_motorSpeed=F3Y4j.u42c,box2d.b2PrismaticJoint.prototype.m_enableLimit=F3Y4j.h57c,box2d.b2PrismaticJoint.prototype.m_enableMotor=F3Y4j.h57c,box2d.b2PrismaticJoint.prototype.m_limitState=box2d[F3Y4j.B0Qc][F3Y4j.Z2tc],box2d.b2PrismaticJoint.prototype.m_indexA=F3Y4j.u42c,box2d.b2PrismaticJoint.prototype.m_indexB=F3Y4j.u42c,box2d.b2PrismaticJoint.prototype.m_localCenterA=F3Y4j.E3qc,box2d.b2PrismaticJoint.prototype.m_localCenterB=F3Y4j.E3qc,box2d.b2PrismaticJoint.prototype.m_invMassA=F3Y4j.u42c,box2d.b2PrismaticJoint.prototype.m_invMassB=F3Y4j.u42c,box2d.b2PrismaticJoint.prototype.m_invIA=F3Y4j.u42c,box2d.b2PrismaticJoint.prototype.m_invIB=F3Y4j.u42c,box2d.b2PrismaticJoint.prototype.m_axis=F3Y4j.E3qc,box2d.b2PrismaticJoint.prototype.m_perp=F3Y4j.E3qc,box2d.b2PrismaticJoint.prototype.m_s1=F3Y4j.u42c,box2d.b2PrismaticJoint.prototype.m_s2=F3Y4j.u42c,box2d.b2PrismaticJoint.prototype.m_a1=F3Y4j.u42c,box2d.b2PrismaticJoint.prototype.m_a2=F3Y4j.u42c,box2d.b2PrismaticJoint.prototype.m_K=F3Y4j.E3qc,box2d.b2PrismaticJoint.prototype.m_K3=F3Y4j.E3qc,box2d.b2PrismaticJoint.prototype.m_K2=F3Y4j.E3qc,box2d.b2PrismaticJoint.prototype.m_motorMass=F3Y4j.u42c,box2d.b2PrismaticJoint.prototype.m_qA=F3Y4j.E3qc,box2d.b2PrismaticJoint.prototype.m_qB=F3Y4j.E3qc,box2d.b2PrismaticJoint.prototype.m_lalcA=F3Y4j.E3qc,box2d.b2PrismaticJoint.prototype.m_lalcB=F3Y4j.E3qc,box2d.b2PrismaticJoint.prototype.m_rA=F3Y4j.E3qc,box2d.b2PrismaticJoint.prototype.m_rB=F3Y4j.E3qc,box2d.b2PrismaticJoint.prototype.InitVelocityConstraints=function(t){this[F3Y4j.p5qc]=this[F3Y4j.l8tc][F3Y4j.h7Jc],this[F3Y4j.s5qc]=this[F3Y4j.V8tc][F3Y4j.h7Jc],this[F3Y4j.I8Jc][F3Y4j.j9Qc](this[F3Y4j.l8tc][F3Y4j.G4qc][F3Y4j.K92c]),this[F3Y4j.H2Jc][F3Y4j.j9Qc](this[F3Y4j.V8tc][F3Y4j.G4qc][F3Y4j.K92c]),this[F3Y4j.I9tc]=this[F3Y4j.l8tc][F3Y4j.m4tc],this[F3Y4j.h9tc]=this[F3Y4j.V8tc][F3Y4j.m4tc],this[F3Y4j.b4Jc]=this[F3Y4j.l8tc][F3Y4j.e1Ec],this[F3Y4j.Y9Jc]=this[F3Y4j.V8tc][F3Y4j.e1Ec];var e=t[F3Y4j.r7ic][this[F3Y4j.p5qc]][F3Y4j.K22c],i=t[F3Y4j.r7ic][this[F3Y4j.p5qc]][F3Y4j.O22c],o=t[F3Y4j.W8tc][this[F3Y4j.p5qc]][F3Y4j.H97c],n=t[F3Y4j.W8tc][this[F3Y4j.p5qc]][F3Y4j.X17c],s=t[F3Y4j.r7ic][this[F3Y4j.s5qc]][F3Y4j.K22c],r=t[F3Y4j.r7ic][this[F3Y4j.s5qc]][F3Y4j.O22c],c=t[F3Y4j.W8tc][this[F3Y4j.s5qc]][F3Y4j.H97c],a=t[F3Y4j.W8tc][this[F3Y4j.s5qc]][F3Y4j.X17c],i=this[F3Y4j.P9Qc][F3Y4j.b1ic](i),r=this[F3Y4j.t3Qc][F3Y4j.b1ic](r),h=(box2d[F3Y4j.J97c](this[F3Y4j.J2tc],this[F3Y4j.I8Jc],this[F3Y4j.e6tc]),box2d[F3Y4j.Z0tc](i,this[F3Y4j.e6tc],this[F3Y4j.L9qc])),r=(box2d[F3Y4j.J97c](this[F3Y4j.B2tc],this[F3Y4j.H2Jc],this[F3Y4j.M9tc]),box2d[F3Y4j.Z0tc](r,this[F3Y4j.M9tc],this[F3Y4j.s4qc])),s=box2d[F3Y4j.O2ic](box2d[F3Y4j.J97c](s,e,box2d[F3Y4j.b17c][F3Y4j.c1Jc]),box2d[F3Y4j.J97c](r,h,box2d[F3Y4j.b17c][F3Y4j.M1Jc]),box2d.b2PrismaticJoint.prototype.InitVelocityConstraints.s_d),e=this[F3Y4j.I9tc],u=this[F3Y4j.h9tc],l=this[F3Y4j.b4Jc],d=this[F3Y4j.Y9Jc];box2d[F3Y4j.Z0tc](i,this[F3Y4j.v6Jc],this[F3Y4j.j5Ec]),this[F3Y4j.l5Ec]=box2d[F3Y4j.O62c](box2d[F3Y4j.O2ic](s,h,box2d[F3Y4j.b17c][F3Y4j.c1Jc]),this[F3Y4j.j5Ec]),this[F3Y4j.m1Ec]=box2d[F3Y4j.O62c](r,this[F3Y4j.j5Ec]),this[F3Y4j.Q17c]=e+u+F3Y4j.q7S(l,this[F3Y4j.l5Ec],this[F3Y4j.l5Ec])+F3Y4j.R7S(d,this[F3Y4j.m1Ec],this[F3Y4j.m1Ec]),F3Y4j.u7S(this[F3Y4j.Q17c],0)&&(this[F3Y4j.Q17c]=F3Y4j.l7S(1,this[F3Y4j.Q17c])),box2d[F3Y4j.Z0tc](i,this[F3Y4j.N17c],this[F3Y4j.b9Qc]),this[F3Y4j.e2Jc]=box2d[F3Y4j.O62c](box2d[F3Y4j.O2ic](s,h,box2d[F3Y4j.b17c][F3Y4j.c1Jc]),this[F3Y4j.b9Qc]),this[F3Y4j.Y2Jc]=box2d[F3Y4j.O62c](r,this[F3Y4j.b9Qc]),this[F3Y4j.Y8qc][F3Y4j.C7Qc][F3Y4j.W17c]=e+u+F3Y4j.m7S(l,this[F3Y4j.e2Jc],this[F3Y4j.e2Jc])+F3Y4j.w7S(d,this[F3Y4j.Y2Jc],this[F3Y4j.Y2Jc]),this[F3Y4j.Y8qc][F3Y4j.C7Qc][F3Y4j.I17c]=F3Y4j.F7S(l,this[F3Y4j.e2Jc])+F3Y4j.t7S(d,this[F3Y4j.Y2Jc]),this[F3Y4j.Y8qc][F3Y4j.C7Qc][F3Y4j.q17c]=F3Y4j.T7S(l,this[F3Y4j.e2Jc],this[F3Y4j.l5Ec])+F3Y4j.c7S(d,this[F3Y4j.Y2Jc],this[F3Y4j.m1Ec]),this[F3Y4j.Y8qc][F3Y4j.o6Qc][F3Y4j.W17c]=this[F3Y4j.Y8qc][F3Y4j.C7Qc][F3Y4j.I17c],this[F3Y4j.Y8qc][F3Y4j.o6Qc][F3Y4j.I17c]=l+d,F3Y4j.a7S(this[F3Y4j.Y8qc][F3Y4j.o6Qc][F3Y4j.I17c],0)&&(this[F3Y4j.Y8qc][F3Y4j.o6Qc][F3Y4j.I17c]=1),this[F3Y4j.Y8qc][F3Y4j.o6Qc][F3Y4j.q17c]=F3Y4j.L7S(l,this[F3Y4j.l5Ec])+F3Y4j.K7S(d,this[F3Y4j.m1Ec]),this[F3Y4j.Y8qc][F3Y4j.u6Qc][F3Y4j.W17c]=this[F3Y4j.Y8qc][F3Y4j.C7Qc][F3Y4j.q17c],this[F3Y4j.Y8qc][F3Y4j.u6Qc][F3Y4j.I17c]=this[F3Y4j.Y8qc][F3Y4j.o6Qc][F3Y4j.q17c],this[F3Y4j.Y8qc][F3Y4j.u6Qc][F3Y4j.q17c]=e+u+F3Y4j.M7S(l,this[F3Y4j.l5Ec],this[F3Y4j.l5Ec])+F3Y4j.o6S(d,this[F3Y4j.m1Ec],this[F3Y4j.m1Ec]),this[F3Y4j.o3Qc]?(i=box2d[F3Y4j.U2tc](this[F3Y4j.j5Ec],s),F3Y4j.h6S(box2d[F3Y4j.O7Qc](this[F3Y4j.n5ic]-this[F3Y4j.m4Jc]),2*box2d[F3Y4j.l9qc])?this[F3Y4j.K67c]=box2d[F3Y4j.B0Qc][F3Y4j.Z6Jc]:F3Y4j.R6S(i,this[F3Y4j.m4Jc])?F3Y4j.b6S(this[F3Y4j.K67c],box2d[F3Y4j.B0Qc][F3Y4j.M8qc])&&(this[F3Y4j.K67c]=box2d[F3Y4j.B0Qc][F3Y4j.M8qc],this[F3Y4j.H6Ec][F3Y4j.q17c]=0):F3Y4j.p6S(i,this[F3Y4j.n5ic])?F3Y4j.y6S(this[F3Y4j.K67c],box2d[F3Y4j.B0Qc][F3Y4j.s0Ec])&&(this[F3Y4j.K67c]=box2d[F3Y4j.B0Qc][F3Y4j.s0Ec],this[F3Y4j.H6Ec][F3Y4j.q17c]=0):(this[F3Y4j.K67c]=box2d[F3Y4j.B0Qc][F3Y4j.Z2tc],this[F3Y4j.H6Ec][F3Y4j.q17c]=0)):(this[F3Y4j.K67c]=box2d[F3Y4j.B0Qc][F3Y4j.Z2tc],this[F3Y4j.H6Ec][F3Y4j.q17c]=0),F3Y4j.Z6S(this[F3Y4j.N0Qc],!1)&&(this[F3Y4j.j82c]=0),t[F3Y4j.r7Ec][F3Y4j.D47c]?(this[F3Y4j.H6Ec][F3Y4j.M62c](t[F3Y4j.r7Ec][F3Y4j.W22c]),this[F3Y4j.j82c]*=t[F3Y4j.r7Ec][F3Y4j.W22c],h=box2d[F3Y4j.O2ic](box2d[F3Y4j.H07c](this[F3Y4j.H6Ec][F3Y4j.W17c],this[F3Y4j.b9Qc],box2d[F3Y4j.b17c][F3Y4j.c1Jc]),box2d[F3Y4j.H07c](this[F3Y4j.j82c]+this[F3Y4j.H6Ec][F3Y4j.q17c],this[F3Y4j.j5Ec],box2d[F3Y4j.b17c][F3Y4j.M1Jc]),box2d.b2PrismaticJoint.prototype.InitVelocityConstraints.s_P),r=F3Y4j.D6S(this[F3Y4j.H6Ec][F3Y4j.W17c],this[F3Y4j.e2Jc])+this[F3Y4j.H6Ec][F3Y4j.I17c]+F3Y4j.F6S(this[F3Y4j.j82c]+this[F3Y4j.H6Ec][F3Y4j.q17c],this[F3Y4j.l5Ec]),s=F3Y4j.t6S(this[F3Y4j.H6Ec][F3Y4j.W17c],this[F3Y4j.Y2Jc])+this[F3Y4j.H6Ec][F3Y4j.I17c]+F3Y4j.T6S(this[F3Y4j.j82c]+this[F3Y4j.H6Ec][F3Y4j.q17c],this[F3Y4j.m1Ec]),o[F3Y4j.Y7Jc](e,h),n-=F3Y4j.v6S(l,r),c[F3Y4j.C1qc](u,h),a+=F3Y4j.W6S(d,s)):(this[F3Y4j.H6Ec][F3Y4j.a4qc](),this[F3Y4j.j82c]=0),t[F3Y4j.W8tc][this[F3Y4j.p5qc]][F3Y4j.X17c]=n,t[F3Y4j.W8tc][this[F3Y4j.s5qc]][F3Y4j.X17c]=a},box2d.b2PrismaticJoint.prototype.InitVelocityConstraints.s_d=new box2d[F3Y4j.b17c],box2d.b2PrismaticJoint.prototype.InitVelocityConstraints.s_P=new box2d[F3Y4j.b17c],box2d.b2PrismaticJoint.prototype.SolveVelocityConstraints=function(t){var e,i,o,n,s,r,c,a=t[F3Y4j.W8tc][this[F3Y4j.p5qc]][F3Y4j.H97c],h=t[F3Y4j.W8tc][this[F3Y4j.p5qc]][F3Y4j.X17c],u=t[F3Y4j.W8tc][this[F3Y4j.s5qc]][F3Y4j.H97c],l=t[F3Y4j.W8tc][this[F3Y4j.s5qc]][F3Y4j.X17c],d=this[F3Y4j.I9tc],p=this[F3Y4j.h9tc],F=this[F3Y4j.b4Jc],j=this[F3Y4j.Y9Jc],Y=(this[F3Y4j.N0Qc]&&F3Y4j.C6S(this[F3Y4j.K67c],box2d[F3Y4j.B0Qc][F3Y4j.Z6Jc])&&(c=box2d[F3Y4j.U2tc](this[F3Y4j.j5Ec],box2d[F3Y4j.J97c](u,a,box2d[F3Y4j.b17c][F3Y4j.c1Jc]))+F3Y4j.U6S(this[F3Y4j.m1Ec],l)-F3Y4j.d6S(this[F3Y4j.l5Ec],h),c=F3Y4j.X6S(this[F3Y4j.Q17c],this[F3Y4j.n1Ec]-c),r=this[F3Y4j.j82c],s=F3Y4j.o0S(t[F3Y4j.r7Ec][F3Y4j.N7Ec],this[F3Y4j.z7tc]),this[F3Y4j.j82c]=box2d[F3Y4j.Q87c](this[F3Y4j.j82c]+c,-s,s),c=F3Y4j.q0S(this[F3Y4j.j82c],r),s=box2d[F3Y4j.H07c](c,this[F3Y4j.j5Ec],box2d.b2PrismaticJoint.prototype.SolveVelocityConstraints.s_P),r=F3Y4j.z0S(c,this[F3Y4j.l5Ec]),c=F3Y4j.E0S(c,this[F3Y4j.m1Ec]),a[F3Y4j.Y7Jc](d,s),h-=F3Y4j.f0S(F,r),u[F3Y4j.C1qc](p,s),l+=F3Y4j.H0S(j,c)),box2d[F3Y4j.U2tc](this[F3Y4j.b9Qc],box2d[F3Y4j.J97c](u,a,box2d[F3Y4j.b17c][F3Y4j.c1Jc]))+F3Y4j.I0S(this[F3Y4j.Y2Jc],l)-F3Y4j.w0S(this[F3Y4j.e2Jc],h)),f=F3Y4j.N0S(l,h);this[F3Y4j.o3Qc]&&F3Y4j.J0S(this[F3Y4j.K67c],box2d[F3Y4j.B0Qc][F3Y4j.Z2tc])?(n=box2d[F3Y4j.U2tc](this[F3Y4j.j5Ec],box2d[F3Y4j.J97c](u,a,box2d[F3Y4j.b17c][F3Y4j.c1Jc]))+F3Y4j.S0S(this[F3Y4j.m1Ec],l)-F3Y4j.Q0S(this[F3Y4j.l5Ec],h),e=box2d.b2PrismaticJoint.prototype.SolveVelocityConstraints.s_f1.Copy(this[F3Y4j.H6Ec]),n=this[F3Y4j.Y8qc][F3Y4j.G0Ec](-Y,-f,-n,box2d.b2PrismaticJoint.prototype.SolveVelocityConstraints.s_df3),this[F3Y4j.H6Ec][F3Y4j.l2Qc](n),F3Y4j.G0S(this[F3Y4j.K67c],box2d[F3Y4j.B0Qc][F3Y4j.M8qc])?this[F3Y4j.H6Ec][F3Y4j.q17c]=box2d[F3Y4j.h82c](this[F3Y4j.H6Ec][F3Y4j.q17c],0):F3Y4j.a0S(this[F3Y4j.K67c],box2d[F3Y4j.B0Qc][F3Y4j.s0Ec])&&(this[F3Y4j.H6Ec][F3Y4j.q17c]=box2d[F3Y4j.y3ic](this[F3Y4j.H6Ec][F3Y4j.q17c],0)),o=-Y-F3Y4j.L0S(this[F3Y4j.H6Ec][F3Y4j.q17c]-e[F3Y4j.q17c],this[F3Y4j.Y8qc][F3Y4j.u6Qc][F3Y4j.W17c]),i=-f-F3Y4j.K0S(this[F3Y4j.H6Ec][F3Y4j.q17c]-e[F3Y4j.q17c],this[F3Y4j.Y8qc][F3Y4j.u6Qc][F3Y4j.I17c]),(o=this[F3Y4j.Y8qc][F3Y4j.q77c](o,i,box2d.b2PrismaticJoint.prototype.SolveVelocityConstraints.s_f2r))[F3Y4j.W17c]+=e[F3Y4j.W17c],o[F3Y4j.I17c]+=e[F3Y4j.I17c],this[F3Y4j.H6Ec][F3Y4j.W17c]=o[F3Y4j.W17c],this[F3Y4j.H6Ec][F3Y4j.I17c]=o[F3Y4j.I17c],n[F3Y4j.W17c]=F3Y4j.M0S(this[F3Y4j.H6Ec][F3Y4j.W17c],e[F3Y4j.W17c]),n[F3Y4j.I17c]=F3Y4j.s2S(this[F3Y4j.H6Ec][F3Y4j.I17c],e[F3Y4j.I17c]),n[F3Y4j.q17c]=F3Y4j.x2S(this[F3Y4j.H6Ec][F3Y4j.q17c],e[F3Y4j.q17c]),s=box2d[F3Y4j.O2ic](box2d[F3Y4j.H07c](n[F3Y4j.W17c],this[F3Y4j.b9Qc],box2d[F3Y4j.b17c][F3Y4j.c1Jc]),box2d[F3Y4j.H07c](n[F3Y4j.q17c],this[F3Y4j.j5Ec],box2d[F3Y4j.b17c][F3Y4j.M1Jc]),box2d.b2PrismaticJoint.prototype.SolveVelocityConstraints.s_P),r=F3Y4j.O2S(n[F3Y4j.W17c],this[F3Y4j.e2Jc])+n[F3Y4j.I17c]+F3Y4j.B2S(n[F3Y4j.q17c],this[F3Y4j.l5Ec]),c=F3Y4j.u2S(n[F3Y4j.W17c],this[F3Y4j.Y2Jc])+n[F3Y4j.I17c]+F3Y4j.l2S(n[F3Y4j.q17c],this[F3Y4j.m1Ec]),a[F3Y4j.Y7Jc](d,s),h-=F3Y4j.m2S(F,r),u[F3Y4j.C1qc](p,s),l+=F3Y4j.Y2S(j,c)):(n=this[F3Y4j.Y8qc][F3Y4j.q77c](-Y,-f,box2d.b2PrismaticJoint.prototype.SolveVelocityConstraints.s_df2),this[F3Y4j.H6Ec][F3Y4j.W17c]+=n[F3Y4j.W17c],this[F3Y4j.H6Ec][F3Y4j.I17c]+=n[F3Y4j.I17c],s=box2d[F3Y4j.H07c](n[F3Y4j.W17c],this[F3Y4j.b9Qc],box2d.b2PrismaticJoint.prototype.SolveVelocityConstraints.s_P),r=F3Y4j.j2S(n[F3Y4j.W17c],this[F3Y4j.e2Jc])+n[F3Y4j.I17c],c=F3Y4j.A2S(n[F3Y4j.W17c],this[F3Y4j.Y2Jc])+n[F3Y4j.I17c],a[F3Y4j.Y7Jc](d,s),h-=F3Y4j.r2S(F,r),u[F3Y4j.C1qc](p,s),l+=F3Y4j.i2S(j,c)),t[F3Y4j.W8tc][this[F3Y4j.p5qc]][F3Y4j.X17c]=h,t[F3Y4j.W8tc][this[F3Y4j.s5qc]][F3Y4j.X17c]=l},box2d.b2PrismaticJoint.prototype.SolveVelocityConstraints.s_P=new box2d[F3Y4j.b17c],box2d.b2PrismaticJoint.prototype.SolveVelocityConstraints.s_f2r=new box2d[F3Y4j.b17c],box2d.b2PrismaticJoint.prototype.SolveVelocityConstraints.s_f1=new box2d[F3Y4j.x97c],box2d.b2PrismaticJoint.prototype.SolveVelocityConstraints.s_df3=new box2d[F3Y4j.x97c],box2d.b2PrismaticJoint.prototype.SolveVelocityConstraints.s_df2=new box2d[F3Y4j.b17c],box2d.b2PrismaticJoint.prototype.SolvePositionConstraints=function(t){var e,i,o,n=t[F3Y4j.r7ic][this[F3Y4j.p5qc]][F3Y4j.K22c],s=t[F3Y4j.r7ic][this[F3Y4j.p5qc]][F3Y4j.O22c],r=t[F3Y4j.r7ic][this[F3Y4j.s5qc]][F3Y4j.K22c],c=t[F3Y4j.r7ic][this[F3Y4j.s5qc]][F3Y4j.O22c],a=this[F3Y4j.P9Qc][F3Y4j.b1ic](s),h=this[F3Y4j.t3Qc][F3Y4j.b1ic](c),u=this[F3Y4j.I9tc],l=this[F3Y4j.h9tc],d=this[F3Y4j.b4Jc],p=this[F3Y4j.Y9Jc],F=box2d[F3Y4j.Z0tc](a,this[F3Y4j.e6tc],this[F3Y4j.L9qc]),h=box2d[F3Y4j.Z0tc](h,this[F3Y4j.M9tc],this[F3Y4j.s4qc]),j=box2d[F3Y4j.J97c](box2d[F3Y4j.O2ic](r,h,box2d[F3Y4j.b17c][F3Y4j.c1Jc]),box2d[F3Y4j.O2ic](n,F,box2d[F3Y4j.b17c][F3Y4j.M1Jc]),box2d.b2PrismaticJoint.prototype.SolvePositionConstraints.s_d),Y=box2d[F3Y4j.Z0tc](a,this[F3Y4j.v6Jc],this[F3Y4j.j5Ec]),f=box2d[F3Y4j.O62c](box2d[F3Y4j.O2ic](j,F,box2d[F3Y4j.b17c][F3Y4j.c1Jc]),Y),b=box2d[F3Y4j.O62c](h,Y),a=box2d[F3Y4j.Z0tc](a,this[F3Y4j.N17c],this[F3Y4j.b9Qc]),F=box2d[F3Y4j.O62c](box2d[F3Y4j.O2ic](j,F,box2d[F3Y4j.b17c][F3Y4j.c1Jc]),a),h=box2d[F3Y4j.O62c](h,a),g=box2d.b2PrismaticJoint.prototype.SolvePositionConstraints.s_impulse,y=box2d[F3Y4j.U2tc](a,j),m=F3Y4j.c2S(c,s,this[F3Y4j.P82c]),x=box2d[F3Y4j.O7Qc](y),v=box2d[F3Y4j.O7Qc](m),w=!1,_=0,E=(this[F3Y4j.o3Qc]&&(j=box2d[F3Y4j.U2tc](Y,j),F3Y4j.a2S(box2d[F3Y4j.O7Qc](this[F3Y4j.n5ic]-this[F3Y4j.m4Jc]),2*box2d[F3Y4j.l9qc])?(_=box2d[F3Y4j.Q87c](j,-box2d[F3Y4j.m6qc],box2d[F3Y4j.m6qc]),x=box2d[F3Y4j.h82c](x,box2d[F3Y4j.O7Qc](j)),w=!0):F3Y4j.L2S(j,this[F3Y4j.m4Jc])?(_=box2d[F3Y4j.Q87c](F3Y4j.K2S(j,this[F3Y4j.m4Jc],box2d[F3Y4j.l9qc]),-box2d[F3Y4j.m6qc],0),x=box2d[F3Y4j.h82c](x,F3Y4j.X2S(this[F3Y4j.m4Jc],j)),w=!0):F3Y4j.o8S(j,this[F3Y4j.n5ic])&&(_=box2d[F3Y4j.Q87c](F3Y4j.q8S(j,this[F3Y4j.n5ic],box2d[F3Y4j.l9qc]),0,box2d[F3Y4j.m6qc]),x=box2d[F3Y4j.h82c](x,F3Y4j.R8S(j,this[F3Y4j.n5ic])),w=!0)),w?(e=u+l+F3Y4j.b8S(d,F,F)+F3Y4j.l8S(p,h,h),i=F3Y4j.I8S(d,F)+F3Y4j.w8S(p,h),j=F3Y4j.N8S(d,F,f)+F3Y4j.t8S(p,h,b),F3Y4j.i8S(o=d+p,0)&&(o=1),w=F3Y4j.c8S(d,f)+F3Y4j.e8S(p,b),E=u+l+F3Y4j.g8S(d,f,f)+F3Y4j.K8S(p,b,b),(S=this[F3Y4j.F07c])[F3Y4j.C7Qc][F3Y4j.S02c](e,i,j),S[F3Y4j.o6Qc][F3Y4j.S02c](i,o,w),S[F3Y4j.u6Qc][F3Y4j.S02c](j,w,E),g=S[F3Y4j.G0Ec](-y,-m,-_,g)):(e=u+l+F3Y4j.X8S(d,F,F)+F3Y4j.V5N(p,h,h),i=F3Y4j.O5N(d,F)+F3Y4j.B5N(p,h),F3Y4j.u5N(o=d+p,0)&&(o=1),(j=this[F3Y4j.U07c])[F3Y4j.C7Qc][F3Y4j.V0tc](e,i),j[F3Y4j.o6Qc][F3Y4j.V0tc](i,o),w=j[F3Y4j.t2Jc](-y,-m,box2d.b2PrismaticJoint.prototype.SolvePositionConstraints.s_impulse1),g[F3Y4j.W17c]=w[F3Y4j.W17c],g[F3Y4j.I17c]=w[F3Y4j.I17c],g[F3Y4j.q17c]=0),box2d[F3Y4j.O2ic](box2d[F3Y4j.H07c](g[F3Y4j.W17c],a,box2d[F3Y4j.b17c][F3Y4j.c1Jc]),box2d[F3Y4j.H07c](g[F3Y4j.q17c],Y,box2d[F3Y4j.b17c][F3Y4j.M1Jc]),box2d.b2PrismaticJoint.prototype.SolvePositionConstraints.s_P)),S=F3Y4j.l5N(g[F3Y4j.W17c],F)+g[F3Y4j.I17c]+F3Y4j.m5N(g[F3Y4j.q17c],f),_=F3Y4j.Y5N(g[F3Y4j.W17c],h)+g[F3Y4j.I17c]+F3Y4j.j5N(g[F3Y4j.q17c],b);return n[F3Y4j.Y7Jc](u,E),s-=F3Y4j.A5N(d,S),r[F3Y4j.C1qc](l,E),c+=F3Y4j.r5N(p,_),t[F3Y4j.r7ic][this[F3Y4j.p5qc]][F3Y4j.O22c]=s,t[F3Y4j.r7ic][this[F3Y4j.s5qc]][F3Y4j.O22c]=c,F3Y4j.i5N(x,box2d[F3Y4j.l9qc])&&F3Y4j.c5N(v,box2d[F3Y4j.U3qc])},box2d.b2PrismaticJoint.prototype.SolvePositionConstraints.s_d=new box2d[F3Y4j.b17c],box2d.b2PrismaticJoint.prototype.SolvePositionConstraints.s_impulse=new box2d[F3Y4j.x97c],box2d.b2PrismaticJoint.prototype.SolvePositionConstraints.s_impulse1=new box2d[F3Y4j.b17c],box2d.b2PrismaticJoint.prototype.SolvePositionConstraints.s_P=new box2d[F3Y4j.b17c],box2d.b2PrismaticJoint.prototype.GetAnchorA=function(t){return this[F3Y4j.l8tc][F3Y4j.K82c](this[F3Y4j.J2tc],t)},box2d.b2PrismaticJoint.prototype.GetAnchorB=function(t){return this[F3Y4j.V8tc][F3Y4j.K82c](this[F3Y4j.B2tc],t)},box2d.b2PrismaticJoint.prototype.GetReactionForce=function(t,e){return e[F3Y4j.V0tc](F3Y4j.e5N(t,this[F3Y4j.H6Ec][F3Y4j.W17c]*this[F3Y4j.b9Qc][F3Y4j.W17c]+(this[F3Y4j.j82c]+this[F3Y4j.H6Ec][F3Y4j.q17c])*this[F3Y4j.j5Ec][F3Y4j.W17c]),F3Y4j.g5N(t,this[F3Y4j.H6Ec][F3Y4j.W17c]*this[F3Y4j.b9Qc][F3Y4j.I17c]+(this[F3Y4j.j82c]+this[F3Y4j.H6Ec][F3Y4j.q17c])*this[F3Y4j.j5Ec][F3Y4j.I17c]))},box2d.b2PrismaticJoint.prototype.GetReactionTorque=function(t){return F3Y4j.k5N(t,this[F3Y4j.H6Ec][F3Y4j.I17c])},box2d.b2PrismaticJoint.prototype.GetLocalAnchorA=function(t){return t[F3Y4j.j9Qc](this[F3Y4j.J2tc])},box2d.b2PrismaticJoint.prototype.GetLocalAnchorB=function(t){return t[F3Y4j.j9Qc](this[F3Y4j.B2tc])},box2d.b2PrismaticJoint.prototype.GetLocalAxisA=function(t){return t[F3Y4j.j9Qc](this[F3Y4j.v6Jc])},box2d.b2PrismaticJoint.prototype.GetReferenceAngle=function(){return this[F3Y4j.P82c]},box2d.b2PrismaticJoint.prototype.GetJointTranslation=function(){var t=this[F3Y4j.l8tc][F3Y4j.K82c](this[F3Y4j.J2tc],box2d.b2PrismaticJoint.prototype.GetJointTranslation.s_pA),e=this[F3Y4j.V8tc][F3Y4j.K82c](this[F3Y4j.B2tc],box2d.b2PrismaticJoint.prototype.GetJointTranslation.s_pB),e=box2d[F3Y4j.J97c](e,t,box2d.b2PrismaticJoint.prototype.GetJointTranslation.s_d),t=this[F3Y4j.l8tc][F3Y4j.K62c](this[F3Y4j.v6Jc],box2d.b2PrismaticJoint.prototype.GetJointTranslation.s_axis);return box2d[F3Y4j.U2tc](e,t)},box2d.b2PrismaticJoint.prototype.GetJointTranslation.s_pA=new box2d[F3Y4j.b17c],box2d.b2PrismaticJoint.prototype.GetJointTranslation.s_pB=new box2d[F3Y4j.b17c],box2d.b2PrismaticJoint.prototype.GetJointTranslation.s_d=new box2d[F3Y4j.b17c],box2d.b2PrismaticJoint.prototype.GetJointTranslation.s_axis=new box2d[F3Y4j.b17c],box2d.b2PrismaticJoint.prototype.GetJointSpeed=function(){var t=this[F3Y4j.l8tc],e=this[F3Y4j.V8tc],i=(box2d[F3Y4j.J97c](this[F3Y4j.J2tc],t[F3Y4j.G4qc][F3Y4j.K92c],this[F3Y4j.e6tc]),box2d[F3Y4j.Z0tc](t[F3Y4j.K6Ec][F3Y4j.G3ic],this[F3Y4j.e6tc],this[F3Y4j.L9qc])),o=(box2d[F3Y4j.J97c](this[F3Y4j.B2tc],e[F3Y4j.G4qc][F3Y4j.K92c],this[F3Y4j.M9tc]),box2d[F3Y4j.Z0tc](e[F3Y4j.K6Ec][F3Y4j.G3ic],this[F3Y4j.M9tc],this[F3Y4j.s4qc])),n=box2d[F3Y4j.O2ic](t[F3Y4j.G4qc][F3Y4j.K22c],i,box2d[F3Y4j.b17c][F3Y4j.c1Jc]),s=box2d[F3Y4j.O2ic](e[F3Y4j.G4qc][F3Y4j.K22c],o,box2d[F3Y4j.b17c][F3Y4j.M1Jc]),s=box2d[F3Y4j.J97c](s,n,box2d[F3Y4j.b17c][F3Y4j.b9Jc]),n=t[F3Y4j.K62c](this[F3Y4j.v6Jc],this[F3Y4j.j5Ec]),r=t[F3Y4j.k2qc],c=e[F3Y4j.k2qc],t=t[F3Y4j.s9Qc],e=e[F3Y4j.s9Qc];return box2d[F3Y4j.U2tc](s,box2d[F3Y4j.N5Jc](t,n,box2d[F3Y4j.b17c][F3Y4j.c1Jc]))+box2d[F3Y4j.U2tc](n,box2d[F3Y4j.J97c](box2d[F3Y4j.M57c](c,e,o,box2d[F3Y4j.b17c][F3Y4j.c1Jc]),box2d[F3Y4j.M57c](r,t,i,box2d[F3Y4j.b17c][F3Y4j.M1Jc]),box2d[F3Y4j.b17c][F3Y4j.c1Jc]))},box2d.b2PrismaticJoint.prototype.IsLimitEnabled=function(){return this[F3Y4j.o3Qc]},box2d.b2PrismaticJoint.prototype.EnableLimit=function(t){F3Y4j.n5N(t,this[F3Y4j.o3Qc])&&(this[F3Y4j.l8tc][F3Y4j.s7Ec](F3Y4j.H3qc),this[F3Y4j.V8tc][F3Y4j.s7Ec](F3Y4j.H3qc),this[F3Y4j.o3Qc]=t,this[F3Y4j.H6Ec][F3Y4j.q17c]=F3Y4j.u42c)},box2d.b2PrismaticJoint.prototype.GetLowerLimit=function(){return this[F3Y4j.m4Jc]},box2d.b2PrismaticJoint.prototype.GetUpperLimit=function(){return this[F3Y4j.n5ic]},box2d.b2PrismaticJoint.prototype.SetLimits=function(t,e){(F3Y4j.P5N(t,this[F3Y4j.m4Jc])||F3Y4j.V1N(e,this[F3Y4j.n5ic]))&&(this[F3Y4j.l8tc][F3Y4j.s7Ec](F3Y4j.H3qc),this[F3Y4j.V8tc][F3Y4j.s7Ec](F3Y4j.H3qc),this[F3Y4j.m4Jc]=t,this[F3Y4j.n5ic]=e,this[F3Y4j.H6Ec][F3Y4j.q17c]=F3Y4j.u42c)},box2d.b2PrismaticJoint.prototype.IsMotorEnabled=function(){return this[F3Y4j.N0Qc]},box2d.b2PrismaticJoint.prototype.EnableMotor=function(t){this[F3Y4j.l8tc][F3Y4j.s7Ec](F3Y4j.H3qc),this[F3Y4j.V8tc][F3Y4j.s7Ec](F3Y4j.H3qc),this[F3Y4j.N0Qc]=t},box2d.b2PrismaticJoint.prototype.SetMotorSpeed=function(t){this[F3Y4j.l8tc][F3Y4j.s7Ec](!0),this[F3Y4j.V8tc][F3Y4j.s7Ec](!0),this[F3Y4j.n1Ec]=t},box2d.b2PrismaticJoint.prototype.GetMotorSpeed=function(){return this[F3Y4j.n1Ec]},box2d.b2PrismaticJoint.prototype.SetMaxMotorForce=function(t){this[F3Y4j.l8tc][F3Y4j.s7Ec](F3Y4j.H3qc),this[F3Y4j.V8tc][F3Y4j.s7Ec](F3Y4j.H3qc),this[F3Y4j.z7tc]=t},box2d.b2PrismaticJoint.prototype.GetMaxMotorForce=function(){return this[F3Y4j.z7tc]},box2d.b2PrismaticJoint.prototype.GetMotorForce=function(t){return F3Y4j.h1N(t,this[F3Y4j.j82c])},box2d.b2PrismaticJoint.prototype.Dump=function(){var t,e;box2d[F3Y4j.l2Jc]&&(t=this[F3Y4j.l8tc][F3Y4j.h7Jc],e=this[F3Y4j.V8tc][F3Y4j.h7Jc],box2d[F3Y4j.q7ic]("  /*box2d.b2PrismaticJointDef*/ var jd = new box2d.b2PrismaticJointDef();\n"),box2d[F3Y4j.q7ic](F3Y4j.v3Qc,t),box2d[F3Y4j.q7ic](F3Y4j.V8qc,e),box2d[F3Y4j.q7ic](F3Y4j.V6qc,this[F3Y4j.v1tc]?F3Y4j.H1Ec:F3Y4j.y07c),box2d[F3Y4j.q7ic](F3Y4j.u1ic,this[F3Y4j.J2tc][F3Y4j.W17c],this[F3Y4j.J2tc][F3Y4j.I17c]),box2d[F3Y4j.q7ic](F3Y4j.o1Qc,this[F3Y4j.B2tc][F3Y4j.W17c],this[F3Y4j.B2tc][F3Y4j.I17c]),box2d[F3Y4j.q7ic]("  jd.localAxisA.SetXY(%.15f, %.15f);\n",this[F3Y4j.v6Jc][F3Y4j.W17c],this[F3Y4j.v6Jc][F3Y4j.I17c]),box2d[F3Y4j.q7ic](F3Y4j.k7Ec,this[F3Y4j.P82c]),box2d[F3Y4j.q7ic](F3Y4j.M9qc,this[F3Y4j.o3Qc]?F3Y4j.H1Ec:F3Y4j.y07c),box2d[F3Y4j.q7ic]("  jd.lowerTranslation = %.15f;\n",this[F3Y4j.m4Jc]),box2d[F3Y4j.q7ic]("  jd.upperTranslation = %.15f;\n",this[F3Y4j.n5ic]),box2d[F3Y4j.q7ic](F3Y4j.S6Qc,this[F3Y4j.N0Qc]?F3Y4j.H1Ec:F3Y4j.y07c),box2d[F3Y4j.q7ic](F3Y4j.E3Jc,this[F3Y4j.n1Ec]),box2d[F3Y4j.q7ic]("  jd.maxMotorForce = %.15f;\n",this[F3Y4j.z7tc]),box2d[F3Y4j.q7ic](F3Y4j.Q4Jc,this[F3Y4j.O7tc]))},goog[F3Y4j.a0ic](F3Y4j.v2ic),goog[F3Y4j.D02c]("box2d.b2Settings"),goog[F3Y4j.D02c]("box2d.b2Joint"),goog[F3Y4j.D02c]("box2d.b2Math"),goog[F3Y4j.D02c]("box2d.b2RevoluteJoint"),goog[F3Y4j.D02c]("box2d.b2PrismaticJoint"),box2d[F3Y4j.f5ic]=function(){goog[F3Y4j.W3tc](this,box2d[F3Y4j.T3Jc][F3Y4j.d47c])},goog[F3Y4j.b4ic](box2d[F3Y4j.f5ic],box2d[F3Y4j.X7qc]),box2d.b2GearJointDef.prototype.joint1=F3Y4j.E3qc,box2d.b2GearJointDef.prototype.joint2=F3Y4j.E3qc,box2d.b2GearJointDef.prototype.ratio=F3Y4j.b42c,box2d[F3Y4j.I5qc]=function(t){goog[F3Y4j.W3tc](this,t),this[F3Y4j.T6qc]=t[F3Y4j.I9ic],this[F3Y4j.L6qc]=t[F3Y4j.V9ic],this[F3Y4j.J2tc]=new box2d[F3Y4j.b17c],this[F3Y4j.B2tc]=new box2d[F3Y4j.b17c],this[F3Y4j.E8tc]=new box2d[F3Y4j.b17c],this[F3Y4j.K2tc]=new box2d[F3Y4j.b17c],this[F3Y4j.d1ic]=new box2d[F3Y4j.b17c],this[F3Y4j.m9ic]=new box2d[F3Y4j.b17c],this[F3Y4j.h42c]=new box2d[F3Y4j.b17c],this[F3Y4j.Q02c]=new box2d[F3Y4j.b17c],this[F3Y4j.U02c]=new box2d[F3Y4j.b17c],this[F3Y4j.O02c]=new box2d[F3Y4j.b17c],this[F3Y4j.b6Ec]=new box2d[F3Y4j.b17c],this[F3Y4j.R6Ec]=new box2d[F3Y4j.b17c],this[F3Y4j.P9Qc]=new box2d[F3Y4j.s4Jc],this[F3Y4j.t3Qc]=new box2d[F3Y4j.s4Jc],this[F3Y4j.g3Qc]=new box2d[F3Y4j.s4Jc],this[F3Y4j.L4Qc]=new box2d[F3Y4j.s4Jc],this[F3Y4j.e6tc]=new box2d[F3Y4j.b17c],this[F3Y4j.M9tc]=new box2d[F3Y4j.b17c],this[F3Y4j.o4tc]=new box2d[F3Y4j.b17c],this[F3Y4j.T9tc]=new box2d[F3Y4j.b17c],this[F3Y4j.o4Ec]=this[F3Y4j.T6qc][F3Y4j.j6Jc](),this[F3Y4j.e7Ec]=this[F3Y4j.L6qc][F3Y4j.j6Jc](),box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.R1N(this[F3Y4j.o4Ec],box2d[F3Y4j.T3Jc][F3Y4j.Y7Ec])||F3Y4j.b1N(this[F3Y4j.o4Ec],box2d[F3Y4j.T3Jc][F3Y4j.M3Ec])),box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.p1N(this[F3Y4j.e7Ec],box2d[F3Y4j.T3Jc][F3Y4j.Y7Ec])||F3Y4j.y1N(this[F3Y4j.e7Ec],box2d[F3Y4j.T3Jc][F3Y4j.M3Ec])),this[F3Y4j.Q2tc]=this[F3Y4j.T6qc][F3Y4j.R5Jc](),this[F3Y4j.l8tc]=this[F3Y4j.T6qc][F3Y4j.Y5Jc]();var e,i,o=this[F3Y4j.l8tc][F3Y4j.K6Ec],n=this[F3Y4j.l8tc][F3Y4j.G4qc][F3Y4j.O22c],s=this[F3Y4j.Q2tc][F3Y4j.K6Ec],r=this[F3Y4j.Q2tc][F3Y4j.G4qc][F3Y4j.O22c],s=(o=F3Y4j.Z1N(this[F3Y4j.o4Ec],box2d[F3Y4j.T3Jc][F3Y4j.Y7Ec])?(i=t[F3Y4j.I9ic],this[F3Y4j.E8tc][F3Y4j.j9Qc](i[F3Y4j.J2tc]),this[F3Y4j.J2tc][F3Y4j.j9Qc](i[F3Y4j.B2tc]),this[F3Y4j.P0qc]=i[F3Y4j.P82c],this[F3Y4j.d1ic][F3Y4j.a4qc](),F3Y4j.D1N(n,r,this[F3Y4j.P0qc])):(e=t[F3Y4j.I9ic],this[F3Y4j.E8tc][F3Y4j.j9Qc](e[F3Y4j.J2tc]),this[F3Y4j.J2tc][F3Y4j.j9Qc](e[F3Y4j.B2tc]),this[F3Y4j.P0qc]=e[F3Y4j.P82c],this[F3Y4j.d1ic][F3Y4j.j9Qc](e[F3Y4j.v6Jc]),n=this[F3Y4j.E8tc],r=box2d[F3Y4j.M8Ec](s[F3Y4j.G3ic],box2d[F3Y4j.O2ic](box2d[F3Y4j.Z0tc](o[F3Y4j.G3ic],this[F3Y4j.J2tc],box2d[F3Y4j.b17c][F3Y4j.c1Jc]),box2d[F3Y4j.J97c](o[F3Y4j.Z3ic],s[F3Y4j.Z3ic],box2d[F3Y4j.b17c][F3Y4j.M1Jc]),box2d[F3Y4j.b17c][F3Y4j.c1Jc]),box2d[F3Y4j.b17c][F3Y4j.c1Jc]),box2d[F3Y4j.U2tc](box2d[F3Y4j.J97c](r,n,box2d[F3Y4j.b17c][F3Y4j.c1Jc]),this[F3Y4j.d1ic])),this[F3Y4j.f2tc]=this[F3Y4j.L6qc][F3Y4j.R5Jc](),this[F3Y4j.V8tc]=this[F3Y4j.L6qc][F3Y4j.Y5Jc](),this[F3Y4j.V8tc][F3Y4j.K6Ec]),r=this[F3Y4j.V8tc][F3Y4j.G4qc][F3Y4j.O22c],n=this[F3Y4j.f2tc][F3Y4j.K6Ec],c=this[F3Y4j.f2tc][F3Y4j.G4qc][F3Y4j.O22c];c=F3Y4j.A1N(this[F3Y4j.e7Ec],box2d[F3Y4j.T3Jc][F3Y4j.Y7Ec])?(i=t[F3Y4j.V9ic],this[F3Y4j.K2tc][F3Y4j.j9Qc](i[F3Y4j.J2tc]),this[F3Y4j.B2tc][F3Y4j.j9Qc](i[F3Y4j.B2tc]),this[F3Y4j.g7qc]=i[F3Y4j.P82c],this[F3Y4j.m9ic][F3Y4j.a4qc](),F3Y4j.r1N(r,c,this[F3Y4j.g7qc])):(e=t[F3Y4j.V9ic],this[F3Y4j.K2tc][F3Y4j.j9Qc](e[F3Y4j.J2tc]),this[F3Y4j.B2tc][F3Y4j.j9Qc](e[F3Y4j.B2tc]),this[F3Y4j.g7qc]=e[F3Y4j.P82c],this[F3Y4j.m9ic][F3Y4j.j9Qc](e[F3Y4j.v6Jc]),i=this[F3Y4j.K2tc],r=box2d[F3Y4j.M8Ec](n[F3Y4j.G3ic],box2d[F3Y4j.O2ic](box2d[F3Y4j.Z0tc](s[F3Y4j.G3ic],this[F3Y4j.B2tc],box2d[F3Y4j.b17c][F3Y4j.c1Jc]),box2d[F3Y4j.J97c](s[F3Y4j.Z3ic],n[F3Y4j.Z3ic],box2d[F3Y4j.b17c][F3Y4j.M1Jc]),box2d[F3Y4j.b17c][F3Y4j.c1Jc]),box2d[F3Y4j.b17c][F3Y4j.c1Jc]),box2d[F3Y4j.U2tc](box2d[F3Y4j.J97c](r,i,box2d[F3Y4j.b17c][F3Y4j.c1Jc]),this[F3Y4j.m9ic])),this[F3Y4j.F5qc]=t[F3Y4j.z9tc],this[F3Y4j.H7ic]=o+F3Y4j.Q1N(this[F3Y4j.F5qc],c),this[F3Y4j.H6Ec]=F3Y4j.u42c},goog[F3Y4j.b4ic](box2d[F3Y4j.I5qc],box2d[F3Y4j.R6tc]),box2d.b2GearJoint.prototype.m_joint1=F3Y4j.E3qc,box2d.b2GearJoint.prototype.m_joint2=F3Y4j.E3qc,box2d.b2GearJoint.prototype.m_typeA=box2d[F3Y4j.T3Jc][F3Y4j.X4Qc],box2d.b2GearJoint.prototype.m_typeB=box2d[F3Y4j.T3Jc][F3Y4j.X4Qc],box2d.b2GearJoint.prototype.m_bodyC=F3Y4j.E3qc,box2d.b2GearJoint.prototype.m_bodyD=F3Y4j.E3qc,box2d.b2GearJoint.prototype.m_localAnchorA=F3Y4j.E3qc,box2d.b2GearJoint.prototype.m_localAnchorB=F3Y4j.E3qc,box2d.b2GearJoint.prototype.m_localAnchorC=F3Y4j.E3qc,box2d.b2GearJoint.prototype.m_localAnchorD=F3Y4j.E3qc,box2d.b2GearJoint.prototype.m_localAxisC=F3Y4j.E3qc,box2d.b2GearJoint.prototype.m_localAxisD=F3Y4j.E3qc,box2d.b2GearJoint.prototype.m_referenceAngleA=F3Y4j.u42c,box2d.b2GearJoint.prototype.m_referenceAngleB=F3Y4j.u42c,box2d.b2GearJoint.prototype.m_constant=F3Y4j.u42c,box2d.b2GearJoint.prototype.m_ratio=F3Y4j.u42c,box2d.b2GearJoint.prototype.m_impulse=F3Y4j.u42c,box2d.b2GearJoint.prototype.m_indexA=F3Y4j.u42c,box2d.b2GearJoint.prototype.m_indexB=F3Y4j.u42c,box2d.b2GearJoint.prototype.m_indexC=F3Y4j.u42c,box2d.b2GearJoint.prototype.m_indexD=F3Y4j.u42c,box2d.b2GearJoint.prototype.m_lcA=F3Y4j.E3qc,box2d.b2GearJoint.prototype.m_lcB=F3Y4j.E3qc,box2d.b2GearJoint.prototype.m_lcC=F3Y4j.E3qc,box2d.b2GearJoint.prototype.m_lcD=F3Y4j.E3qc,box2d.b2GearJoint.prototype.m_mA=F3Y4j.u42c,box2d.b2GearJoint.prototype.m_mB=F3Y4j.u42c,box2d.b2GearJoint.prototype.m_mC=F3Y4j.u42c,box2d.b2GearJoint.prototype.m_mD=F3Y4j.u42c,box2d.b2GearJoint.prototype.m_iA=F3Y4j.u42c,box2d.b2GearJoint.prototype.m_iB=F3Y4j.u42c,box2d.b2GearJoint.prototype.m_iC=F3Y4j.u42c,box2d.b2GearJoint.prototype.m_iD=F3Y4j.u42c,box2d.b2GearJoint.prototype.m_JvAC=F3Y4j.E3qc,box2d.b2GearJoint.prototype.m_JvBD=F3Y4j.E3qc,box2d.b2GearJoint.prototype.m_JwA=F3Y4j.u42c,box2d.b2GearJoint.prototype.m_JwB=F3Y4j.u42c,box2d.b2GearJoint.prototype.m_JwC=F3Y4j.u42c,box2d.b2GearJoint.prototype.m_JwD=F3Y4j.u42c,box2d.b2GearJoint.prototype.m_mass=F3Y4j.u42c,box2d.b2GearJoint.prototype.m_qA=F3Y4j.E3qc,box2d.b2GearJoint.prototype.m_qB=F3Y4j.E3qc,box2d.b2GearJoint.prototype.m_qC=F3Y4j.E3qc,box2d.b2GearJoint.prototype.m_qD=F3Y4j.E3qc,box2d.b2GearJoint.prototype.m_lalcA=F3Y4j.E3qc,box2d.b2GearJoint.prototype.m_lalcB=F3Y4j.E3qc,box2d.b2GearJoint.prototype.m_lalcC=F3Y4j.E3qc,box2d.b2GearJoint.prototype.m_lalcD=F3Y4j.E3qc,box2d.b2GearJoint.prototype.InitVelocityConstraints=function(t){this[F3Y4j.p5qc]=this[F3Y4j.l8tc][F3Y4j.h7Jc],this[F3Y4j.s5qc]=this[F3Y4j.V8tc][F3Y4j.h7Jc],this[F3Y4j.d5qc]=this[F3Y4j.Q2tc][F3Y4j.h7Jc],this[F3Y4j.N5qc]=this[F3Y4j.f2tc][F3Y4j.h7Jc],this[F3Y4j.h42c][F3Y4j.j9Qc](this[F3Y4j.l8tc][F3Y4j.G4qc][F3Y4j.K92c]),this[F3Y4j.Q02c][F3Y4j.j9Qc](this[F3Y4j.V8tc][F3Y4j.G4qc][F3Y4j.K92c]),this[F3Y4j.U02c][F3Y4j.j9Qc](this[F3Y4j.Q2tc][F3Y4j.G4qc][F3Y4j.K92c]),this[F3Y4j.O02c][F3Y4j.j9Qc](this[F3Y4j.f2tc][F3Y4j.G4qc][F3Y4j.K92c]),this[F3Y4j.t22c]=this[F3Y4j.l8tc][F3Y4j.m4tc],this[F3Y4j.i82c]=this[F3Y4j.V8tc][F3Y4j.m4tc],this[F3Y4j.l82c]=this[F3Y4j.Q2tc][F3Y4j.m4tc],this[F3Y4j.O5ic]=this[F3Y4j.f2tc][F3Y4j.m4tc],this[F3Y4j.y9qc]=this[F3Y4j.l8tc][F3Y4j.e1Ec],this[F3Y4j.V9qc]=this[F3Y4j.V8tc][F3Y4j.e1Ec],this[F3Y4j.e1qc]=this[F3Y4j.Q2tc][F3Y4j.e1Ec],this[F3Y4j.D1qc]=this[F3Y4j.f2tc][F3Y4j.e1Ec];var e,i=t[F3Y4j.r7ic][this[F3Y4j.p5qc]][F3Y4j.O22c],o=t[F3Y4j.W8tc][this[F3Y4j.p5qc]][F3Y4j.H97c],n=t[F3Y4j.W8tc][this[F3Y4j.p5qc]][F3Y4j.X17c],s=t[F3Y4j.r7ic][this[F3Y4j.s5qc]][F3Y4j.O22c],r=t[F3Y4j.W8tc][this[F3Y4j.s5qc]][F3Y4j.H97c],c=t[F3Y4j.W8tc][this[F3Y4j.s5qc]][F3Y4j.X17c],a=t[F3Y4j.r7ic][this[F3Y4j.d5qc]][F3Y4j.O22c],h=t[F3Y4j.W8tc][this[F3Y4j.d5qc]][F3Y4j.H97c],u=t[F3Y4j.W8tc][this[F3Y4j.d5qc]][F3Y4j.X17c],l=t[F3Y4j.r7ic][this[F3Y4j.N5qc]][F3Y4j.O22c],d=t[F3Y4j.W8tc][this[F3Y4j.N5qc]][F3Y4j.H97c],p=t[F3Y4j.W8tc][this[F3Y4j.N5qc]][F3Y4j.X17c],i=this[F3Y4j.P9Qc][F3Y4j.b1ic](i),s=this[F3Y4j.t3Qc][F3Y4j.b1ic](s),a=this[F3Y4j.g3Qc][F3Y4j.b1ic](a),l=this[F3Y4j.L4Qc][F3Y4j.b1ic](l);this[F3Y4j.p57c]=0,F3Y4j.G1N(this[F3Y4j.o4Ec],box2d[F3Y4j.T3Jc][F3Y4j.Y7Ec])?(this[F3Y4j.b6Ec][F3Y4j.a4qc](),this[F3Y4j.Y9Ec]=1,this[F3Y4j.O3Ec]=1,this[F3Y4j.p57c]+=this[F3Y4j.y9qc]+this[F3Y4j.e1qc]):(e=box2d[F3Y4j.Z0tc](a,this[F3Y4j.d1ic],box2d.b2GearJoint.prototype.InitVelocityConstraints.s_u),box2d[F3Y4j.J97c](this[F3Y4j.E8tc],this[F3Y4j.U02c],this[F3Y4j.o4tc]),a=box2d[F3Y4j.Z0tc](a,this[F3Y4j.o4tc],box2d.b2GearJoint.prototype.InitVelocityConstraints.s_rC),box2d[F3Y4j.J97c](this[F3Y4j.J2tc],this[F3Y4j.h42c],this[F3Y4j.e6tc]),i=box2d[F3Y4j.Z0tc](i,this[F3Y4j.e6tc],box2d.b2GearJoint.prototype.InitVelocityConstraints.s_rA),this[F3Y4j.b6Ec][F3Y4j.j9Qc](e),this[F3Y4j.O3Ec]=box2d[F3Y4j.O62c](a,e),this[F3Y4j.Y9Ec]=box2d[F3Y4j.O62c](i,e),this[F3Y4j.p57c]+=this[F3Y4j.l82c]+this[F3Y4j.t22c]+F3Y4j.a1N(this[F3Y4j.e1qc],this[F3Y4j.O3Ec],this[F3Y4j.O3Ec])+F3Y4j.U1N(this[F3Y4j.y9qc],this[F3Y4j.Y9Ec],this[F3Y4j.Y9Ec])),F3Y4j.n1N(this[F3Y4j.e7Ec],box2d[F3Y4j.T3Jc][F3Y4j.Y7Ec])?(this[F3Y4j.R6Ec][F3Y4j.a4qc](),this[F3Y4j.s3Ec]=this[F3Y4j.F5qc],this[F3Y4j.f3Ec]=this[F3Y4j.F5qc],this[F3Y4j.p57c]+=F3Y4j.P1N(this[F3Y4j.F5qc],this[F3Y4j.F5qc],this[F3Y4j.V9qc]+this[F3Y4j.D1qc])):(e=box2d[F3Y4j.Z0tc](l,this[F3Y4j.m9ic],box2d.b2GearJoint.prototype.InitVelocityConstraints.s_u),box2d[F3Y4j.J97c](this[F3Y4j.K2tc],this[F3Y4j.O02c],this[F3Y4j.T9tc]),a=box2d[F3Y4j.Z0tc](l,this[F3Y4j.T9tc],box2d.b2GearJoint.prototype.InitVelocityConstraints.s_rD),box2d[F3Y4j.J97c](this[F3Y4j.B2tc],this[F3Y4j.Q02c],this[F3Y4j.M9tc]),i=box2d[F3Y4j.Z0tc](s,this[F3Y4j.M9tc],box2d.b2GearJoint.prototype.InitVelocityConstraints.s_rB),box2d[F3Y4j.H07c](this[F3Y4j.F5qc],e,this[F3Y4j.R6Ec]),this[F3Y4j.f3Ec]=F3Y4j.x9N(this[F3Y4j.F5qc],box2d[F3Y4j.O62c](a,e)),this[F3Y4j.s3Ec]=F3Y4j.O9N(this[F3Y4j.F5qc],box2d[F3Y4j.O62c](i,e)),this[F3Y4j.p57c]+=F3Y4j.B9N(this[F3Y4j.F5qc],this[F3Y4j.F5qc],this[F3Y4j.O5ic]+this[F3Y4j.i82c])+F3Y4j.f9N(this[F3Y4j.D1qc],this[F3Y4j.f3Ec],this[F3Y4j.f3Ec])+F3Y4j.y9N(this[F3Y4j.V9qc],this[F3Y4j.s3Ec],this[F3Y4j.s3Ec])),this[F3Y4j.p57c]=F3Y4j.Y9N(this[F3Y4j.p57c],0)?F3Y4j.j9N(1,this[F3Y4j.p57c]):0,t[F3Y4j.r7Ec][F3Y4j.D47c]?(o[F3Y4j.C1qc](F3Y4j.A9N(this[F3Y4j.t22c],this[F3Y4j.H6Ec]),this[F3Y4j.b6Ec]),n+=F3Y4j.r9N(this[F3Y4j.y9qc],this[F3Y4j.H6Ec],this[F3Y4j.Y9Ec]),r[F3Y4j.C1qc](F3Y4j.Q9N(this[F3Y4j.i82c],this[F3Y4j.H6Ec]),this[F3Y4j.R6Ec]),c+=F3Y4j.G9N(this[F3Y4j.V9qc],this[F3Y4j.H6Ec],this[F3Y4j.s3Ec]),h[F3Y4j.Y7Jc](F3Y4j.C9N(this[F3Y4j.l82c],this[F3Y4j.H6Ec]),this[F3Y4j.b6Ec]),u-=F3Y4j.U9N(this[F3Y4j.e1qc],this[F3Y4j.H6Ec],this[F3Y4j.O3Ec]),d[F3Y4j.Y7Jc](F3Y4j.n9N(this[F3Y4j.O5ic],this[F3Y4j.H6Ec]),this[F3Y4j.R6Ec]),p-=F3Y4j.P9N(this[F3Y4j.D1qc],this[F3Y4j.H6Ec],this[F3Y4j.f3Ec])):this[F3Y4j.H6Ec]=0,t[F3Y4j.W8tc][this[F3Y4j.p5qc]][F3Y4j.X17c]=n,t[F3Y4j.W8tc][this[F3Y4j.s5qc]][F3Y4j.X17c]=c,t[F3Y4j.W8tc][this[F3Y4j.d5qc]][F3Y4j.X17c]=u,t[F3Y4j.W8tc][this[F3Y4j.N5qc]][F3Y4j.X17c]=p},box2d.b2GearJoint.prototype.InitVelocityConstraints.s_u=new box2d[F3Y4j.b17c],box2d.b2GearJoint.prototype.InitVelocityConstraints.s_rA=new box2d[F3Y4j.b17c],box2d.b2GearJoint.prototype.InitVelocityConstraints.s_rB=new box2d[F3Y4j.b17c],box2d.b2GearJoint.prototype.InitVelocityConstraints.s_rC=new box2d[F3Y4j.b17c],box2d.b2GearJoint.prototype.InitVelocityConstraints.s_rD=new box2d[F3Y4j.b17c],box2d.b2GearJoint.prototype.SolveVelocityConstraints=function(t){var e=t[F3Y4j.W8tc][this[F3Y4j.p5qc]][F3Y4j.H97c],i=t[F3Y4j.W8tc][this[F3Y4j.p5qc]][F3Y4j.X17c],o=t[F3Y4j.W8tc][this[F3Y4j.s5qc]][F3Y4j.H97c],n=t[F3Y4j.W8tc][this[F3Y4j.s5qc]][F3Y4j.X17c],s=t[F3Y4j.W8tc][this[F3Y4j.d5qc]][F3Y4j.H97c],r=t[F3Y4j.W8tc][this[F3Y4j.d5qc]][F3Y4j.X17c],c=t[F3Y4j.W8tc][this[F3Y4j.N5qc]][F3Y4j.H97c],a=t[F3Y4j.W8tc][this[F3Y4j.N5qc]][F3Y4j.X17c],h=box2d[F3Y4j.U2tc](this[F3Y4j.b6Ec],box2d[F3Y4j.J97c](e,s,box2d[F3Y4j.b17c][F3Y4j.c1Jc]))+box2d[F3Y4j.U2tc](this[F3Y4j.R6Ec],box2d[F3Y4j.J97c](o,c,box2d[F3Y4j.b17c][F3Y4j.c1Jc])),h=(h+=F3Y4j.x4N(this[F3Y4j.Y9Ec]*i,this[F3Y4j.O3Ec]*r)+F3Y4j.O4N(this[F3Y4j.s3Ec]*n,this[F3Y4j.f3Ec]*a),-this[F3Y4j.p57c]*h);this[F3Y4j.H6Ec]+=h,e[F3Y4j.C1qc](F3Y4j.B4N(this[F3Y4j.t22c],h),this[F3Y4j.b6Ec]),i+=F3Y4j.u4N(this[F3Y4j.y9qc],h,this[F3Y4j.Y9Ec]),o[F3Y4j.C1qc](F3Y4j.H4N(this[F3Y4j.i82c],h),this[F3Y4j.R6Ec]),n+=F3Y4j.I4N(this[F3Y4j.V9qc],h,this[F3Y4j.s3Ec]),s[F3Y4j.Y7Jc](F3Y4j.D4N(this[F3Y4j.l82c],h),this[F3Y4j.b6Ec]),r-=F3Y4j.F4N(this[F3Y4j.e1qc],h,this[F3Y4j.O3Ec]),c[F3Y4j.Y7Jc](F3Y4j.r4N(this[F3Y4j.O5ic],h),this[F3Y4j.R6Ec]),a-=F3Y4j.i4N(this[F3Y4j.D1qc],h,this[F3Y4j.f3Ec]),t[F3Y4j.W8tc][this[F3Y4j.p5qc]][F3Y4j.X17c]=i,t[F3Y4j.W8tc][this[F3Y4j.s5qc]][F3Y4j.X17c]=n,t[F3Y4j.W8tc][this[F3Y4j.d5qc]][F3Y4j.X17c]=r,t[F3Y4j.W8tc][this[F3Y4j.N5qc]][F3Y4j.X17c]=a},box2d.b2GearJoint.prototype.SolvePositionConstraints=function(t){var e,i,o,n,s,r=t[F3Y4j.r7ic][this[F3Y4j.p5qc]][F3Y4j.K22c],c=t[F3Y4j.r7ic][this[F3Y4j.p5qc]][F3Y4j.O22c],a=t[F3Y4j.r7ic][this[F3Y4j.s5qc]][F3Y4j.K22c],h=t[F3Y4j.r7ic][this[F3Y4j.s5qc]][F3Y4j.O22c],u=t[F3Y4j.r7ic][this[F3Y4j.d5qc]][F3Y4j.K22c],l=t[F3Y4j.r7ic][this[F3Y4j.d5qc]][F3Y4j.O22c],d=t[F3Y4j.r7ic][this[F3Y4j.N5qc]][F3Y4j.K22c],p=t[F3Y4j.r7ic][this[F3Y4j.N5qc]][F3Y4j.O22c],F=this[F3Y4j.P9Qc][F3Y4j.b1ic](c),j=this[F3Y4j.t3Qc][F3Y4j.b1ic](h),Y=this[F3Y4j.g3Qc][F3Y4j.b1ic](l),f=this[F3Y4j.L4Qc][F3Y4j.b1ic](p),b=this[F3Y4j.b6Ec],g=this[F3Y4j.R6Ec],y=0,f=(F=F3Y4j.G4N(this[F3Y4j.o4Ec],box2d[F3Y4j.T3Jc][F3Y4j.Y7Ec])?(b[F3Y4j.a4qc](),o=e=1,y+=this[F3Y4j.y9qc]+this[F3Y4j.e1qc],F3Y4j.a4N(c,l,this[F3Y4j.P0qc])):(s=box2d[F3Y4j.Z0tc](Y,this[F3Y4j.d1ic],box2d.b2GearJoint.prototype.SolvePositionConstraints.s_u),m=box2d[F3Y4j.Z0tc](Y,this[F3Y4j.o4tc],box2d.b2GearJoint.prototype.SolvePositionConstraints.s_rC),F=box2d[F3Y4j.Z0tc](F,this[F3Y4j.e6tc],box2d.b2GearJoint.prototype.SolvePositionConstraints.s_rA),b[F3Y4j.j9Qc](s),o=box2d[F3Y4j.O62c](m,s),e=box2d[F3Y4j.O62c](F,s),y+=this[F3Y4j.l82c]+this[F3Y4j.t22c]+F3Y4j.U4N(this[F3Y4j.e1qc],o,o)+F3Y4j.n4N(this[F3Y4j.y9qc],e,e),m=this[F3Y4j.o4tc],Y=box2d[F3Y4j.M8Ec](Y,box2d[F3Y4j.O2ic](F,box2d[F3Y4j.J97c](r,u,box2d[F3Y4j.b17c][F3Y4j.c1Jc]),box2d[F3Y4j.b17c][F3Y4j.c1Jc]),box2d[F3Y4j.b17c][F3Y4j.c1Jc]),box2d[F3Y4j.U2tc](box2d[F3Y4j.J97c](Y,m,box2d[F3Y4j.b17c][F3Y4j.c1Jc]),this[F3Y4j.d1ic])),s=F3Y4j.s3N(this[F3Y4j.e7Ec],box2d[F3Y4j.T3Jc][F3Y4j.Y7Ec])?(g[F3Y4j.a4qc](),i=this[F3Y4j.F5qc],n=this[F3Y4j.F5qc],y+=F3Y4j.x3N(this[F3Y4j.F5qc],this[F3Y4j.F5qc],this[F3Y4j.V9qc]+this[F3Y4j.D1qc]),F3Y4j.z3N(h,p,this[F3Y4j.g7qc])):(s=box2d[F3Y4j.Z0tc](f,this[F3Y4j.m9ic],box2d.b2GearJoint.prototype.SolvePositionConstraints.s_u),Y=box2d[F3Y4j.Z0tc](f,this[F3Y4j.T9tc],box2d.b2GearJoint.prototype.SolvePositionConstraints.s_rD),m=box2d[F3Y4j.Z0tc](j,this[F3Y4j.M9tc],box2d.b2GearJoint.prototype.SolvePositionConstraints.s_rB),box2d[F3Y4j.H07c](this[F3Y4j.F5qc],s,g),n=F3Y4j.b3N(this[F3Y4j.F5qc],box2d[F3Y4j.O62c](Y,s)),i=F3Y4j.p3N(this[F3Y4j.F5qc],box2d[F3Y4j.O62c](m,s)),y+=F3Y4j.y3N(this[F3Y4j.F5qc],this[F3Y4j.F5qc],this[F3Y4j.O5ic]+this[F3Y4j.i82c])+F3Y4j.Y3N(this[F3Y4j.D1qc],n,n)+F3Y4j.N3N(this[F3Y4j.V9qc],i,i),j=this[F3Y4j.T9tc],Y=box2d[F3Y4j.M8Ec](f,box2d[F3Y4j.O2ic](m,box2d[F3Y4j.J97c](a,d,box2d[F3Y4j.b17c][F3Y4j.c1Jc]),box2d[F3Y4j.b17c][F3Y4j.c1Jc]),box2d[F3Y4j.b17c][F3Y4j.c1Jc]),box2d[F3Y4j.U2tc](box2d[F3Y4j.J97c](Y,j,box2d[F3Y4j.b17c][F3Y4j.c1Jc]),this[F3Y4j.m9ic])),F3Y4j.t3N(F+this[F3Y4j.F5qc]*s,this[F3Y4j.H7ic])),m=0;return F3Y4j.T3N(y,0)&&(m=-f/y),r[F3Y4j.C1qc](F3Y4j.v3N(this[F3Y4j.t22c],m),b),c+=F3Y4j.W3N(this[F3Y4j.y9qc],m,e),a[F3Y4j.C1qc](F3Y4j.g3N(this[F3Y4j.i82c],m),g),h+=F3Y4j.k3N(this[F3Y4j.V9qc],m,i),u[F3Y4j.Y7Jc](F3Y4j.M3N(this[F3Y4j.l82c],m),b),l-=F3Y4j.s7N(this[F3Y4j.e1qc],m,o),d[F3Y4j.Y7Jc](F3Y4j.q7N(this[F3Y4j.O5ic],m),g),p-=F3Y4j.z7N(this[F3Y4j.D1qc],m,n),t[F3Y4j.r7ic][this[F3Y4j.p5qc]][F3Y4j.O22c]=c,t[F3Y4j.r7ic][this[F3Y4j.s5qc]][F3Y4j.O22c]=h,t[F3Y4j.r7ic][this[F3Y4j.d5qc]][F3Y4j.O22c]=l,t[F3Y4j.r7ic][this[F3Y4j.N5qc]][F3Y4j.O22c]=p,F3Y4j.b7N(0,box2d[F3Y4j.l9qc])},box2d.b2GearJoint.prototype.SolvePositionConstraints.s_u=new box2d[F3Y4j.b17c],box2d.b2GearJoint.prototype.SolvePositionConstraints.s_rA=new box2d[F3Y4j.b17c],box2d.b2GearJoint.prototype.SolvePositionConstraints.s_rB=new box2d[F3Y4j.b17c],box2d.b2GearJoint.prototype.SolvePositionConstraints.s_rC=new box2d[F3Y4j.b17c],box2d.b2GearJoint.prototype.SolvePositionConstraints.s_rD=new box2d[F3Y4j.b17c],box2d.b2GearJoint.prototype.GetAnchorA=function(t){return this[F3Y4j.l8tc][F3Y4j.K82c](this[F3Y4j.J2tc],t)},box2d.b2GearJoint.prototype.GetAnchorB=function(t){return this[F3Y4j.V8tc][F3Y4j.K82c](this[F3Y4j.B2tc],t)},box2d.b2GearJoint.prototype.GetReactionForce=function(t,e){return box2d[F3Y4j.H07c](F3Y4j.p7N(t,this[F3Y4j.H6Ec]),this[F3Y4j.b6Ec],e)},box2d.b2GearJoint.prototype.GetReactionTorque=function(t){return F3Y4j.y7N(t,this[F3Y4j.H6Ec],this[F3Y4j.Y9Ec])},box2d.b2GearJoint.prototype.GetJoint1=function(){return this[F3Y4j.T6qc]},box2d.b2GearJoint.prototype.GetJoint2=function(){return this[F3Y4j.L6qc]},box2d.b2GearJoint.prototype.GetRatio=function(){return this[F3Y4j.F5qc]},box2d.b2GearJoint.prototype.SetRatio=function(t){box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](box2d[F3Y4j.i9Ec](t)),this[F3Y4j.F5qc]=t},box2d.b2GearJoint.prototype.Dump=function(){var t,e,i,o;box2d[F3Y4j.l2Jc]&&(t=this[F3Y4j.l8tc][F3Y4j.h7Jc],e=this[F3Y4j.V8tc][F3Y4j.h7Jc],i=this[F3Y4j.T6qc][F3Y4j.O7tc],o=this[F3Y4j.L6qc][F3Y4j.O7tc],box2d[F3Y4j.q7ic]("  /*box2d.b2GearJointDef*/ var jd = new box2d.b2GearJointDef();\n"),box2d[F3Y4j.q7ic](F3Y4j.v3Qc,t),box2d[F3Y4j.q7ic](F3Y4j.V8qc,e),box2d[F3Y4j.q7ic](F3Y4j.V6qc,this[F3Y4j.v1tc]?F3Y4j.H1Ec:F3Y4j.y07c),box2d[F3Y4j.q7ic]("  jd.joint1 = joints[%d];\n",i),box2d[F3Y4j.q7ic]("  jd.joint2 = joints[%d];\n",o),box2d[F3Y4j.q7ic](F3Y4j.Q8Ec,this[F3Y4j.F5qc]),box2d[F3Y4j.q7ic](F3Y4j.Q4Jc,this[F3Y4j.O7tc]))},goog[F3Y4j.a0ic](F3Y4j.F82c),goog[F3Y4j.D02c]("box2d.b2Settings"),goog[F3Y4j.D02c]("box2d.b2Math"),box2d[F3Y4j.o2Qc]=function(){this[F3Y4j.s6ic]=box2d[F3Y4j.b17c][F3Y4j.T7qc](F3Y4j.B42c)},box2d.b2DistanceProxy.prototype.m_buffer=F3Y4j.E3qc,box2d.b2DistanceProxy.prototype.m_vertices=F3Y4j.E3qc,box2d.b2DistanceProxy.prototype.m_count=F3Y4j.u42c,box2d.b2DistanceProxy.prototype.m_radius=F3Y4j.u42c,box2d.b2DistanceProxy.prototype.Reset=function(){return this[F3Y4j.G6Jc]=F3Y4j.E3qc,this[F3Y4j.a1qc]=F3Y4j.u42c,this[F3Y4j.W6ic]=F3Y4j.u42c,this},box2d.b2DistanceProxy.prototype.SetShape=function(t,e){t.SetupDistanceProxy(this,e)},box2d.b2DistanceProxy.prototype.GetSupport=function(t){for(var e=F3Y4j.u42c,i=box2d[F3Y4j.U2tc](this[F3Y4j.G6Jc][F3Y4j.u42c],t),o=F3Y4j.b42c;F3Y4j.Y7N(o,this[F3Y4j.a1qc]);++o){var n=box2d[F3Y4j.U2tc](this[F3Y4j.G6Jc][o],t);F3Y4j.j7N(n,i)&&(e=o,i=n)}return e},box2d.b2DistanceProxy.prototype.GetSupportVertex=function(t,e){for(var i=F3Y4j.u42c,o=box2d[F3Y4j.U2tc](this[F3Y4j.G6Jc][F3Y4j.u42c],t),n=F3Y4j.b42c;F3Y4j.A7N(n,this[F3Y4j.a1qc]);++n){var s=box2d[F3Y4j.U2tc](this[F3Y4j.G6Jc][n],t);F3Y4j.r7N(s,o)&&(i=n,o=s)}return e[F3Y4j.j9Qc](this[F3Y4j.G6Jc][i])},box2d.b2DistanceProxy.prototype.GetVertexCount=function(){return this[F3Y4j.a1qc]},box2d.b2DistanceProxy.prototype.GetVertex=function(t){return box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.i7N(F3Y4j.u42c,t)&&F3Y4j.c7N(t,this[F3Y4j.a1qc])),this[F3Y4j.G6Jc][t]},box2d[F3Y4j.A9qc]=function(){this[F3Y4j.G22c]=box2d[F3Y4j.m8qc](F3Y4j.R42c),this[F3Y4j.s02c]=box2d[F3Y4j.m8qc](F3Y4j.R42c)},box2d.b2SimplexCache.prototype.metric=F3Y4j.u42c,box2d.b2SimplexCache.prototype.count=F3Y4j.u42c,box2d.b2SimplexCache.prototype.indexA=F3Y4j.E3qc,box2d.b2SimplexCache.prototype.indexB=F3Y4j.E3qc,box2d.b2SimplexCache.prototype.Reset=function(){return this[F3Y4j.u0Ec]=F3Y4j.u42c,this[F3Y4j.B7qc]=F3Y4j.u42c,this},box2d[F3Y4j.r0Qc]=function(){this[F3Y4j.H6ic]=new box2d[F3Y4j.o2Qc],this[F3Y4j.Q6ic]=new box2d[F3Y4j.o2Qc],this[F3Y4j.a1Qc]=new box2d[F3Y4j.J5ic],this[F3Y4j.V9Qc]=new box2d[F3Y4j.J5ic]},box2d.b2DistanceInput.prototype.proxyA=F3Y4j.E3qc,box2d.b2DistanceInput.prototype.proxyB=F3Y4j.E3qc,box2d.b2DistanceInput.prototype.transformA=F3Y4j.E3qc,box2d.b2DistanceInput.prototype.transformB=F3Y4j.E3qc,box2d.b2DistanceInput.prototype.useRadii=F3Y4j.h57c,box2d.b2DistanceInput.prototype.Reset=function(){return this[F3Y4j.H6ic][F3Y4j.t4Jc](),this[F3Y4j.Q6ic][F3Y4j.t4Jc](),this[F3Y4j.a1Qc][F3Y4j.K5Ec](),this[F3Y4j.V9Qc][F3Y4j.K5Ec](),this[F3Y4j.I62c]=F3Y4j.h57c,this},box2d[F3Y4j.w5Jc]=function(){this[F3Y4j.s2Jc]=new box2d[F3Y4j.b17c],this[F3Y4j.L2Jc]=new box2d[F3Y4j.b17c]},box2d.b2DistanceOutput.prototype.pointA=F3Y4j.E3qc,box2d.b2DistanceOutput.prototype.pointB=F3Y4j.E3qc,box2d.b2DistanceOutput.prototype.distance=F3Y4j.u42c,box2d.b2DistanceOutput.prototype.iterations=F3Y4j.u42c,box2d.b2DistanceOutput.prototype.Reset=function(){return this[F3Y4j.s2Jc][F3Y4j.a4qc](),this[F3Y4j.L2Jc][F3Y4j.a4qc](),this[F3Y4j.O3ic]=F3Y4j.u42c,this[F3Y4j.L4Jc]=F3Y4j.u42c,this},F3Y4j[F3Y4j.P37c](F3Y4j.u42c),F3Y4j[F3Y4j.y7ic](F3Y4j.u42c),F3Y4j[F3Y4j.D0Qc](F3Y4j.u42c),box2d[F3Y4j.K7tc]=function(){this[F3Y4j.H1tc]=new box2d[F3Y4j.b17c],this[F3Y4j.e1tc]=new box2d[F3Y4j.b17c],this[F3Y4j.X17c]=new box2d[F3Y4j.b17c]},box2d.b2SimplexVertex.prototype.wA=F3Y4j.E3qc,box2d.b2SimplexVertex.prototype.wB=F3Y4j.E3qc,box2d.b2SimplexVertex.prototype.w=F3Y4j.E3qc,box2d.b2SimplexVertex.prototype.a=F3Y4j.u42c,box2d.b2SimplexVertex.prototype.indexA=F3Y4j.u42c,box2d.b2SimplexVertex.prototype.indexB=F3Y4j.u42c,box2d.b2SimplexVertex.prototype.Copy=function(t){return this[F3Y4j.H1tc][F3Y4j.j9Qc](t[F3Y4j.H1tc]),this[F3Y4j.e1tc][F3Y4j.j9Qc](t[F3Y4j.e1tc]),this[F3Y4j.X17c][F3Y4j.j9Qc](t[F3Y4j.X17c]),this[F3Y4j.O22c]=t[F3Y4j.O22c],this[F3Y4j.G22c]=t[F3Y4j.G22c],this[F3Y4j.s02c]=t[F3Y4j.s02c],this},box2d[F3Y4j.z0tc]=function(){this[F3Y4j.z42c]=new box2d[F3Y4j.K7tc],this[F3Y4j.k92c]=new box2d[F3Y4j.K7tc],this[F3Y4j.o72c]=new box2d[F3Y4j.K7tc],this[F3Y4j.G6Jc]=new Array(F3Y4j.R42c),this[F3Y4j.G6Jc][F3Y4j.u42c]=this[F3Y4j.z42c],this[F3Y4j.G6Jc][F3Y4j.b42c]=this[F3Y4j.k92c],this[F3Y4j.G6Jc][F3Y4j.B42c]=this[F3Y4j.o72c]},box2d.b2Simplex.prototype.m_v1=F3Y4j.E3qc,box2d.b2Simplex.prototype.m_v2=F3Y4j.E3qc,box2d.b2Simplex.prototype.m_v3=F3Y4j.E3qc,box2d.b2Simplex.prototype.m_vertices=F3Y4j.E3qc,box2d.b2Simplex.prototype.m_count=F3Y4j.u42c,box2d.b2Simplex.prototype.ReadCache=function(t,e,i,o,n){box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.e7N(F3Y4j.u42c,t[F3Y4j.B7qc])&&F3Y4j.g7N(t[F3Y4j.B7qc],F3Y4j.R42c)),this[F3Y4j.a1qc]=t[F3Y4j.B7qc];for(var s,r,c=this[F3Y4j.G6Jc],a=F3Y4j.u42c;F3Y4j.k7N(a,this[F3Y4j.a1qc]);++a){(h=c[a])[F3Y4j.G22c]=t[F3Y4j.G22c][a],h[F3Y4j.s02c]=t[F3Y4j.s02c][a];var h,u=e[F3Y4j.r9qc](h[F3Y4j.G22c]),l=o[F3Y4j.r9qc](h[F3Y4j.s02c]);box2d[F3Y4j.a72c](i,u,h[F3Y4j.H1tc]),box2d[F3Y4j.a72c](n,l,h[F3Y4j.e1tc]),box2d[F3Y4j.J97c](h[F3Y4j.e1tc],h[F3Y4j.H1tc],h[F3Y4j.X17c]),h[F3Y4j.O22c]=F3Y4j.u42c}F3Y4j.n7N(this[F3Y4j.a1qc],F3Y4j.b42c)&&(s=t[F3Y4j.u0Ec],r=this[F3Y4j.V8Qc](),(F3Y4j.P7N(r,F3Y4j.T8Qc*s)||F3Y4j.V6N(F3Y4j.B42c*s,r)||F3Y4j.h6N(r,box2d[F3Y4j.w7qc]))&&(this[F3Y4j.a1qc]=F3Y4j.u42c)),F3Y4j.R6N(this[F3Y4j.a1qc],F3Y4j.u42c)&&((h=c[F3Y4j.u42c])[F3Y4j.G22c]=F3Y4j.u42c,h[F3Y4j.s02c]=F3Y4j.u42c,u=e[F3Y4j.r9qc](F3Y4j.u42c),l=o[F3Y4j.r9qc](F3Y4j.u42c),box2d[F3Y4j.a72c](i,u,h[F3Y4j.H1tc]),box2d[F3Y4j.a72c](n,l,h[F3Y4j.e1tc]),box2d[F3Y4j.J97c](h[F3Y4j.e1tc],h[F3Y4j.H1tc],h[F3Y4j.X17c]),h[F3Y4j.O22c]=F3Y4j.b42c,this[F3Y4j.a1qc]=F3Y4j.b42c)},box2d.b2Simplex.prototype.WriteCache=function(t){t[F3Y4j.u0Ec]=this[F3Y4j.V8Qc](),t[F3Y4j.B7qc]=this[F3Y4j.a1qc];for(var e=this[F3Y4j.G6Jc],i=F3Y4j.u42c;F3Y4j.b6N(i,this[F3Y4j.a1qc]);++i)t[F3Y4j.G22c][i]=e[i][F3Y4j.G22c],t[F3Y4j.s02c][i]=e[i][F3Y4j.s02c]},box2d.b2Simplex.prototype.GetSearchDirection=function(t){switch(this[F3Y4j.a1qc]){case F3Y4j.b42c:return box2d[F3Y4j.i1Jc](this[F3Y4j.z42c][F3Y4j.X17c],t);case F3Y4j.B42c:var e=box2d[F3Y4j.J97c](this[F3Y4j.k92c][F3Y4j.X17c],this[F3Y4j.z42c][F3Y4j.X17c],t),i=box2d[F3Y4j.O62c](e,box2d[F3Y4j.i1Jc](this[F3Y4j.z42c][F3Y4j.X17c],box2d[F3Y4j.b17c][F3Y4j.c1Jc]));return F3Y4j.p6N(i,F3Y4j.u42c)?box2d[F3Y4j.f7Ec](e,t):box2d[F3Y4j.r3Qc](e,t);default:return box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.h57c),t[F3Y4j.a4qc]()}},box2d.b2Simplex.prototype.GetClosestPoint=function(t){switch(this[F3Y4j.a1qc]){case F3Y4j.u42c:return box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.h57c),t[F3Y4j.a4qc]();case F3Y4j.b42c:return t[F3Y4j.j9Qc](this[F3Y4j.z42c][F3Y4j.X17c]);case F3Y4j.B42c:return t[F3Y4j.V0tc](F3Y4j.y6N(this[F3Y4j.z42c][F3Y4j.O22c],this[F3Y4j.z42c][F3Y4j.X17c][F3Y4j.W17c])+F3Y4j.Z6N(this[F3Y4j.k92c][F3Y4j.O22c],this[F3Y4j.k92c][F3Y4j.X17c][F3Y4j.W17c]),F3Y4j.D6N(this[F3Y4j.z42c][F3Y4j.O22c],this[F3Y4j.z42c][F3Y4j.X17c][F3Y4j.I17c])+F3Y4j.F6N(this[F3Y4j.k92c][F3Y4j.O22c],this[F3Y4j.k92c][F3Y4j.X17c][F3Y4j.I17c]));case F3Y4j.R42c:return t[F3Y4j.a4qc]();default:return box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.h57c),t[F3Y4j.a4qc]()}},box2d.b2Simplex.prototype.GetWitnessPoints=function(t,e){switch(this[F3Y4j.a1qc]){case F3Y4j.u42c:box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.h57c);break;case F3Y4j.b42c:t[F3Y4j.j9Qc](this[F3Y4j.z42c][F3Y4j.H1tc]),e[F3Y4j.j9Qc](this[F3Y4j.z42c][F3Y4j.e1tc]);break;case F3Y4j.B42c:t[F3Y4j.W17c]=F3Y4j.t6N(this[F3Y4j.z42c][F3Y4j.O22c],this[F3Y4j.z42c][F3Y4j.H1tc][F3Y4j.W17c])+F3Y4j.T6N(this[F3Y4j.k92c][F3Y4j.O22c],this[F3Y4j.k92c][F3Y4j.H1tc][F3Y4j.W17c]),t[F3Y4j.I17c]=F3Y4j.v6N(this[F3Y4j.z42c][F3Y4j.O22c],this[F3Y4j.z42c][F3Y4j.H1tc][F3Y4j.I17c])+F3Y4j.W6N(this[F3Y4j.k92c][F3Y4j.O22c],this[F3Y4j.k92c][F3Y4j.H1tc][F3Y4j.I17c]),e[F3Y4j.W17c]=F3Y4j.C6N(this[F3Y4j.z42c][F3Y4j.O22c],this[F3Y4j.z42c][F3Y4j.e1tc][F3Y4j.W17c])+F3Y4j.U6N(this[F3Y4j.k92c][F3Y4j.O22c],this[F3Y4j.k92c][F3Y4j.e1tc][F3Y4j.W17c]),e[F3Y4j.I17c]=F3Y4j.d6N(this[F3Y4j.z42c][F3Y4j.O22c],this[F3Y4j.z42c][F3Y4j.e1tc][F3Y4j.I17c])+F3Y4j.X6N(this[F3Y4j.k92c][F3Y4j.O22c],this[F3Y4j.k92c][F3Y4j.e1tc][F3Y4j.I17c]);break;case F3Y4j.R42c:e[F3Y4j.W17c]=t[F3Y4j.W17c]=F3Y4j.o0N(this[F3Y4j.z42c][F3Y4j.O22c],this[F3Y4j.z42c][F3Y4j.H1tc][F3Y4j.W17c])+F3Y4j.q0N(this[F3Y4j.k92c][F3Y4j.O22c],this[F3Y4j.k92c][F3Y4j.H1tc][F3Y4j.W17c])+F3Y4j.z0N(this[F3Y4j.o72c][F3Y4j.O22c],this[F3Y4j.o72c][F3Y4j.H1tc][F3Y4j.W17c]),e[F3Y4j.I17c]=t[F3Y4j.I17c]=F3Y4j.E0N(this[F3Y4j.z42c][F3Y4j.O22c],this[F3Y4j.z42c][F3Y4j.H1tc][F3Y4j.I17c])+F3Y4j.f0N(this[F3Y4j.k92c][F3Y4j.O22c],this[F3Y4j.k92c][F3Y4j.H1tc][F3Y4j.I17c])+F3Y4j.H0N(this[F3Y4j.o72c][F3Y4j.O22c],this[F3Y4j.o72c][F3Y4j.H1tc][F3Y4j.I17c]);break;default:box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.h57c)}},box2d.b2Simplex.prototype.GetMetric=function(){switch(this[F3Y4j.a1qc]){case F3Y4j.u42c:return box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.h57c),F3Y4j.u42c;case F3Y4j.b42c:return F3Y4j.u42c;case F3Y4j.B42c:return box2d[F3Y4j.J9ic](this[F3Y4j.z42c][F3Y4j.X17c],this[F3Y4j.k92c][F3Y4j.X17c]);case F3Y4j.R42c:return box2d[F3Y4j.O62c](box2d[F3Y4j.J97c](this[F3Y4j.k92c][F3Y4j.X17c],this[F3Y4j.z42c][F3Y4j.X17c],box2d[F3Y4j.b17c][F3Y4j.c1Jc]),box2d[F3Y4j.J97c](this[F3Y4j.o72c][F3Y4j.X17c],this[F3Y4j.z42c][F3Y4j.X17c],box2d[F3Y4j.b17c][F3Y4j.M1Jc]));default:return box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.h57c),F3Y4j.u42c}},box2d.b2Simplex.prototype.Solve2=function(){var t=this[F3Y4j.z42c][F3Y4j.X17c],e=this[F3Y4j.k92c][F3Y4j.X17c],i=box2d[F3Y4j.J97c](e,t,box2d[F3Y4j.z0tc][F3Y4j.f5Jc]),t=-box2d[F3Y4j.U2tc](t,i);if(F3Y4j.I0N(t,F3Y4j.u42c))return this[F3Y4j.z42c][F3Y4j.O22c]=F3Y4j.b42c,void(this[F3Y4j.a1qc]=F3Y4j.b42c);e=box2d[F3Y4j.U2tc](e,i);if(F3Y4j.w0N(e,F3Y4j.u42c))return this[F3Y4j.k92c][F3Y4j.O22c]=F3Y4j.b42c,this[F3Y4j.a1qc]=F3Y4j.b42c,void this[F3Y4j.z42c][F3Y4j.j9Qc](this[F3Y4j.k92c]);i=F3Y4j.N0N(F3Y4j.b42c,e+t);this[F3Y4j.z42c][F3Y4j.O22c]=F3Y4j.J0N(e,i),this[F3Y4j.k92c][F3Y4j.O22c]=F3Y4j.S0N(t,i),this[F3Y4j.a1qc]=F3Y4j.B42c},box2d.b2Simplex.prototype.Solve3=function(){var t=this[F3Y4j.z42c][F3Y4j.X17c],e=this[F3Y4j.k92c][F3Y4j.X17c],i=this[F3Y4j.o72c][F3Y4j.X17c],o=box2d[F3Y4j.J97c](e,t,box2d[F3Y4j.z0tc][F3Y4j.f5Jc]),n=box2d[F3Y4j.U2tc](t,o),s=box2d[F3Y4j.U2tc](e,o),n=-n,r=box2d[F3Y4j.J97c](i,t,box2d[F3Y4j.z0tc][F3Y4j.P8Ec]),c=box2d[F3Y4j.U2tc](t,r),a=box2d[F3Y4j.U2tc](i,r),c=-c,h=box2d[F3Y4j.J97c](i,e,box2d[F3Y4j.z0tc][F3Y4j.n07c]),u=box2d[F3Y4j.U2tc](e,h),h=box2d[F3Y4j.U2tc](i,h),u=-u,o=box2d[F3Y4j.O62c](o,r),r=F3Y4j.Q0N(o,box2d[F3Y4j.O62c](e,i)),i=F3Y4j.G0N(o,box2d[F3Y4j.O62c](i,t)),o=F3Y4j.a0N(o,box2d[F3Y4j.O62c](t,e));if(F3Y4j.L0N(n,F3Y4j.u42c)&&F3Y4j.K0N(c,F3Y4j.u42c))return this[F3Y4j.z42c][F3Y4j.O22c]=F3Y4j.b42c,void(this[F3Y4j.a1qc]=F3Y4j.b42c);if(F3Y4j.M0N(s,F3Y4j.u42c)&&F3Y4j.s2N(n,F3Y4j.u42c)&&F3Y4j.x2N(o,F3Y4j.u42c))return t=F3Y4j.O2N(F3Y4j.b42c,s+n),this[F3Y4j.z42c][F3Y4j.O22c]=F3Y4j.B2N(s,t),this[F3Y4j.k92c][F3Y4j.O22c]=F3Y4j.u2N(n,t),void(this[F3Y4j.a1qc]=F3Y4j.B42c);if(F3Y4j.l2N(a,F3Y4j.u42c)&&F3Y4j.m2N(c,F3Y4j.u42c)&&F3Y4j.Y2N(i,F3Y4j.u42c))return e=F3Y4j.j2N(F3Y4j.b42c,a+c),this[F3Y4j.z42c][F3Y4j.O22c]=F3Y4j.A2N(a,e),this[F3Y4j.o72c][F3Y4j.O22c]=F3Y4j.r2N(c,e),this[F3Y4j.a1qc]=F3Y4j.B42c,void this[F3Y4j.k92c][F3Y4j.j9Qc](this[F3Y4j.o72c]);if(F3Y4j.i2N(s,F3Y4j.u42c)&&F3Y4j.c2N(u,F3Y4j.u42c))return this[F3Y4j.k92c][F3Y4j.O22c]=F3Y4j.b42c,this[F3Y4j.a1qc]=F3Y4j.b42c,void this[F3Y4j.z42c][F3Y4j.j9Qc](this[F3Y4j.k92c]);if(F3Y4j.e2N(a,F3Y4j.u42c)&&F3Y4j.g2N(h,F3Y4j.u42c))return this[F3Y4j.o72c][F3Y4j.O22c]=F3Y4j.b42c,this[F3Y4j.a1qc]=F3Y4j.b42c,void this[F3Y4j.z42c][F3Y4j.j9Qc](this[F3Y4j.o72c]);if(F3Y4j.k2N(h,F3Y4j.u42c)&&F3Y4j.n2N(u,F3Y4j.u42c)&&F3Y4j.P2N(r,F3Y4j.u42c))return n=F3Y4j.V8N(F3Y4j.b42c,h+u),this[F3Y4j.k92c][F3Y4j.O22c]=F3Y4j.h8N(h,n),this[F3Y4j.o72c][F3Y4j.O22c]=F3Y4j.R8N(u,n),this[F3Y4j.a1qc]=F3Y4j.B42c,void this[F3Y4j.z42c][F3Y4j.j9Qc](this[F3Y4j.o72c]);t=F3Y4j.b8N(F3Y4j.b42c,r+i+o);this[F3Y4j.z42c][F3Y4j.O22c]=F3Y4j.p8N(r,t),this[F3Y4j.k92c][F3Y4j.O22c]=F3Y4j.y8N(i,t),this[F3Y4j.o72c][F3Y4j.O22c]=F3Y4j.Z8N(o,t),this[F3Y4j.a1qc]=F3Y4j.R42c},box2d[F3Y4j.z0tc][F3Y4j.f5Jc]=new box2d[F3Y4j.b17c],box2d[F3Y4j.z0tc][F3Y4j.P8Ec]=new box2d[F3Y4j.b17c],box2d[F3Y4j.z0tc][F3Y4j.n07c]=new box2d[F3Y4j.b17c],box2d[F3Y4j.z5Qc]=function(t,e,i){++box2d[F3Y4j.x17c];for(var o,n=i[F3Y4j.H6ic],s=i[F3Y4j.Q6ic],r=i[F3Y4j.a1Qc],c=i[F3Y4j.V9Qc],a=box2d[F3Y4j.z5Qc][F3Y4j.R3ic],h=(a.ReadCache(e,n,r,s,c),a[F3Y4j.G6Jc]),u=F3Y4j.B2ic,l=box2d[F3Y4j.z5Qc][F3Y4j.i2Qc],d=box2d[F3Y4j.z5Qc][F3Y4j.K2Qc],p=(F3Y4j.u42c,box2d[F3Y4j.p7Qc],F3Y4j.u42c);F3Y4j.D8N(p,u);){for(var F=a[F3Y4j.a1qc],j=F3Y4j.u42c;F3Y4j.F8N(j,F);++j)l[j]=h[j][F3Y4j.G22c],d[j]=h[j][F3Y4j.s02c];switch(a[F3Y4j.a1qc]){case F3Y4j.b42c:break;case F3Y4j.B42c:a.Solve2();break;case F3Y4j.R42c:a.Solve3();break;default:box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.h57c)}if(F3Y4j.t8N(a[F3Y4j.a1qc],F3Y4j.R42c))break;(Y=a.GetClosestPoint(box2d[F3Y4j.z5Qc][F3Y4j.m2qc]))[F3Y4j.u77c]();var Y,f=a.GetSearchDirection(box2d[F3Y4j.z5Qc][F3Y4j.r7Qc]);if(F3Y4j.T8N(f[F3Y4j.u77c](),box2d[F3Y4j.Q5ic]))break;for(var b=h[a[F3Y4j.a1qc]],g=(b[F3Y4j.G22c]=n[F3Y4j.e5Ec](box2d[F3Y4j.M8Ec](r[F3Y4j.G3ic],box2d[F3Y4j.i1Jc](f,box2d[F3Y4j.b17c][F3Y4j.c1Jc]),box2d[F3Y4j.z5Qc][F3Y4j.f82c])),box2d[F3Y4j.a72c](r,n[F3Y4j.r9qc](b[F3Y4j.G22c]),b[F3Y4j.H1tc]),b[F3Y4j.s02c]=s[F3Y4j.e5Ec](box2d[F3Y4j.M8Ec](c[F3Y4j.G3ic],f,box2d[F3Y4j.z5Qc][F3Y4j.J62c])),box2d[F3Y4j.a72c](c,s[F3Y4j.r9qc](b[F3Y4j.s02c]),b[F3Y4j.e1tc]),box2d[F3Y4j.J97c](b[F3Y4j.e1tc],b[F3Y4j.H1tc],b[F3Y4j.X17c]),++p,++box2d[F3Y4j.d7qc],F3Y4j.h57c),j=F3Y4j.u42c;F3Y4j.v8N(j,F);++j)if(F3Y4j.W8N(b[F3Y4j.G22c],l[j])&&F3Y4j.C8N(b[F3Y4j.s02c],d[j])){g=F3Y4j.H3qc;break}if(g)break;++a[F3Y4j.a1qc]}box2d[F3Y4j.v1Qc]=box2d[F3Y4j.h82c](box2d[F3Y4j.v1Qc],p),a.GetWitnessPoints(t[F3Y4j.s2Jc],t[F3Y4j.L2Jc]),t[F3Y4j.O3ic]=box2d[F3Y4j.J9ic](t[F3Y4j.s2Jc],t[F3Y4j.L2Jc]),t[F3Y4j.L4Jc]=p,a.WriteCache(e),i[F3Y4j.I62c]&&(e=n[F3Y4j.W6ic],i=s[F3Y4j.W6ic],F3Y4j.U8N(t[F3Y4j.O3ic],e+i)&&F3Y4j.d8N(t[F3Y4j.O3ic],box2d[F3Y4j.w7qc])?(t[F3Y4j.O3ic]-=e+i,(o=box2d[F3Y4j.J97c](t[F3Y4j.L2Jc],t[F3Y4j.s2Jc],box2d[F3Y4j.z5Qc][F3Y4j.A1tc]))[F3Y4j.w2tc](),t[F3Y4j.s2Jc][F3Y4j.C1qc](e,o),t[F3Y4j.L2Jc][F3Y4j.Y7Jc](i,o)):(Y=box2d[F3Y4j.a9ic](t[F3Y4j.s2Jc],t[F3Y4j.L2Jc],box2d[F3Y4j.z5Qc][F3Y4j.m2qc]),t[F3Y4j.s2Jc][F3Y4j.j9Qc](Y),t[F3Y4j.L2Jc][F3Y4j.j9Qc](Y),t[F3Y4j.O3ic]=F3Y4j.u42c))},box2d[F3Y4j.z5Qc][F3Y4j.R3ic]=new box2d[F3Y4j.z0tc],box2d[F3Y4j.z5Qc][F3Y4j.i2Qc]=box2d[F3Y4j.m8qc](F3Y4j.R42c),box2d[F3Y4j.z5Qc][F3Y4j.K2Qc]=box2d[F3Y4j.m8qc](F3Y4j.R42c),box2d[F3Y4j.z5Qc][F3Y4j.m2qc]=new box2d[F3Y4j.b17c],box2d[F3Y4j.z5Qc][F3Y4j.r7Qc]=new box2d[F3Y4j.b17c],box2d[F3Y4j.z5Qc][F3Y4j.A1tc]=new box2d[F3Y4j.b17c],box2d[F3Y4j.z5Qc][F3Y4j.f82c]=new box2d[F3Y4j.b17c],box2d[F3Y4j.z5Qc][F3Y4j.J62c]=new box2d[F3Y4j.b17c],goog[F3Y4j.a0ic](F3Y4j.D42c),goog[F3Y4j.D02c]("box2d.b2Settings"),goog[F3Y4j.D02c]("box2d.b2Joint"),goog[F3Y4j.D02c]("box2d.b2Math"),box2d[F3Y4j.A0Jc]=function(){goog[F3Y4j.W3tc](this,box2d[F3Y4j.T3Jc][F3Y4j.G5Qc]),this[F3Y4j.A4Ec]=new box2d[F3Y4j.b17c],this[F3Y4j.f4Ec]=new box2d[F3Y4j.b17c]},goog[F3Y4j.b4ic](box2d[F3Y4j.A0Jc],box2d[F3Y4j.X7qc]),box2d.b2WeldJointDef.prototype.localAnchorA=F3Y4j.E3qc,box2d.b2WeldJointDef.prototype.localAnchorB=F3Y4j.E3qc,box2d.b2WeldJointDef.prototype.referenceAngle=F3Y4j.u42c,box2d.b2WeldJointDef.prototype.frequencyHz=F3Y4j.u42c,box2d.b2WeldJointDef.prototype.dampingRatio=F3Y4j.u42c,box2d.b2WeldJointDef.prototype.Initialize=function(t,e,i){this[F3Y4j.E32c]=t,this[F3Y4j.F32c]=e,this[F3Y4j.E32c][F3Y4j.v5Jc](i,this[F3Y4j.A4Ec]),this[F3Y4j.F32c][F3Y4j.v5Jc](i,this[F3Y4j.f4Ec]),this[F3Y4j.e2ic]=F3Y4j.X8N(this[F3Y4j.F32c][F3Y4j.T7Qc](),this[F3Y4j.E32c][F3Y4j.T7Qc]())},box2d[F3Y4j.R9ic]=function(t){goog[F3Y4j.W3tc](this,t),this[F3Y4j.V97c]=t[F3Y4j.U3Qc],this[F3Y4j.P9qc]=t[F3Y4j.s6tc],this[F3Y4j.J2tc]=t[F3Y4j.A4Ec][F3Y4j.N07c](),this[F3Y4j.B2tc]=t[F3Y4j.f4Ec][F3Y4j.N07c](),this[F3Y4j.P82c]=t[F3Y4j.e2ic],this[F3Y4j.H6Ec]=new box2d[F3Y4j.x97c](F3Y4j.u42c,F3Y4j.u42c,F3Y4j.u42c),this[F3Y4j.L9qc]=new box2d[F3Y4j.b17c],this[F3Y4j.s4qc]=new box2d[F3Y4j.b17c],this[F3Y4j.I8Jc]=new box2d[F3Y4j.b17c],this[F3Y4j.H2Jc]=new box2d[F3Y4j.b17c],this[F3Y4j.p57c]=new box2d[F3Y4j.i5Jc],this[F3Y4j.P9Qc]=new box2d[F3Y4j.s4Jc],this[F3Y4j.t3Qc]=new box2d[F3Y4j.s4Jc],this[F3Y4j.e6tc]=new box2d[F3Y4j.b17c],this[F3Y4j.M9tc]=new box2d[F3Y4j.b17c],this[F3Y4j.Y8qc]=new box2d[F3Y4j.i5Jc]},goog[F3Y4j.b4ic](box2d[F3Y4j.R9ic],box2d[F3Y4j.R6tc]),box2d.b2WeldJoint.prototype.m_frequencyHz=F3Y4j.u42c,box2d.b2WeldJoint.prototype.m_dampingRatio=F3Y4j.u42c,box2d.b2WeldJoint.prototype.m_bias=F3Y4j.u42c,box2d.b2WeldJoint.prototype.m_localAnchorA=F3Y4j.E3qc,box2d.b2WeldJoint.prototype.m_localAnchorB=F3Y4j.E3qc,box2d.b2WeldJoint.prototype.m_referenceAngle=F3Y4j.u42c,box2d.b2WeldJoint.prototype.m_gamma=F3Y4j.u42c,box2d.b2WeldJoint.prototype.m_impulse=F3Y4j.E3qc,box2d.b2WeldJoint.prototype.m_indexA=F3Y4j.u42c,box2d.b2WeldJoint.prototype.m_indexB=F3Y4j.u42c,box2d.b2WeldJoint.prototype.m_rA=F3Y4j.E3qc,box2d.b2WeldJoint.prototype.m_rB=F3Y4j.E3qc,box2d.b2WeldJoint.prototype.m_localCenterA=F3Y4j.E3qc,box2d.b2WeldJoint.prototype.m_localCenterB=F3Y4j.E3qc,box2d.b2WeldJoint.prototype.m_invMassA=F3Y4j.u42c;box2d.b2WeldJoint.prototype.m_invMassB=F3Y4j.u42c,box2d.b2WeldJoint.prototype.m_invIA=F3Y4j.u42c,box2d.b2WeldJoint.prototype.m_invIB=F3Y4j.u42c,box2d.b2WeldJoint.prototype.m_mass=F3Y4j.E3qc,box2d.b2WeldJoint.prototype.m_qA=F3Y4j.E3qc,box2d.b2WeldJoint.prototype.m_qB=F3Y4j.E3qc,box2d.b2WeldJoint.prototype.m_lalcA=F3Y4j.E3qc,box2d.b2WeldJoint.prototype.m_lalcB=F3Y4j.E3qc,box2d.b2WeldJoint.prototype.m_K=F3Y4j.E3qc,box2d.b2WeldJoint.prototype.InitVelocityConstraints=function(t){this[F3Y4j.p5qc]=this[F3Y4j.l8tc][F3Y4j.h7Jc],this[F3Y4j.s5qc]=this[F3Y4j.V8tc][F3Y4j.h7Jc],this[F3Y4j.I8Jc][F3Y4j.j9Qc](this[F3Y4j.l8tc][F3Y4j.G4qc][F3Y4j.K92c]),this[F3Y4j.H2Jc][F3Y4j.j9Qc](this[F3Y4j.V8tc][F3Y4j.G4qc][F3Y4j.K92c]),this[F3Y4j.I9tc]=this[F3Y4j.l8tc][F3Y4j.m4tc],this[F3Y4j.h9tc]=this[F3Y4j.V8tc][F3Y4j.m4tc],this[F3Y4j.b4Jc]=this[F3Y4j.l8tc][F3Y4j.e1Ec],this[F3Y4j.Y9Jc]=this[F3Y4j.V8tc][F3Y4j.e1Ec];var e,i,o,n=t[F3Y4j.r7ic][this[F3Y4j.p5qc]][F3Y4j.O22c],s=t[F3Y4j.W8tc][this[F3Y4j.p5qc]][F3Y4j.H97c],r=t[F3Y4j.W8tc][this[F3Y4j.p5qc]][F3Y4j.X17c],c=t[F3Y4j.r7ic][this[F3Y4j.s5qc]][F3Y4j.O22c],a=t[F3Y4j.W8tc][this[F3Y4j.s5qc]][F3Y4j.H97c],h=t[F3Y4j.W8tc][this[F3Y4j.s5qc]][F3Y4j.X17c],u=this[F3Y4j.P9Qc][F3Y4j.b1ic](n),l=this[F3Y4j.t3Qc][F3Y4j.b1ic](c),u=(box2d[F3Y4j.J97c](this[F3Y4j.J2tc],this[F3Y4j.I8Jc],this[F3Y4j.e6tc]),box2d[F3Y4j.Z0tc](u,this[F3Y4j.e6tc],this[F3Y4j.L9qc]),box2d[F3Y4j.J97c](this[F3Y4j.B2tc],this[F3Y4j.H2Jc],this[F3Y4j.M9tc]),box2d[F3Y4j.Z0tc](l,this[F3Y4j.M9tc],this[F3Y4j.s4qc]),this[F3Y4j.I9tc]),l=this[F3Y4j.h9tc],d=this[F3Y4j.b4Jc],p=this[F3Y4j.Y9Jc],F=this[F3Y4j.Y8qc];F[F3Y4j.C7Qc][F3Y4j.W17c]=u+l+F3Y4j.o5v(this[F3Y4j.L9qc][F3Y4j.I17c],this[F3Y4j.L9qc][F3Y4j.I17c],d)+F3Y4j.h5v(this[F3Y4j.s4qc][F3Y4j.I17c],this[F3Y4j.s4qc][F3Y4j.I17c],p),F[F3Y4j.o6Qc][F3Y4j.W17c]=-this[F3Y4j.L9qc][F3Y4j.I17c]*this[F3Y4j.L9qc][F3Y4j.W17c]*d-F3Y4j.B5v(this[F3Y4j.s4qc][F3Y4j.I17c],this[F3Y4j.s4qc][F3Y4j.W17c],p),F[F3Y4j.u6Qc][F3Y4j.W17c]=-this[F3Y4j.L9qc][F3Y4j.I17c]*d-F3Y4j.f5v(this[F3Y4j.s4qc][F3Y4j.I17c],p),F[F3Y4j.C7Qc][F3Y4j.I17c]=F[F3Y4j.o6Qc][F3Y4j.W17c],F[F3Y4j.o6Qc][F3Y4j.I17c]=u+l+F3Y4j.H5v(this[F3Y4j.L9qc][F3Y4j.W17c],this[F3Y4j.L9qc][F3Y4j.W17c],d)+F3Y4j.Z5v(this[F3Y4j.s4qc][F3Y4j.W17c],this[F3Y4j.s4qc][F3Y4j.W17c],p),F[F3Y4j.u6Qc][F3Y4j.I17c]=F3Y4j.j5v(this[F3Y4j.L9qc][F3Y4j.W17c],d)+F3Y4j.A5v(this[F3Y4j.s4qc][F3Y4j.W17c],p),F[F3Y4j.C7Qc][F3Y4j.q17c]=F[F3Y4j.u6Qc][F3Y4j.W17c],F[F3Y4j.o6Qc][F3Y4j.q17c]=F[F3Y4j.u6Qc][F3Y4j.I17c],F[F3Y4j.u6Qc][F3Y4j.q17c]=d+p,F3Y4j.r5v(this[F3Y4j.V97c],0)?(F.GetInverse22(this[F3Y4j.p57c]),i=F3Y4j.i5v(e=d+p,0)?F3Y4j.c5v(1,e):0,c=F3Y4j.e5v(c,n,this[F3Y4j.P82c]),n=F3Y4j.L5v(2,box2d[F3Y4j.y7Jc],this[F3Y4j.V97c]),o=F3Y4j.d5v(2,i,this[F3Y4j.P9qc],n),i=F3Y4j.s1v(i,n,n),n=t[F3Y4j.r7Ec][F3Y4j.N7Ec],this[F3Y4j.x8Jc]=F3Y4j.q1v(n,o+n*i),this[F3Y4j.x8Jc]=F3Y4j.z1v(this[F3Y4j.x8Jc],0)?F3Y4j.E1v(1,this[F3Y4j.x8Jc]):0,this[F3Y4j.n1tc]=F3Y4j.f1v(c,n,i,this[F3Y4j.x8Jc]),e+=this[F3Y4j.x8Jc],this[F3Y4j.p57c][F3Y4j.u6Qc][F3Y4j.q17c]=F3Y4j.m1v(e,0)?F3Y4j.Y1v(1,e):0):(F.GetSymInverse33(this[F3Y4j.p57c]),this[F3Y4j.x8Jc]=0,this[F3Y4j.n1tc]=0),t[F3Y4j.r7Ec][F3Y4j.D47c]?(this[F3Y4j.H6Ec][F3Y4j.M62c](t[F3Y4j.r7Ec][F3Y4j.W22c]),o=box2d.b2WeldJoint.prototype.InitVelocityConstraints.s_P.SetXY(this[F3Y4j.H6Ec][F3Y4j.W17c],this[F3Y4j.H6Ec][F3Y4j.I17c]),s[F3Y4j.Y7Jc](u,o),r-=F3Y4j.j1v(d,box2d[F3Y4j.O62c](this[F3Y4j.L9qc],o)+this[F3Y4j.H6Ec][F3Y4j.q17c]),a[F3Y4j.C1qc](l,o),h+=F3Y4j.A1v(p,box2d[F3Y4j.O62c](this[F3Y4j.s4qc],o)+this[F3Y4j.H6Ec][F3Y4j.q17c])):this[F3Y4j.H6Ec][F3Y4j.a4qc](),t[F3Y4j.W8tc][this[F3Y4j.p5qc]][F3Y4j.X17c]=r,t[F3Y4j.W8tc][this[F3Y4j.s5qc]][F3Y4j.X17c]=h},box2d.b2WeldJoint.prototype.InitVelocityConstraints.s_P=new box2d[F3Y4j.b17c],box2d.b2WeldJoint.prototype.SolveVelocityConstraints=function(t){var e,i,o,n=t[F3Y4j.W8tc][this[F3Y4j.p5qc]][F3Y4j.H97c],s=t[F3Y4j.W8tc][this[F3Y4j.p5qc]][F3Y4j.X17c],r=t[F3Y4j.W8tc][this[F3Y4j.s5qc]][F3Y4j.H97c],c=t[F3Y4j.W8tc][this[F3Y4j.s5qc]][F3Y4j.X17c],a=this[F3Y4j.I9tc],h=this[F3Y4j.h9tc],u=this[F3Y4j.b4Jc],l=this[F3Y4j.Y9Jc];F3Y4j.r1v(this[F3Y4j.V97c],0)?(e=F3Y4j.i1v(c,s),i=-this[F3Y4j.p57c][F3Y4j.u6Qc][F3Y4j.q17c]*(e+this[F3Y4j.n1tc]+F3Y4j.c1v(this[F3Y4j.x8Jc],this[F3Y4j.H6Ec][F3Y4j.q17c])),this[F3Y4j.H6Ec][F3Y4j.q17c]+=i,s-=F3Y4j.e1v(u,i),c+=F3Y4j.g1v(l,i),i=box2d[F3Y4j.J97c](box2d[F3Y4j.M57c](r,c,this[F3Y4j.s4qc],box2d[F3Y4j.b17c][F3Y4j.c1Jc]),box2d[F3Y4j.M57c](n,s,this[F3Y4j.L9qc],box2d[F3Y4j.b17c][F3Y4j.M1Jc]),box2d.b2WeldJoint.prototype.SolveVelocityConstraints.s_Cdot1),o=box2d[F3Y4j.e4tc](this[F3Y4j.p57c],i[F3Y4j.W17c],i[F3Y4j.I17c],box2d.b2WeldJoint.prototype.SolveVelocityConstraints.s_impulse1)[F3Y4j.p9qc](),this[F3Y4j.H6Ec][F3Y4j.W17c]+=o[F3Y4j.W17c],this[F3Y4j.H6Ec][F3Y4j.I17c]+=o[F3Y4j.I17c],n[F3Y4j.Y7Jc](a,o=o),s-=F3Y4j.k1v(u,box2d[F3Y4j.O62c](this[F3Y4j.L9qc],o)),r[F3Y4j.C1qc](h,o),c+=F3Y4j.n1v(l,box2d[F3Y4j.O62c](this[F3Y4j.s4qc],o))):(i=box2d[F3Y4j.J97c](box2d[F3Y4j.M57c](r,c,this[F3Y4j.s4qc],box2d[F3Y4j.b17c][F3Y4j.c1Jc]),box2d[F3Y4j.M57c](n,s,this[F3Y4j.L9qc],box2d[F3Y4j.b17c][F3Y4j.M1Jc]),box2d.b2WeldJoint.prototype.SolveVelocityConstraints.s_Cdot1),e=F3Y4j.P1v(c,s),i=box2d[F3Y4j.Z9tc](this[F3Y4j.p57c],i[F3Y4j.W17c],i[F3Y4j.I17c],e,box2d.b2WeldJoint.prototype.SolveVelocityConstraints.s_impulse)[F3Y4j.p9qc](),this[F3Y4j.H6Ec][F3Y4j.l2Qc](i),o=box2d.b2WeldJoint.prototype.SolveVelocityConstraints.s_P.SetXY(i[F3Y4j.W17c],i[F3Y4j.I17c]),n[F3Y4j.Y7Jc](a,o),s-=F3Y4j.V9v(u,box2d[F3Y4j.O62c](this[F3Y4j.L9qc],o)+i[F3Y4j.q17c]),r[F3Y4j.C1qc](h,o),c+=F3Y4j.h9v(l,box2d[F3Y4j.O62c](this[F3Y4j.s4qc],o)+i[F3Y4j.q17c])),t[F3Y4j.W8tc][this[F3Y4j.p5qc]][F3Y4j.X17c]=s,t[F3Y4j.W8tc][this[F3Y4j.s5qc]][F3Y4j.X17c]=c},box2d.b2WeldJoint.prototype.SolveVelocityConstraints.s_Cdot1=new box2d[F3Y4j.b17c],box2d.b2WeldJoint.prototype.SolveVelocityConstraints.s_impulse1=new box2d[F3Y4j.b17c],box2d.b2WeldJoint.prototype.SolveVelocityConstraints.s_impulse=new box2d[F3Y4j.x97c],box2d.b2WeldJoint.prototype.SolveVelocityConstraints.s_P=new box2d[F3Y4j.b17c],box2d.b2WeldJoint.prototype.SolvePositionConstraints=function(t){var e,i,o,n,s=t[F3Y4j.r7ic][this[F3Y4j.p5qc]][F3Y4j.K22c],r=t[F3Y4j.r7ic][this[F3Y4j.p5qc]][F3Y4j.O22c],c=t[F3Y4j.r7ic][this[F3Y4j.s5qc]][F3Y4j.K22c],a=t[F3Y4j.r7ic][this[F3Y4j.s5qc]][F3Y4j.O22c],h=this[F3Y4j.P9Qc][F3Y4j.b1ic](r),u=this[F3Y4j.t3Qc][F3Y4j.b1ic](a),l=this[F3Y4j.I9tc],d=this[F3Y4j.h9tc],p=this[F3Y4j.b4Jc],F=this[F3Y4j.Y9Jc],h=(box2d[F3Y4j.J97c](this[F3Y4j.J2tc],this[F3Y4j.I8Jc],this[F3Y4j.e6tc]),box2d[F3Y4j.Z0tc](h,this[F3Y4j.e6tc],this[F3Y4j.L9qc])),u=(box2d[F3Y4j.J97c](this[F3Y4j.B2tc],this[F3Y4j.H2Jc],this[F3Y4j.M9tc]),box2d[F3Y4j.Z0tc](u,this[F3Y4j.M9tc],this[F3Y4j.s4qc])),j=this[F3Y4j.Y8qc];return j[F3Y4j.C7Qc][F3Y4j.W17c]=l+d+F3Y4j.R9v(h[F3Y4j.I17c],h[F3Y4j.I17c],p)+F3Y4j.u9v(u[F3Y4j.I17c],u[F3Y4j.I17c],F),j[F3Y4j.o6Qc][F3Y4j.W17c]=-h[F3Y4j.I17c]*h[F3Y4j.W17c]*p-F3Y4j.H9v(u[F3Y4j.I17c],u[F3Y4j.W17c],F),j[F3Y4j.u6Qc][F3Y4j.W17c]=-h[F3Y4j.I17c]*p-F3Y4j.Z9v(u[F3Y4j.I17c],F),j[F3Y4j.C7Qc][F3Y4j.I17c]=j[F3Y4j.o6Qc][F3Y4j.W17c],j[F3Y4j.o6Qc][F3Y4j.I17c]=l+d+F3Y4j.D9v(h[F3Y4j.W17c],h[F3Y4j.W17c],p)+F3Y4j.A9v(u[F3Y4j.W17c],u[F3Y4j.W17c],F),j[F3Y4j.u6Qc][F3Y4j.I17c]=F3Y4j.S9v(h[F3Y4j.W17c],p)+F3Y4j.Q9v(u[F3Y4j.W17c],F),j[F3Y4j.C7Qc][F3Y4j.q17c]=j[F3Y4j.u6Qc][F3Y4j.W17c],j[F3Y4j.o6Qc][F3Y4j.q17c]=j[F3Y4j.u6Qc][F3Y4j.I17c],j[F3Y4j.u6Qc][F3Y4j.q17c]=p+F,F3Y4j.G9v(this[F3Y4j.V97c],0)?(e=(o=box2d[F3Y4j.J97c](box2d[F3Y4j.O2ic](c,u,box2d[F3Y4j.b17c][F3Y4j.c1Jc]),box2d[F3Y4j.O2ic](s,h,box2d[F3Y4j.b17c][F3Y4j.M1Jc]),box2d.b2WeldJoint.prototype.SolvePositionConstraints.s_C1))[F3Y4j.x2Jc](),i=0,n=j[F3Y4j.q77c](o[F3Y4j.W17c],o[F3Y4j.I17c],box2d.b2WeldJoint.prototype.SolvePositionConstraints.s_P)[F3Y4j.p9qc](),s[F3Y4j.Y7Jc](l,n),r-=F3Y4j.a9v(p,box2d[F3Y4j.O62c](h,n)),c[F3Y4j.C1qc](d,n),a+=F3Y4j.L9v(F,box2d[F3Y4j.O62c](u,n))):(o=box2d[F3Y4j.J97c](box2d[F3Y4j.O2ic](c,u,box2d[F3Y4j.b17c][F3Y4j.c1Jc]),box2d[F3Y4j.O2ic](s,h,box2d[F3Y4j.b17c][F3Y4j.M1Jc]),box2d.b2WeldJoint.prototype.SolvePositionConstraints.s_C1),u=F3Y4j.K9v(a,r,this[F3Y4j.P82c]),e=o[F3Y4j.x2Jc](),i=box2d[F3Y4j.O7Qc](u),h=j[F3Y4j.G0Ec](o[F3Y4j.W17c],o[F3Y4j.I17c],u,box2d.b2WeldJoint.prototype.SolvePositionConstraints.s_impulse)[F3Y4j.p9qc](),n=box2d.b2WeldJoint.prototype.SolvePositionConstraints.s_P.SetXY(h[F3Y4j.W17c],h[F3Y4j.I17c]),s[F3Y4j.Y7Jc](l,n),r-=F3Y4j.X9v(p,box2d[F3Y4j.O62c](this[F3Y4j.L9qc],n)+h[F3Y4j.q17c]),c[F3Y4j.C1qc](d,n),a+=F3Y4j.o4v(F,box2d[F3Y4j.O62c](this[F3Y4j.s4qc],n)+h[F3Y4j.q17c])),t[F3Y4j.r7ic][this[F3Y4j.p5qc]][F3Y4j.O22c]=r,t[F3Y4j.r7ic][this[F3Y4j.s5qc]][F3Y4j.O22c]=a,F3Y4j.q4v(e,box2d[F3Y4j.l9qc])&&F3Y4j.z4v(i,box2d[F3Y4j.U3qc])},box2d.b2WeldJoint.prototype.SolvePositionConstraints.s_C1=new box2d[F3Y4j.b17c],box2d.b2WeldJoint.prototype.SolvePositionConstraints.s_P=new box2d[F3Y4j.b17c],box2d.b2WeldJoint.prototype.SolvePositionConstraints.s_impulse=new box2d[F3Y4j.x97c],box2d.b2WeldJoint.prototype.GetAnchorA=function(t){return this[F3Y4j.l8tc][F3Y4j.K82c](this[F3Y4j.J2tc],t)},box2d.b2WeldJoint.prototype.GetAnchorB=function(t){return this[F3Y4j.V8tc][F3Y4j.K82c](this[F3Y4j.B2tc],t)},box2d.b2WeldJoint.prototype.GetReactionForce=function(t,e){return e[F3Y4j.V0tc](F3Y4j.E4v(t,this[F3Y4j.H6Ec][F3Y4j.W17c]),F3Y4j.f4v(t,this[F3Y4j.H6Ec][F3Y4j.I17c]))},box2d.b2WeldJoint.prototype.GetReactionTorque=function(t){return F3Y4j.H4v(t,this[F3Y4j.H6Ec][F3Y4j.q17c])},box2d.b2WeldJoint.prototype.GetLocalAnchorA=function(t){return t[F3Y4j.j9Qc](this[F3Y4j.J2tc])},box2d.b2WeldJoint.prototype.GetLocalAnchorB=function(t){return t[F3Y4j.j9Qc](this[F3Y4j.B2tc])},box2d.b2WeldJoint.prototype.GetReferenceAngle=function(){return this[F3Y4j.P82c]},box2d.b2WeldJoint.prototype.SetFrequency=function(t){this[F3Y4j.V97c]=t},box2d.b2WeldJoint.prototype.GetFrequency=function(){return this[F3Y4j.V97c]},box2d.b2WeldJoint.prototype.SetDampingRatio=function(t){this[F3Y4j.P9qc]=t},box2d.b2WeldJoint.prototype.GetDampingRatio=function(){return this[F3Y4j.P9qc]},box2d.b2WeldJoint.prototype.Dump=function(){var t,e;box2d[F3Y4j.l2Jc]&&(t=this[F3Y4j.l8tc][F3Y4j.h7Jc],e=this[F3Y4j.V8tc][F3Y4j.h7Jc],box2d[F3Y4j.q7ic]("  /*box2d.b2WeldJointDef*/ var jd = new box2d.b2WeldJointDef();\n"),box2d[F3Y4j.q7ic](F3Y4j.v3Qc,t),box2d[F3Y4j.q7ic](F3Y4j.V8qc,e),box2d[F3Y4j.q7ic](F3Y4j.V6qc,this[F3Y4j.v1tc]?F3Y4j.H1Ec:F3Y4j.y07c),box2d[F3Y4j.q7ic](F3Y4j.u1ic,this[F3Y4j.J2tc][F3Y4j.W17c],this[F3Y4j.J2tc][F3Y4j.I17c]),box2d[F3Y4j.q7ic](F3Y4j.o1Qc,this[F3Y4j.B2tc][F3Y4j.W17c],this[F3Y4j.B2tc][F3Y4j.I17c]),box2d[F3Y4j.q7ic](F3Y4j.k7Ec,this[F3Y4j.P82c]),box2d[F3Y4j.q7ic](F3Y4j.V1tc,this[F3Y4j.V97c]),box2d[F3Y4j.q7ic](F3Y4j.S8ic,this[F3Y4j.P9qc]),box2d[F3Y4j.q7ic](F3Y4j.Q4Jc,this[F3Y4j.O7tc]))},goog[F3Y4j.a0ic](F3Y4j.m2Ec),goog[F3Y4j.D02c]("box2d.b2Settings"),goog[F3Y4j.D02c]("box2d.b2Joint"),goog[F3Y4j.D02c]("box2d.b2Math"),box2d[F3Y4j.u8tc]=function(){goog[F3Y4j.W3tc](this,box2d[F3Y4j.T3Jc][F3Y4j.h2Jc]),this[F3Y4j.A4Ec]=new box2d[F3Y4j.b17c](-F3Y4j.b42c,F3Y4j.u42c),this[F3Y4j.f4Ec]=new box2d[F3Y4j.b17c](F3Y4j.b42c,F3Y4j.u42c)},goog[F3Y4j.b4ic](box2d[F3Y4j.u8tc],box2d[F3Y4j.X7qc]),box2d.b2RopeJointDef.prototype.localAnchorA=F3Y4j.E3qc,box2d.b2RopeJointDef.prototype.localAnchorB=F3Y4j.E3qc,box2d.b2RopeJointDef.prototype.maxLength=F3Y4j.u42c,box2d[F3Y4j.F7ic]=function(t){goog[F3Y4j.W3tc](this,t),this[F3Y4j.J2tc]=t[F3Y4j.A4Ec][F3Y4j.N07c](),this[F3Y4j.B2tc]=t[F3Y4j.f4Ec][F3Y4j.N07c](),this[F3Y4j.U5qc]=t[F3Y4j.v5Ec],this[F3Y4j.j9Jc]=new box2d[F3Y4j.b17c],this[F3Y4j.L9qc]=new box2d[F3Y4j.b17c],this[F3Y4j.s4qc]=new box2d[F3Y4j.b17c],this[F3Y4j.I8Jc]=new box2d[F3Y4j.b17c],this[F3Y4j.H2Jc]=new box2d[F3Y4j.b17c],this[F3Y4j.P9Qc]=new box2d[F3Y4j.s4Jc],this[F3Y4j.t3Qc]=new box2d[F3Y4j.s4Jc],this[F3Y4j.e6tc]=new box2d[F3Y4j.b17c],this[F3Y4j.M9tc]=new box2d[F3Y4j.b17c]},goog[F3Y4j.b4ic](box2d[F3Y4j.F7ic],box2d[F3Y4j.R6tc]),box2d.b2RopeJoint.prototype.m_localAnchorA=F3Y4j.E3qc,box2d.b2RopeJoint.prototype.m_localAnchorB=F3Y4j.E3qc,box2d.b2RopeJoint.prototype.m_maxLength=F3Y4j.u42c,box2d.b2RopeJoint.prototype.m_length=F3Y4j.u42c,box2d.b2RopeJoint.prototype.m_impulse=F3Y4j.u42c,box2d.b2RopeJoint.prototype.m_indexA=F3Y4j.u42c,box2d.b2RopeJoint.prototype.m_indexB=F3Y4j.u42c,box2d.b2RopeJoint.prototype.m_u=F3Y4j.E3qc,box2d.b2RopeJoint.prototype.m_rA=F3Y4j.E3qc,box2d.b2RopeJoint.prototype.m_rB=F3Y4j.E3qc,box2d.b2RopeJoint.prototype.m_localCenterA=F3Y4j.E3qc,box2d.b2RopeJoint.prototype.m_localCenterB=F3Y4j.E3qc,box2d.b2RopeJoint.prototype.m_invMassA=F3Y4j.u42c,box2d.b2RopeJoint.prototype.m_invMassB=F3Y4j.u42c,box2d.b2RopeJoint.prototype.m_invIA=F3Y4j.u42c,box2d.b2RopeJoint.prototype.m_invIB=F3Y4j.u42c,box2d.b2RopeJoint.prototype.m_mass=F3Y4j.u42c,box2d.b2RopeJoint.prototype.m_state=box2d[F3Y4j.B0Qc][F3Y4j.Z2tc],box2d.b2RopeJoint.prototype.m_qA=F3Y4j.E3qc,box2d.b2RopeJoint.prototype.m_qB=F3Y4j.E3qc,box2d.b2RopeJoint.prototype.m_lalcA=F3Y4j.E3qc,box2d.b2RopeJoint.prototype.m_lalcB=F3Y4j.E3qc,box2d.b2RopeJoint.prototype.InitVelocityConstraints=function(t){this[F3Y4j.p5qc]=this[F3Y4j.l8tc][F3Y4j.h7Jc],this[F3Y4j.s5qc]=this[F3Y4j.V8tc][F3Y4j.h7Jc],this[F3Y4j.I8Jc][F3Y4j.j9Qc](this[F3Y4j.l8tc][F3Y4j.G4qc][F3Y4j.K92c]),this[F3Y4j.H2Jc][F3Y4j.j9Qc](this[F3Y4j.V8tc][F3Y4j.G4qc][F3Y4j.K92c]),this[F3Y4j.I9tc]=this[F3Y4j.l8tc][F3Y4j.m4tc],this[F3Y4j.h9tc]=this[F3Y4j.V8tc][F3Y4j.m4tc],this[F3Y4j.b4Jc]=this[F3Y4j.l8tc][F3Y4j.e1Ec],this[F3Y4j.Y9Jc]=this[F3Y4j.V8tc][F3Y4j.e1Ec];var e=t[F3Y4j.r7ic][this[F3Y4j.p5qc]][F3Y4j.K22c],i=t[F3Y4j.r7ic][this[F3Y4j.p5qc]][F3Y4j.O22c],o=t[F3Y4j.W8tc][this[F3Y4j.p5qc]][F3Y4j.H97c],n=t[F3Y4j.W8tc][this[F3Y4j.p5qc]][F3Y4j.X17c],s=t[F3Y4j.r7ic][this[F3Y4j.s5qc]][F3Y4j.K22c],r=t[F3Y4j.r7ic][this[F3Y4j.s5qc]][F3Y4j.O22c],c=t[F3Y4j.W8tc][this[F3Y4j.s5qc]][F3Y4j.H97c],a=t[F3Y4j.W8tc][this[F3Y4j.s5qc]][F3Y4j.X17c],i=this[F3Y4j.P9Qc][F3Y4j.b1ic](i),r=this[F3Y4j.t3Qc][F3Y4j.b1ic](r),i=(box2d[F3Y4j.J97c](this[F3Y4j.J2tc],this[F3Y4j.I8Jc],this[F3Y4j.e6tc]),box2d[F3Y4j.Z0tc](i,this[F3Y4j.e6tc],this[F3Y4j.L9qc]),box2d[F3Y4j.J97c](this[F3Y4j.B2tc],this[F3Y4j.H2Jc],this[F3Y4j.M9tc]),box2d[F3Y4j.Z0tc](r,this[F3Y4j.M9tc],this[F3Y4j.s4qc]),this[F3Y4j.j9Jc][F3Y4j.j9Qc](s)[F3Y4j.l2Qc](this[F3Y4j.s4qc])[F3Y4j.f3Jc](e)[F3Y4j.f3Jc](this[F3Y4j.L9qc]),this[F3Y4j.H8tc]=this[F3Y4j.j9Jc][F3Y4j.x2Jc](),F3Y4j.I4v(this[F3Y4j.H8tc],this[F3Y4j.U5qc]));if(F3Y4j.w4v(i,0)?this[F3Y4j.L3Ec]=box2d[F3Y4j.B0Qc][F3Y4j.s0Ec]:this[F3Y4j.L3Ec]=box2d[F3Y4j.B0Qc][F3Y4j.Z2tc],!F3Y4j.N4v(this[F3Y4j.H8tc],box2d[F3Y4j.l9qc]))return this[F3Y4j.j9Jc][F3Y4j.a4qc](),this[F3Y4j.p57c]=0,void(this[F3Y4j.H6Ec]=0);this[F3Y4j.j9Jc][F3Y4j.M62c](F3Y4j.J4v(1,this[F3Y4j.H8tc]));r=box2d[F3Y4j.O62c](this[F3Y4j.L9qc],this[F3Y4j.j9Jc]),s=box2d[F3Y4j.O62c](this[F3Y4j.s4qc],this[F3Y4j.j9Jc]),e=this[F3Y4j.I9tc]+F3Y4j.S4v(this[F3Y4j.b4Jc],r,r)+this[F3Y4j.h9tc]+F3Y4j.v4v(this[F3Y4j.Y9Jc],s,s);this[F3Y4j.p57c]=F3Y4j.e4v(e,0)?F3Y4j.g4v(1,e):0,t[F3Y4j.r7Ec][F3Y4j.D47c]?(this[F3Y4j.H6Ec]*=t[F3Y4j.r7Ec][F3Y4j.W22c],i=box2d[F3Y4j.H07c](this[F3Y4j.H6Ec],this[F3Y4j.j9Jc],box2d.b2RopeJoint.prototype.InitVelocityConstraints.s_P),o[F3Y4j.Y7Jc](this[F3Y4j.I9tc],i),n-=F3Y4j.k4v(this[F3Y4j.b4Jc],box2d[F3Y4j.O62c](this[F3Y4j.L9qc],i)),c[F3Y4j.C1qc](this[F3Y4j.h9tc],i),a+=F3Y4j.n4v(this[F3Y4j.Y9Jc],box2d[F3Y4j.O62c](this[F3Y4j.s4qc],i))):this[F3Y4j.H6Ec]=0,t[F3Y4j.W8tc][this[F3Y4j.p5qc]][F3Y4j.X17c]=n,t[F3Y4j.W8tc][this[F3Y4j.s5qc]][F3Y4j.X17c]=a},box2d.b2RopeJoint.prototype.InitVelocityConstraints.s_P=new box2d[F3Y4j.b17c],box2d.b2RopeJoint.prototype.SolveVelocityConstraints=function(t){var e=t[F3Y4j.W8tc][this[F3Y4j.p5qc]][F3Y4j.H97c],i=t[F3Y4j.W8tc][this[F3Y4j.p5qc]][F3Y4j.X17c],o=t[F3Y4j.W8tc][this[F3Y4j.s5qc]][F3Y4j.H97c],n=t[F3Y4j.W8tc][this[F3Y4j.s5qc]][F3Y4j.X17c],s=box2d[F3Y4j.M57c](e,i,this[F3Y4j.L9qc],box2d.b2RopeJoint.prototype.SolveVelocityConstraints.s_vpA),r=box2d[F3Y4j.M57c](o,n,this[F3Y4j.s4qc],box2d.b2RopeJoint.prototype.SolveVelocityConstraints.s_vpB),c=F3Y4j.P4v(this[F3Y4j.H8tc],this[F3Y4j.U5qc]),r=box2d[F3Y4j.U2tc](this[F3Y4j.j9Jc],box2d[F3Y4j.J97c](r,s,box2d[F3Y4j.b17c][F3Y4j.c1Jc])),s=(F3Y4j.V3v(c,0)&&(r+=F3Y4j.h3v(t[F3Y4j.r7Ec][F3Y4j.G6ic],c)),-this[F3Y4j.p57c]*r),c=this[F3Y4j.H6Ec],r=(this[F3Y4j.H6Ec]=box2d[F3Y4j.y3ic](0,this[F3Y4j.H6Ec]+s),s=F3Y4j.R3v(this[F3Y4j.H6Ec],c),box2d[F3Y4j.H07c](s,this[F3Y4j.j9Jc],box2d.b2RopeJoint.prototype.SolveVelocityConstraints.s_P));e[F3Y4j.Y7Jc](this[F3Y4j.I9tc],r),i-=F3Y4j.b3v(this[F3Y4j.b4Jc],box2d[F3Y4j.O62c](this[F3Y4j.L9qc],r)),o[F3Y4j.C1qc](this[F3Y4j.h9tc],r),n+=F3Y4j.p3v(this[F3Y4j.Y9Jc],box2d[F3Y4j.O62c](this[F3Y4j.s4qc],r)),t[F3Y4j.W8tc][this[F3Y4j.p5qc]][F3Y4j.X17c]=i,t[F3Y4j.W8tc][this[F3Y4j.s5qc]][F3Y4j.X17c]=n},box2d.b2RopeJoint.prototype.SolveVelocityConstraints.s_vpA=new box2d[F3Y4j.b17c],box2d.b2RopeJoint.prototype.SolveVelocityConstraints.s_vpB=new box2d[F3Y4j.b17c],box2d.b2RopeJoint.prototype.SolveVelocityConstraints.s_P=new box2d[F3Y4j.b17c],box2d.b2RopeJoint.prototype.SolvePositionConstraints=function(t){var e=t[F3Y4j.r7ic][this[F3Y4j.p5qc]][F3Y4j.K22c],i=t[F3Y4j.r7ic][this[F3Y4j.p5qc]][F3Y4j.O22c],o=t[F3Y4j.r7ic][this[F3Y4j.s5qc]][F3Y4j.K22c],n=t[F3Y4j.r7ic][this[F3Y4j.s5qc]][F3Y4j.O22c],s=this[F3Y4j.P9Qc][F3Y4j.b1ic](i),r=this[F3Y4j.t3Qc][F3Y4j.b1ic](n),s=(box2d[F3Y4j.J97c](this[F3Y4j.J2tc],this[F3Y4j.I8Jc],this[F3Y4j.e6tc]),box2d[F3Y4j.Z0tc](s,this[F3Y4j.e6tc],this[F3Y4j.L9qc])),r=(box2d[F3Y4j.J97c](this[F3Y4j.B2tc],this[F3Y4j.H2Jc],this[F3Y4j.M9tc]),box2d[F3Y4j.Z0tc](r,this[F3Y4j.M9tc],this[F3Y4j.s4qc])),c=this[F3Y4j.j9Jc][F3Y4j.j9Qc](o)[F3Y4j.l2Qc](r)[F3Y4j.f3Jc](e)[F3Y4j.f3Jc](s),a=c[F3Y4j.w2tc](),h=F3Y4j.y3v(a,this[F3Y4j.U5qc]),h=box2d[F3Y4j.Q87c](h,0,box2d[F3Y4j.m6qc]),h=-this[F3Y4j.p57c]*h,h=box2d[F3Y4j.H07c](h,c,box2d.b2RopeJoint.prototype.SolvePositionConstraints.s_P);return e[F3Y4j.Y7Jc](this[F3Y4j.I9tc],h),i-=F3Y4j.Z3v(this[F3Y4j.b4Jc],box2d[F3Y4j.O62c](s,h)),o[F3Y4j.C1qc](this[F3Y4j.h9tc],h),n+=F3Y4j.D3v(this[F3Y4j.Y9Jc],box2d[F3Y4j.O62c](r,h)),t[F3Y4j.r7ic][this[F3Y4j.p5qc]][F3Y4j.O22c]=i,t[F3Y4j.r7ic][this[F3Y4j.s5qc]][F3Y4j.O22c]=n,F3Y4j.F3v(a-this[F3Y4j.U5qc],box2d[F3Y4j.l9qc])},box2d.b2RopeJoint.prototype.SolvePositionConstraints.s_P=new box2d[F3Y4j.b17c],box2d.b2RopeJoint.prototype.GetAnchorA=function(t){return this[F3Y4j.l8tc][F3Y4j.K82c](this[F3Y4j.J2tc],t)},box2d.b2RopeJoint.prototype.GetAnchorB=function(t){return this[F3Y4j.V8tc][F3Y4j.K82c](this[F3Y4j.B2tc],t)},box2d.b2RopeJoint.prototype.GetReactionForce=function(t,e){return box2d[F3Y4j.H07c](F3Y4j.t3v(t,this[F3Y4j.H6Ec]),this[F3Y4j.j9Jc],e)},box2d.b2RopeJoint.prototype.GetReactionTorque=function(t){return F3Y4j.u42c},box2d.b2RopeJoint.prototype.GetLocalAnchorA=function(t){return t[F3Y4j.j9Qc](this[F3Y4j.J2tc])},box2d.b2RopeJoint.prototype.GetLocalAnchorB=function(t){return t[F3Y4j.j9Qc](this[F3Y4j.B2tc])},box2d.b2RopeJoint.prototype.SetMaxLength=function(t){this[F3Y4j.U5qc]=t},box2d.b2RopeJoint.prototype.GetMaxLength=function(){return this[F3Y4j.U5qc]},box2d.b2RopeJoint.prototype.GetLimitState=function(){return this[F3Y4j.L3Ec]},box2d.b2RopeJoint.prototype.Dump=function(){var t,e;box2d[F3Y4j.l2Jc]&&(t=this[F3Y4j.l8tc][F3Y4j.h7Jc],e=this[F3Y4j.V8tc][F3Y4j.h7Jc],box2d[F3Y4j.q7ic]("  /*box2d.b2RopeJointDef*/ var jd = new box2d.b2RopeJointDef();\n"),box2d[F3Y4j.q7ic](F3Y4j.v3Qc,t),box2d[F3Y4j.q7ic](F3Y4j.V8qc,e),box2d[F3Y4j.q7ic](F3Y4j.V6qc,this[F3Y4j.v1tc]?F3Y4j.H1Ec:F3Y4j.y07c),box2d[F3Y4j.q7ic](F3Y4j.u1ic,this[F3Y4j.J2tc][F3Y4j.W17c],this[F3Y4j.J2tc][F3Y4j.I17c]),box2d[F3Y4j.q7ic](F3Y4j.o1Qc,this[F3Y4j.B2tc][F3Y4j.W17c],this[F3Y4j.B2tc][F3Y4j.I17c]),box2d[F3Y4j.q7ic]("  jd.maxLength = %.15f;\n",this[F3Y4j.U5qc]),box2d[F3Y4j.q7ic](F3Y4j.Q4Jc,this[F3Y4j.O7tc]))},goog[F3Y4j.a0ic](F3Y4j.b4Qc),goog[F3Y4j.D02c]("box2d.b2Settings"),goog[F3Y4j.D02c]("box2d.b2Controller"),goog[F3Y4j.D02c]("box2d.b2Math"),box2d[F3Y4j.j6Qc]=function(){goog[F3Y4j.W3tc](this)},goog[F3Y4j.b4ic](box2d[F3Y4j.j6Qc],box2d[F3Y4j.O9Ec]),box2d.b2GravityController.prototype.G=F3Y4j.b42c,box2d.b2GravityController.prototype.invSqr=F3Y4j.H3qc,box2d.b2GravityController.prototype.Step=function(t){if(this.invSqr)for(var e=this[F3Y4j.s4ic];e;e=e[F3Y4j.P0Jc])for(var i=(u=e[F3Y4j.k4qc])[F3Y4j.X9tc](),o=u[F3Y4j.L2ic](),n=this[F3Y4j.s4ic];F3Y4j.T3v(n,e);n=n[F3Y4j.P0Jc]){var s=(l=n[F3Y4j.k4qc])[F3Y4j.X9tc](),r=l[F3Y4j.L2ic](),c=F3Y4j.v3v(s[F3Y4j.W17c],i[F3Y4j.W17c]),a=F3Y4j.W3v(s[F3Y4j.I17c],i[F3Y4j.I17c]),h=F3Y4j.C3v(c,c)+F3Y4j.U3v(a,a);F3Y4j.d3v(h,box2d[F3Y4j.w7qc])||((d=box2d.b2GravityController.prototype.Step.s_f.SetXY(c,a))[F3Y4j.M62c](F3Y4j.X3v(this.G,h,box2d[F3Y4j.j7Jc](h),o,r)),u[F3Y4j.y5Gc]()&&u[F3Y4j.P62c](d,i),l[F3Y4j.y5Gc]()&&l[F3Y4j.P62c](d[F3Y4j.M62c](-F3Y4j.b42c),s))}else for(e=this[F3Y4j.s4ic];e;e=e[F3Y4j.P0Jc])for(var u,i=(u=e[F3Y4j.k4qc])[F3Y4j.X9tc](),o=u[F3Y4j.L2ic](),n=this[F3Y4j.s4ic];F3Y4j.q7v(n,e);n=n[F3Y4j.P0Jc]){var l,d,s=(l=n[F3Y4j.k4qc])[F3Y4j.X9tc](),r=l[F3Y4j.L2ic](),c=F3Y4j.z7v(s[F3Y4j.W17c],i[F3Y4j.W17c]),a=F3Y4j.E7v(s[F3Y4j.I17c],i[F3Y4j.I17c]),h=F3Y4j.f7v(c,c)+F3Y4j.H7v(a,a);F3Y4j.I7v(h,box2d[F3Y4j.w7qc])||((d=box2d.b2GravityController.prototype.Step.s_f.SetXY(c,a))[F3Y4j.M62c](F3Y4j.w7v(this.G,h,o,r)),u[F3Y4j.y5Gc]()&&u[F3Y4j.P62c](d,i),l[F3Y4j.y5Gc]()&&l[F3Y4j.P62c](d[F3Y4j.M62c](-F3Y4j.b42c),s))}},box2d.b2GravityController.prototype.Step.s_f=new box2d[F3Y4j.b17c],goog[F3Y4j.a0ic](F3Y4j.y1qc),goog[F3Y4j.D02c]("box2d.b2Settings"),box2d[F3Y4j.k22c]=function(){},box2d.b2Profile.prototype.step=F3Y4j.u42c,box2d.b2Profile.prototype.collide=F3Y4j.u42c,box2d.b2Profile.prototype.solve=F3Y4j.u42c,box2d.b2Profile.prototype.solveInit=F3Y4j.u42c,box2d.b2Profile.prototype.solveVelocity=F3Y4j.u42c,box2d.b2Profile.prototype.solvePosition=F3Y4j.u42c,box2d.b2Profile.prototype.broadphase=F3Y4j.u42c,box2d.b2Profile.prototype.solveTOI=F3Y4j.u42c,box2d.b2Profile.prototype.Reset=function(){return this[F3Y4j.r7Ec]=F3Y4j.u42c,this[F3Y4j.F0qc]=F3Y4j.u42c,this[F3Y4j.w77c]=F3Y4j.u42c,this[F3Y4j.M4qc]=F3Y4j.u42c,this[F3Y4j.K4Ec]=F3Y4j.u42c,this[F3Y4j.U6qc]=F3Y4j.u42c,this[F3Y4j.L0Ec]=F3Y4j.u42c,this[F3Y4j.b3Ec]=F3Y4j.u42c,this},box2d[F3Y4j.d3Ec]=function(){},box2d.b2TimeStep.prototype.dt=F3Y4j.u42c,box2d.b2TimeStep.prototype.inv_dt=F3Y4j.u42c,box2d.b2TimeStep.prototype.dtRatio=F3Y4j.u42c,box2d.b2TimeStep.prototype.velocityIterations=F3Y4j.u42c,box2d.b2TimeStep.prototype.positionIterations=F3Y4j.u42c,box2d.b2TimeStep.prototype.warmStarting=F3Y4j.h57c,box2d.b2TimeStep.prototype.Copy=function(t){return this[F3Y4j.N7Ec]=t[F3Y4j.N7Ec],this[F3Y4j.G6ic]=t[F3Y4j.G6ic],this[F3Y4j.W22c]=t[F3Y4j.W22c],this[F3Y4j.v0qc]=t[F3Y4j.v0qc],this[F3Y4j.n2Ec]=t[F3Y4j.n2Ec],this[F3Y4j.D47c]=t[F3Y4j.D47c],this},box2d[F3Y4j.c9tc]=function(){this[F3Y4j.K22c]=new box2d[F3Y4j.b17c]},box2d.b2Position.prototype.c=F3Y4j.E3qc,box2d.b2Position.prototype.a=F3Y4j.u42c,box2d[F3Y4j.c9tc][F3Y4j.T7qc]=function(t){return box2d[F3Y4j.T0Jc](t,function(t){return new box2d[F3Y4j.c9tc]})},box2d[F3Y4j.y4qc]=function(){this[F3Y4j.H97c]=new box2d[F3Y4j.b17c]},box2d.b2Velocity.prototype.v=F3Y4j.E3qc,box2d.b2Velocity.prototype.w=F3Y4j.u42c,box2d[F3Y4j.y4qc][F3Y4j.T7qc]=function(t){return box2d[F3Y4j.T0Jc](t,function(t){return new box2d[F3Y4j.y4qc]})},box2d[F3Y4j.K9ic]=function(){this[F3Y4j.r7Ec]=new box2d[F3Y4j.d3Ec]},box2d.b2SolverData.prototype.step=F3Y4j.E3qc,box2d.b2SolverData.prototype.positions=F3Y4j.E3qc,box2d.b2SolverData.prototype.velocities=F3Y4j.E3qc,goog[F3Y4j.a0ic](F3Y4j.K7Ec),goog[F3Y4j.D02c]("box2d.b2Settings"),goog[F3Y4j.D02c]("box2d.b2Math"),goog[F3Y4j.D02c]("box2d.b2Distance"),box2d[F3Y4j.h5Jc]={e_vertex:F3Y4j.u42c,e_face:F3Y4j.b42c},goog[F3Y4j.H7Ec](box2d[F3Y4j.h5Jc],F3Y4j.E87c,box2d[F3Y4j.h5Jc][F3Y4j.I5ic]),goog[F3Y4j.H7Ec](box2d[F3Y4j.h5Jc],F3Y4j.C8ic,box2d[F3Y4j.h5Jc][F3Y4j.N2Jc]),box2d[F3Y4j.e5qc]=function(t){this[F3Y4j.Z1Qc]=t},box2d.b2ContactFeature.prototype._id=F3Y4j.E3qc,box2d.b2ContactFeature.prototype._indexA=F3Y4j.u42c,box2d.b2ContactFeature.prototype._indexB=F3Y4j.u42c,box2d.b2ContactFeature.prototype._typeA=F3Y4j.u42c,box2d.b2ContactFeature.prototype._typeB=F3Y4j.u42c,Object[F3Y4j.U3Ec](box2d.b2ContactFeature.prototype,F3Y4j.r0ic,{enumerable:F3Y4j.h57c,configurable:F3Y4j.H3qc,get:function(){return this[F3Y4j.t6tc]},set:function(t){this[F3Y4j.t6tc]=t,this[F3Y4j.Z1Qc][F3Y4j.v7qc]=F3Y4j.A7v(4294967040&this[F3Y4j.Z1Qc][F3Y4j.v7qc],255&this[F3Y4j.t6tc])}}),Object[F3Y4j.U3Ec](box2d.b2ContactFeature.prototype,F3Y4j.g0ic,{enumerable:F3Y4j.h57c,configurable:F3Y4j.H3qc,get:function(){return this[F3Y4j.X6tc]},set:function(t){this[F3Y4j.X6tc]=t,this[F3Y4j.Z1Qc][F3Y4j.v7qc]=F3Y4j.r7v(4294902015&this[F3Y4j.Z1Qc][F3Y4j.v7qc],this[F3Y4j.X6tc]<<F3Y4j.Z42c&65280)}}),Object[F3Y4j.U3Ec](box2d.b2ContactFeature.prototype,F3Y4j.J27c,{enumerable:F3Y4j.h57c,configurable:F3Y4j.H3qc,get:function(){return this[F3Y4j.a27c]},set:function(t){this[F3Y4j.a27c]=t,this[F3Y4j.Z1Qc][F3Y4j.v7qc]=F3Y4j.i7v(4278255615&this[F3Y4j.Z1Qc][F3Y4j.v7qc],this[F3Y4j.a27c]<<F3Y4j.V2ic&16711680)}}),Object[F3Y4j.U3Ec](box2d.b2ContactFeature.prototype,F3Y4j.v07c,{enumerable:F3Y4j.h57c,configurable:F3Y4j.H3qc,get:function(){return this[F3Y4j.F27c]},set:function(t){this[F3Y4j.F27c]=t,this[F3Y4j.Z1Qc][F3Y4j.v7qc]=F3Y4j.c7v(16777215&this[F3Y4j.Z1Qc][F3Y4j.v7qc],this[F3Y4j.F27c]<<F3Y4j.v0ic&4278190080)}}),box2d[F3Y4j.m3tc]=function(){this[F3Y4j.X2Jc]=new box2d[F3Y4j.e5qc](this)},box2d.b2ContactID.prototype.cf=F3Y4j.E3qc,box2d.b2ContactID.prototype.key=F3Y4j.u42c,box2d.b2ContactID.prototype.Copy=function(t){return this[F3Y4j.K6Jc]=t[F3Y4j.K6Jc],this},box2d.b2ContactID.prototype.Clone=function(){return(new box2d[F3Y4j.m3tc])[F3Y4j.j9Qc](this)},Object[F3Y4j.U3Ec](box2d.b2ContactID.prototype,F3Y4j.d2Ec,{enumerable:F3Y4j.h57c,configurable:F3Y4j.H3qc,get:function(){return this[F3Y4j.v7qc]},set:function(t){this[F3Y4j.v7qc]=t,this[F3Y4j.X2Jc][F3Y4j.t6tc]=F3Y4j.e7v(this[F3Y4j.v7qc],255),this[F3Y4j.X2Jc][F3Y4j.X6tc]=F3Y4j.g7v(this[F3Y4j.v7qc]>>F3Y4j.Z42c,255),this[F3Y4j.X2Jc][F3Y4j.a27c]=F3Y4j.k7v(this[F3Y4j.v7qc]>>F3Y4j.V2ic,255),this[F3Y4j.X2Jc][F3Y4j.F27c]=F3Y4j.n7v(this[F3Y4j.v7qc]>>F3Y4j.v0ic,255)}}),box2d[F3Y4j.J0tc]=function(){this[F3Y4j.U9Ec]=new box2d[F3Y4j.b17c],this[F3Y4j.a4Jc]=new box2d[F3Y4j.m3tc]},box2d.b2ManifoldPoint.prototype.localPoint=F3Y4j.E3qc,box2d.b2ManifoldPoint.prototype.normalImpulse=F3Y4j.u42c,box2d.b2ManifoldPoint.prototype.tangentImpulse=F3Y4j.u42c,box2d.b2ManifoldPoint.prototype.id=F3Y4j.E3qc,box2d[F3Y4j.J0tc][F3Y4j.T7qc]=function(t){return box2d[F3Y4j.T0Jc](t,function(t){return new box2d[F3Y4j.J0tc]})},box2d.b2ManifoldPoint.prototype.Reset=function(){this[F3Y4j.U9Ec][F3Y4j.a4qc](),this[F3Y4j.E62c]=F3Y4j.u42c,this[F3Y4j.A2Qc]=F3Y4j.u42c,this[F3Y4j.a4Jc][F3Y4j.K6Jc]=F3Y4j.u42c},box2d.b2ManifoldPoint.prototype.Copy=function(t){return this[F3Y4j.U9Ec][F3Y4j.j9Qc](t[F3Y4j.U9Ec]),this[F3Y4j.E62c]=t[F3Y4j.E62c],this[F3Y4j.A2Qc]=t[F3Y4j.A2Qc],this[F3Y4j.a4Jc][F3Y4j.j9Qc](t[F3Y4j.a4Jc]),this},box2d[F3Y4j.u1tc]={e_unknown:-F3Y4j.b42c,e_circles:F3Y4j.u42c,e_faceA:F3Y4j.b42c,e_faceB:F3Y4j.B42c},goog[F3Y4j.H7Ec](box2d[F3Y4j.u1tc],F3Y4j.E2Ec,box2d[F3Y4j.u1tc][F3Y4j.O0tc]),goog[F3Y4j.H7Ec](box2d[F3Y4j.u1tc],F3Y4j.k6qc,box2d[F3Y4j.u1tc][F3Y4j.k3qc]),goog[F3Y4j.H7Ec](box2d[F3Y4j.u1tc],F3Y4j.C1Qc,box2d[F3Y4j.u1tc][F3Y4j.P4ic]),goog[F3Y4j.H7Ec](box2d[F3Y4j.u1tc],F3Y4j.E5Qc,box2d[F3Y4j.u1tc][F3Y4j.c4ic]),box2d[F3Y4j.q72c]=function(){this[F3Y4j.Q72c]=box2d[F3Y4j.J0tc][F3Y4j.T7qc](box2d[F3Y4j.O5tc]),this[F3Y4j.D3Qc]=new box2d[F3Y4j.b17c],this[F3Y4j.U9Ec]=new box2d[F3Y4j.b17c],this[F3Y4j.r0Jc]=box2d[F3Y4j.u1tc][F3Y4j.O0tc],this[F3Y4j.F0tc]=F3Y4j.u42c},box2d.b2Manifold.prototype.points=F3Y4j.E3qc,box2d.b2Manifold.prototype.localNormal=F3Y4j.E3qc,box2d.b2Manifold.prototype.localPoint=F3Y4j.E3qc,box2d.b2Manifold.prototype.type=box2d[F3Y4j.u1tc][F3Y4j.O0tc],box2d.b2Manifold.prototype.pointCount=F3Y4j.u42c,box2d.b2Manifold.prototype.Reset=function(){for(var t=F3Y4j.u42c,e=box2d[F3Y4j.O5tc];F3Y4j.P7v(t,e);++t)this[F3Y4j.Q72c][t][F3Y4j.t4Jc]();this[F3Y4j.D3Qc][F3Y4j.a4qc](),this[F3Y4j.U9Ec][F3Y4j.a4qc](),this[F3Y4j.r0Jc]=box2d[F3Y4j.u1tc][F3Y4j.O0tc],this[F3Y4j.F0tc]=F3Y4j.u42c},box2d.b2Manifold.prototype.Copy=function(t){this[F3Y4j.F0tc]=t[F3Y4j.F0tc];for(var e=F3Y4j.u42c,i=box2d[F3Y4j.O5tc];F3Y4j.V6v(e,i);++e)this[F3Y4j.Q72c][e][F3Y4j.j9Qc](t[F3Y4j.Q72c][e]);return this[F3Y4j.D3Qc][F3Y4j.j9Qc](t[F3Y4j.D3Qc]),this[F3Y4j.U9Ec][F3Y4j.j9Qc](t[F3Y4j.U9Ec]),this[F3Y4j.r0Jc]=t[F3Y4j.r0Jc],this},box2d.b2Manifold.prototype.Clone=function(){return(new box2d[F3Y4j.q72c])[F3Y4j.j9Qc](this)},box2d[F3Y4j.b72c]=function(){this[F3Y4j.U6ic]=new box2d[F3Y4j.b17c],this[F3Y4j.Q72c]=box2d[F3Y4j.b17c][F3Y4j.T7qc](box2d[F3Y4j.O5tc]),this[F3Y4j.L3Jc]=box2d[F3Y4j.m8qc](box2d[F3Y4j.O5tc])},box2d.b2WorldManifold.prototype.normal=F3Y4j.E3qc,box2d.b2WorldManifold.prototype.points=F3Y4j.E3qc,box2d.b2WorldManifold.prototype.separations=F3Y4j.E3qc,box2d.b2WorldManifold.prototype.Initialize=function(t,e,i,o,n){if(!F3Y4j.h6v(t[F3Y4j.F0tc],F3Y4j.u42c))switch(t[F3Y4j.r0Jc]){case box2d[F3Y4j.u1tc][F3Y4j.k3qc]:this[F3Y4j.U6ic][F3Y4j.V0tc](F3Y4j.b42c,F3Y4j.u42c);var s=box2d[F3Y4j.a72c](e,t[F3Y4j.U9Ec],box2d.b2WorldManifold.prototype.Initialize.s_pointA),r=box2d[F3Y4j.a72c](o,t[F3Y4j.Q72c][F3Y4j.u42c][F3Y4j.U9Ec],box2d.b2WorldManifold.prototype.Initialize.s_pointB),c=(F3Y4j.R6v(box2d[F3Y4j.I1qc](s,r),box2d[F3Y4j.Q5ic])&&box2d[F3Y4j.J97c](r,s,this[F3Y4j.U6ic])[F3Y4j.X7Jc](),box2d[F3Y4j.c07c](s,i,this[F3Y4j.U6ic],box2d.b2WorldManifold.prototype.Initialize.s_cA)),a=box2d[F3Y4j.u1Qc](r,n,this[F3Y4j.U6ic],box2d.b2WorldManifold.prototype.Initialize.s_cB);box2d[F3Y4j.a9ic](c,a,this[F3Y4j.Q72c][F3Y4j.u42c]),this[F3Y4j.L3Jc][F3Y4j.u42c]=box2d[F3Y4j.U2tc](box2d[F3Y4j.J97c](a,c,box2d[F3Y4j.b17c][F3Y4j.c1Jc]),this[F3Y4j.U6ic]);break;case box2d[F3Y4j.u1tc][F3Y4j.P4ic]:box2d[F3Y4j.Z0tc](e[F3Y4j.G3ic],t[F3Y4j.D3Qc],this[F3Y4j.U6ic]);for(var h=box2d[F3Y4j.a72c](e,t[F3Y4j.U9Ec],box2d.b2WorldManifold.prototype.Initialize.s_planePoint),u=F3Y4j.u42c,l=t[F3Y4j.F0tc];F3Y4j.b6v(u,l);++u){var d=box2d[F3Y4j.a72c](o,t[F3Y4j.Q72c][u][F3Y4j.U9Ec],box2d.b2WorldManifold.prototype.Initialize.s_clipPoint),p=F3Y4j.p6v(i,box2d[F3Y4j.U2tc](box2d[F3Y4j.J97c](d,h,box2d[F3Y4j.b17c][F3Y4j.c1Jc]),this[F3Y4j.U6ic])),c=box2d[F3Y4j.c07c](d,p,this[F3Y4j.U6ic],box2d.b2WorldManifold.prototype.Initialize.s_cA),a=box2d[F3Y4j.u1Qc](d,n,this[F3Y4j.U6ic],box2d.b2WorldManifold.prototype.Initialize.s_cB);box2d[F3Y4j.a9ic](c,a,this[F3Y4j.Q72c][u]),this[F3Y4j.L3Jc][u]=box2d[F3Y4j.U2tc](box2d[F3Y4j.J97c](a,c,box2d[F3Y4j.b17c][F3Y4j.c1Jc]),this[F3Y4j.U6ic])}break;case box2d[F3Y4j.u1tc][F3Y4j.c4ic]:box2d[F3Y4j.Z0tc](o[F3Y4j.G3ic],t[F3Y4j.D3Qc],this[F3Y4j.U6ic]);for(h=box2d[F3Y4j.a72c](o,t[F3Y4j.U9Ec],box2d.b2WorldManifold.prototype.Initialize.s_planePoint),u=F3Y4j.u42c,l=t[F3Y4j.F0tc];F3Y4j.y6v(u,l);++u){d=box2d[F3Y4j.a72c](e,t[F3Y4j.Q72c][u][F3Y4j.U9Ec],box2d.b2WorldManifold.prototype.Initialize.s_clipPoint),p=F3Y4j.Z6v(n,box2d[F3Y4j.U2tc](box2d[F3Y4j.J97c](d,h,box2d[F3Y4j.b17c][F3Y4j.c1Jc]),this[F3Y4j.U6ic])),a=box2d[F3Y4j.c07c](d,p,this[F3Y4j.U6ic],box2d.b2WorldManifold.prototype.Initialize.s_cB),c=box2d[F3Y4j.u1Qc](d,i,this[F3Y4j.U6ic],box2d.b2WorldManifold.prototype.Initialize.s_cA);box2d[F3Y4j.a9ic](c,a,this[F3Y4j.Q72c][u]),this[F3Y4j.L3Jc][u]=box2d[F3Y4j.U2tc](box2d[F3Y4j.J97c](c,a,box2d[F3Y4j.b17c][F3Y4j.c1Jc]),this[F3Y4j.U6ic])}this[F3Y4j.U6ic][F3Y4j.p9qc]()}},box2d.b2WorldManifold.prototype.Initialize.s_pointA=new box2d[F3Y4j.b17c],box2d.b2WorldManifold.prototype.Initialize.s_pointB=new box2d[F3Y4j.b17c],box2d.b2WorldManifold.prototype.Initialize.s_cA=new box2d[F3Y4j.b17c],box2d.b2WorldManifold.prototype.Initialize.s_cB=new box2d[F3Y4j.b17c],box2d.b2WorldManifold.prototype.Initialize.s_planePoint=new box2d[F3Y4j.b17c],box2d.b2WorldManifold.prototype.Initialize.s_clipPoint=new box2d[F3Y4j.b17c],box2d[F3Y4j.o0tc]={b2_nullState:F3Y4j.u42c,b2_addState:F3Y4j.b42c,b2_persistState:F3Y4j.B42c,b2_removeState:F3Y4j.R42c},goog[F3Y4j.H7Ec](box2d[F3Y4j.o0tc],F3Y4j.d42c,box2d[F3Y4j.o0tc][F3Y4j.f8tc]),goog[F3Y4j.H7Ec](box2d[F3Y4j.o0tc],F3Y4j.u3ic,box2d[F3Y4j.o0tc][F3Y4j.G2tc]),goog[F3Y4j.H7Ec](box2d[F3Y4j.o0tc],F3Y4j.U2Qc,box2d[F3Y4j.o0tc][F3Y4j.Y6Qc]),goog[F3Y4j.H7Ec](box2d[F3Y4j.o0tc],F3Y4j.C6Ec,box2d[F3Y4j.o0tc][F3Y4j.m6Ec]),box2d[F3Y4j.G9Jc]=function(t,e,i,o){for(var n=F3Y4j.u42c,s=i[F3Y4j.F0tc];F3Y4j.D6v(n,s);++n){var r=i[F3Y4j.Q72c][n][F3Y4j.a4Jc][F3Y4j.K6Jc];t[n]=box2d[F3Y4j.o0tc][F3Y4j.m6Ec];for(var c=F3Y4j.u42c,a=o[F3Y4j.F0tc];F3Y4j.F6v(c,a);++c)if(F3Y4j.t6v(o[F3Y4j.Q72c][c][F3Y4j.a4Jc][F3Y4j.K6Jc],r)){t[n]=box2d[F3Y4j.o0tc][F3Y4j.Y6Qc];break}}for(s=box2d[F3Y4j.O5tc];F3Y4j.T6v(n,s);++n)t[n]=box2d[F3Y4j.o0tc][F3Y4j.f8tc];for(n=F3Y4j.u42c,s=o[F3Y4j.F0tc];F3Y4j.v6v(n,s);++n){r=o[F3Y4j.Q72c][n][F3Y4j.a4Jc][F3Y4j.K6Jc];e[n]=box2d[F3Y4j.o0tc][F3Y4j.G2tc];for(c=F3Y4j.u42c,a=i[F3Y4j.F0tc];F3Y4j.W6v(c,a);++c)if(F3Y4j.C6v(i[F3Y4j.Q72c][c][F3Y4j.a4Jc][F3Y4j.K6Jc],r)){e[n]=box2d[F3Y4j.o0tc][F3Y4j.Y6Qc];break}}for(s=box2d[F3Y4j.O5tc];F3Y4j.U6v(n,s);++n)e[n]=box2d[F3Y4j.o0tc][F3Y4j.f8tc]},box2d[F3Y4j.N7Jc]=function(){this[F3Y4j.H97c]=new box2d[F3Y4j.b17c],this[F3Y4j.a4Jc]=new box2d[F3Y4j.m3tc]},box2d.b2ClipVertex.prototype.v=F3Y4j.E3qc,box2d.b2ClipVertex.prototype.id=F3Y4j.E3qc,box2d[F3Y4j.N7Jc][F3Y4j.T7qc]=function(t){return box2d[F3Y4j.T0Jc](t,function(t){return new box2d[F3Y4j.N7Jc]})},box2d.b2ClipVertex.prototype.Copy=function(t){return this[F3Y4j.H97c][F3Y4j.j9Qc](t[F3Y4j.H97c]),this[F3Y4j.a4Jc][F3Y4j.j9Qc](t[F3Y4j.a4Jc]),this},box2d[F3Y4j.K3ic]=function(){this[F3Y4j.C6tc]=new box2d[F3Y4j.b17c],this[F3Y4j.b0tc]=new box2d[F3Y4j.b17c],this[F3Y4j.d6ic]=F3Y4j.b42c},box2d.b2RayCastInput.prototype.p1=F3Y4j.E3qc,box2d.b2RayCastInput.prototype.p2=F3Y4j.E3qc,box2d.b2RayCastInput.prototype.maxFraction=F3Y4j.b42c,box2d.b2RayCastInput.prototype.Copy=function(t){return this[F3Y4j.C6tc][F3Y4j.j9Qc](t[F3Y4j.C6tc]),this[F3Y4j.b0tc][F3Y4j.j9Qc](t[F3Y4j.b0tc]),this[F3Y4j.d6ic]=t[F3Y4j.d6ic],this},box2d[F3Y4j.p1ic]=function(){this[F3Y4j.U6ic]=new box2d[F3Y4j.b17c],this[F3Y4j.k7Qc]=F3Y4j.u42c},box2d.b2RayCastOutput.prototype.normal=F3Y4j.E3qc,box2d.b2RayCastOutput.prototype.fraction=F3Y4j.u42c,box2d.b2RayCastOutput.prototype.Copy=function(t){return this[F3Y4j.U6ic][F3Y4j.j9Qc](t[F3Y4j.U6ic]),this[F3Y4j.k7Qc]=t[F3Y4j.k7Qc],this},box2d[F3Y4j.p02c]=function(){this[F3Y4j.h6ic]=new box2d[F3Y4j.b17c],this[F3Y4j.P7ic]=new box2d[F3Y4j.b17c],this[F3Y4j.Z5Qc]=new box2d[F3Y4j.b17c],this[F3Y4j.h2Qc]=new box2d[F3Y4j.b17c]},box2d.b2AABB.prototype.lowerBound=F3Y4j.E3qc,box2d.b2AABB.prototype.upperBound=F3Y4j.E3qc,box2d.b2AABB.prototype.m_out_center=F3Y4j.E3qc,box2d.b2AABB.prototype.m_out_extent=F3Y4j.E3qc,box2d.b2AABB.prototype.Copy=function(t){return this[F3Y4j.h6ic][F3Y4j.j9Qc](t[F3Y4j.h6ic]),this[F3Y4j.P7ic][F3Y4j.j9Qc](t[F3Y4j.P7ic]),this},box2d.b2AABB.prototype.IsValid=function(){var t=F3Y4j.d6v(this[F3Y4j.P7ic][F3Y4j.W17c],this[F3Y4j.h6ic][F3Y4j.W17c]),e=F3Y4j.X6v(this[F3Y4j.P7ic][F3Y4j.I17c],this[F3Y4j.h6ic][F3Y4j.I17c]);return F3Y4j.o0v(t,F3Y4j.u42c)&&F3Y4j.q0v(e,F3Y4j.u42c)&&this[F3Y4j.h6ic][F3Y4j.A5Qc]()&&this[F3Y4j.P7ic][F3Y4j.A5Qc]()},box2d.b2AABB.prototype.GetCenter=function(){return box2d[F3Y4j.a9ic](this[F3Y4j.h6ic],this[F3Y4j.P7ic],this[F3Y4j.Z5Qc])},box2d.b2AABB.prototype.GetExtents=function(){return box2d[F3Y4j.V0ic](this[F3Y4j.h6ic],this[F3Y4j.P7ic],this[F3Y4j.h2Qc])},box2d.b2AABB.prototype.GetPerimeter=function(){var t=F3Y4j.z0v(this[F3Y4j.P7ic][F3Y4j.W17c],this[F3Y4j.h6ic][F3Y4j.W17c]),e=F3Y4j.E0v(this[F3Y4j.P7ic][F3Y4j.I17c],this[F3Y4j.h6ic][F3Y4j.I17c]);return F3Y4j.f0v(F3Y4j.B42c,t+e)},box2d.b2AABB.prototype.Combine1=function(t){return this[F3Y4j.h6ic][F3Y4j.W17c]=box2d[F3Y4j.y3ic](this[F3Y4j.h6ic][F3Y4j.W17c],t[F3Y4j.h6ic][F3Y4j.W17c]),this[F3Y4j.h6ic][F3Y4j.I17c]=box2d[F3Y4j.y3ic](this[F3Y4j.h6ic][F3Y4j.I17c],t[F3Y4j.h6ic][F3Y4j.I17c]),this[F3Y4j.P7ic][F3Y4j.W17c]=box2d[F3Y4j.h82c](this[F3Y4j.P7ic][F3Y4j.W17c],t[F3Y4j.P7ic][F3Y4j.W17c]),this[F3Y4j.P7ic][F3Y4j.I17c]=box2d[F3Y4j.h82c](this[F3Y4j.P7ic][F3Y4j.I17c],t[F3Y4j.P7ic][F3Y4j.I17c]),this},box2d.b2AABB.prototype.Combine2=function(t,e){return this[F3Y4j.h6ic][F3Y4j.W17c]=box2d[F3Y4j.y3ic](t[F3Y4j.h6ic][F3Y4j.W17c],e[F3Y4j.h6ic][F3Y4j.W17c]),this[F3Y4j.h6ic][F3Y4j.I17c]=box2d[F3Y4j.y3ic](t[F3Y4j.h6ic][F3Y4j.I17c],e[F3Y4j.h6ic][F3Y4j.I17c]),this[F3Y4j.P7ic][F3Y4j.W17c]=box2d[F3Y4j.h82c](t[F3Y4j.P7ic][F3Y4j.W17c],e[F3Y4j.P7ic][F3Y4j.W17c]),this[F3Y4j.P7ic][F3Y4j.I17c]=box2d[F3Y4j.h82c](t[F3Y4j.P7ic][F3Y4j.I17c],e[F3Y4j.P7ic][F3Y4j.I17c]),this},box2d[F3Y4j.p02c][F3Y4j.l1ic]=function(t,e,i){return i[F3Y4j.e0Ec](t,e),i},box2d.b2AABB.prototype.Contains=function(t){return F3Y4j.H3qc&&F3Y4j.H0v(this[F3Y4j.h6ic][F3Y4j.W17c],t[F3Y4j.h6ic][F3Y4j.W17c])&&F3Y4j.I0v(this[F3Y4j.h6ic][F3Y4j.I17c],t[F3Y4j.h6ic][F3Y4j.I17c])&&F3Y4j.w0v(t[F3Y4j.P7ic][F3Y4j.W17c],this[F3Y4j.P7ic][F3Y4j.W17c])&&F3Y4j.N0v(t[F3Y4j.P7ic][F3Y4j.I17c],this[F3Y4j.P7ic][F3Y4j.I17c])},box2d.b2AABB.prototype.RayCast=function(t,e){var i=-box2d[F3Y4j.p7Qc],o=box2d[F3Y4j.p7Qc],n=e[F3Y4j.C6tc][F3Y4j.W17c],s=e[F3Y4j.C6tc][F3Y4j.I17c],r=F3Y4j.J0v(e[F3Y4j.b0tc][F3Y4j.W17c],e[F3Y4j.C6tc][F3Y4j.W17c]),c=F3Y4j.S0v(e[F3Y4j.b0tc][F3Y4j.I17c],e[F3Y4j.C6tc][F3Y4j.I17c]),a=box2d[F3Y4j.O7Qc](r),h=box2d[F3Y4j.O7Qc](c),u=t[F3Y4j.U6ic];if(F3Y4j.Q0v(a,box2d[F3Y4j.w7qc])){if(F3Y4j.G0v(n,this[F3Y4j.h6ic][F3Y4j.W17c])||F3Y4j.a0v(this[F3Y4j.P7ic][F3Y4j.W17c],n))return F3Y4j.h57c}else{var l=F3Y4j.L0v(F3Y4j.b42c,r),d=F3Y4j.K0v(this[F3Y4j.h6ic][F3Y4j.W17c]-n,l),p=F3Y4j.M0v(this[F3Y4j.P7ic][F3Y4j.W17c]-n,l),F=-F3Y4j.b42c;if(F3Y4j.s2v(d,p)&&(j=d,d=p,p=j,F=F3Y4j.b42c),F3Y4j.x2v(d,i)&&(u[F3Y4j.W17c]=F,u[F3Y4j.I17c]=F3Y4j.u42c,i=d),o=box2d[F3Y4j.y3ic](o,p),F3Y4j.O2v(i,o))return F3Y4j.h57c}if(F3Y4j.B2v(h,box2d[F3Y4j.w7qc])){if(F3Y4j.u2v(s,this[F3Y4j.h6ic][F3Y4j.I17c])||F3Y4j.l2v(this[F3Y4j.P7ic][F3Y4j.I17c],s))return F3Y4j.h57c}else{var j,l=F3Y4j.m2v(F3Y4j.b42c,c),d=F3Y4j.Y2v(this[F3Y4j.h6ic][F3Y4j.I17c]-s,l),p=F3Y4j.j2v(this[F3Y4j.P7ic][F3Y4j.I17c]-s,l),F=-F3Y4j.b42c;if(F3Y4j.A2v(d,p)&&(j=d,d=p,p=j,F=F3Y4j.b42c),F3Y4j.r2v(d,i)&&(u[F3Y4j.W17c]=F3Y4j.u42c,u[F3Y4j.I17c]=F,i=d),o=box2d[F3Y4j.y3ic](o,p),F3Y4j.i2v(i,o))return F3Y4j.h57c}return F3Y4j.c2v(i,F3Y4j.u42c)||F3Y4j.e2v(e[F3Y4j.d6ic],i)?F3Y4j.h57c:(t[F3Y4j.k7Qc]=i,F3Y4j.H3qc)},box2d.b2AABB.prototype.TestOverlap=function(t){var e=F3Y4j.g2v(t[F3Y4j.h6ic][F3Y4j.W17c],this[F3Y4j.P7ic][F3Y4j.W17c]),i=F3Y4j.k2v(t[F3Y4j.h6ic][F3Y4j.I17c],this[F3Y4j.P7ic][F3Y4j.I17c]),o=F3Y4j.n2v(this[F3Y4j.h6ic][F3Y4j.W17c],t[F3Y4j.P7ic][F3Y4j.W17c]),t=F3Y4j.P2v(this[F3Y4j.h6ic][F3Y4j.I17c],t[F3Y4j.P7ic][F3Y4j.I17c]);return F3Y4j.V8v(e,F3Y4j.u42c)||F3Y4j.h8v(i,F3Y4j.u42c)||F3Y4j.R8v(o,F3Y4j.u42c)||F3Y4j.b8v(t,F3Y4j.u42c)?F3Y4j.h57c:F3Y4j.H3qc},box2d[F3Y4j.n3ic]=function(t,e){var i=F3Y4j.p8v(e[F3Y4j.h6ic][F3Y4j.W17c],t[F3Y4j.P7ic][F3Y4j.W17c]),o=F3Y4j.y8v(e[F3Y4j.h6ic][F3Y4j.I17c],t[F3Y4j.P7ic][F3Y4j.I17c]),n=F3Y4j.Z8v(t[F3Y4j.h6ic][F3Y4j.W17c],e[F3Y4j.P7ic][F3Y4j.W17c]),t=F3Y4j.D8v(t[F3Y4j.h6ic][F3Y4j.I17c],e[F3Y4j.P7ic][F3Y4j.I17c]);return F3Y4j.F8v(i,F3Y4j.u42c)||F3Y4j.t8v(o,F3Y4j.u42c)||F3Y4j.T8v(n,F3Y4j.u42c)||F3Y4j.v8v(t,F3Y4j.u42c)?F3Y4j.h57c:F3Y4j.H3qc},box2d[F3Y4j.g6tc]=function(t,e,i,o,n){var s=F3Y4j.u42c,r=e[F3Y4j.u42c],e=e[F3Y4j.b42c],c=F3Y4j.W8v(box2d[F3Y4j.U2tc](i,r[F3Y4j.H97c]),o),i=F3Y4j.C8v(box2d[F3Y4j.U2tc](i,e[F3Y4j.H97c]),o);return F3Y4j.U8v(c,F3Y4j.u42c)&&t[s++][F3Y4j.j9Qc](r),F3Y4j.d8v(i,F3Y4j.u42c)&&t[s++][F3Y4j.j9Qc](e),F3Y4j.X8v(c*i,F3Y4j.u42c)&&(o=F3Y4j.o5p(c,c-i),(c=t[s][F3Y4j.H97c])[F3Y4j.W17c]=r[F3Y4j.H97c][F3Y4j.W17c]+F3Y4j.q5p(o,e[F3Y4j.H97c][F3Y4j.W17c]-r[F3Y4j.H97c][F3Y4j.W17c]),c[F3Y4j.I17c]=r[F3Y4j.H97c][F3Y4j.I17c]+F3Y4j.z5p(o,e[F3Y4j.H97c][F3Y4j.I17c]-r[F3Y4j.H97c][F3Y4j.I17c]),(i=t[s][F3Y4j.a4Jc])[F3Y4j.X2Jc][F3Y4j.G22c]=n,i[F3Y4j.X2Jc][F3Y4j.s02c]=r[F3Y4j.a4Jc][F3Y4j.X2Jc][F3Y4j.s02c],i[F3Y4j.X2Jc][F3Y4j.B82c]=box2d[F3Y4j.h5Jc][F3Y4j.I5ic],i[F3Y4j.X2Jc][F3Y4j.C22c]=box2d[F3Y4j.h5Jc][F3Y4j.N2Jc],++s),s},box2d[F3Y4j.i2Ec]=function(t,e,i,o,n,s){var r=box2d[F3Y4j.i2Ec][F3Y4j.P4tc][F3Y4j.t4Jc](),t=(r[F3Y4j.H6ic][F3Y4j.v5qc](t,e),r[F3Y4j.Q6ic][F3Y4j.v5qc](i,o),r[F3Y4j.a1Qc][F3Y4j.j9Qc](n),r[F3Y4j.V9Qc][F3Y4j.j9Qc](s),r[F3Y4j.I62c]=F3Y4j.H3qc,box2d[F3Y4j.i2Ec][F3Y4j.y7Ec][F3Y4j.t4Jc]()),e=(t[F3Y4j.B7qc]=F3Y4j.u42c,box2d[F3Y4j.i2Ec][F3Y4j.m5Ec][F3Y4j.t4Jc]());return box2d[F3Y4j.z5Qc](e,t,r),F3Y4j.E5p(e[F3Y4j.O3ic],F3Y4j.D2ic*box2d[F3Y4j.w7qc])},box2d[F3Y4j.i2Ec][F3Y4j.P4tc]=new box2d[F3Y4j.r0Qc],box2d[F3Y4j.i2Ec][F3Y4j.y7Ec]=new box2d[F3Y4j.A9qc],box2d[F3Y4j.i2Ec][F3Y4j.m5Ec]=new box2d[F3Y4j.w5Jc],goog[F3Y4j.a0ic](F3Y4j.C6Jc),goog[F3Y4j.D02c]("box2d.b2Settings"),box2d[F3Y4j.V7Qc]=function(){this[F3Y4j.Q5tc]=(new Date)[F3Y4j.b7Jc]()},box2d.b2Timer.prototype.m_start=F3Y4j.u42c,box2d.b2Timer.prototype.Reset=function(){return this[F3Y4j.Q5tc]=(new Date)[F3Y4j.b7Jc](),this},box2d.b2Timer.prototype.GetMilliseconds=function(){return F3Y4j.f5p((new Date)[F3Y4j.b7Jc](),this[F3Y4j.Q5tc])},box2d[F3Y4j.B4tc]=function(){},box2d.b2Counter.prototype.m_count=F3Y4j.u42c,box2d.b2Counter.prototype.m_min_count=F3Y4j.u42c,box2d.b2Counter.prototype.m_max_count=F3Y4j.u42c,box2d.b2Counter.prototype.GetCount=function(){return this[F3Y4j.a1qc]},box2d.b2Counter.prototype.GetMinCount=function(){return this[F3Y4j.G9ic]},box2d.b2Counter.prototype.GetMaxCount=function(){return this[F3Y4j.p97c]},box2d.b2Counter.prototype.ResetCount=function(){var t=this[F3Y4j.a1qc];return this[F3Y4j.a1qc]=F3Y4j.u42c,t},box2d.b2Counter.prototype.ResetMinCount=function(){this[F3Y4j.G9ic]=F3Y4j.u42c},box2d.b2Counter.prototype.ResetMaxCount=function(){this[F3Y4j.p97c]=F3Y4j.u42c},box2d.b2Counter.prototype.Increment=function(){this[F3Y4j.a1qc]++,F3Y4j.H5p(this[F3Y4j.p97c],this[F3Y4j.a1qc])&&(this[F3Y4j.p97c]=this[F3Y4j.a1qc])},box2d.b2Counter.prototype.Decrement=function(){this[F3Y4j.a1qc]--,F3Y4j.I5p(this[F3Y4j.G9ic],this[F3Y4j.a1qc])&&(this[F3Y4j.G9ic]=this[F3Y4j.a1qc])},goog[F3Y4j.a0ic](F3Y4j.n0Jc),goog[F3Y4j.D02c]("box2d.b2Settings"),goog[F3Y4j.D02c]("box2d.b2Distance"),goog[F3Y4j.D02c]("box2d.b2Math"),goog[F3Y4j.D02c]("box2d.b2Timer"),F3Y4j[F3Y4j.Y2qc](F3Y4j.e8Qc),F3Y4j[F3Y4j.o8tc](F3Y4j.e8Qc),F3Y4j[F3Y4j.k5Qc](F3Y4j.u42c),F3Y4j[F3Y4j.o77c](F3Y4j.u42c),F3Y4j[F3Y4j.P9Jc](F3Y4j.u42c),F3Y4j[F3Y4j.G1qc](F3Y4j.u42c),F3Y4j[F3Y4j.I7tc](F3Y4j.u42c),box2d[F3Y4j.F0Qc]=function(){this[F3Y4j.H6ic]=new box2d[F3Y4j.o2Qc],this[F3Y4j.Q6ic]=new box2d[F3Y4j.o2Qc],this[F3Y4j.t9ic]=new box2d[F3Y4j.L22c],this[F3Y4j.M9ic]=new box2d[F3Y4j.L22c]},box2d.b2TOIInput.prototype.proxyA=F3Y4j.E3qc,box2d.b2TOIInput.prototype.proxyB=F3Y4j.E3qc,box2d.b2TOIInput.prototype.sweepA=F3Y4j.E3qc,box2d.b2TOIInput.prototype.sweepB=F3Y4j.E3qc,box2d.b2TOIInput.prototype.tMax=F3Y4j.u42c,box2d[F3Y4j.v9tc]={e_unknown:F3Y4j.u42c,e_failed:F3Y4j.b42c,e_overlapped:F3Y4j.B42c,e_touching:F3Y4j.R42c,e_separated:F3Y4j.y42c},goog[F3Y4j.H7Ec](box2d[F3Y4j.v9tc],F3Y4j.E2Ec,box2d[F3Y4j.v9tc][F3Y4j.O0tc]),goog[F3Y4j.H7Ec](box2d[F3Y4j.v9tc],F3Y4j.n0Qc,box2d[F3Y4j.v9tc][F3Y4j.y6ic]),goog[F3Y4j.H7Ec](box2d[F3Y4j.v9tc],F3Y4j.h32c,box2d[F3Y4j.v9tc][F3Y4j.P67c]),goog[F3Y4j.H7Ec](box2d[F3Y4j.v9tc],F3Y4j.b3Jc,box2d[F3Y4j.v9tc][F3Y4j.m5Qc]),goog[F3Y4j.H7Ec](box2d[F3Y4j.v9tc],F3Y4j.j3qc,box2d[F3Y4j.v9tc][F3Y4j.G7Qc]),box2d[F3Y4j.t47c]=function(){},box2d.b2TOIOutput.prototype.state=box2d[F3Y4j.v9tc][F3Y4j.O0tc],box2d.b2TOIOutput.prototype.t=F3Y4j.u42c,box2d[F3Y4j.J2ic]={e_unknown:-F3Y4j.b42c,e_points:F3Y4j.u42c,e_faceA:F3Y4j.b42c,e_faceB:F3Y4j.B42c},goog[F3Y4j.H7Ec](box2d[F3Y4j.J2ic],F3Y4j.E2Ec,box2d[F3Y4j.J2ic][F3Y4j.O0tc]),goog[F3Y4j.H7Ec](box2d[F3Y4j.J2ic],F3Y4j.S6qc,box2d[F3Y4j.J2ic][F3Y4j.k87c]),goog[F3Y4j.H7Ec](box2d[F3Y4j.J2ic],F3Y4j.C1Qc,box2d[F3Y4j.J2ic][F3Y4j.P4ic]),goog[F3Y4j.H7Ec](box2d[F3Y4j.J2ic],F3Y4j.E5Qc,box2d[F3Y4j.J2ic][F3Y4j.c4ic]),box2d[F3Y4j.y4Ec]=function(){this[F3Y4j.k47c]=new box2d[F3Y4j.L22c],this[F3Y4j.s77c]=new box2d[F3Y4j.L22c],this[F3Y4j.p0ic]=new box2d[F3Y4j.b17c],this[F3Y4j.j5Ec]=new box2d[F3Y4j.b17c]},box2d.b2SeparationFunction.prototype.m_proxyA=F3Y4j.E3qc,box2d.b2SeparationFunction.prototype.m_proxyB=F3Y4j.E3qc,box2d.b2SeparationFunction.prototype.m_sweepA=F3Y4j.E3qc,box2d.b2SeparationFunction.prototype.m_sweepB=F3Y4j.E3qc,box2d.b2SeparationFunction.prototype.m_type=box2d[F3Y4j.J2ic][F3Y4j.O0tc],box2d.b2SeparationFunction.prototype.m_localPoint=F3Y4j.E3qc,box2d.b2SeparationFunction.prototype.m_axis=F3Y4j.E3qc,box2d.b2SeparationFunction.prototype.Initialize=function(t,e,i,o,n,s){this[F3Y4j.y5qc]=e,this[F3Y4j.D5qc]=o;var r,c,a,h,u,l,e=t[F3Y4j.B7qc],o=(box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.w5p(F3Y4j.u42c,e)&&F3Y4j.N5p(e,F3Y4j.R42c)),this[F3Y4j.k47c][F3Y4j.j9Qc](i),this[F3Y4j.s77c][F3Y4j.j9Qc](n),box2d[F3Y4j.d37c][F3Y4j.m02c]),i=box2d[F3Y4j.d37c][F3Y4j.h02c];return this[F3Y4j.k47c][F3Y4j.L92c](o,s),this[F3Y4j.s77c][F3Y4j.L92c](i,s),F3Y4j.J5p(e,F3Y4j.b42c)?(this[F3Y4j.N37c]=box2d[F3Y4j.J2ic][F3Y4j.k87c],r=this[F3Y4j.y5qc][F3Y4j.r9qc](t[F3Y4j.G22c][F3Y4j.u42c]),h=this[F3Y4j.D5qc][F3Y4j.r9qc](t[F3Y4j.s02c][F3Y4j.u42c]),a=box2d[F3Y4j.a72c](o,r,box2d[F3Y4j.d37c][F3Y4j.X8tc]),u=box2d[F3Y4j.a72c](i,h,box2d[F3Y4j.d37c][F3Y4j.K47c]),box2d[F3Y4j.J97c](u,a,this[F3Y4j.j5Ec]),this[F3Y4j.j5Ec][F3Y4j.w2tc]()):(F3Y4j.S5p(t[F3Y4j.G22c][F3Y4j.u42c],t[F3Y4j.G22c][F3Y4j.b42c])?(this[F3Y4j.N37c]=box2d[F3Y4j.J2ic][F3Y4j.c4ic],n=this[F3Y4j.D5qc][F3Y4j.r9qc](t[F3Y4j.s02c][F3Y4j.u42c]),s=this[F3Y4j.D5qc][F3Y4j.r9qc](t[F3Y4j.s02c][F3Y4j.b42c]),box2d[F3Y4j.r3Qc](box2d[F3Y4j.J97c](s,n,box2d[F3Y4j.b17c][F3Y4j.c1Jc]),this[F3Y4j.j5Ec])[F3Y4j.X7Jc](),c=box2d[F3Y4j.Z0tc](i[F3Y4j.G3ic],this[F3Y4j.j5Ec],box2d[F3Y4j.d37c][F3Y4j.A1tc]),box2d[F3Y4j.a9ic](n,s,this[F3Y4j.p0ic]),u=box2d[F3Y4j.a72c](i,this[F3Y4j.p0ic],box2d[F3Y4j.d37c][F3Y4j.K47c]),r=this[F3Y4j.y5qc][F3Y4j.r9qc](t[F3Y4j.G22c][F3Y4j.u42c]),a=box2d[F3Y4j.a72c](o,r,box2d[F3Y4j.d37c][F3Y4j.X8tc]),l=box2d[F3Y4j.U2tc](box2d[F3Y4j.J97c](a,u,box2d[F3Y4j.b17c][F3Y4j.c1Jc]),c),F3Y4j.Q5p(l,F3Y4j.u42c)&&(this[F3Y4j.j5Ec][F3Y4j.p9qc](),l=-l)):(this[F3Y4j.N37c]=box2d[F3Y4j.J2ic][F3Y4j.P4ic],e=this[F3Y4j.y5qc][F3Y4j.r9qc](t[F3Y4j.G22c][F3Y4j.u42c]),n=this[F3Y4j.y5qc][F3Y4j.r9qc](t[F3Y4j.G22c][F3Y4j.b42c]),box2d[F3Y4j.r3Qc](box2d[F3Y4j.J97c](n,e,box2d[F3Y4j.b17c][F3Y4j.c1Jc]),this[F3Y4j.j5Ec])[F3Y4j.X7Jc](),c=box2d[F3Y4j.Z0tc](o[F3Y4j.G3ic],this[F3Y4j.j5Ec],box2d[F3Y4j.d37c][F3Y4j.A1tc]),box2d[F3Y4j.a9ic](e,n,this[F3Y4j.p0ic]),a=box2d[F3Y4j.a72c](o,this[F3Y4j.p0ic],box2d[F3Y4j.d37c][F3Y4j.X8tc]),h=this[F3Y4j.D5qc][F3Y4j.r9qc](t[F3Y4j.s02c][F3Y4j.u42c]),u=box2d[F3Y4j.a72c](i,h,box2d[F3Y4j.d37c][F3Y4j.K47c]),l=box2d[F3Y4j.U2tc](box2d[F3Y4j.J97c](u,a,box2d[F3Y4j.b17c][F3Y4j.c1Jc]),c),F3Y4j.G5p(l,F3Y4j.u42c)&&(this[F3Y4j.j5Ec][F3Y4j.p9qc](),l=-l)),l)},box2d.b2SeparationFunction.prototype.FindMinSeparation=function(t,e,i){var o=box2d[F3Y4j.d37c][F3Y4j.m02c],n=box2d[F3Y4j.d37c][F3Y4j.h02c];switch(this[F3Y4j.k47c][F3Y4j.L92c](o,i),this[F3Y4j.s77c][F3Y4j.L92c](n,i),this[F3Y4j.N37c]){case box2d[F3Y4j.J2ic][F3Y4j.k87c]:var s=box2d[F3Y4j.M8Ec](o[F3Y4j.G3ic],this[F3Y4j.j5Ec],box2d[F3Y4j.d37c][F3Y4j.G8tc]),r=box2d[F3Y4j.M8Ec](n[F3Y4j.G3ic],box2d[F3Y4j.i1Jc](this[F3Y4j.j5Ec],box2d[F3Y4j.b17c][F3Y4j.c1Jc]),box2d[F3Y4j.d37c][F3Y4j.D8tc]),c=(t[F3Y4j.u42c]=this[F3Y4j.y5qc][F3Y4j.e5Ec](s),e[F3Y4j.u42c]=this[F3Y4j.D5qc][F3Y4j.e5Ec](r),this[F3Y4j.y5qc][F3Y4j.r9qc](t[F3Y4j.u42c])),a=this[F3Y4j.D5qc][F3Y4j.r9qc](e[F3Y4j.u42c]),h=box2d[F3Y4j.a72c](o,c,box2d[F3Y4j.d37c][F3Y4j.X8tc]),u=box2d[F3Y4j.a72c](n,a,box2d[F3Y4j.d37c][F3Y4j.K47c]);return box2d[F3Y4j.U2tc](box2d[F3Y4j.J97c](u,h,box2d[F3Y4j.b17c][F3Y4j.c1Jc]),this[F3Y4j.j5Ec]);case box2d[F3Y4j.J2ic][F3Y4j.P4ic]:var l=box2d[F3Y4j.Z0tc](o[F3Y4j.G3ic],this[F3Y4j.j5Ec],box2d[F3Y4j.d37c][F3Y4j.A1tc]),h=box2d[F3Y4j.a72c](o,this[F3Y4j.p0ic],box2d[F3Y4j.d37c][F3Y4j.X8tc]),r=box2d[F3Y4j.M8Ec](n[F3Y4j.G3ic],box2d[F3Y4j.i1Jc](l,box2d[F3Y4j.b17c][F3Y4j.c1Jc]),box2d[F3Y4j.d37c][F3Y4j.D8tc]),a=(t[F3Y4j.u42c]=-F3Y4j.b42c,e[F3Y4j.u42c]=this[F3Y4j.D5qc][F3Y4j.e5Ec](r),this[F3Y4j.D5qc][F3Y4j.r9qc](e[F3Y4j.u42c])),u=box2d[F3Y4j.a72c](n,a,box2d[F3Y4j.d37c][F3Y4j.K47c]);return box2d[F3Y4j.U2tc](box2d[F3Y4j.J97c](u,h,box2d[F3Y4j.b17c][F3Y4j.c1Jc]),l);case box2d[F3Y4j.J2ic][F3Y4j.c4ic]:l=box2d[F3Y4j.Z0tc](n[F3Y4j.G3ic],this[F3Y4j.j5Ec],box2d[F3Y4j.d37c][F3Y4j.A1tc]),u=box2d[F3Y4j.a72c](n,this[F3Y4j.p0ic],box2d[F3Y4j.d37c][F3Y4j.K47c]),s=box2d[F3Y4j.M8Ec](o[F3Y4j.G3ic],box2d[F3Y4j.i1Jc](l,box2d[F3Y4j.b17c][F3Y4j.c1Jc]),box2d[F3Y4j.d37c][F3Y4j.G8tc]),c=(e[F3Y4j.u42c]=-F3Y4j.b42c,t[F3Y4j.u42c]=this[F3Y4j.y5qc][F3Y4j.e5Ec](s),this[F3Y4j.y5qc][F3Y4j.r9qc](t[F3Y4j.u42c])),h=box2d[F3Y4j.a72c](o,c,box2d[F3Y4j.d37c][F3Y4j.X8tc]);return box2d[F3Y4j.U2tc](box2d[F3Y4j.J97c](h,u,box2d[F3Y4j.b17c][F3Y4j.c1Jc]),l);default:return box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.h57c),t[F3Y4j.u42c]=-F3Y4j.b42c,e[F3Y4j.u42c]=-F3Y4j.b42c,F3Y4j.u42c}},box2d.b2SeparationFunction.prototype.Evaluate=function(t,e,i){var o=box2d[F3Y4j.d37c][F3Y4j.m02c],n=box2d[F3Y4j.d37c][F3Y4j.h02c];switch(this[F3Y4j.k47c][F3Y4j.L92c](o,i),this[F3Y4j.s77c][F3Y4j.L92c](n,i),this[F3Y4j.N37c]){case box2d[F3Y4j.J2ic][F3Y4j.k87c]:var s=this[F3Y4j.y5qc][F3Y4j.r9qc](t),r=this[F3Y4j.D5qc][F3Y4j.r9qc](e),c=box2d[F3Y4j.a72c](o,s,box2d[F3Y4j.d37c][F3Y4j.X8tc]),a=box2d[F3Y4j.a72c](n,r,box2d[F3Y4j.d37c][F3Y4j.K47c]);return box2d[F3Y4j.U2tc](box2d[F3Y4j.J97c](a,c,box2d[F3Y4j.b17c][F3Y4j.c1Jc]),this[F3Y4j.j5Ec]);case box2d[F3Y4j.J2ic][F3Y4j.P4ic]:var h=box2d[F3Y4j.Z0tc](o[F3Y4j.G3ic],this[F3Y4j.j5Ec],box2d[F3Y4j.d37c][F3Y4j.A1tc]),c=box2d[F3Y4j.a72c](o,this[F3Y4j.p0ic],box2d[F3Y4j.d37c][F3Y4j.X8tc]),r=this[F3Y4j.D5qc][F3Y4j.r9qc](e),a=box2d[F3Y4j.a72c](n,r,box2d[F3Y4j.d37c][F3Y4j.K47c]);return box2d[F3Y4j.U2tc](box2d[F3Y4j.J97c](a,c,box2d[F3Y4j.b17c][F3Y4j.c1Jc]),h);case box2d[F3Y4j.J2ic][F3Y4j.c4ic]:h=box2d[F3Y4j.Z0tc](n[F3Y4j.G3ic],this[F3Y4j.j5Ec],box2d[F3Y4j.d37c][F3Y4j.A1tc]),a=box2d[F3Y4j.a72c](n,this[F3Y4j.p0ic],box2d[F3Y4j.d37c][F3Y4j.K47c]),s=this[F3Y4j.y5qc][F3Y4j.r9qc](t),c=box2d[F3Y4j.a72c](o,s,box2d[F3Y4j.d37c][F3Y4j.X8tc]);return box2d[F3Y4j.U2tc](box2d[F3Y4j.J97c](c,a,box2d[F3Y4j.b17c][F3Y4j.c1Jc]),h);default:return box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.h57c),F3Y4j.u42c}},box2d[F3Y4j.d37c]=function(t,e){var i=box2d[F3Y4j.d37c][F3Y4j.P77c][F3Y4j.t4Jc](),o=(++box2d[F3Y4j.M6Jc],t[F3Y4j.g7ic]=box2d[F3Y4j.v9tc][F3Y4j.O0tc],t[F3Y4j.l4ic]=e[F3Y4j.t5tc],e[F3Y4j.H6ic]),n=e[F3Y4j.Q6ic],s=box2d[F3Y4j.d37c][F3Y4j.y2Ec][F3Y4j.j9Qc](e[F3Y4j.t9ic]),r=box2d[F3Y4j.d37c][F3Y4j.A8Ec][F3Y4j.j9Qc](e[F3Y4j.M9ic]),c=(s[F3Y4j.w2tc](),r[F3Y4j.w2tc](),e[F3Y4j.t5tc]),a=o[F3Y4j.W6ic]+n[F3Y4j.W6ic],h=box2d[F3Y4j.h82c](box2d[F3Y4j.l9qc],F3Y4j.a5p(a,F3Y4j.R42c*box2d[F3Y4j.l9qc])),u=F3Y4j.L5p(F3Y4j.I72c,box2d[F3Y4j.l9qc]),l=(box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.K5p(h,u)),F3Y4j.u42c),d=F3Y4j.B2ic,p=F3Y4j.u42c,F=box2d[F3Y4j.d37c][F3Y4j.j0Ec],j=(F[F3Y4j.B7qc]=F3Y4j.u42c,box2d[F3Y4j.d37c][F3Y4j.P17c]);for(j[F3Y4j.H6ic]=e[F3Y4j.H6ic],j[F3Y4j.Q6ic]=e[F3Y4j.Q6ic],j[F3Y4j.I62c]=F3Y4j.h57c;;){var Y=box2d[F3Y4j.d37c][F3Y4j.m02c],f=box2d[F3Y4j.d37c][F3Y4j.h02c],Y=(s[F3Y4j.L92c](Y,l),r[F3Y4j.L92c](f,l),j[F3Y4j.a1Qc][F3Y4j.j9Qc](Y),j[F3Y4j.V9Qc][F3Y4j.j9Qc](f),box2d[F3Y4j.d37c][F3Y4j.J3tc]);if(box2d[F3Y4j.z5Qc](Y,F,j),F3Y4j.M5p(Y[F3Y4j.O3ic],F3Y4j.u42c)){t[F3Y4j.g7ic]=box2d[F3Y4j.v9tc][F3Y4j.P67c],t[F3Y4j.l4ic]=F3Y4j.u42c;break}if(F3Y4j.s1p(Y[F3Y4j.O3ic],h+u)){t[F3Y4j.g7ic]=box2d[F3Y4j.v9tc][F3Y4j.m5Qc],t[F3Y4j.l4ic]=l;break}for(var b=box2d[F3Y4j.d37c][F3Y4j.o27c],g=(b[F3Y4j.N47c](F,o,s,n,r,l),F3Y4j.h57c),y=c,m=F3Y4j.u42c;;){var x=box2d[F3Y4j.d37c][F3Y4j.Q4ic],v=box2d[F3Y4j.d37c][F3Y4j.y4ic],w=b.FindMinSeparation(x,v,y);if(F3Y4j.x1p(w,h+u)){t[F3Y4j.g7ic]=box2d[F3Y4j.v9tc][F3Y4j.G7Qc],t[F3Y4j.l4ic]=c,g=F3Y4j.H3qc;break}if(F3Y4j.O1p(w,h-u)){l=y;break}var _=b[F3Y4j.D6Qc](x[F3Y4j.u42c],v[F3Y4j.u42c],l);if(F3Y4j.B1p(_,h-u)){t[F3Y4j.g7ic]=box2d[F3Y4j.v9tc][F3Y4j.y6ic],t[F3Y4j.l4ic]=l,g=F3Y4j.H3qc;break}if(F3Y4j.u1p(_,h+u)){t[F3Y4j.g7ic]=box2d[F3Y4j.v9tc][F3Y4j.m5Qc],t[F3Y4j.l4ic]=l,g=F3Y4j.H3qc;break}for(var E=F3Y4j.u42c,S=l,C=y;;){var P=F3Y4j.u42c,P=F3Y4j.l1p(E,F3Y4j.b42c)?S+F3Y4j.m1p(h-_,C-S,w-_):F3Y4j.w1p(F3Y4j.T8Qc,S+C),A=(++E,++box2d[F3Y4j.D77c],b[F3Y4j.D6Qc](x[F3Y4j.u42c],v[F3Y4j.u42c],P));if(F3Y4j.N1p(box2d[F3Y4j.O7Qc](A-h),u)){y=P;break}if(F3Y4j.J1p(A,h)?(S=P,_=A):(C=P,w=A),F3Y4j.S1p(E,F3Y4j.X8ic))break}if(box2d[F3Y4j.G0Qc]=box2d[F3Y4j.h82c](box2d[F3Y4j.G0Qc],E),++m,F3Y4j.Q1p(m,box2d[F3Y4j.T6Ec]))break}if(++p,++box2d[F3Y4j.N6qc],g)break;if(F3Y4j.G1p(p,d)){t[F3Y4j.g7ic]=box2d[F3Y4j.v9tc][F3Y4j.y6ic],t[F3Y4j.l4ic]=l;break}}box2d[F3Y4j.b0qc]=box2d[F3Y4j.h82c](box2d[F3Y4j.b0qc],p);a=i[F3Y4j.j7tc]();box2d[F3Y4j.Y9Qc]=box2d[F3Y4j.h82c](box2d[F3Y4j.Y9Qc],a),box2d[F3Y4j.z3Qc]+=a},box2d[F3Y4j.d37c][F3Y4j.P77c]=new box2d[F3Y4j.V7Qc],box2d[F3Y4j.d37c][F3Y4j.j0Ec]=new box2d[F3Y4j.A9qc],box2d[F3Y4j.d37c][F3Y4j.P17c]=new box2d[F3Y4j.r0Qc],box2d[F3Y4j.d37c][F3Y4j.J3tc]=new box2d[F3Y4j.w5Jc],box2d[F3Y4j.d37c][F3Y4j.m02c]=new box2d[F3Y4j.J5ic],box2d[F3Y4j.d37c][F3Y4j.h02c]=new box2d[F3Y4j.J5ic],box2d[F3Y4j.d37c][F3Y4j.Q4ic]=box2d[F3Y4j.m8qc](F3Y4j.b42c),box2d[F3Y4j.d37c][F3Y4j.y4ic]=box2d[F3Y4j.m8qc](F3Y4j.b42c),box2d[F3Y4j.d37c][F3Y4j.o27c]=new box2d[F3Y4j.y4Ec],box2d[F3Y4j.d37c][F3Y4j.y2Ec]=new box2d[F3Y4j.L22c],box2d[F3Y4j.d37c][F3Y4j.A8Ec]=new box2d[F3Y4j.L22c],box2d[F3Y4j.d37c][F3Y4j.X8tc]=new box2d[F3Y4j.b17c],box2d[F3Y4j.d37c][F3Y4j.K47c]=new box2d[F3Y4j.b17c],box2d[F3Y4j.d37c][F3Y4j.A1tc]=new box2d[F3Y4j.b17c],box2d[F3Y4j.d37c][F3Y4j.G8tc]=new box2d[F3Y4j.b17c],box2d[F3Y4j.d37c][F3Y4j.D8tc]=new box2d[F3Y4j.b17c],goog[F3Y4j.a0ic](F3Y4j.N0qc),goog[F3Y4j.D02c]("box2d.b2Settings"),goog[F3Y4j.D02c]("box2d.b2Collision"),goog[F3Y4j.D02c]("box2d.b2TimeOfImpact"),box2d[F3Y4j.K0Ec]=function(t,e){return box2d[F3Y4j.j7Jc](F3Y4j.a1p(t,e))},box2d[F3Y4j.l8Ec]=function(t,e){return F3Y4j.L1p(t,e)?t:e},box2d[F3Y4j.t2tc]=function(){},box2d.b2ContactEdge.prototype.other=F3Y4j.E3qc,box2d.b2ContactEdge.prototype.contact=F3Y4j.E3qc,box2d.b2ContactEdge.prototype.prev=F3Y4j.E3qc,box2d.b2ContactEdge.prototype.next=F3Y4j.E3qc,box2d[F3Y4j.P7Qc]={e_none:F3Y4j.u42c,e_islandFlag:1,e_touchingFlag:2,e_enabledFlag:4,e_filterFlag:8,e_bulletHitFlag:16,e_toiFlag:32},goog[F3Y4j.H7Ec](box2d[F3Y4j.P7Qc],F3Y4j.D8Qc,box2d[F3Y4j.P7Qc][F3Y4j.z4Ec]),goog[F3Y4j.H7Ec](box2d[F3Y4j.P7Qc],F3Y4j.K57c,box2d[F3Y4j.P7Qc][F3Y4j.T5Ec]),goog[F3Y4j.H7Ec](box2d[F3Y4j.P7Qc],F3Y4j.u2qc,box2d[F3Y4j.P7Qc][F3Y4j.p72c]),goog[F3Y4j.H7Ec](box2d[F3Y4j.P7Qc],F3Y4j.K7ic,box2d[F3Y4j.P7Qc][F3Y4j.Y5Qc]),goog[F3Y4j.H7Ec](box2d[F3Y4j.P7Qc],F3Y4j.H2qc,box2d[F3Y4j.P7Qc][F3Y4j.p8Jc]),goog[F3Y4j.H7Ec](box2d[F3Y4j.P7Qc],F3Y4j.Z97c,box2d[F3Y4j.P7Qc][F3Y4j.I7ic]),goog[F3Y4j.H7Ec](box2d[F3Y4j.P7Qc],F3Y4j.Y7qc,box2d[F3Y4j.P7Qc][F3Y4j.M77c]),box2d[F3Y4j.H57c]=function(){this[F3Y4j.H3Jc]=new box2d[F3Y4j.t2tc],this[F3Y4j.J4Jc]=new box2d[F3Y4j.t2tc],this[F3Y4j.V5qc]=new box2d[F3Y4j.q72c],this[F3Y4j.l2Ec]=new box2d[F3Y4j.q72c]},box2d.b2Contact.prototype.m_flags=box2d[F3Y4j.P7Qc][F3Y4j.z4Ec],box2d.b2Contact.prototype.m_prev=F3Y4j.E3qc,box2d.b2Contact.prototype.m_next=F3Y4j.E3qc,box2d.b2Contact.prototype.m_nodeA=F3Y4j.E3qc,box2d.b2Contact.prototype.m_nodeB=F3Y4j.E3qc,box2d.b2Contact.prototype.m_fixtureA=F3Y4j.E3qc,box2d.b2Contact.prototype.m_fixtureB=F3Y4j.E3qc,box2d.b2Contact.prototype.m_indexA=F3Y4j.u42c,box2d.b2Contact.prototype.m_indexB=F3Y4j.u42c,box2d.b2Contact.prototype.m_manifold=F3Y4j.E3qc,box2d.b2Contact.prototype.m_toiCount=F3Y4j.u42c,box2d.b2Contact.prototype.m_toi=F3Y4j.u42c,box2d.b2Contact.prototype.m_friction=F3Y4j.u42c,box2d.b2Contact.prototype.m_restitution=F3Y4j.u42c,box2d.b2Contact.prototype.m_tangentSpeed=F3Y4j.u42c,box2d.b2Contact.prototype.m_oldManifold=F3Y4j.E3qc,box2d.b2Contact.prototype.GetManifold=function(){return this[F3Y4j.V5qc]},box2d.b2Contact.prototype.GetWorldManifold=function(t){var e=this[F3Y4j.g72c][F3Y4j.z4tc](),i=this[F3Y4j.x62c][F3Y4j.z4tc](),o=this[F3Y4j.g72c][F3Y4j.p82c](),n=this[F3Y4j.x62c][F3Y4j.p82c]();t[F3Y4j.N47c](this[F3Y4j.V5qc],e[F3Y4j.L92c](),o[F3Y4j.W6ic],i[F3Y4j.L92c](),n[F3Y4j.W6ic])},box2d.b2Contact.prototype.IsTouching=function(){return F3Y4j.K1p(this[F3Y4j.c8tc]&box2d[F3Y4j.P7Qc][F3Y4j.p72c],box2d[F3Y4j.P7Qc][F3Y4j.p72c])},box2d.b2Contact.prototype.SetEnabled=function(t){t?this[F3Y4j.c8tc]|=box2d[F3Y4j.P7Qc][F3Y4j.Y5Qc]:this[F3Y4j.c8tc]&=~box2d[F3Y4j.P7Qc][F3Y4j.Y5Qc]},box2d.b2Contact.prototype.IsEnabled=function(){return F3Y4j.M1p(this[F3Y4j.c8tc]&box2d[F3Y4j.P7Qc][F3Y4j.Y5Qc],box2d[F3Y4j.P7Qc][F3Y4j.Y5Qc])},box2d.b2Contact.prototype.GetNext=function(){return this[F3Y4j.l3tc]},box2d.b2Contact.prototype.GetFixtureA=function(){return this[F3Y4j.g72c]},box2d.b2Contact.prototype.GetChildIndexA=function(){return this[F3Y4j.p5qc]},box2d.b2Contact.prototype.GetFixtureB=function(){return this[F3Y4j.x62c]},box2d.b2Contact.prototype.GetChildIndexB=function(){return this[F3Y4j.s5qc]},box2d.b2Contact.prototype.Evaluate=function(t,e,i){},box2d.b2Contact.prototype.FlagForFiltering=function(){this[F3Y4j.c8tc]|=box2d[F3Y4j.P7Qc][F3Y4j.p8Jc]},box2d.b2Contact.prototype.SetFriction=function(t){this[F3Y4j.m0qc]=t},box2d.b2Contact.prototype.GetFriction=function(){return this[F3Y4j.m0qc]},box2d.b2Contact.prototype.ResetFriction=function(){this[F3Y4j.m0qc]=box2d[F3Y4j.K0Ec](this[F3Y4j.g72c][F3Y4j.m0qc],this[F3Y4j.x62c][F3Y4j.m0qc])},box2d.b2Contact.prototype.SetRestitution=function(t){this[F3Y4j.F2Ec]=t},box2d.b2Contact.prototype.GetRestitution=function(){return this[F3Y4j.F2Ec]},box2d.b2Contact.prototype.ResetRestitution=function(){this[F3Y4j.F2Ec]=box2d[F3Y4j.l8Ec](this[F3Y4j.g72c][F3Y4j.F2Ec],this[F3Y4j.x62c][F3Y4j.F2Ec])},box2d.b2Contact.prototype.SetTangentSpeed=function(t){this[F3Y4j.h5Ec]=t},box2d.b2Contact.prototype.GetTangentSpeed=function(){return this[F3Y4j.h5Ec]},box2d.b2Contact.prototype.Reset=function(t,e,i,o){this[F3Y4j.c8tc]=box2d[F3Y4j.P7Qc][F3Y4j.Y5Qc],this[F3Y4j.g72c]=t,this[F3Y4j.x62c]=i,this[F3Y4j.p5qc]=e,this[F3Y4j.s5qc]=o,this[F3Y4j.V5qc][F3Y4j.F0tc]=F3Y4j.u42c,this[F3Y4j.w6qc]=F3Y4j.E3qc,this[F3Y4j.l3tc]=F3Y4j.E3qc,this[F3Y4j.H3Jc][F3Y4j.F7Ec]=F3Y4j.E3qc,this[F3Y4j.H3Jc][F3Y4j.S7tc]=F3Y4j.E3qc,this[F3Y4j.H3Jc][F3Y4j.S1qc]=F3Y4j.E3qc,this[F3Y4j.H3Jc][F3Y4j.C62c]=F3Y4j.E3qc,this[F3Y4j.J4Jc][F3Y4j.F7Ec]=F3Y4j.E3qc,this[F3Y4j.J4Jc][F3Y4j.S7tc]=F3Y4j.E3qc,this[F3Y4j.J4Jc][F3Y4j.S1qc]=F3Y4j.E3qc,this[F3Y4j.J4Jc][F3Y4j.C62c]=F3Y4j.E3qc,this[F3Y4j.J8Qc]=F3Y4j.u42c,this[F3Y4j.m0qc]=box2d[F3Y4j.K0Ec](this[F3Y4j.g72c][F3Y4j.m0qc],this[F3Y4j.x62c][F3Y4j.m0qc]),this[F3Y4j.F2Ec]=box2d[F3Y4j.l8Ec](this[F3Y4j.g72c][F3Y4j.F2Ec],this[F3Y4j.x62c][F3Y4j.F2Ec])},box2d.b2Contact.prototype.Update=function(t){var e=this[F3Y4j.l2Ec],e=(this[F3Y4j.l2Ec]=this[F3Y4j.V5qc],this[F3Y4j.V5qc]=e,this[F3Y4j.c8tc]|=box2d[F3Y4j.P7Qc][F3Y4j.Y5Qc],F3Y4j.h57c),i=F3Y4j.s9p(this[F3Y4j.c8tc]&box2d[F3Y4j.P7Qc][F3Y4j.p72c],box2d[F3Y4j.P7Qc][F3Y4j.p72c]),o=this[F3Y4j.g72c][F3Y4j.V5Jc](),n=this[F3Y4j.x62c][F3Y4j.V5Jc](),o=o||n,n=this[F3Y4j.g72c][F3Y4j.z4tc](),s=this[F3Y4j.x62c][F3Y4j.z4tc](),r=n[F3Y4j.L92c](),c=s[F3Y4j.L92c]();if(o){var a=this[F3Y4j.g72c][F3Y4j.p82c](),h=this[F3Y4j.x62c][F3Y4j.p82c](),e=box2d[F3Y4j.i2Ec](a,this[F3Y4j.p5qc],h,this[F3Y4j.s5qc],r,c);this[F3Y4j.V5qc][F3Y4j.F0tc]=F3Y4j.u42c}else{this[F3Y4j.D6Qc](this[F3Y4j.V5qc],r,c),e=F3Y4j.x9p(this[F3Y4j.V5qc][F3Y4j.F0tc],F3Y4j.u42c);for(var u=F3Y4j.u42c;F3Y4j.O9p(u,this[F3Y4j.V5qc][F3Y4j.F0tc]);++u)for(var l=this[F3Y4j.V5qc][F3Y4j.Q72c][u],d=(l[F3Y4j.E62c]=F3Y4j.u42c,l[F3Y4j.A2Qc]=F3Y4j.u42c,l[F3Y4j.a4Jc]),p=F3Y4j.u42c;F3Y4j.B9p(p,this[F3Y4j.l2Ec][F3Y4j.F0tc]);++p){var F=this[F3Y4j.l2Ec][F3Y4j.Q72c][p];if(F3Y4j.u9p(F[F3Y4j.a4Jc][F3Y4j.K6Jc],d[F3Y4j.K6Jc])){l[F3Y4j.E62c]=F[F3Y4j.E62c],l[F3Y4j.A2Qc]=F[F3Y4j.A2Qc];break}}F3Y4j.l9p(e,i)&&(n[F3Y4j.s7Ec](F3Y4j.H3qc),s[F3Y4j.s7Ec](F3Y4j.H3qc))}e?this[F3Y4j.c8tc]|=box2d[F3Y4j.P7Qc][F3Y4j.p72c]:this[F3Y4j.c8tc]&=~box2d[F3Y4j.P7Qc][F3Y4j.p72c],F3Y4j.m9p(i,F3Y4j.h57c)&&F3Y4j.Y9p(e,F3Y4j.H3qc)&&t&&t.BeginContact(this),F3Y4j.j9p(i,F3Y4j.H3qc)&&F3Y4j.A9p(e,F3Y4j.h57c)&&t&&t[F3Y4j.x0ic](this),F3Y4j.r9p(o,F3Y4j.h57c)&&e&&t&&t.PreSolve(this,this[F3Y4j.l2Ec])},box2d.b2Contact.prototype.ComputeTOI=function(t,e){var i=box2d.b2Contact.prototype.ComputeTOI.s_input,t=(i[F3Y4j.H6ic][F3Y4j.v5qc](this[F3Y4j.g72c][F3Y4j.p82c](),this[F3Y4j.p5qc]),i[F3Y4j.Q6ic][F3Y4j.v5qc](this[F3Y4j.x62c][F3Y4j.p82c](),this[F3Y4j.s5qc]),i[F3Y4j.t9ic][F3Y4j.j9Qc](t),i[F3Y4j.M9ic][F3Y4j.j9Qc](e),i[F3Y4j.t5tc]=box2d[F3Y4j.l9qc],box2d.b2Contact.prototype.ComputeTOI.s_output);return box2d[F3Y4j.d37c](t,i),t[F3Y4j.l4ic]},box2d.b2Contact.prototype.ComputeTOI.s_input=new box2d[F3Y4j.F0Qc],box2d.b2Contact.prototype.ComputeTOI.s_output=new box2d[F3Y4j.t47c],goog[F3Y4j.a0ic](F3Y4j.h4ic),goog[F3Y4j.D02c]("box2d.b2Settings"),goog[F3Y4j.D02c]("box2d.b2Contact"),box2d[F3Y4j.d0Qc]=function(){goog[F3Y4j.W3tc](this)},goog[F3Y4j.b4ic](box2d[F3Y4j.d0Qc],box2d[F3Y4j.H57c]),box2d[F3Y4j.d0Qc][F3Y4j.R1ic]=function(t){return new box2d[F3Y4j.d0Qc]},box2d[F3Y4j.d0Qc][F3Y4j.V3Qc]=function(t,e){},box2d.b2PolygonAndCircleContact.prototype.Reset=function(t,e,i,o){goog[F3Y4j.W3tc](this,F3Y4j.Q4Qc,t,e,i,o),box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.i9p(t[F3Y4j.j6Jc](),box2d[F3Y4j.d9ic][F3Y4j.M2tc])),box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.c9p(i[F3Y4j.j6Jc](),box2d[F3Y4j.d9ic][F3Y4j.x87c]))},box2d.b2PolygonAndCircleContact.prototype.Evaluate=function(t,e,i){var o=this[F3Y4j.g72c][F3Y4j.p82c](),n=this[F3Y4j.x62c][F3Y4j.p82c]();box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.e9p(o,box2d[F3Y4j.i77c])),box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.g9p(n,box2d[F3Y4j.Q0ic])),box2d[F3Y4j.e9ic](t,F3Y4j.k9p(o,box2d[F3Y4j.i77c])?o:F3Y4j.E3qc,e,F3Y4j.n9p(n,box2d[F3Y4j.Q0ic])?n:F3Y4j.E3qc,i)},goog[F3Y4j.a0ic](F3Y4j.t5Ec),goog[F3Y4j.D02c]("box2d.b2Settings"),goog[F3Y4j.D02c]("box2d.b2Contact"),box2d[F3Y4j.J6qc]=function(){goog[F3Y4j.W3tc](this)},goog[F3Y4j.b4ic](box2d[F3Y4j.J6qc],box2d[F3Y4j.H57c]),box2d[F3Y4j.J6qc][F3Y4j.R1ic]=function(t){return new box2d[F3Y4j.J6qc]},box2d[F3Y4j.J6qc][F3Y4j.V3Qc]=function(t,e){},box2d.b2EdgeAndPolygonContact.prototype.Reset=function(t,e,i,o){goog[F3Y4j.W3tc](this,F3Y4j.Q4Qc,t,e,i,o),box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.P9p(t[F3Y4j.j6Jc](),box2d[F3Y4j.d9ic][F3Y4j.d2Qc])),box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.V4p(i[F3Y4j.j6Jc](),box2d[F3Y4j.d9ic][F3Y4j.M2tc]))},box2d.b2EdgeAndPolygonContact.prototype.Evaluate=function(t,e,i){var o=this[F3Y4j.g72c][F3Y4j.p82c](),n=this[F3Y4j.x62c][F3Y4j.p82c]();box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.h4p(o,box2d[F3Y4j.K1Ec])),box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.R4p(n,box2d[F3Y4j.i77c])),box2d[F3Y4j.D82c](t,F3Y4j.b4p(o,box2d[F3Y4j.K1Ec])?o:F3Y4j.E3qc,e,F3Y4j.p4p(n,box2d[F3Y4j.i77c])?n:F3Y4j.E3qc,i)},goog[F3Y4j.a0ic](F3Y4j.a0Jc),goog[F3Y4j.D02c]("box2d.b2Settings"),goog[F3Y4j.D02c]("box2d.b2Math"),goog[F3Y4j.D02c]("box2d.b2Distance"),box2d[F3Y4j.L8tc]=function(){this[F3Y4j.m3Jc]=new box2d[F3Y4j.b17c](F3Y4j.u42c,F3Y4j.u42c)},box2d.b2MassData.prototype.mass=F3Y4j.u42c,box2d.b2MassData.prototype.center=F3Y4j.E3qc,box2d.b2MassData.prototype.I=F3Y4j.u42c,box2d[F3Y4j.d9ic]={e_unknown:-F3Y4j.b42c,e_circleShape:F3Y4j.u42c,e_edgeShape:F3Y4j.b42c,e_polygonShape:F3Y4j.B42c,e_chainShape:F3Y4j.R42c,e_shapeTypeCount:F3Y4j.y42c},goog[F3Y4j.H7Ec](box2d[F3Y4j.d9ic],F3Y4j.E2Ec,box2d[F3Y4j.d9ic][F3Y4j.O0tc]),goog[F3Y4j.H7Ec](box2d[F3Y4j.d9ic],F3Y4j.p77c,box2d[F3Y4j.d9ic][F3Y4j.x87c]),goog[F3Y4j.H7Ec](box2d[F3Y4j.d9ic],F3Y4j.c0tc,box2d[F3Y4j.d9ic][F3Y4j.d2Qc]),goog[F3Y4j.H7Ec](box2d[F3Y4j.d9ic],F3Y4j.U6Qc,box2d[F3Y4j.d9ic][F3Y4j.M2tc]),goog[F3Y4j.H7Ec](box2d[F3Y4j.d9ic],F3Y4j.D67c,box2d[F3Y4j.d9ic][F3Y4j.p4Qc]),goog[F3Y4j.H7Ec](box2d[F3Y4j.d9ic],F3Y4j.y2Qc,box2d[F3Y4j.d9ic][F3Y4j.h8Jc]),box2d[F3Y4j.N57c]=function(t,e){this[F3Y4j.N37c]=t,this[F3Y4j.W6ic]=e},box2d.b2Shape.prototype.m_type=box2d[F3Y4j.d9ic][F3Y4j.O0tc],box2d.b2Shape.prototype.m_radius=F3Y4j.u42c,box2d.b2Shape.prototype.Clone=function(){return box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.h57c),F3Y4j.E3qc},box2d.b2Shape.prototype.Copy=function(t){return box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.y4p(this[F3Y4j.N37c],t[F3Y4j.N37c])),this[F3Y4j.W6ic]=t[F3Y4j.W6ic],this},box2d.b2Shape.prototype.GetType=function(){return this[F3Y4j.N37c]},box2d.b2Shape.prototype.GetChildCount=function(){return box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.h57c,F3Y4j.A5Jc),F3Y4j.u42c},box2d.b2Shape.prototype.TestPoint=function(t,e){return box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.h57c,F3Y4j.A5Jc),F3Y4j.h57c},box2d.b2Shape.prototype.RayCast=function(t,e,i,o){return box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](!1,"pure virtual"),!1},box2d.b2Shape.prototype.ComputeAABB=function(t,e,i){box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.h57c,F3Y4j.A5Jc)},box2d.b2Shape.prototype.ComputeMass=function(t,e){box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.h57c,F3Y4j.A5Jc)},box2d.b2Shape.prototype.SetupDistanceProxy=function(t,e){box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.h57c,F3Y4j.A5Jc)},box2d.b2Shape.prototype.ComputeSubmergedArea=function(t,e,i,o){return box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.h57c,F3Y4j.A5Jc),F3Y4j.u42c},box2d.b2Shape.prototype.Dump=function(){box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.h57c,F3Y4j.A5Jc)},goog[F3Y4j.a0ic](F3Y4j.r8Ec),goog[F3Y4j.D02c]("box2d.b2Shape"),box2d[F3Y4j.i77c]=function(){goog[F3Y4j.W3tc](this,box2d[F3Y4j.d9ic][F3Y4j.M2tc],box2d[F3Y4j.g6Jc]),this[F3Y4j.O4ic]=new box2d[F3Y4j.b17c](F3Y4j.u42c,F3Y4j.u42c),this[F3Y4j.G6Jc]=box2d[F3Y4j.b17c][F3Y4j.T7qc](box2d[F3Y4j.T6Ec]),this[F3Y4j.x4Qc]=box2d[F3Y4j.b17c][F3Y4j.T7qc](box2d[F3Y4j.T6Ec])},goog[F3Y4j.b4ic](box2d[F3Y4j.i77c],box2d[F3Y4j.N57c]),box2d.b2PolygonShape.prototype.m_centroid=F3Y4j.E3qc,box2d.b2PolygonShape.prototype.m_vertices=F3Y4j.E3qc,box2d.b2PolygonShape.prototype.m_normals=F3Y4j.E3qc,box2d.b2PolygonShape.prototype.m_count=F3Y4j.u42c,box2d.b2PolygonShape.prototype.Clone=function(){return(new box2d[F3Y4j.i77c])[F3Y4j.j9Qc](this)},box2d.b2PolygonShape.prototype.Copy=function(t){goog[F3Y4j.W3tc](this,F3Y4j.p4Ec,t),box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.Z4p(t,box2d[F3Y4j.i77c])),this[F3Y4j.O4ic][F3Y4j.j9Qc](t[F3Y4j.O4ic]),this[F3Y4j.a1qc]=t[F3Y4j.a1qc];for(var e=F3Y4j.u42c,i=this[F3Y4j.a1qc];F3Y4j.D4p(e,i);++e)this[F3Y4j.G6Jc][e][F3Y4j.j9Qc](t[F3Y4j.G6Jc][e]),this[F3Y4j.x4Qc][e][F3Y4j.j9Qc](t[F3Y4j.x4Qc][e]);return this},box2d.b2PolygonShape.prototype.SetAsBox=function(t,e){return this[F3Y4j.a1qc]=F3Y4j.y42c,this[F3Y4j.G6Jc][F3Y4j.u42c][F3Y4j.V0tc](-t,-e),this[F3Y4j.G6Jc][F3Y4j.b42c][F3Y4j.V0tc](t,-e),this[F3Y4j.G6Jc][F3Y4j.B42c][F3Y4j.V0tc](t,e),this[F3Y4j.G6Jc][F3Y4j.R42c][F3Y4j.V0tc](-t,e),this[F3Y4j.x4Qc][F3Y4j.u42c][F3Y4j.V0tc](F3Y4j.u42c,-F3Y4j.b42c),this[F3Y4j.x4Qc][F3Y4j.b42c][F3Y4j.V0tc](F3Y4j.b42c,F3Y4j.u42c),this[F3Y4j.x4Qc][F3Y4j.B42c][F3Y4j.V0tc](F3Y4j.u42c,F3Y4j.b42c),this[F3Y4j.x4Qc][F3Y4j.R42c][F3Y4j.V0tc](-F3Y4j.b42c,F3Y4j.u42c),this[F3Y4j.O4ic][F3Y4j.a4qc](),this},box2d.b2PolygonShape.prototype.SetAsOrientedBox=function(t,e,i,o){this[F3Y4j.a1qc]=F3Y4j.y42c,this[F3Y4j.G6Jc][F3Y4j.u42c][F3Y4j.V0tc](-t,-e),this[F3Y4j.G6Jc][F3Y4j.b42c][F3Y4j.V0tc](t,-e),this[F3Y4j.G6Jc][F3Y4j.B42c][F3Y4j.V0tc](t,e),this[F3Y4j.G6Jc][F3Y4j.R42c][F3Y4j.V0tc](-t,e),this[F3Y4j.x4Qc][F3Y4j.u42c][F3Y4j.V0tc](F3Y4j.u42c,-F3Y4j.b42c),this[F3Y4j.x4Qc][F3Y4j.b42c][F3Y4j.V0tc](F3Y4j.b42c,F3Y4j.u42c),this[F3Y4j.x4Qc][F3Y4j.B42c][F3Y4j.V0tc](F3Y4j.u42c,F3Y4j.b42c),this[F3Y4j.x4Qc][F3Y4j.R42c][F3Y4j.V0tc](-F3Y4j.b42c,F3Y4j.u42c),this[F3Y4j.O4ic][F3Y4j.j9Qc](i);var n=new box2d[F3Y4j.J5ic];n.SetPosition(i),n.SetRotationAngleRadians(o);for(var s=F3Y4j.u42c,r=this[F3Y4j.a1qc];F3Y4j.F4p(s,r);++s)box2d[F3Y4j.a72c](n,this[F3Y4j.G6Jc][s],this[F3Y4j.G6Jc][s]),box2d[F3Y4j.Z0tc](n[F3Y4j.G3ic],this[F3Y4j.x4Qc][s],this[F3Y4j.x4Qc][s]);return this},box2d.b2PolygonShape.prototype.Set=function(t,e){if(F3Y4j.t4p(e,void 0)&&(e=t.length),box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.T4p(F3Y4j.R42c,e)&&F3Y4j.v4p(e,box2d[F3Y4j.T6Ec])),F3Y4j.W4p(e,F3Y4j.R42c))return this.SetAsBox(F3Y4j.b42c,F3Y4j.b42c);for(var i=box2d[F3Y4j.y3ic](e,box2d[F3Y4j.T6Ec]),o=box2d.b2PolygonShape.prototype.Set.s_ps,n=F3Y4j.u42c,s=F3Y4j.u42c;F3Y4j.C4p(s,i);++s){for(var r=t[s],c=F3Y4j.H3qc,a=F3Y4j.u42c;F3Y4j.U4p(a,n);++a)if(F3Y4j.d4p(box2d[F3Y4j.I1qc](r,o[a]),F3Y4j.T8Qc*box2d[F3Y4j.l9qc])){c=F3Y4j.h57c;break}c&&o[n++][F3Y4j.j9Qc](r)}if(i=n,F3Y4j.X4p(i,F3Y4j.R42c))return box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.h57c),this.SetAsBox(F3Y4j.O5Jc,F3Y4j.O5Jc);for(var h=F3Y4j.u42c,u=o[F3Y4j.u42c][F3Y4j.W17c],s=F3Y4j.b42c;F3Y4j.o3p(s,i);++s){var l=o[s][F3Y4j.W17c];(F3Y4j.q3p(l,u)||F3Y4j.z3p(l,u)&&F3Y4j.E3p(o[s][F3Y4j.I17c],o[h][F3Y4j.I17c]))&&(h=s,u=l)}for(var d=box2d.b2PolygonShape.prototype.Set.s_hull,p=F3Y4j.u42c,F=h;;){d[p]=F;for(var j,Y,f=F3Y4j.u42c,a=F3Y4j.b42c;F3Y4j.f3p(a,i);++a)F3Y4j.H3p(f,F)?f=a:(j=box2d[F3Y4j.J97c](o[f],o[d[p]],box2d.b2PolygonShape.prototype.Set.s_r),r=box2d[F3Y4j.J97c](o[a],o[d[p]],box2d.b2PolygonShape.prototype.Set.s_v),Y=box2d[F3Y4j.O62c](j,r),F3Y4j.I3p(Y,F3Y4j.u42c)&&(f=a),F3Y4j.w3p(Y,F3Y4j.u42c)&&F3Y4j.N3p(r[F3Y4j.u77c](),j[F3Y4j.u77c]())&&(f=a));if(++p,F=f,F3Y4j.J3p(f,h))break}this[F3Y4j.a1qc]=p;for(s=F3Y4j.u42c;F3Y4j.S3p(s,p);++s)this[F3Y4j.G6Jc][s][F3Y4j.j9Qc](o[d[s]]);for(var s=F3Y4j.u42c,b=p;F3Y4j.Q3p(s,b);++s){var g=this[F3Y4j.G6Jc][s],y=this[F3Y4j.G6Jc][F3Y4j.G3p(s+F3Y4j.b42c,b)],y=box2d[F3Y4j.J97c](y,g,box2d[F3Y4j.b17c][F3Y4j.c1Jc]);box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.a3p(y[F3Y4j.u77c](),box2d[F3Y4j.Q5ic])),box2d[F3Y4j.r3Qc](y,this[F3Y4j.x4Qc][s])[F3Y4j.X7Jc]()}return box2d[F3Y4j.i77c][F3Y4j.x0Qc](this[F3Y4j.G6Jc],p,this[F3Y4j.O4ic]),this},box2d.b2PolygonShape.prototype.Set.s_ps=box2d[F3Y4j.b17c][F3Y4j.T7qc](box2d[F3Y4j.T6Ec]),box2d.b2PolygonShape.prototype.Set.s_hull=box2d[F3Y4j.m8qc](box2d[F3Y4j.T6Ec]),box2d.b2PolygonShape.prototype.Set.s_r=new box2d[F3Y4j.b17c],box2d.b2PolygonShape.prototype.Set.s_v=new box2d[F3Y4j.b17c],box2d.b2PolygonShape.prototype.SetAsVector=function(t,e){return this[F3Y4j.G1tc](t,e),this},box2d.b2PolygonShape.prototype.SetAsArray=function(t,e){return this[F3Y4j.G1tc](t,e),this},box2d.b2PolygonShape.prototype.GetChildCount=function(){return F3Y4j.b42c},box2d.b2PolygonShape.prototype.TestPoint=function(t,e){for(var i=box2d[F3Y4j.s9ic](t,e,box2d.b2PolygonShape.prototype.TestPoint.s_pLocal),o=F3Y4j.u42c,n=this[F3Y4j.a1qc];F3Y4j.L3p(o,n);++o){var s=box2d[F3Y4j.U2tc](this[F3Y4j.x4Qc][o],box2d[F3Y4j.J97c](i,this[F3Y4j.G6Jc][o],box2d[F3Y4j.b17c][F3Y4j.c1Jc]));if(F3Y4j.K3p(s,F3Y4j.u42c))return F3Y4j.h57c}return F3Y4j.H3qc},box2d.b2PolygonShape.prototype.TestPoint.s_pLocal=new box2d[F3Y4j.b17c],box2d.b2PolygonShape.prototype.RayCast=function(t,e,i,o){for(var n=box2d[F3Y4j.s9ic](i,e[F3Y4j.C6tc],box2d.b2PolygonShape.prototype.RayCast.s_p1),s=box2d[F3Y4j.s9ic](i,e[F3Y4j.b0tc],box2d.b2PolygonShape.prototype.RayCast.s_p2),r=box2d[F3Y4j.J97c](s,n,box2d.b2PolygonShape.prototype.RayCast.s_d),c=F3Y4j.u42c,a=e[F3Y4j.d6ic],h=-F3Y4j.b42c,u=F3Y4j.u42c,l=this[F3Y4j.a1qc];F3Y4j.M3p(u,l);++u){var d=box2d[F3Y4j.U2tc](this[F3Y4j.x4Qc][u],box2d[F3Y4j.J97c](this[F3Y4j.G6Jc][u],n,box2d[F3Y4j.b17c][F3Y4j.c1Jc])),p=box2d[F3Y4j.U2tc](this[F3Y4j.x4Qc][u],r);if(F3Y4j.s7p(p,F3Y4j.u42c)){if(F3Y4j.x7p(d,F3Y4j.u42c))return F3Y4j.h57c}else F3Y4j.O7p(p,F3Y4j.u42c)&&F3Y4j.B7p(d,c*p)?(c=F3Y4j.u7p(d,p),h=u):F3Y4j.l7p(p,F3Y4j.u42c)&&F3Y4j.m7p(d,a*p)&&(a=F3Y4j.Y7p(d,p));if(F3Y4j.j7p(a,c))return F3Y4j.h57c}return box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.A7p(F3Y4j.u42c,c)&&F3Y4j.r7p(c,e[F3Y4j.d6ic])),F3Y4j.i7p(h,F3Y4j.u42c)?(t[F3Y4j.k7Qc]=c,box2d[F3Y4j.Z0tc](i[F3Y4j.G3ic],this[F3Y4j.x4Qc][h],t[F3Y4j.U6ic]),F3Y4j.H3qc):F3Y4j.h57c},box2d.b2PolygonShape.prototype.RayCast.s_p1=new box2d[F3Y4j.b17c],box2d.b2PolygonShape.prototype.RayCast.s_p2=new box2d[F3Y4j.b17c],box2d.b2PolygonShape.prototype.RayCast.s_d=new box2d[F3Y4j.b17c],box2d.b2PolygonShape.prototype.ComputeAABB=function(t,e,i){for(var o=box2d[F3Y4j.a72c](e,this[F3Y4j.G6Jc][F3Y4j.u42c],t[F3Y4j.h6ic]),n=t[F3Y4j.P7ic][F3Y4j.j9Qc](o),s=F3Y4j.u42c,r=this[F3Y4j.a1qc];F3Y4j.c7p(s,r);++s){var c=box2d[F3Y4j.a72c](e,this[F3Y4j.G6Jc][s],box2d.b2PolygonShape.prototype.ComputeAABB.s_v);box2d[F3Y4j.w4Ec](c,o,o),box2d[F3Y4j.v97c](c,n,n)}t=this[F3Y4j.W6ic];o[F3Y4j.e92c](t,t),n[F3Y4j.c9Qc](t,t)},box2d.b2PolygonShape.prototype.ComputeAABB.s_v=new box2d[F3Y4j.b17c],box2d.b2PolygonShape.prototype.ComputeMass=function(t,e){box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.e7p(this[F3Y4j.a1qc],F3Y4j.R42c));for(var i=box2d.b2PolygonShape.prototype.ComputeMass.s_center.SetZero(),o=F3Y4j.u42c,n=F3Y4j.u42c,s=box2d.b2PolygonShape.prototype.ComputeMass.s_s.SetZero(),r=F3Y4j.u42c,c=this[F3Y4j.a1qc];F3Y4j.g7p(r,c);++r)s[F3Y4j.l2Qc](this[F3Y4j.G6Jc][r]);s[F3Y4j.M62c](F3Y4j.k7p(F3Y4j.b42c,this[F3Y4j.a1qc]));for(var a=F3Y4j.n7p(F3Y4j.b42c,F3Y4j.R42c),r=F3Y4j.u42c,c=this[F3Y4j.a1qc];F3Y4j.P7p(r,c);++r){var h=box2d[F3Y4j.J97c](this[F3Y4j.G6Jc][r],s,box2d.b2PolygonShape.prototype.ComputeMass.s_e1),u=box2d[F3Y4j.J97c](this[F3Y4j.G6Jc][F3Y4j.V6p(r+F3Y4j.b42c,c)],s,box2d.b2PolygonShape.prototype.ComputeMass.s_e2),l=box2d[F3Y4j.O62c](h,u),d=F3Y4j.h6p(F3Y4j.T8Qc,l),d=(o+=d,i[F3Y4j.l2Qc](box2d[F3Y4j.H07c](F3Y4j.R6p(d,a),box2d[F3Y4j.O2ic](h,u,box2d[F3Y4j.b17c][F3Y4j.c1Jc]),box2d[F3Y4j.b17c][F3Y4j.M1Jc])),h[F3Y4j.W17c]),h=h[F3Y4j.I17c],p=u[F3Y4j.W17c],u=u[F3Y4j.I17c],d=F3Y4j.b6p(d,d)+F3Y4j.p6p(p,d)+F3Y4j.y6p(p,p),p=F3Y4j.Z6p(h,h)+F3Y4j.D6p(u,h)+F3Y4j.F6p(u,u);n+=F3Y4j.t6p(F3Y4j.I72c*a*l,d+p)}t[F3Y4j.x8qc]=F3Y4j.T6p(e,o),box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.v6p(o,box2d[F3Y4j.w7qc])),i[F3Y4j.M62c](F3Y4j.W6p(F3Y4j.b42c,o)),box2d[F3Y4j.O2ic](i,s,t[F3Y4j.m3Jc]),t[F3Y4j.t72c]=F3Y4j.C6p(e,n),t[F3Y4j.t72c]+=F3Y4j.U6p(t[F3Y4j.x8qc],box2d[F3Y4j.U2tc](t[F3Y4j.m3Jc],t[F3Y4j.m3Jc])-box2d[F3Y4j.U2tc](i,i))},box2d.b2PolygonShape.prototype.ComputeMass.s_center=new box2d[F3Y4j.b17c],box2d.b2PolygonShape.prototype.ComputeMass.s_s=new box2d[F3Y4j.b17c],box2d.b2PolygonShape.prototype.ComputeMass.s_e1=new box2d[F3Y4j.b17c],box2d.b2PolygonShape.prototype.ComputeMass.s_e2=new box2d[F3Y4j.b17c],box2d.b2PolygonShape.prototype.Validate=function(){for(var t=F3Y4j.u42c;F3Y4j.d6p(t,this[F3Y4j.a1qc]);++t)for(var e=t,i=F3Y4j.X6p(t+F3Y4j.b42c,this[F3Y4j.a1qc]),o=this[F3Y4j.G6Jc][e],n=box2d[F3Y4j.J97c](this[F3Y4j.G6Jc][i],o,box2d.b2PolygonShape.prototype.Validate.s_e),s=F3Y4j.u42c;F3Y4j.o0p(s,this[F3Y4j.a1qc]);++s)if(!F3Y4j.q0p(s,e)&&!F3Y4j.z0p(s,i)){var r=box2d[F3Y4j.J97c](this[F3Y4j.G6Jc][s],o,box2d.b2PolygonShape.prototype.Validate.s_v),r=box2d[F3Y4j.O62c](n,r);if(F3Y4j.E0p(r,F3Y4j.u42c))return F3Y4j.h57c}return F3Y4j.H3qc},box2d.b2PolygonShape.prototype.Validate.s_e=new box2d[F3Y4j.b17c],box2d.b2PolygonShape.prototype.Validate.s_v=new box2d[F3Y4j.b17c],box2d.b2PolygonShape.prototype.SetupDistanceProxy=function(t,e){t[F3Y4j.G6Jc]=this[F3Y4j.G6Jc],t[F3Y4j.a1qc]=this[F3Y4j.a1qc],t[F3Y4j.W6ic]=this[F3Y4j.W6ic]},box2d.b2PolygonShape.prototype.ComputeSubmergedArea=function(t,e,i,o){for(var n,s=box2d[F3Y4j.M8Ec](i[F3Y4j.G3ic],t,box2d.b2PolygonShape.prototype.ComputeSubmergedArea.s_normalL),r=F3Y4j.f0p(e,box2d[F3Y4j.U2tc](t,i[F3Y4j.Z3ic])),c=box2d.b2PolygonShape.prototype.ComputeSubmergedArea.s_depths,a=F3Y4j.u42c,h=-F3Y4j.b42c,u=-F3Y4j.b42c,l=F3Y4j.h57c,d=F3Y4j.u42c,p=this[F3Y4j.a1qc];F3Y4j.H0p(d,p);++d){c[d]=F3Y4j.I0p(box2d[F3Y4j.U2tc](s,this[F3Y4j.G6Jc][d]),r);var F=c[d]<-box2d[F3Y4j.w7qc];F3Y4j.w0p(d,F3Y4j.u42c)&&(F?l||(h=F3Y4j.N0p(d,F3Y4j.b42c),a++):l&&(u=F3Y4j.J0p(d,F3Y4j.b42c),a++)),l=F}switch(a){case F3Y4j.u42c:return l?(n=box2d.b2PolygonShape.prototype.ComputeSubmergedArea.s_md,this[F3Y4j.H0tc](n,F3Y4j.b42c),box2d[F3Y4j.a72c](i,n[F3Y4j.m3Jc],o),n[F3Y4j.x8qc]):F3Y4j.u42c;case F3Y4j.b42c:h===-F3Y4j.b42c?h=F3Y4j.S0p(this[F3Y4j.a1qc],F3Y4j.b42c):u=F3Y4j.Q0p(this[F3Y4j.a1qc],F3Y4j.b42c)}for(var e=F3Y4j.G0p(h+F3Y4j.b42c,this[F3Y4j.a1qc]),j=F3Y4j.a0p(u+F3Y4j.b42c,this[F3Y4j.a1qc]),t=F3Y4j.L0p(F3Y4j.u42c-c[h],c[e]-c[h]),Y=F3Y4j.K0p(F3Y4j.u42c-c[u],c[j]-c[u]),f=box2d.b2PolygonShape.prototype.ComputeSubmergedArea.s_intoVec.SetXY(F3Y4j.M0p(this[F3Y4j.G6Jc][h][F3Y4j.W17c],F3Y4j.b42c-t)+F3Y4j.s2p(this[F3Y4j.G6Jc][e][F3Y4j.W17c],t),F3Y4j.x2p(this[F3Y4j.G6Jc][h][F3Y4j.I17c],F3Y4j.b42c-t)+F3Y4j.O2p(this[F3Y4j.G6Jc][e][F3Y4j.I17c],t)),b=box2d.b2PolygonShape.prototype.ComputeSubmergedArea.s_outoVec.SetXY(F3Y4j.B2p(this[F3Y4j.G6Jc][u][F3Y4j.W17c],F3Y4j.b42c-Y)+F3Y4j.u2p(this[F3Y4j.G6Jc][j][F3Y4j.W17c],Y),F3Y4j.l2p(this[F3Y4j.G6Jc][u][F3Y4j.I17c],F3Y4j.b42c-Y)+F3Y4j.m2p(this[F3Y4j.G6Jc][j][F3Y4j.I17c],Y)),g=F3Y4j.u42c,y=box2d.b2PolygonShape.prototype.ComputeSubmergedArea.s_center.SetZero(),m=this[F3Y4j.G6Jc][e],x=F3Y4j.E3qc,d=e;F3Y4j.Y2p(d,j);){d=F3Y4j.j2p(d+F3Y4j.b42c,this[F3Y4j.a1qc]);var x=F3Y4j.A2p(d,j)?b:this[F3Y4j.G6Jc][d],v=F3Y4j.r2p(F3Y4j.T8Qc,(m[F3Y4j.W17c]-f[F3Y4j.W17c])*(x[F3Y4j.I17c]-f[F3Y4j.I17c])-(m[F3Y4j.I17c]-f[F3Y4j.I17c])*(x[F3Y4j.W17c]-f[F3Y4j.W17c]));g+=v,y[F3Y4j.W17c]+=F3Y4j.i2p(v,f[F3Y4j.W17c]+m[F3Y4j.W17c]+x[F3Y4j.W17c],F3Y4j.R42c),y[F3Y4j.I17c]+=F3Y4j.G2p(v,f[F3Y4j.I17c]+m[F3Y4j.I17c]+x[F3Y4j.I17c],F3Y4j.R42c),m=x}return y[F3Y4j.M62c](F3Y4j.C2p(F3Y4j.b42c,g)),box2d[F3Y4j.a72c](i,y,o),g},box2d.b2PolygonShape.prototype.ComputeSubmergedArea.s_normalL=new box2d[F3Y4j.b17c],box2d.b2PolygonShape.prototype.ComputeSubmergedArea.s_depths=box2d[F3Y4j.m8qc](box2d[F3Y4j.T6Ec]),box2d.b2PolygonShape.prototype.ComputeSubmergedArea.s_md=new box2d[F3Y4j.L8tc],box2d.b2PolygonShape.prototype.ComputeSubmergedArea.s_intoVec=new box2d[F3Y4j.b17c],box2d.b2PolygonShape.prototype.ComputeSubmergedArea.s_outoVec=new box2d[F3Y4j.b17c],box2d.b2PolygonShape.prototype.ComputeSubmergedArea.s_center=new box2d[F3Y4j.b17c],box2d.b2PolygonShape.prototype.Dump=function(){box2d[F3Y4j.q7ic]("    /*box2d.b2PolygonShape*/ var shape = new box2d.b2PolygonShape();\n"),box2d[F3Y4j.q7ic](F3Y4j.f9Qc,box2d[F3Y4j.T6Ec]);for(var t=F3Y4j.u42c;F3Y4j.U2p(t,this[F3Y4j.a1qc]);++t)box2d[F3Y4j.q7ic](F3Y4j.k7qc,t,this[F3Y4j.G6Jc][t][F3Y4j.W17c],this[F3Y4j.G6Jc][t][F3Y4j.I17c]);box2d[F3Y4j.q7ic]("    shape.Set(vs, %d);\n",this[F3Y4j.a1qc])},box2d[F3Y4j.i77c][F3Y4j.x0Qc]=function(t,e,i){box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.d2p(e,F3Y4j.R42c));for(var o=i,n=(o[F3Y4j.a4qc](),F3Y4j.u42c),s=box2d[F3Y4j.i77c][F3Y4j.x0Qc][F3Y4j.e17c][F3Y4j.a4qc](),r=F3Y4j.X2p(F3Y4j.b42c,F3Y4j.R42c),c=F3Y4j.u42c;F3Y4j.o8p(c,e);++c){var a=s,h=t[c],u=t[F3Y4j.q8p(c+F3Y4j.b42c,e)],l=box2d[F3Y4j.J97c](h,a,box2d[F3Y4j.i77c][F3Y4j.x0Qc][F3Y4j.v4tc]),d=box2d[F3Y4j.J97c](u,a,box2d[F3Y4j.i77c][F3Y4j.x0Qc][F3Y4j.y4tc]),l=box2d[F3Y4j.O62c](l,d),d=F3Y4j.z8p(F3Y4j.T8Qc,l);n+=d,o[F3Y4j.W17c]+=F3Y4j.E8p(d,r,a[F3Y4j.W17c]+h[F3Y4j.W17c]+u[F3Y4j.W17c]),o[F3Y4j.I17c]+=F3Y4j.p8p(d,r,a[F3Y4j.I17c]+h[F3Y4j.I17c]+u[F3Y4j.I17c])}return box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.m8p(n,box2d[F3Y4j.w7qc])),o[F3Y4j.M62c](F3Y4j.Y8p(F3Y4j.b42c,n)),o},box2d[F3Y4j.i77c][F3Y4j.x0Qc][F3Y4j.e17c]=new box2d[F3Y4j.b17c],box2d[F3Y4j.i77c][F3Y4j.x0Qc][F3Y4j.v4tc]=new box2d[F3Y4j.b17c],box2d[F3Y4j.i77c][F3Y4j.x0Qc][F3Y4j.y4tc]=new box2d[F3Y4j.b17c],goog[F3Y4j.a0ic](F3Y4j.H67c),goog[F3Y4j.D02c]("box2d.b2Collision"),box2d[F3Y4j.p3Ec]=function(t,e,i,o,n){t[F3Y4j.F0tc]=F3Y4j.u42c;var i=box2d[F3Y4j.s9ic](i,box2d[F3Y4j.a72c](n,o[F3Y4j.j8Jc],box2d[F3Y4j.b17c][F3Y4j.c1Jc]),box2d[F3Y4j.p3Ec][F3Y4j.s1Ec]),n=e[F3Y4j.j5tc],s=e[F3Y4j.A4ic],r=box2d[F3Y4j.J97c](s,n,box2d[F3Y4j.p3Ec][F3Y4j.f7Qc]),c=box2d[F3Y4j.U2tc](r,box2d[F3Y4j.J97c](s,i,box2d[F3Y4j.b17c][F3Y4j.c1Jc])),a=box2d[F3Y4j.U2tc](r,box2d[F3Y4j.J97c](i,n,box2d[F3Y4j.b17c][F3Y4j.c1Jc])),h=e[F3Y4j.W6ic]+o[F3Y4j.W6ic],u=box2d[F3Y4j.p3Ec][F3Y4j.P4Qc];if(u[F3Y4j.X2Jc][F3Y4j.s02c]=F3Y4j.u42c,u[F3Y4j.X2Jc][F3Y4j.C22c]=box2d[F3Y4j.h5Jc][F3Y4j.I5ic],F3Y4j.j8p(a,F3Y4j.u42c)){var l=n,d=box2d[F3Y4j.J97c](i,l,box2d[F3Y4j.p3Ec][F3Y4j.r7Qc]),p=box2d[F3Y4j.U2tc](d,d);if(F3Y4j.A8p(p,h*h))return;if(e[F3Y4j.b3tc]){var F=e[F3Y4j.u5tc],j=n,F=box2d[F3Y4j.J97c](j,F,box2d[F3Y4j.p3Ec][F3Y4j.v4tc]),F=box2d[F3Y4j.U2tc](F,box2d[F3Y4j.J97c](j,i,box2d[F3Y4j.b17c][F3Y4j.c1Jc]));if(F3Y4j.r8p(F,F3Y4j.u42c))return}return u[F3Y4j.X2Jc][F3Y4j.G22c]=F3Y4j.u42c,u[F3Y4j.X2Jc][F3Y4j.B82c]=box2d[F3Y4j.h5Jc][F3Y4j.I5ic],t[F3Y4j.F0tc]=F3Y4j.b42c,t[F3Y4j.r0Jc]=box2d[F3Y4j.u1tc][F3Y4j.k3qc],t[F3Y4j.D3Qc][F3Y4j.a4qc](),t[F3Y4j.U9Ec][F3Y4j.j9Qc](l),t[F3Y4j.Q72c][F3Y4j.u42c][F3Y4j.a4Jc][F3Y4j.j9Qc](u),void t[F3Y4j.Q72c][F3Y4j.u42c][F3Y4j.U9Ec][F3Y4j.j9Qc](o[F3Y4j.j8Jc])}if(F3Y4j.i8p(c,F3Y4j.u42c)){l=s,d=box2d[F3Y4j.J97c](i,l,box2d[F3Y4j.p3Ec][F3Y4j.r7Qc]),p=box2d[F3Y4j.U2tc](d,d);if(F3Y4j.c8p(p,h*h))return;if(e[F3Y4j.j3tc]){j=e[F3Y4j.f4ic],F=s,e=box2d[F3Y4j.J97c](j,F,box2d[F3Y4j.p3Ec][F3Y4j.y4tc]),j=box2d[F3Y4j.U2tc](e,box2d[F3Y4j.J97c](i,F,box2d[F3Y4j.b17c][F3Y4j.c1Jc]));if(F3Y4j.e8p(j,F3Y4j.u42c))return}return u[F3Y4j.X2Jc][F3Y4j.G22c]=F3Y4j.b42c,u[F3Y4j.X2Jc][F3Y4j.B82c]=box2d[F3Y4j.h5Jc][F3Y4j.I5ic],t[F3Y4j.F0tc]=F3Y4j.b42c,t[F3Y4j.r0Jc]=box2d[F3Y4j.u1tc][F3Y4j.k3qc],t[F3Y4j.D3Qc][F3Y4j.a4qc](),t[F3Y4j.U9Ec][F3Y4j.j9Qc](l),t[F3Y4j.Q72c][F3Y4j.u42c][F3Y4j.a4Jc][F3Y4j.j9Qc](u),void t[F3Y4j.Q72c][F3Y4j.u42c][F3Y4j.U9Ec][F3Y4j.j9Qc](o[F3Y4j.j8Jc])}e=box2d[F3Y4j.U2tc](r,r);box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.g8p(e,F3Y4j.u42c));(l=box2d[F3Y4j.p3Ec][F3Y4j.h1Ec])[F3Y4j.W17c]=F3Y4j.k8p(F3Y4j.b42c/e,c*n[F3Y4j.W17c]+a*s[F3Y4j.W17c]),l[F3Y4j.I17c]=F3Y4j.n8p(F3Y4j.b42c/e,c*n[F3Y4j.I17c]+a*s[F3Y4j.I17c]);d=box2d[F3Y4j.J97c](i,l,box2d[F3Y4j.p3Ec][F3Y4j.r7Qc]),p=box2d[F3Y4j.U2tc](d,d);F3Y4j.P8p(p,h*h)||(F=box2d[F3Y4j.p3Ec][F3Y4j.A9Qc][F3Y4j.V0tc](-r[F3Y4j.I17c],r[F3Y4j.W17c]),F3Y4j.V5y(box2d[F3Y4j.U2tc](F,box2d[F3Y4j.J97c](i,n,box2d[F3Y4j.b17c][F3Y4j.c1Jc])),F3Y4j.u42c)&&F[F3Y4j.V0tc](-F[F3Y4j.W17c],-F[F3Y4j.I17c]),F[F3Y4j.w2tc](),u[F3Y4j.X2Jc][F3Y4j.G22c]=F3Y4j.u42c,u[F3Y4j.X2Jc][F3Y4j.B82c]=box2d[F3Y4j.h5Jc][F3Y4j.N2Jc],t[F3Y4j.F0tc]=F3Y4j.b42c,t[F3Y4j.r0Jc]=box2d[F3Y4j.u1tc][F3Y4j.P4ic],t[F3Y4j.D3Qc][F3Y4j.j9Qc](F),t[F3Y4j.U9Ec][F3Y4j.j9Qc](n),t[F3Y4j.Q72c][F3Y4j.u42c][F3Y4j.a4Jc][F3Y4j.j9Qc](u),t[F3Y4j.Q72c][F3Y4j.u42c][F3Y4j.U9Ec][F3Y4j.j9Qc](o[F3Y4j.j8Jc]))},box2d[F3Y4j.p3Ec][F3Y4j.s1Ec]=new box2d[F3Y4j.b17c],box2d[F3Y4j.p3Ec][F3Y4j.f7Qc]=new box2d[F3Y4j.b17c],box2d[F3Y4j.p3Ec][F3Y4j.r7Qc]=new box2d[F3Y4j.b17c],box2d[F3Y4j.p3Ec][F3Y4j.v4tc]=new box2d[F3Y4j.b17c],box2d[F3Y4j.p3Ec][F3Y4j.y4tc]=new box2d[F3Y4j.b17c],box2d[F3Y4j.p3Ec][F3Y4j.h1Ec]=new box2d[F3Y4j.b17c],box2d[F3Y4j.p3Ec][F3Y4j.A9Qc]=new box2d[F3Y4j.b17c],box2d[F3Y4j.p3Ec][F3Y4j.P4Qc]=new box2d[F3Y4j.m3tc],box2d[F3Y4j.L0tc]={e_unknown:F3Y4j.u42c,e_edgeA:F3Y4j.b42c,e_edgeB:F3Y4j.B42c},goog[F3Y4j.H7Ec](box2d[F3Y4j.L0tc],F3Y4j.E2Ec,box2d[F3Y4j.L0tc][F3Y4j.O0tc]),goog[F3Y4j.H7Ec](box2d[F3Y4j.L0tc],F3Y4j.i3tc,box2d[F3Y4j.L0tc][F3Y4j.k3Jc]),goog[F3Y4j.H7Ec](box2d[F3Y4j.L0tc],F3Y4j.N3tc,box2d[F3Y4j.L0tc][F3Y4j.L7Jc]),box2d[F3Y4j.Y1Ec]=function(){},box2d.b2EPAxis.prototype.type=box2d[F3Y4j.L0tc][F3Y4j.O0tc],box2d.b2EPAxis.prototype.index=F3Y4j.u42c,box2d.b2EPAxis.prototype.separation=F3Y4j.u42c,box2d[F3Y4j.s3Qc]=function(){this[F3Y4j.v5ic]=box2d[F3Y4j.b17c][F3Y4j.T7qc](box2d[F3Y4j.T6Ec]),this[F3Y4j.N4qc]=box2d[F3Y4j.b17c][F3Y4j.T7qc](box2d[F3Y4j.T6Ec]),this[F3Y4j.B7qc]=F3Y4j.u42c},box2d.b2TempPolygon.prototype.vertices=F3Y4j.E3qc,box2d.b2TempPolygon.prototype.normals=F3Y4j.E3qc,box2d.b2TempPolygon.prototype.count=F3Y4j.u42c,box2d[F3Y4j.z9ic]=function(){this[F3Y4j.D1Jc]=F3Y4j.u42c,this[F3Y4j.T1Jc]=F3Y4j.u42c,this[F3Y4j.j6ic]=new box2d[F3Y4j.b17c],this[F3Y4j.l0ic]=new box2d[F3Y4j.b17c],this[F3Y4j.U6ic]=new box2d[F3Y4j.b17c],this[F3Y4j.Z7ic]=new box2d[F3Y4j.b17c],this[F3Y4j.W1Jc]=F3Y4j.u42c,this[F3Y4j.G7ic]=new box2d[F3Y4j.b17c],this[F3Y4j.H5Jc]=F3Y4j.u42c},box2d.b2ReferenceFace.prototype.i1=F3Y4j.u42c,box2d.b2ReferenceFace.prototype.i2=F3Y4j.u42c,box2d.b2ReferenceFace.prototype.v1=F3Y4j.E3qc,box2d.b2ReferenceFace.prototype.v2=F3Y4j.E3qc,box2d.b2ReferenceFace.prototype.normal=F3Y4j.E3qc,box2d.b2ReferenceFace.prototype.sideNormal1=F3Y4j.E3qc,box2d.b2ReferenceFace.prototype.sideOffset1=F3Y4j.u42c,box2d.b2ReferenceFace.prototype.sideNormal2=F3Y4j.E3qc,box2d.b2ReferenceFace.prototype.sideOffset2=F3Y4j.u42c,box2d[F3Y4j.H5tc]={e_isolated:F3Y4j.u42c,e_concave:F3Y4j.b42c,e_convex:F3Y4j.B42c},goog[F3Y4j.H7Ec](box2d[F3Y4j.H5tc],F3Y4j.c7Jc,box2d[F3Y4j.H5tc][F3Y4j.J7Ec]),goog[F3Y4j.H7Ec](box2d[F3Y4j.H5tc],F3Y4j.y7tc,box2d[F3Y4j.H5tc][F3Y4j.A82c]),goog[F3Y4j.H7Ec](box2d[F3Y4j.H5tc],F3Y4j.O9qc,box2d[F3Y4j.H5tc][F3Y4j.F6ic]),box2d[F3Y4j.O77c]=function(){this[F3Y4j.I4Jc]=new box2d[F3Y4j.s3Qc],this[F3Y4j.K6Ec]=new box2d[F3Y4j.J5ic],this[F3Y4j.k82c]=new box2d[F3Y4j.b17c],this[F3Y4j.S42c]=new box2d[F3Y4j.b17c],this[F3Y4j.z42c]=new box2d[F3Y4j.b17c],this[F3Y4j.k92c]=new box2d[F3Y4j.b17c],this[F3Y4j.o72c]=new box2d[F3Y4j.b17c],this[F3Y4j.V5Qc]=new box2d[F3Y4j.b17c],this[F3Y4j.f5Qc]=new box2d[F3Y4j.b17c],this[F3Y4j.d1Qc]=new box2d[F3Y4j.b17c],this[F3Y4j.x4Ec]=new box2d[F3Y4j.b17c],this.m_type1=box2d[F3Y4j.H5tc][F3Y4j.J7Ec],this.m_type2=box2d[F3Y4j.H5tc][F3Y4j.J7Ec],this[F3Y4j.o97c]=new box2d[F3Y4j.b17c],this[F3Y4j.m6ic]=new box2d[F3Y4j.b17c],this[F3Y4j.W6ic]=F3Y4j.u42c,this[F3Y4j.n27c]=F3Y4j.h57c},box2d.b2EPCollider.prototype.m_polygonB=F3Y4j.E3qc,box2d.b2EPCollider.prototype.m_xf=F3Y4j.E3qc,box2d.b2EPCollider.prototype.m_centroidB=F3Y4j.E3qc,box2d.b2EPCollider.prototype.m_v0=F3Y4j.E3qc,box2d.b2EPCollider.prototype.m_v1=F3Y4j.E3qc,box2d.b2EPCollider.prototype.m_v2=F3Y4j.E3qc,box2d.b2EPCollider.prototype.m_v3=F3Y4j.E3qc,box2d.b2EPCollider.prototype.m_normal0=F3Y4j.E3qc,box2d.b2EPCollider.prototype.m_normal1=F3Y4j.E3qc,box2d.b2EPCollider.prototype.m_normal2=F3Y4j.E3qc,box2d.b2EPCollider.prototype.m_normal=F3Y4j.E3qc,box2d.b2EPCollider.prototype.m_type1=box2d[F3Y4j.H5tc][F3Y4j.J7Ec],box2d.b2EPCollider.prototype.m_type2=box2d[F3Y4j.H5tc][F3Y4j.J7Ec],box2d.b2EPCollider.prototype.m_lowerLimit=F3Y4j.E3qc,box2d.b2EPCollider.prototype.m_upperLimit=F3Y4j.E3qc,box2d.b2EPCollider.prototype.m_radius=F3Y4j.u42c,box2d.b2EPCollider.prototype.m_front=F3Y4j.h57c,box2d.b2EPCollider.prototype.Collide=function(t,e,i,o,n){box2d[F3Y4j.G42c](i,n,this[F3Y4j.K6Ec]),box2d[F3Y4j.a72c](this[F3Y4j.K6Ec],o[F3Y4j.O4ic],this[F3Y4j.k82c]),this[F3Y4j.S42c][F3Y4j.j9Qc](e[F3Y4j.u5tc]),this[F3Y4j.z42c][F3Y4j.j9Qc](e[F3Y4j.j5tc]),this[F3Y4j.k92c][F3Y4j.j9Qc](e[F3Y4j.A4ic]),this[F3Y4j.o72c][F3Y4j.j9Qc](e[F3Y4j.f4ic]);var i=e[F3Y4j.b3tc],n=e[F3Y4j.j3tc],e=box2d[F3Y4j.J97c](this[F3Y4j.k92c],this[F3Y4j.z42c],box2d[F3Y4j.O77c][F3Y4j.s3qc]),s=(e[F3Y4j.w2tc](),this[F3Y4j.f5Qc][F3Y4j.V0tc](e[F3Y4j.I17c],-e[F3Y4j.W17c]),box2d[F3Y4j.U2tc](this[F3Y4j.f5Qc],box2d[F3Y4j.J97c](this[F3Y4j.k82c],this[F3Y4j.z42c],box2d[F3Y4j.b17c][F3Y4j.c1Jc]))),r=F3Y4j.u42c,c=F3Y4j.u42c,a=F3Y4j.h57c,h=F3Y4j.h57c;i&&((d=box2d[F3Y4j.J97c](this[F3Y4j.z42c],this[F3Y4j.S42c],box2d[F3Y4j.O77c][F3Y4j.p3qc]))[F3Y4j.w2tc](),this[F3Y4j.V5Qc][F3Y4j.V0tc](d[F3Y4j.I17c],-d[F3Y4j.W17c]),a=F3Y4j.h5y(box2d[F3Y4j.O62c](d,e),F3Y4j.u42c),r=box2d[F3Y4j.U2tc](this[F3Y4j.V5Qc],box2d[F3Y4j.J97c](this[F3Y4j.k82c],this[F3Y4j.S42c],box2d[F3Y4j.b17c][F3Y4j.c1Jc]))),n&&((d=box2d[F3Y4j.J97c](this[F3Y4j.o72c],this[F3Y4j.k92c],box2d[F3Y4j.O77c][F3Y4j.I2Jc]))[F3Y4j.w2tc](),this[F3Y4j.d1Qc][F3Y4j.V0tc](d[F3Y4j.I17c],-d[F3Y4j.W17c]),h=F3Y4j.R5y(box2d[F3Y4j.O62c](e,d),F3Y4j.u42c),c=box2d[F3Y4j.U2tc](this[F3Y4j.d1Qc],box2d[F3Y4j.J97c](this[F3Y4j.k82c],this[F3Y4j.k92c],box2d[F3Y4j.b17c][F3Y4j.c1Jc]))),i&&n?a&&h?(this[F3Y4j.n27c]=F3Y4j.b5y(r,F3Y4j.u42c)||F3Y4j.p5y(s,F3Y4j.u42c)||F3Y4j.y5y(c,F3Y4j.u42c),this[F3Y4j.n27c]?(this[F3Y4j.x4Ec][F3Y4j.j9Qc](this[F3Y4j.f5Qc]),this[F3Y4j.o97c][F3Y4j.j9Qc](this[F3Y4j.V5Qc]),this[F3Y4j.m6ic][F3Y4j.j9Qc](this[F3Y4j.d1Qc])):(this[F3Y4j.x4Ec][F3Y4j.j9Qc](this[F3Y4j.f5Qc])[F3Y4j.p9qc](),this[F3Y4j.o97c][F3Y4j.j9Qc](this[F3Y4j.f5Qc])[F3Y4j.p9qc](),this[F3Y4j.m6ic][F3Y4j.j9Qc](this[F3Y4j.f5Qc])[F3Y4j.p9qc]())):a?(this[F3Y4j.n27c]=F3Y4j.Z5y(r,F3Y4j.u42c)||F3Y4j.D5y(s,F3Y4j.u42c)&&F3Y4j.F5y(c,F3Y4j.u42c),this[F3Y4j.n27c]?(this[F3Y4j.x4Ec][F3Y4j.j9Qc](this[F3Y4j.f5Qc]),this[F3Y4j.o97c][F3Y4j.j9Qc](this[F3Y4j.V5Qc]),this[F3Y4j.m6ic][F3Y4j.j9Qc](this[F3Y4j.f5Qc])):(this[F3Y4j.x4Ec][F3Y4j.j9Qc](this[F3Y4j.f5Qc])[F3Y4j.p9qc](),this[F3Y4j.o97c][F3Y4j.j9Qc](this[F3Y4j.d1Qc])[F3Y4j.p9qc](),this[F3Y4j.m6ic][F3Y4j.j9Qc](this[F3Y4j.f5Qc])[F3Y4j.p9qc]())):h?(this[F3Y4j.n27c]=F3Y4j.t5y(c,F3Y4j.u42c)||F3Y4j.T5y(r,F3Y4j.u42c)&&F3Y4j.v5y(s,F3Y4j.u42c),this[F3Y4j.n27c]?(this[F3Y4j.x4Ec][F3Y4j.j9Qc](this[F3Y4j.f5Qc]),this[F3Y4j.o97c][F3Y4j.j9Qc](this[F3Y4j.f5Qc]),this[F3Y4j.m6ic][F3Y4j.j9Qc](this[F3Y4j.d1Qc])):(this[F3Y4j.x4Ec][F3Y4j.j9Qc](this[F3Y4j.f5Qc])[F3Y4j.p9qc](),this[F3Y4j.o97c][F3Y4j.j9Qc](this[F3Y4j.f5Qc])[F3Y4j.p9qc](),this[F3Y4j.m6ic][F3Y4j.j9Qc](this[F3Y4j.V5Qc])[F3Y4j.p9qc]())):(this[F3Y4j.n27c]=F3Y4j.W5y(r,F3Y4j.u42c)&&F3Y4j.C5y(s,F3Y4j.u42c)&&F3Y4j.U5y(c,F3Y4j.u42c),this[F3Y4j.n27c]?(this[F3Y4j.x4Ec][F3Y4j.j9Qc](this[F3Y4j.f5Qc]),this[F3Y4j.o97c][F3Y4j.j9Qc](this[F3Y4j.f5Qc]),this[F3Y4j.m6ic][F3Y4j.j9Qc](this[F3Y4j.f5Qc])):(this[F3Y4j.x4Ec][F3Y4j.j9Qc](this[F3Y4j.f5Qc])[F3Y4j.p9qc](),this[F3Y4j.o97c][F3Y4j.j9Qc](this[F3Y4j.d1Qc])[F3Y4j.p9qc](),this[F3Y4j.m6ic][F3Y4j.j9Qc](this[F3Y4j.V5Qc])[F3Y4j.p9qc]())):i?a?(this[F3Y4j.n27c]=F3Y4j.d5y(r,F3Y4j.u42c)||F3Y4j.X5y(s,F3Y4j.u42c),this[F3Y4j.n27c]?(this[F3Y4j.x4Ec][F3Y4j.j9Qc](this[F3Y4j.f5Qc]),this[F3Y4j.o97c][F3Y4j.j9Qc](this[F3Y4j.V5Qc])):(this[F3Y4j.x4Ec][F3Y4j.j9Qc](this[F3Y4j.f5Qc])[F3Y4j.p9qc](),this[F3Y4j.o97c][F3Y4j.j9Qc](this[F3Y4j.f5Qc])),this[F3Y4j.m6ic][F3Y4j.j9Qc](this[F3Y4j.f5Qc])[F3Y4j.p9qc]()):(this[F3Y4j.n27c]=F3Y4j.o1y(r,F3Y4j.u42c)&&F3Y4j.q1y(s,F3Y4j.u42c),this[F3Y4j.n27c]?(this[F3Y4j.x4Ec][F3Y4j.j9Qc](this[F3Y4j.f5Qc]),this[F3Y4j.o97c][F3Y4j.j9Qc](this[F3Y4j.f5Qc]),this[F3Y4j.m6ic][F3Y4j.j9Qc](this[F3Y4j.f5Qc])[F3Y4j.p9qc]()):(this[F3Y4j.x4Ec][F3Y4j.j9Qc](this[F3Y4j.f5Qc])[F3Y4j.p9qc](),this[F3Y4j.o97c][F3Y4j.j9Qc](this[F3Y4j.f5Qc]),this[F3Y4j.m6ic][F3Y4j.j9Qc](this[F3Y4j.V5Qc])[F3Y4j.p9qc]())):n?h?(this[F3Y4j.n27c]=F3Y4j.z1y(s,F3Y4j.u42c)||F3Y4j.E1y(c,F3Y4j.u42c),this[F3Y4j.n27c]?(this[F3Y4j.x4Ec][F3Y4j.j9Qc](this[F3Y4j.f5Qc]),this[F3Y4j.o97c][F3Y4j.j9Qc](this[F3Y4j.f5Qc])[F3Y4j.p9qc](),this[F3Y4j.m6ic][F3Y4j.j9Qc](this[F3Y4j.d1Qc])):(this[F3Y4j.x4Ec][F3Y4j.j9Qc](this[F3Y4j.f5Qc])[F3Y4j.p9qc](),this[F3Y4j.o97c][F3Y4j.j9Qc](this[F3Y4j.f5Qc])[F3Y4j.p9qc](),this[F3Y4j.m6ic][F3Y4j.j9Qc](this[F3Y4j.f5Qc]))):(this[F3Y4j.n27c]=F3Y4j.f1y(s,F3Y4j.u42c)&&F3Y4j.y1y(c,F3Y4j.u42c),this[F3Y4j.n27c]?(this[F3Y4j.x4Ec][F3Y4j.j9Qc](this[F3Y4j.f5Qc]),this[F3Y4j.o97c][F3Y4j.j9Qc](this[F3Y4j.f5Qc])[F3Y4j.p9qc]()):(this[F3Y4j.x4Ec][F3Y4j.j9Qc](this[F3Y4j.f5Qc])[F3Y4j.p9qc](),this[F3Y4j.o97c][F3Y4j.j9Qc](this[F3Y4j.d1Qc])[F3Y4j.p9qc]()),this[F3Y4j.m6ic][F3Y4j.j9Qc](this[F3Y4j.f5Qc])):(this[F3Y4j.n27c]=F3Y4j.Z1y(s,F3Y4j.u42c),this[F3Y4j.n27c]?(this[F3Y4j.x4Ec][F3Y4j.j9Qc](this[F3Y4j.f5Qc]),this[F3Y4j.o97c][F3Y4j.j9Qc](this[F3Y4j.f5Qc])[F3Y4j.p9qc](),this[F3Y4j.m6ic][F3Y4j.j9Qc](this[F3Y4j.f5Qc])[F3Y4j.p9qc]()):(this[F3Y4j.x4Ec][F3Y4j.j9Qc](this[F3Y4j.f5Qc])[F3Y4j.p9qc](),this[F3Y4j.o97c][F3Y4j.j9Qc](this[F3Y4j.f5Qc]),this[F3Y4j.m6ic][F3Y4j.j9Qc](this[F3Y4j.f5Qc]))),this[F3Y4j.I4Jc][F3Y4j.B7qc]=o[F3Y4j.a1qc];for(var u=F3Y4j.u42c,l=o[F3Y4j.a1qc];F3Y4j.D1y(u,l);++u)box2d[F3Y4j.a72c](this[F3Y4j.K6Ec],o[F3Y4j.G6Jc][u],this[F3Y4j.I4Jc][F3Y4j.v5ic][u]),box2d[F3Y4j.Z0tc](this[F3Y4j.K6Ec][F3Y4j.G3ic],o[F3Y4j.x4Qc][u],this[F3Y4j.I4Jc][F3Y4j.N4qc][u]);this[F3Y4j.W6ic]=F3Y4j.F1y(F3Y4j.B42c,box2d[F3Y4j.g6Jc]),t[F3Y4j.F0tc]=F3Y4j.u42c;e=this.ComputeEdgeSeparation(box2d[F3Y4j.O77c][F3Y4j.p8Qc]);if(!F3Y4j.t1y(e[F3Y4j.r0Jc],box2d[F3Y4j.L0tc][F3Y4j.O0tc])&&!F3Y4j.T1y(e[F3Y4j.w1Ec],this[F3Y4j.W6ic])){var d=this.ComputePolygonSeparation(box2d[F3Y4j.O77c][F3Y4j.k3Ec]);if(!F3Y4j.c1y(d[F3Y4j.r0Jc],box2d[F3Y4j.L0tc][F3Y4j.O0tc])||!F3Y4j.e1y(d[F3Y4j.w1Ec],this[F3Y4j.W6ic])){var i=F3Y4j.H02c,a=F3Y4j.o8Ec,p=!F3Y4j.g1y(d[F3Y4j.r0Jc],box2d[F3Y4j.L0tc][F3Y4j.O0tc])&&F3Y4j.k1y(d[F3Y4j.w1Ec],i*e[F3Y4j.w1Ec]+a)?d:e,r=box2d[F3Y4j.O77c][F3Y4j.p3Qc],F=box2d[F3Y4j.O77c][F3Y4j.u3Qc];if(F3Y4j.n1y(p[F3Y4j.r0Jc],box2d[F3Y4j.L0tc][F3Y4j.k3Jc])){t[F3Y4j.r0Jc]=box2d[F3Y4j.u1tc][F3Y4j.P4ic];for(var j=F3Y4j.u42c,Y=box2d[F3Y4j.U2tc](this[F3Y4j.x4Ec],this[F3Y4j.I4Jc][F3Y4j.N4qc][F3Y4j.u42c]),u=F3Y4j.b42c,l=this[F3Y4j.I4Jc][F3Y4j.B7qc];F3Y4j.P1y(u,l);++u){var f=box2d[F3Y4j.U2tc](this[F3Y4j.x4Ec],this[F3Y4j.I4Jc][F3Y4j.N4qc][u]);F3Y4j.V9y(f,Y)&&(Y=f,j=u)}var b,g,n=j,h=F3Y4j.h9y(n+F3Y4j.b42c,this[F3Y4j.I4Jc][F3Y4j.B7qc]);(b=r[F3Y4j.u42c])[F3Y4j.H97c][F3Y4j.j9Qc](this[F3Y4j.I4Jc][F3Y4j.v5ic][n]),b[F3Y4j.a4Jc][F3Y4j.X2Jc][F3Y4j.G22c]=F3Y4j.u42c,b[F3Y4j.a4Jc][F3Y4j.X2Jc][F3Y4j.s02c]=n,b[F3Y4j.a4Jc][F3Y4j.X2Jc][F3Y4j.B82c]=box2d[F3Y4j.h5Jc][F3Y4j.N2Jc],b[F3Y4j.a4Jc][F3Y4j.X2Jc][F3Y4j.C22c]=box2d[F3Y4j.h5Jc][F3Y4j.I5ic],(g=r[F3Y4j.b42c])[F3Y4j.H97c][F3Y4j.j9Qc](this[F3Y4j.I4Jc][F3Y4j.v5ic][h]),g[F3Y4j.a4Jc][F3Y4j.X2Jc][F3Y4j.G22c]=F3Y4j.u42c,g[F3Y4j.a4Jc][F3Y4j.X2Jc][F3Y4j.s02c]=h,g[F3Y4j.a4Jc][F3Y4j.X2Jc][F3Y4j.B82c]=box2d[F3Y4j.h5Jc][F3Y4j.N2Jc],g[F3Y4j.a4Jc][F3Y4j.X2Jc][F3Y4j.C22c]=box2d[F3Y4j.h5Jc][F3Y4j.I5ic],this[F3Y4j.n27c]?(F[F3Y4j.D1Jc]=F3Y4j.u42c,F[F3Y4j.T1Jc]=F3Y4j.b42c,F[F3Y4j.j6ic][F3Y4j.j9Qc](this[F3Y4j.z42c]),F[F3Y4j.l0ic][F3Y4j.j9Qc](this[F3Y4j.k92c]),F[F3Y4j.U6ic][F3Y4j.j9Qc](this[F3Y4j.f5Qc])):(F[F3Y4j.D1Jc]=F3Y4j.b42c,F[F3Y4j.T1Jc]=F3Y4j.u42c,F[F3Y4j.j6ic][F3Y4j.j9Qc](this[F3Y4j.k92c]),F[F3Y4j.l0ic][F3Y4j.j9Qc](this[F3Y4j.z42c]),F[F3Y4j.U6ic][F3Y4j.j9Qc](this[F3Y4j.f5Qc])[F3Y4j.p9qc]())}else t[F3Y4j.r0Jc]=box2d[F3Y4j.u1tc][F3Y4j.c4ic],(b=r[F3Y4j.u42c])[F3Y4j.H97c][F3Y4j.j9Qc](this[F3Y4j.z42c]),b[F3Y4j.a4Jc][F3Y4j.X2Jc][F3Y4j.G22c]=F3Y4j.u42c,b[F3Y4j.a4Jc][F3Y4j.X2Jc][F3Y4j.s02c]=p[F3Y4j.r07c],b[F3Y4j.a4Jc][F3Y4j.X2Jc][F3Y4j.B82c]=box2d[F3Y4j.h5Jc][F3Y4j.I5ic],b[F3Y4j.a4Jc][F3Y4j.X2Jc][F3Y4j.C22c]=box2d[F3Y4j.h5Jc][F3Y4j.N2Jc],(g=r[F3Y4j.b42c])[F3Y4j.H97c][F3Y4j.j9Qc](this[F3Y4j.k92c]),g[F3Y4j.a4Jc][F3Y4j.X2Jc][F3Y4j.G22c]=F3Y4j.u42c,g[F3Y4j.a4Jc][F3Y4j.X2Jc][F3Y4j.s02c]=p[F3Y4j.r07c],g[F3Y4j.a4Jc][F3Y4j.X2Jc][F3Y4j.B82c]=box2d[F3Y4j.h5Jc][F3Y4j.I5ic],g[F3Y4j.a4Jc][F3Y4j.X2Jc][F3Y4j.C22c]=box2d[F3Y4j.h5Jc][F3Y4j.N2Jc],F[F3Y4j.D1Jc]=p[F3Y4j.r07c],F[F3Y4j.T1Jc]=F3Y4j.R9y(F[F3Y4j.D1Jc]+F3Y4j.b42c,this[F3Y4j.I4Jc][F3Y4j.B7qc]),F[F3Y4j.j6ic][F3Y4j.j9Qc](this[F3Y4j.I4Jc][F3Y4j.v5ic][F[F3Y4j.D1Jc]]),F[F3Y4j.l0ic][F3Y4j.j9Qc](this[F3Y4j.I4Jc][F3Y4j.v5ic][F[F3Y4j.T1Jc]]),F[F3Y4j.U6ic][F3Y4j.j9Qc](this[F3Y4j.I4Jc][F3Y4j.N4qc][F[F3Y4j.D1Jc]]);F[F3Y4j.Z7ic][F3Y4j.V0tc](F[F3Y4j.U6ic][F3Y4j.I17c],-F[F3Y4j.U6ic][F3Y4j.W17c]),F[F3Y4j.G7ic][F3Y4j.j9Qc](F[F3Y4j.Z7ic])[F3Y4j.p9qc](),F[F3Y4j.W1Jc]=box2d[F3Y4j.U2tc](F[F3Y4j.Z7ic],F[F3Y4j.j6ic]),F[F3Y4j.H5Jc]=box2d[F3Y4j.U2tc](F[F3Y4j.G7ic],F[F3Y4j.l0ic]);var c=box2d[F3Y4j.O77c][F3Y4j.T5Jc],y=box2d[F3Y4j.O77c][F3Y4j.o1Jc],s=(F3Y4j.u42c,box2d[F3Y4j.g6tc](c,r,F[F3Y4j.Z7ic],F[F3Y4j.W1Jc],F[F3Y4j.D1Jc]));if(!F3Y4j.b9y(s,box2d[F3Y4j.O5tc])&&(s=box2d[F3Y4j.g6tc](y,c,F[F3Y4j.G7ic],F[F3Y4j.H5Jc],F[F3Y4j.T1Jc]),!F3Y4j.p9y(s,box2d[F3Y4j.O5tc]))){F3Y4j.y9y(p[F3Y4j.r0Jc],box2d[F3Y4j.L0tc][F3Y4j.k3Jc])?(t[F3Y4j.D3Qc][F3Y4j.j9Qc](F[F3Y4j.U6ic]),t[F3Y4j.U9Ec][F3Y4j.j9Qc](F[F3Y4j.j6ic])):(t[F3Y4j.D3Qc][F3Y4j.j9Qc](o[F3Y4j.x4Qc][F[F3Y4j.D1Jc]]),t[F3Y4j.U9Ec][F3Y4j.j9Qc](o[F3Y4j.G6Jc][F[F3Y4j.D1Jc]]));for(var m=F3Y4j.u42c,u=F3Y4j.u42c,l=box2d[F3Y4j.O5tc];F3Y4j.Z9y(u,l);++u){var x=box2d[F3Y4j.U2tc](F[F3Y4j.U6ic],box2d[F3Y4j.J97c](y[u][F3Y4j.H97c],F[F3Y4j.j6ic],box2d[F3Y4j.b17c][F3Y4j.c1Jc]));F3Y4j.D9y(x,this[F3Y4j.W6ic])&&(x=t[F3Y4j.Q72c][m],F3Y4j.F9y(p[F3Y4j.r0Jc],box2d[F3Y4j.L0tc][F3Y4j.k3Jc])?(box2d[F3Y4j.s9ic](this[F3Y4j.K6Ec],y[u][F3Y4j.H97c],x[F3Y4j.U9Ec]),x[F3Y4j.a4Jc]=y[u][F3Y4j.a4Jc]):(x[F3Y4j.U9Ec][F3Y4j.j9Qc](y[u][F3Y4j.H97c]),x[F3Y4j.a4Jc][F3Y4j.X2Jc][F3Y4j.B82c]=y[u][F3Y4j.a4Jc][F3Y4j.X2Jc][F3Y4j.C22c],x[F3Y4j.a4Jc][F3Y4j.X2Jc][F3Y4j.C22c]=y[u][F3Y4j.a4Jc][F3Y4j.X2Jc][F3Y4j.B82c],x[F3Y4j.a4Jc][F3Y4j.X2Jc][F3Y4j.G22c]=y[u][F3Y4j.a4Jc][F3Y4j.X2Jc][F3Y4j.s02c],x[F3Y4j.a4Jc][F3Y4j.X2Jc][F3Y4j.s02c]=y[u][F3Y4j.a4Jc][F3Y4j.X2Jc][F3Y4j.G22c]),++m)}t[F3Y4j.F0tc]=m}}}},box2d[F3Y4j.O77c][F3Y4j.s3qc]=new box2d[F3Y4j.b17c],box2d[F3Y4j.O77c][F3Y4j.p3qc]=new box2d[F3Y4j.b17c],box2d[F3Y4j.O77c][F3Y4j.I2Jc]=new box2d[F3Y4j.b17c],box2d[F3Y4j.O77c][F3Y4j.p3Qc]=box2d[F3Y4j.N7Jc][F3Y4j.T7qc](F3Y4j.B42c),box2d[F3Y4j.O77c][F3Y4j.u3Qc]=new box2d[F3Y4j.z9ic],box2d[F3Y4j.O77c][F3Y4j.T5Jc]=box2d[F3Y4j.N7Jc][F3Y4j.T7qc](F3Y4j.B42c),box2d[F3Y4j.O77c][F3Y4j.o1Jc]=box2d[F3Y4j.N7Jc][F3Y4j.T7qc](F3Y4j.B42c),box2d[F3Y4j.O77c][F3Y4j.p8Qc]=new box2d[F3Y4j.Y1Ec],box2d[F3Y4j.O77c][F3Y4j.k3Ec]=new box2d[F3Y4j.Y1Ec],box2d.b2EPCollider.prototype.ComputeEdgeSeparation=function(t){var e=t;e[F3Y4j.r0Jc]=box2d[F3Y4j.L0tc][F3Y4j.k3Jc],e[F3Y4j.r07c]=this[F3Y4j.n27c]?F3Y4j.u42c:F3Y4j.b42c,e[F3Y4j.w1Ec]=box2d[F3Y4j.p7Qc];for(var i=F3Y4j.u42c,o=this[F3Y4j.I4Jc][F3Y4j.B7qc];F3Y4j.t9y(i,o);++i){var n=box2d[F3Y4j.U2tc](this[F3Y4j.x4Ec],box2d[F3Y4j.J97c](this[F3Y4j.I4Jc][F3Y4j.v5ic][i],this[F3Y4j.z42c],box2d[F3Y4j.b17c][F3Y4j.c1Jc]));F3Y4j.T9y(n,e[F3Y4j.w1Ec])&&(e[F3Y4j.w1Ec]=n)}return e},box2d.b2EPCollider.prototype.ComputePolygonSeparation=function(t){for(var e=t,i=(e[F3Y4j.r0Jc]=box2d[F3Y4j.L0tc][F3Y4j.O0tc],e[F3Y4j.r07c]=-F3Y4j.b42c,e[F3Y4j.w1Ec]=-box2d[F3Y4j.p7Qc],box2d[F3Y4j.O77c][F3Y4j.W5Jc][F3Y4j.V0tc](-this[F3Y4j.x4Ec][F3Y4j.I17c],this[F3Y4j.x4Ec][F3Y4j.W17c])),o=F3Y4j.u42c,n=this[F3Y4j.I4Jc][F3Y4j.B7qc];F3Y4j.v9y(o,n);++o){var s=box2d[F3Y4j.i1Jc](this[F3Y4j.I4Jc][F3Y4j.N4qc][o],box2d[F3Y4j.O77c][F3Y4j.A9Qc]),r=box2d[F3Y4j.U2tc](s,box2d[F3Y4j.J97c](this[F3Y4j.I4Jc][F3Y4j.v5ic][o],this[F3Y4j.z42c],box2d[F3Y4j.b17c][F3Y4j.c1Jc])),c=box2d[F3Y4j.U2tc](s,box2d[F3Y4j.J97c](this[F3Y4j.I4Jc][F3Y4j.v5ic][o],this[F3Y4j.k92c],box2d[F3Y4j.b17c][F3Y4j.c1Jc])),r=box2d[F3Y4j.y3ic](r,c);if(F3Y4j.W9y(r,this[F3Y4j.W6ic]))return e[F3Y4j.r0Jc]=box2d[F3Y4j.L0tc][F3Y4j.L7Jc],e[F3Y4j.r07c]=o,e[F3Y4j.w1Ec]=r,e;if(F3Y4j.C9y(box2d[F3Y4j.U2tc](s,i),F3Y4j.u42c)){if(box2d[F3Y4j.U2tc](box2d[F3Y4j.J97c](s,this[F3Y4j.m6ic],box2d[F3Y4j.b17c][F3Y4j.c1Jc]),this[F3Y4j.x4Ec])<-box2d[F3Y4j.U3qc])continue}else if(box2d[F3Y4j.U2tc](box2d[F3Y4j.J97c](s,this[F3Y4j.o97c],box2d[F3Y4j.b17c][F3Y4j.c1Jc]),this[F3Y4j.x4Ec])<-box2d[F3Y4j.U3qc])continue;F3Y4j.U9y(r,e[F3Y4j.w1Ec])&&(e[F3Y4j.r0Jc]=box2d[F3Y4j.L0tc][F3Y4j.L7Jc],e[F3Y4j.r07c]=o,e[F3Y4j.w1Ec]=r)}return e},box2d[F3Y4j.O77c][F3Y4j.A9Qc]=new box2d[F3Y4j.b17c],box2d[F3Y4j.O77c][F3Y4j.W5Jc]=new box2d[F3Y4j.b17c],box2d[F3Y4j.D82c]=function(t,e,i,o,n){box2d[F3Y4j.D82c][F3Y4j.Z9qc][F3Y4j.T1Qc](t,e,i,o,n)},box2d[F3Y4j.D82c][F3Y4j.Z9qc]=new box2d[F3Y4j.O77c],goog[F3Y4j.a0ic](F3Y4j.a3Ec),goog[F3Y4j.D02c]("box2d.b2Shape"),box2d[F3Y4j.K1Ec]=function(){goog[F3Y4j.W3tc](this,box2d[F3Y4j.d9ic][F3Y4j.d2Qc],box2d[F3Y4j.g6Jc]),this[F3Y4j.j5tc]=new box2d[F3Y4j.b17c],this[F3Y4j.A4ic]=new box2d[F3Y4j.b17c],this[F3Y4j.u5tc]=new box2d[F3Y4j.b17c],this[F3Y4j.f4ic]=new box2d[F3Y4j.b17c]},goog[F3Y4j.b4ic](box2d[F3Y4j.K1Ec],box2d[F3Y4j.N57c]),box2d.b2EdgeShape.prototype.m_vertex1=F3Y4j.E3qc,box2d.b2EdgeShape.prototype.m_vertex2=F3Y4j.E3qc,box2d.b2EdgeShape.prototype.m_vertex0=F3Y4j.E3qc,box2d.b2EdgeShape.prototype.m_vertex3=F3Y4j.E3qc,box2d.b2EdgeShape.prototype.m_hasVertex0=F3Y4j.h57c,box2d.b2EdgeShape.prototype.m_hasVertex3=F3Y4j.h57c,box2d.b2EdgeShape.prototype.Set=function(t,e){return this[F3Y4j.j5tc][F3Y4j.j9Qc](t),this[F3Y4j.A4ic][F3Y4j.j9Qc](e),this[F3Y4j.b3tc]=F3Y4j.h57c,this[F3Y4j.j3tc]=F3Y4j.h57c,this},box2d.b2EdgeShape.prototype.SetAsEdge=box2d.b2EdgeShape.prototype.Set,box2d.b2EdgeShape.prototype.Clone=function(){return(new box2d[F3Y4j.K1Ec])[F3Y4j.j9Qc](this)},box2d.b2EdgeShape.prototype.Copy=function(t){return goog[F3Y4j.W3tc](this,F3Y4j.p4Ec,t),box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.d9y(t,box2d[F3Y4j.K1Ec])),this[F3Y4j.j5tc][F3Y4j.j9Qc](t[F3Y4j.j5tc]),this[F3Y4j.A4ic][F3Y4j.j9Qc](t[F3Y4j.A4ic]),this[F3Y4j.u5tc][F3Y4j.j9Qc](t[F3Y4j.u5tc]),this[F3Y4j.f4ic][F3Y4j.j9Qc](t[F3Y4j.f4ic]),this[F3Y4j.b3tc]=t[F3Y4j.b3tc],this[F3Y4j.j3tc]=t[F3Y4j.j3tc],this},box2d.b2EdgeShape.prototype.GetChildCount=function(){return F3Y4j.b42c},box2d.b2EdgeShape.prototype.TestPoint=function(t,e){return F3Y4j.h57c},box2d.b2EdgeShape.prototype.RayCast=function(t,e,i,o){var n=box2d[F3Y4j.s9ic](i,e[F3Y4j.C6tc],box2d.b2EdgeShape.prototype.RayCast.s_p1),s=box2d[F3Y4j.s9ic](i,e[F3Y4j.b0tc],box2d.b2EdgeShape.prototype.RayCast.s_p2),s=box2d[F3Y4j.J97c](s,n,box2d.b2EdgeShape.prototype.RayCast.s_d),r=this[F3Y4j.j5tc],c=this[F3Y4j.A4ic],a=box2d[F3Y4j.J97c](c,r,box2d.b2EdgeShape.prototype.RayCast.s_e),a=t[F3Y4j.U6ic][F3Y4j.V0tc](a[F3Y4j.I17c],-a[F3Y4j.W17c])[F3Y4j.X7Jc](),h=box2d[F3Y4j.U2tc](a,box2d[F3Y4j.J97c](r,n,box2d[F3Y4j.b17c][F3Y4j.c1Jc])),a=box2d[F3Y4j.U2tc](a,s);if(F3Y4j.X9y(a,F3Y4j.u42c))return F3Y4j.h57c;a=F3Y4j.o4y(h,a);if(F3Y4j.q4y(a,F3Y4j.u42c)||F3Y4j.z4y(e[F3Y4j.d6ic],a))return F3Y4j.h57c;e=box2d[F3Y4j.c07c](n,a,s,box2d.b2EdgeShape.prototype.RayCast.s_q),n=box2d[F3Y4j.J97c](c,r,box2d.b2EdgeShape.prototype.RayCast.s_r),s=box2d[F3Y4j.U2tc](n,n);if(F3Y4j.E4y(s,F3Y4j.u42c))return F3Y4j.h57c;c=F3Y4j.f4y(box2d[F3Y4j.U2tc](box2d[F3Y4j.J97c](e,r,box2d[F3Y4j.b17c][F3Y4j.c1Jc]),n),s);return F3Y4j.H4y(c,F3Y4j.u42c)||F3Y4j.I4y(F3Y4j.b42c,c)?F3Y4j.h57c:(t[F3Y4j.k7Qc]=a,box2d[F3Y4j.Z0tc](i[F3Y4j.G3ic],t[F3Y4j.U6ic],t[F3Y4j.U6ic]),F3Y4j.w4y(h,F3Y4j.u42c)&&t[F3Y4j.U6ic][F3Y4j.p9qc](),F3Y4j.H3qc)},box2d.b2EdgeShape.prototype.RayCast.s_p1=new box2d[F3Y4j.b17c],box2d.b2EdgeShape.prototype.RayCast.s_p2=new box2d[F3Y4j.b17c],box2d.b2EdgeShape.prototype.RayCast.s_d=new box2d[F3Y4j.b17c],box2d.b2EdgeShape.prototype.RayCast.s_e=new box2d[F3Y4j.b17c],box2d.b2EdgeShape.prototype.RayCast.s_q=new box2d[F3Y4j.b17c],box2d.b2EdgeShape.prototype.RayCast.s_r=new box2d[F3Y4j.b17c],box2d.b2EdgeShape.prototype.ComputeAABB=function(t,e,i){var o=box2d[F3Y4j.a72c](e,this[F3Y4j.j5tc],box2d.b2EdgeShape.prototype.ComputeAABB.s_v1),e=box2d[F3Y4j.a72c](e,this[F3Y4j.A4ic],box2d.b2EdgeShape.prototype.ComputeAABB.s_v2),o=(box2d[F3Y4j.w4Ec](o,e,t[F3Y4j.h6ic]),box2d[F3Y4j.v97c](o,e,t[F3Y4j.P7ic]),this[F3Y4j.W6ic]);t[F3Y4j.h6ic][F3Y4j.e92c](o,o),t[F3Y4j.P7ic][F3Y4j.c9Qc](o,o)},box2d.b2EdgeShape.prototype.ComputeAABB.s_v1=new box2d[F3Y4j.b17c],box2d.b2EdgeShape.prototype.ComputeAABB.s_v2=new box2d[F3Y4j.b17c],box2d.b2EdgeShape.prototype.ComputeMass=function(t,e){t[F3Y4j.x8qc]=F3Y4j.u42c,box2d[F3Y4j.a9ic](this[F3Y4j.j5tc],this[F3Y4j.A4ic],t[F3Y4j.m3Jc]),t[F3Y4j.t72c]=F3Y4j.u42c},box2d.b2EdgeShape.prototype.SetupDistanceProxy=function(t,e){t[F3Y4j.G6Jc]=new Array(F3Y4j.B42c),t[F3Y4j.G6Jc][F3Y4j.u42c]=this[F3Y4j.j5tc],t[F3Y4j.G6Jc][F3Y4j.b42c]=this[F3Y4j.A4ic],t[F3Y4j.a1qc]=F3Y4j.B42c,t[F3Y4j.W6ic]=this[F3Y4j.W6ic]},box2d.b2EdgeShape.prototype.ComputeSubmergedArea=function(t,e,i,o){return o[F3Y4j.a4qc](),F3Y4j.u42c},box2d.b2EdgeShape.prototype.Dump=function(){box2d[F3Y4j.q7ic]("    /*box2d.b2EdgeShape*/ var shape = new box2d.b2EdgeShape();\n"),box2d[F3Y4j.q7ic](F3Y4j.l9Qc,this[F3Y4j.W6ic]),box2d[F3Y4j.q7ic]("    shape.m_vertex0.SetXY(%.15f, %.15f);\n",this[F3Y4j.u5tc][F3Y4j.W17c],this[F3Y4j.u5tc][F3Y4j.I17c]),box2d[F3Y4j.q7ic]("    shape.m_vertex1.SetXY(%.15f, %.15f);\n",this[F3Y4j.j5tc][F3Y4j.W17c],this[F3Y4j.j5tc][F3Y4j.I17c]),box2d[F3Y4j.q7ic]("    shape.m_vertex2.SetXY(%.15f, %.15f);\n",this[F3Y4j.A4ic][F3Y4j.W17c],this[F3Y4j.A4ic][F3Y4j.I17c]),box2d[F3Y4j.q7ic]("    shape.m_vertex3.SetXY(%.15f, %.15f);\n",this[F3Y4j.f4ic][F3Y4j.W17c],this[F3Y4j.f4ic][F3Y4j.I17c]),box2d[F3Y4j.q7ic]("    shape.m_hasVertex0 = %s;\n",this[F3Y4j.b3tc]),box2d[F3Y4j.q7ic]("    shape.m_hasVertex3 = %s;\n",this[F3Y4j.j3tc])},goog[F3Y4j.a0ic](F3Y4j.B1qc),goog[F3Y4j.D02c]("box2d.b2Shape"),goog[F3Y4j.D02c]("box2d.b2EdgeShape"),box2d[F3Y4j.e1ic]=function(){goog[F3Y4j.W3tc](this,box2d[F3Y4j.d9ic][F3Y4j.p4Qc],box2d[F3Y4j.g6Jc]),this[F3Y4j.h27c]=new box2d[F3Y4j.b17c],this[F3Y4j.n5tc]=new box2d[F3Y4j.b17c]},goog[F3Y4j.b4ic](box2d[F3Y4j.e1ic],box2d[F3Y4j.N57c]),box2d.b2ChainShape.prototype.m_vertices=F3Y4j.E3qc,box2d.b2ChainShape.prototype.m_count=F3Y4j.u42c,box2d.b2ChainShape.prototype.m_prevVertex=F3Y4j.E3qc,box2d.b2ChainShape.prototype.m_nextVertex=F3Y4j.E3qc,box2d.b2ChainShape.prototype.m_hasPrevVertex=F3Y4j.h57c,box2d.b2ChainShape.prototype.m_hasNextVertex=F3Y4j.h57c,box2d.b2ChainShape.prototype.CreateLoop=function(t,e){if(e=e||t.length,box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.N4y(this[F3Y4j.G6Jc],F3Y4j.E3qc)&&F3Y4j.J4y(this[F3Y4j.a1qc],F3Y4j.u42c)),box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.S4y(e,F3Y4j.R42c)),box2d[F3Y4j.w8Qc])for(var i=F3Y4j.b42c;F3Y4j.Q4y(i,e);++i){var o=t[F3Y4j.G4y(i,F3Y4j.b42c)],n=t[i];box2d[F3Y4j.j77c](F3Y4j.a4y(box2d[F3Y4j.I1qc](o,n),box2d[F3Y4j.l9qc]*box2d[F3Y4j.l9qc]))}this[F3Y4j.a1qc]=e+F3Y4j.b42c,this[F3Y4j.G6Jc]=box2d[F3Y4j.b17c][F3Y4j.T7qc](this[F3Y4j.a1qc]);for(i=F3Y4j.u42c;F3Y4j.L4y(i,e);++i)this[F3Y4j.G6Jc][i][F3Y4j.j9Qc](t[i]);return this[F3Y4j.G6Jc][e][F3Y4j.j9Qc](this[F3Y4j.G6Jc][F3Y4j.u42c]),this[F3Y4j.h27c][F3Y4j.j9Qc](this[F3Y4j.G6Jc][F3Y4j.K4y(this[F3Y4j.a1qc],F3Y4j.B42c)]),this[F3Y4j.n5tc][F3Y4j.j9Qc](this[F3Y4j.G6Jc][F3Y4j.b42c]),this[F3Y4j.a1Ec]=F3Y4j.H3qc,this[F3Y4j.q1Jc]=F3Y4j.H3qc,this},box2d.b2ChainShape.prototype.CreateChain=function(t,e){if(e=e||t.length,box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.M4y(this[F3Y4j.G6Jc],F3Y4j.E3qc)&&F3Y4j.s3y(this[F3Y4j.a1qc],F3Y4j.u42c)),box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.x3y(e,F3Y4j.B42c)),box2d[F3Y4j.w8Qc])for(var i=F3Y4j.b42c;F3Y4j.O3y(i,e);++i){var o=t[F3Y4j.B3y(i,F3Y4j.b42c)],n=t[i];box2d[F3Y4j.j77c](F3Y4j.u3y(box2d[F3Y4j.I1qc](o,n),box2d[F3Y4j.l9qc]*box2d[F3Y4j.l9qc]))}this[F3Y4j.a1qc]=e,this[F3Y4j.G6Jc]=box2d[F3Y4j.b17c][F3Y4j.T7qc](e);for(i=F3Y4j.u42c;F3Y4j.H3y(i,e);++i)this[F3Y4j.G6Jc][i][F3Y4j.j9Qc](t[i]);return this[F3Y4j.a1Ec]=F3Y4j.h57c,this[F3Y4j.q1Jc]=F3Y4j.h57c,this[F3Y4j.h27c][F3Y4j.a4qc](),this[F3Y4j.n5tc][F3Y4j.a4qc](),this},box2d.b2ChainShape.prototype.SetPrevVertex=function(t){return this[F3Y4j.h27c][F3Y4j.j9Qc](t),this[F3Y4j.a1Ec]=F3Y4j.H3qc,this},box2d.b2ChainShape.prototype.SetNextVertex=function(t){return this[F3Y4j.n5tc][F3Y4j.j9Qc](t),this[F3Y4j.q1Jc]=F3Y4j.H3qc,this},box2d.b2ChainShape.prototype.Clone=function(){return(new box2d[F3Y4j.e1ic])[F3Y4j.j9Qc](this)},box2d.b2ChainShape.prototype.Copy=function(t){return goog[F3Y4j.W3tc](this,F3Y4j.p4Ec,t),box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.I3y(t,box2d[F3Y4j.e1ic])),this[F3Y4j.r9ic](t[F3Y4j.G6Jc],t[F3Y4j.a1qc]),this[F3Y4j.h27c][F3Y4j.j9Qc](t[F3Y4j.h27c]),this[F3Y4j.n5tc][F3Y4j.j9Qc](t[F3Y4j.n5tc]),this[F3Y4j.a1Ec]=t[F3Y4j.a1Ec],this[F3Y4j.q1Jc]=t[F3Y4j.q1Jc],this},box2d.b2ChainShape.prototype.GetChildCount=function(){return F3Y4j.w3y(this[F3Y4j.a1qc],F3Y4j.b42c)},box2d.b2ChainShape.prototype.GetChildEdge=function(t,e){box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.N3y(F3Y4j.u42c,e)&&F3Y4j.J3y(e,this[F3Y4j.a1qc]-F3Y4j.b42c)),t[F3Y4j.N37c]=box2d[F3Y4j.d9ic][F3Y4j.d2Qc],t[F3Y4j.W6ic]=this[F3Y4j.W6ic],t[F3Y4j.j5tc][F3Y4j.j9Qc](this[F3Y4j.G6Jc][e]),t[F3Y4j.A4ic][F3Y4j.j9Qc](this[F3Y4j.G6Jc][e+F3Y4j.b42c]),F3Y4j.S3y(e,F3Y4j.u42c)?(t[F3Y4j.u5tc][F3Y4j.j9Qc](this[F3Y4j.G6Jc][F3Y4j.Q3y(e,F3Y4j.b42c)]),t[F3Y4j.b3tc]=F3Y4j.H3qc):(t[F3Y4j.u5tc][F3Y4j.j9Qc](this[F3Y4j.h27c]),t[F3Y4j.b3tc]=this[F3Y4j.a1Ec]),F3Y4j.G3y(e,this[F3Y4j.a1qc]-F3Y4j.B42c)?(t[F3Y4j.f4ic][F3Y4j.j9Qc](this[F3Y4j.G6Jc][e+F3Y4j.B42c]),t[F3Y4j.j3tc]=F3Y4j.H3qc):(t[F3Y4j.f4ic][F3Y4j.j9Qc](this[F3Y4j.n5tc]),t[F3Y4j.j3tc]=this[F3Y4j.q1Jc])},box2d.b2ChainShape.prototype.TestPoint=function(t,e){return F3Y4j.h57c},box2d.b2ChainShape.prototype.RayCast=function(t,e,i,o){box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.a3y(o,this[F3Y4j.a1qc]));var n=box2d[F3Y4j.e1ic][F3Y4j.r3ic];return n[F3Y4j.j5tc][F3Y4j.j9Qc](this[F3Y4j.G6Jc][o]),n[F3Y4j.A4ic][F3Y4j.j9Qc](this[F3Y4j.G6Jc][F3Y4j.L3y(o+F3Y4j.b42c,this[F3Y4j.a1qc])]),n[F3Y4j.E1Jc](t,e,i,F3Y4j.u42c)},box2d[F3Y4j.e1ic][F3Y4j.r3ic]=new box2d[F3Y4j.K1Ec],box2d.b2ChainShape.prototype.ComputeAABB=function(t,e,i){box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.K3y(i,this[F3Y4j.a1qc]));var o=this[F3Y4j.G6Jc][i],i=this[F3Y4j.G6Jc][F3Y4j.M3y(i+F3Y4j.b42c,this[F3Y4j.a1qc])],o=box2d[F3Y4j.a72c](e,o,box2d.b2ChainShape.prototype.ComputeAABB.s_v1),e=box2d[F3Y4j.a72c](e,i,box2d.b2ChainShape.prototype.ComputeAABB.s_v2);box2d[F3Y4j.w4Ec](o,e,t[F3Y4j.h6ic]),box2d[F3Y4j.v97c](o,e,t[F3Y4j.P7ic])},box2d.b2ChainShape.prototype.ComputeAABB.s_v1=new box2d[F3Y4j.b17c],box2d.b2ChainShape.prototype.ComputeAABB.s_v2=new box2d[F3Y4j.b17c],box2d.b2ChainShape.prototype.ComputeMass=function(t,e){t[F3Y4j.x8qc]=F3Y4j.u42c,t[F3Y4j.m3Jc][F3Y4j.a4qc](),t[F3Y4j.t72c]=F3Y4j.u42c},box2d.b2ChainShape.prototype.SetupDistanceProxy=function(t,e){box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.s7y(F3Y4j.u42c,e)&&F3Y4j.x7y(e,this[F3Y4j.a1qc])),t[F3Y4j.s6ic][F3Y4j.u42c][F3Y4j.j9Qc](this[F3Y4j.G6Jc][e]),F3Y4j.O7y(e+F3Y4j.b42c,this[F3Y4j.a1qc])?t[F3Y4j.s6ic][F3Y4j.b42c][F3Y4j.j9Qc](this[F3Y4j.G6Jc][e+F3Y4j.b42c]):t[F3Y4j.s6ic][F3Y4j.b42c][F3Y4j.j9Qc](this[F3Y4j.G6Jc][F3Y4j.u42c]),t[F3Y4j.G6Jc]=t[F3Y4j.s6ic],t[F3Y4j.a1qc]=F3Y4j.B42c,t[F3Y4j.W6ic]=this[F3Y4j.W6ic]},box2d.b2ChainShape.prototype.ComputeSubmergedArea=function(t,e,i,o){return o[F3Y4j.a4qc](),F3Y4j.u42c},box2d.b2ChainShape.prototype.Dump=function(){box2d[F3Y4j.q7ic]("    /*box2d.b2ChainShape*/ var shape = new box2d.b2ChainShape();\n"),box2d[F3Y4j.q7ic](F3Y4j.f9Qc,box2d[F3Y4j.T6Ec]);for(var t=F3Y4j.u42c;F3Y4j.B7y(t,this[F3Y4j.a1qc]);++t)box2d[F3Y4j.q7ic](F3Y4j.k7qc,t,this[F3Y4j.G6Jc][t][F3Y4j.W17c],this[F3Y4j.G6Jc][t][F3Y4j.I17c]);box2d[F3Y4j.q7ic]("    shape.CreateChain(vs, %d);\n",this[F3Y4j.a1qc]),box2d[F3Y4j.q7ic]("    shape.m_prevVertex.SetXY(%.15f, %.15f);\n",this[F3Y4j.h27c][F3Y4j.W17c],this[F3Y4j.h27c][F3Y4j.I17c]),box2d[F3Y4j.q7ic]("    shape.m_nextVertex.SetXY(%.15f, %.15f);\n",this[F3Y4j.n5tc][F3Y4j.W17c],this[F3Y4j.n5tc][F3Y4j.I17c]),box2d[F3Y4j.q7ic]("    shape.m_hasPrevVertex = %s;\n",this[F3Y4j.a1Ec]?F3Y4j.H1Ec:F3Y4j.y07c),box2d[F3Y4j.q7ic]("    shape.m_hasNextVertex = %s;\n",this[F3Y4j.q1Jc]?F3Y4j.H1Ec:F3Y4j.y07c)},goog[F3Y4j.a0ic](F3Y4j.c8Jc),goog[F3Y4j.D02c]("box2d.b2Settings"),goog[F3Y4j.D02c]("box2d.b2Contact"),goog[F3Y4j.D02c]("box2d.b2CollideEdge"),goog[F3Y4j.D02c]("box2d.b2ChainShape"),goog[F3Y4j.D02c]("box2d.b2PolygonShape"),box2d[F3Y4j.V07c]=function(){goog[F3Y4j.W3tc](this)},goog[F3Y4j.b4ic](box2d[F3Y4j.V07c],box2d[F3Y4j.H57c]),box2d[F3Y4j.V07c][F3Y4j.R1ic]=function(t){return new box2d[F3Y4j.V07c]},box2d[F3Y4j.V07c][F3Y4j.V3Qc]=function(t,e){},box2d.b2ChainAndPolygonContact.prototype.Reset=function(t,e,i,o){goog[F3Y4j.W3tc](this,F3Y4j.Q4Qc,t,e,i,o),box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.u7y(t[F3Y4j.j6Jc](),box2d[F3Y4j.d9ic][F3Y4j.p4Qc])),box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.l7y(i[F3Y4j.j6Jc](),box2d[F3Y4j.d9ic][F3Y4j.M2tc]))},box2d.b2ChainAndPolygonContact.prototype.Evaluate=function(t,e,i){var o=this[F3Y4j.g72c][F3Y4j.p82c](),n=this[F3Y4j.x62c][F3Y4j.p82c](),o=(box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.m7y(o,box2d[F3Y4j.e1ic])),box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.Y7y(n,box2d[F3Y4j.i77c])),F3Y4j.j7y(o,box2d[F3Y4j.e1ic])?o:F3Y4j.E3qc),s=box2d.b2ChainAndPolygonContact.prototype.Evaluate.s_edge;o[F3Y4j.d5Qc](s,this[F3Y4j.p5qc]),box2d[F3Y4j.D82c](t,s,e,F3Y4j.A7y(n,box2d[F3Y4j.i77c])?n:F3Y4j.E3qc,i)},box2d.b2ChainAndPolygonContact.prototype.Evaluate.s_edge=new box2d[F3Y4j.K1Ec],goog[F3Y4j.a0ic](F3Y4j.o47c),goog[F3Y4j.D02c]("box2d.b2Collision"),box2d[F3Y4j.D2Jc]=function(t,e,i,o,n){for(var s=e[F3Y4j.a1qc],r=o[F3Y4j.a1qc],c=e[F3Y4j.x4Qc],a=e[F3Y4j.G6Jc],h=o[F3Y4j.G6Jc],u=box2d[F3Y4j.G42c](n,i,box2d[F3Y4j.D2Jc][F3Y4j.z8qc]),l=F3Y4j.u42c,d=-box2d[F3Y4j.p7Qc],p=F3Y4j.u42c;F3Y4j.r7y(p,s);++p){for(var F=box2d[F3Y4j.Z0tc](u[F3Y4j.G3ic],c[p],box2d[F3Y4j.D2Jc][F3Y4j.A9Qc]),j=box2d[F3Y4j.a72c](u,a[p],box2d[F3Y4j.D2Jc][F3Y4j.C97c]),Y=box2d[F3Y4j.p7Qc],f=F3Y4j.u42c;F3Y4j.i7y(f,r);++f){var b=box2d[F3Y4j.U2tc](F,box2d[F3Y4j.J97c](h[f],j,box2d[F3Y4j.b17c][F3Y4j.c1Jc]));F3Y4j.c7y(b,Y)&&(Y=b)}F3Y4j.e7y(Y,d)&&(d=Y,l=p)}return t[F3Y4j.u42c]=l,d},box2d[F3Y4j.D2Jc][F3Y4j.z8qc]=new box2d[F3Y4j.J5ic],box2d[F3Y4j.D2Jc][F3Y4j.A9Qc]=new box2d[F3Y4j.b17c],box2d[F3Y4j.D2Jc][F3Y4j.C97c]=new box2d[F3Y4j.b17c],box2d[F3Y4j.r3Ec]=function(t,e,i,o,n,s){for(var r=e[F3Y4j.a1qc],e=e[F3Y4j.x4Qc],c=n[F3Y4j.a1qc],a=n[F3Y4j.G6Jc],h=n[F3Y4j.x4Qc],u=(box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.g7y(F3Y4j.u42c,o)&&F3Y4j.k7y(o,r)),box2d[F3Y4j.M8Ec](s[F3Y4j.G3ic],box2d[F3Y4j.Z0tc](i[F3Y4j.G3ic],e[o],box2d[F3Y4j.b17c][F3Y4j.c1Jc]),box2d[F3Y4j.r3Ec][F3Y4j.C0Ec])),l=F3Y4j.u42c,d=box2d[F3Y4j.p7Qc],p=F3Y4j.u42c;F3Y4j.n7y(p,c);++p){var F=box2d[F3Y4j.U2tc](u,h[p]);F3Y4j.P7y(F,d)&&(d=F,l=p)}n=l,r=F3Y4j.V6y(n+F3Y4j.b42c,c),i=t[F3Y4j.u42c],box2d[F3Y4j.a72c](s,a[n],i[F3Y4j.H97c]),e=i[F3Y4j.a4Jc][F3Y4j.X2Jc],e[F3Y4j.G22c]=o,e[F3Y4j.s02c]=n,e[F3Y4j.B82c]=box2d[F3Y4j.h5Jc][F3Y4j.N2Jc],e[F3Y4j.C22c]=box2d[F3Y4j.h5Jc][F3Y4j.I5ic],i=t[F3Y4j.b42c],box2d[F3Y4j.a72c](s,a[r],i[F3Y4j.H97c]),n=i[F3Y4j.a4Jc][F3Y4j.X2Jc];n[F3Y4j.G22c]=o,n[F3Y4j.s02c]=r,n[F3Y4j.B82c]=box2d[F3Y4j.h5Jc][F3Y4j.N2Jc],n[F3Y4j.C22c]=box2d[F3Y4j.h5Jc][F3Y4j.I5ic]},box2d[F3Y4j.r3Ec][F3Y4j.C0Ec]=new box2d[F3Y4j.b17c],box2d[F3Y4j.X1Jc]=function(t,e,i,o,n){t[F3Y4j.F0tc]=F3Y4j.u42c;var s=e[F3Y4j.W6ic]+o[F3Y4j.W6ic],r=box2d[F3Y4j.X1Jc][F3Y4j.m8Jc],c=(r[F3Y4j.u42c]=F3Y4j.u42c,box2d[F3Y4j.D2Jc](r,e,i,o,n));if(!F3Y4j.h6y(c,s)){var a=box2d[F3Y4j.X1Jc][F3Y4j.I3Jc],h=(a[F3Y4j.u42c]=F3Y4j.u42c,box2d[F3Y4j.D2Jc](a,o,n,e,i));if(!F3Y4j.R6y(h,s)){var u,l=F3Y4j.u42c,d=F3Y4j.u42c,p=F3Y4j.H02c,F=F3Y4j.o8Ec,d=F3Y4j.b6y(h,p*c+F)?(f=o,j=e,y=n,u=i,l=a[F3Y4j.u42c],t[F3Y4j.r0Jc]=box2d[F3Y4j.u1tc][F3Y4j.c4ic],F3Y4j.b42c):(f=e,j=o,y=i,u=n,l=r[F3Y4j.u42c],t[F3Y4j.r0Jc]=box2d[F3Y4j.u1tc][F3Y4j.P4ic],F3Y4j.u42c),h=box2d[F3Y4j.X1Jc][F3Y4j.o62c],p=(box2d[F3Y4j.r3Ec](h,f,y,l,j,u),f[F3Y4j.a1qc]),c=f[F3Y4j.G6Jc],F=l,a=F3Y4j.p6y(l+F3Y4j.b42c,p),e=c[F],o=c[a],i=box2d[F3Y4j.J97c](o,e,box2d[F3Y4j.X1Jc][F3Y4j.p32c]),n=(i[F3Y4j.w2tc](),box2d[F3Y4j.r3Qc](i,box2d[F3Y4j.X1Jc][F3Y4j.q6qc])),r=box2d[F3Y4j.a9ic](e,o,box2d[F3Y4j.X1Jc][F3Y4j.t7Jc]),j=box2d[F3Y4j.Z0tc](y[F3Y4j.G3ic],i,box2d[F3Y4j.X1Jc][F3Y4j.A57c]),Y=box2d[F3Y4j.r3Qc](j,box2d[F3Y4j.X1Jc][F3Y4j.A1tc]),f=box2d[F3Y4j.a72c](y,e,box2d[F3Y4j.X1Jc][F3Y4j.q5tc]),l=box2d[F3Y4j.a72c](y,o,box2d[F3Y4j.X1Jc][F3Y4j.K5tc]),b=box2d[F3Y4j.U2tc](Y,f),p=-box2d[F3Y4j.U2tc](j,f)+s,c=box2d[F3Y4j.U2tc](j,l)+s,i=box2d[F3Y4j.X1Jc][F3Y4j.T5Jc],g=box2d[F3Y4j.X1Jc][F3Y4j.o1Jc],e=box2d[F3Y4j.i1Jc](j,box2d[F3Y4j.X1Jc][F3Y4j.w3Qc]),y=box2d[F3Y4j.g6tc](i,h,e,p,F);if(!F3Y4j.y6y(y,F3Y4j.B42c)&&(y=box2d[F3Y4j.g6tc](g,i,j,c,a),!F3Y4j.Z6y(y,F3Y4j.B42c))){t[F3Y4j.D3Qc][F3Y4j.j9Qc](n),t[F3Y4j.U9Ec][F3Y4j.j9Qc](r);for(var m=F3Y4j.u42c,x=F3Y4j.u42c;F3Y4j.D6y(x,box2d[F3Y4j.O5tc]);++x){var v=g[x],w=F3Y4j.F6y(box2d[F3Y4j.U2tc](Y,v[F3Y4j.H97c]),b);F3Y4j.t6y(w,s)&&(w=t[F3Y4j.Q72c][m],box2d[F3Y4j.s9ic](u,v[F3Y4j.H97c],w[F3Y4j.U9Ec]),w[F3Y4j.a4Jc][F3Y4j.j9Qc](v[F3Y4j.a4Jc]),d&&(v=w[F3Y4j.a4Jc][F3Y4j.X2Jc],w[F3Y4j.a4Jc][F3Y4j.X2Jc][F3Y4j.G22c]=v[F3Y4j.s02c],w[F3Y4j.a4Jc][F3Y4j.X2Jc][F3Y4j.s02c]=v[F3Y4j.G22c],w[F3Y4j.a4Jc][F3Y4j.X2Jc][F3Y4j.B82c]=v[F3Y4j.C22c],w[F3Y4j.a4Jc][F3Y4j.X2Jc][F3Y4j.C22c]=v[F3Y4j.B82c]),++m)}t[F3Y4j.F0tc]=m}}}},box2d[F3Y4j.X1Jc][F3Y4j.o62c]=box2d[F3Y4j.N7Jc][F3Y4j.T7qc](F3Y4j.B42c),box2d[F3Y4j.X1Jc][F3Y4j.T5Jc]=box2d[F3Y4j.N7Jc][F3Y4j.T7qc](F3Y4j.B42c),box2d[F3Y4j.X1Jc][F3Y4j.o1Jc]=box2d[F3Y4j.N7Jc][F3Y4j.T7qc](F3Y4j.B42c),box2d[F3Y4j.X1Jc][F3Y4j.m8Jc]=box2d[F3Y4j.m8qc](F3Y4j.b42c),box2d[F3Y4j.X1Jc][F3Y4j.I3Jc]=box2d[F3Y4j.m8qc](F3Y4j.b42c),box2d[F3Y4j.X1Jc][F3Y4j.p32c]=new box2d[F3Y4j.b17c],box2d[F3Y4j.X1Jc][F3Y4j.q6qc]=new box2d[F3Y4j.b17c],box2d[F3Y4j.X1Jc][F3Y4j.t7Jc]=new box2d[F3Y4j.b17c],box2d[F3Y4j.X1Jc][F3Y4j.A1tc]=new box2d[F3Y4j.b17c],box2d[F3Y4j.X1Jc][F3Y4j.A57c]=new box2d[F3Y4j.b17c],box2d[F3Y4j.X1Jc][F3Y4j.w3Qc]=new box2d[F3Y4j.b17c],box2d[F3Y4j.X1Jc][F3Y4j.q5tc]=new box2d[F3Y4j.b17c],box2d[F3Y4j.X1Jc][F3Y4j.K5tc]=new box2d[F3Y4j.b17c],goog[F3Y4j.a0ic](F3Y4j.n2Qc),goog[F3Y4j.D02c]("box2d.b2Settings"),goog[F3Y4j.D02c]("box2d.b2Contact"),goog[F3Y4j.D02c]("box2d.b2CollidePolygon"),box2d[F3Y4j.i4Ec]=function(){goog[F3Y4j.W3tc](this)},goog[F3Y4j.b4ic](box2d[F3Y4j.i4Ec],box2d[F3Y4j.H57c]),box2d[F3Y4j.i4Ec][F3Y4j.R1ic]=function(t){return new box2d[F3Y4j.i4Ec]},box2d[F3Y4j.i4Ec][F3Y4j.V3Qc]=function(t,e){},box2d.b2PolygonContact.prototype.Reset=function(t,e,i,o){goog[F3Y4j.W3tc](this,F3Y4j.Q4Qc,t,e,i,o)},box2d.b2PolygonContact.prototype.Evaluate=function(t,e,i){var o=this[F3Y4j.g72c][F3Y4j.p82c](),n=this[F3Y4j.x62c][F3Y4j.p82c]();box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.T6y(o,box2d[F3Y4j.i77c])),box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.v6y(n,box2d[F3Y4j.i77c])),box2d[F3Y4j.X1Jc](t,F3Y4j.W6y(o,box2d[F3Y4j.i77c])?o:F3Y4j.E3qc,e,F3Y4j.C6y(n,box2d[F3Y4j.i77c])?n:F3Y4j.E3qc,i)},goog[F3Y4j.a0ic](F3Y4j.M1Qc),goog[F3Y4j.D02c]("box2d.b2Collision"),box2d[F3Y4j.t42c]=function(t,e,i,o,n){t[F3Y4j.F0tc]=F3Y4j.u42c;i=box2d[F3Y4j.a72c](i,e[F3Y4j.j8Jc],box2d[F3Y4j.t42c][F3Y4j.q0ic]),n=box2d[F3Y4j.a72c](n,o[F3Y4j.j8Jc],box2d[F3Y4j.t42c][F3Y4j.y0ic]),i=box2d[F3Y4j.I1qc](i,n),n=e[F3Y4j.W6ic]+o[F3Y4j.W6ic];F3Y4j.U6y(i,n*n)||(t[F3Y4j.r0Jc]=box2d[F3Y4j.u1tc][F3Y4j.k3qc],t[F3Y4j.U9Ec][F3Y4j.j9Qc](e[F3Y4j.j8Jc]),t[F3Y4j.D3Qc][F3Y4j.a4qc](),t[F3Y4j.F0tc]=F3Y4j.b42c,t[F3Y4j.Q72c][F3Y4j.u42c][F3Y4j.U9Ec][F3Y4j.j9Qc](o[F3Y4j.j8Jc]),t[F3Y4j.Q72c][F3Y4j.u42c][F3Y4j.a4Jc][F3Y4j.K6Jc]=F3Y4j.u42c)},box2d[F3Y4j.t42c][F3Y4j.q0ic]=new box2d[F3Y4j.b17c],box2d[F3Y4j.t42c][F3Y4j.y0ic]=new box2d[F3Y4j.b17c],box2d[F3Y4j.e9ic]=function(t,e,i,o,n){t[F3Y4j.F0tc]=F3Y4j.u42c;for(var n=box2d[F3Y4j.a72c](n,o[F3Y4j.j8Jc],box2d[F3Y4j.e9ic][F3Y4j.U7Qc]),s=box2d[F3Y4j.s9ic](i,n,box2d[F3Y4j.e9ic][F3Y4j.x32c]),r=F3Y4j.u42c,c=-box2d[F3Y4j.p7Qc],a=e[F3Y4j.W6ic]+o[F3Y4j.W6ic],h=e[F3Y4j.a1qc],u=e[F3Y4j.G6Jc],l=e[F3Y4j.x4Qc],d=F3Y4j.u42c;F3Y4j.d6y(d,h);++d){var p=box2d[F3Y4j.U2tc](l[d],box2d[F3Y4j.J97c](s,u[d],box2d[F3Y4j.b17c][F3Y4j.c1Jc]));if(F3Y4j.X6y(p,a))return;F3Y4j.o0y(p,c)&&(c=p,r=d)}i=r,n=F3Y4j.q0y(i+F3Y4j.b42c,h),e=u[i],n=u[n];if(F3Y4j.z0y(c,box2d[F3Y4j.w7qc]))return t[F3Y4j.F0tc]=F3Y4j.b42c,t[F3Y4j.r0Jc]=box2d[F3Y4j.u1tc][F3Y4j.P4ic],t[F3Y4j.D3Qc][F3Y4j.j9Qc](l[r]),box2d[F3Y4j.a9ic](e,n,t[F3Y4j.U9Ec]),t[F3Y4j.Q72c][F3Y4j.u42c][F3Y4j.U9Ec][F3Y4j.j9Qc](o[F3Y4j.j8Jc]),void(t[F3Y4j.Q72c][F3Y4j.u42c][F3Y4j.a4Jc][F3Y4j.K6Jc]=F3Y4j.u42c);var F=box2d[F3Y4j.U2tc](box2d[F3Y4j.J97c](s,e,box2d[F3Y4j.b17c][F3Y4j.c1Jc]),box2d[F3Y4j.J97c](n,e,box2d[F3Y4j.b17c][F3Y4j.M1Jc])),j=box2d[F3Y4j.U2tc](box2d[F3Y4j.J97c](s,n,box2d[F3Y4j.b17c][F3Y4j.c1Jc]),box2d[F3Y4j.J97c](e,n,box2d[F3Y4j.b17c][F3Y4j.M1Jc]));F3Y4j.E0y(F,F3Y4j.u42c)?F3Y4j.f0y(box2d[F3Y4j.I1qc](s,e),a*a)||(t[F3Y4j.F0tc]=F3Y4j.b42c,t[F3Y4j.r0Jc]=box2d[F3Y4j.u1tc][F3Y4j.P4ic],box2d[F3Y4j.J97c](s,e,t[F3Y4j.D3Qc])[F3Y4j.X7Jc](),t[F3Y4j.U9Ec][F3Y4j.j9Qc](e),t[F3Y4j.Q72c][F3Y4j.u42c][F3Y4j.U9Ec][F3Y4j.j9Qc](o[F3Y4j.j8Jc]),t[F3Y4j.Q72c][F3Y4j.u42c][F3Y4j.a4Jc][F3Y4j.K6Jc]=F3Y4j.u42c):F3Y4j.H0y(j,F3Y4j.u42c)?F3Y4j.I0y(box2d[F3Y4j.I1qc](s,n),a*a)||(t[F3Y4j.F0tc]=F3Y4j.b42c,t[F3Y4j.r0Jc]=box2d[F3Y4j.u1tc][F3Y4j.P4ic],box2d[F3Y4j.J97c](s,n,t[F3Y4j.D3Qc])[F3Y4j.X7Jc](),t[F3Y4j.U9Ec][F3Y4j.j9Qc](n),t[F3Y4j.Q72c][F3Y4j.u42c][F3Y4j.U9Ec][F3Y4j.j9Qc](o[F3Y4j.j8Jc]),t[F3Y4j.Q72c][F3Y4j.u42c][F3Y4j.a4Jc][F3Y4j.K6Jc]=F3Y4j.u42c):(F=box2d[F3Y4j.a9ic](e,n,box2d[F3Y4j.e9ic][F3Y4j.E1ic]),c=box2d[F3Y4j.U2tc](box2d[F3Y4j.J97c](s,F,box2d[F3Y4j.b17c][F3Y4j.M1Jc]),l[i]),F3Y4j.w0y(c,a)||(t[F3Y4j.F0tc]=F3Y4j.b42c,t[F3Y4j.r0Jc]=box2d[F3Y4j.u1tc][F3Y4j.P4ic],t[F3Y4j.D3Qc][F3Y4j.j9Qc](l[i])[F3Y4j.X7Jc](),t[F3Y4j.U9Ec][F3Y4j.j9Qc](F),t[F3Y4j.Q72c][F3Y4j.u42c][F3Y4j.U9Ec][F3Y4j.j9Qc](o[F3Y4j.j8Jc]),t[F3Y4j.Q72c][F3Y4j.u42c][F3Y4j.a4Jc][F3Y4j.K6Jc]=F3Y4j.u42c))},box2d[F3Y4j.e9ic][F3Y4j.U7Qc]=new box2d[F3Y4j.b17c],box2d[F3Y4j.e9ic][F3Y4j.x32c]=new box2d[F3Y4j.b17c],box2d[F3Y4j.e9ic][F3Y4j.E1ic]=new box2d[F3Y4j.b17c],goog[F3Y4j.a0ic](F3Y4j.b2ic),goog[F3Y4j.D02c]("box2d.b2Settings"),goog[F3Y4j.D02c]("box2d.b2Contact"),goog[F3Y4j.D02c]("box2d.b2CollideCircle"),box2d[F3Y4j.W42c]=function(){goog[F3Y4j.W3tc](this)},goog[F3Y4j.b4ic](box2d[F3Y4j.W42c],box2d[F3Y4j.H57c]),box2d[F3Y4j.W42c][F3Y4j.R1ic]=function(t){return new box2d[F3Y4j.W42c]},box2d[F3Y4j.W42c][F3Y4j.V3Qc]=function(t,e){},box2d.b2CircleContact.prototype.Reset=function(t,e,i,o){goog[F3Y4j.W3tc](this,F3Y4j.Q4Qc,t,e,i,o)},box2d.b2CircleContact.prototype.Evaluate=function(t,e,i){var o=this[F3Y4j.g72c][F3Y4j.p82c](),n=this[F3Y4j.x62c][F3Y4j.p82c]();box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.N0y(o,box2d[F3Y4j.Q0ic])),box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.J0y(n,box2d[F3Y4j.Q0ic])),box2d[F3Y4j.t42c](t,F3Y4j.S0y(o,box2d[F3Y4j.Q0ic])?o:F3Y4j.E3qc,e,F3Y4j.Q0y(n,box2d[F3Y4j.Q0ic])?n:F3Y4j.E3qc,i)},goog[F3Y4j.a0ic](F3Y4j.U6Jc),goog[F3Y4j.D02c]("box2d.b2Settings"),goog[F3Y4j.D02c]("box2d.b2Contact"),goog[F3Y4j.D02c]("box2d.b2CollideEdge"),box2d[F3Y4j.a7tc]=function(){goog[F3Y4j.W3tc](this)},goog[F3Y4j.b4ic](box2d[F3Y4j.a7tc],box2d[F3Y4j.H57c]),box2d[F3Y4j.a7tc][F3Y4j.R1ic]=function(t){return new box2d[F3Y4j.a7tc]},box2d[F3Y4j.a7tc][F3Y4j.V3Qc]=function(t,e){},box2d.b2ChainAndCircleContact.prototype.Reset=function(t,e,i,o){goog[F3Y4j.W3tc](this,F3Y4j.Q4Qc,t,e,i,o),box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.W0y(t[F3Y4j.j6Jc](),box2d[F3Y4j.d9ic][F3Y4j.p4Qc])),box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.C0y(i[F3Y4j.j6Jc](),box2d[F3Y4j.d9ic][F3Y4j.x87c]))},box2d.b2ChainAndCircleContact.prototype.Evaluate=function(t,e,i){var o=this[F3Y4j.g72c][F3Y4j.p82c](),n=this[F3Y4j.x62c][F3Y4j.p82c](),o=(box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.U0y(o,box2d[F3Y4j.e1ic])),box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.d0y(n,box2d[F3Y4j.Q0ic])),F3Y4j.X0y(o,box2d[F3Y4j.e1ic])?o:F3Y4j.E3qc),s=box2d.b2ChainAndCircleContact.prototype.Evaluate.s_edge;o[F3Y4j.d5Qc](s,this[F3Y4j.p5qc]),box2d[F3Y4j.p3Ec](t,s,e,F3Y4j.o2y(n,box2d[F3Y4j.Q0ic])?n:F3Y4j.E3qc,i)},box2d.b2ChainAndCircleContact.prototype.Evaluate.s_edge=new box2d[F3Y4j.K1Ec],goog[F3Y4j.a0ic](F3Y4j.m0Qc),goog[F3Y4j.D02c]("box2d.b2Settings"),goog[F3Y4j.D02c]("box2d.b2Contact"),goog[F3Y4j.D02c]("box2d.b2CollideEdge"),box2d[F3Y4j.m72c]=function(){goog[F3Y4j.W3tc](this)},goog[F3Y4j.b4ic](box2d[F3Y4j.m72c],box2d[F3Y4j.H57c]),box2d[F3Y4j.m72c][F3Y4j.R1ic]=function(t){return new box2d[F3Y4j.m72c]},box2d[F3Y4j.m72c][F3Y4j.V3Qc]=function(t,e){},box2d.b2EdgeAndCircleContact.prototype.Reset=function(t,e,i,o){goog[F3Y4j.W3tc](this,F3Y4j.Q4Qc,t,e,i,o),box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.q2y(t[F3Y4j.j6Jc](),box2d[F3Y4j.d9ic][F3Y4j.d2Qc])),box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.z2y(i[F3Y4j.j6Jc](),box2d[F3Y4j.d9ic][F3Y4j.x87c]))},box2d.b2EdgeAndCircleContact.prototype.Evaluate=function(t,e,i){var o=this[F3Y4j.g72c][F3Y4j.p82c](),n=this[F3Y4j.x62c][F3Y4j.p82c]();box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.E2y(o,box2d[F3Y4j.K1Ec])),box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.f2y(n,box2d[F3Y4j.Q0ic])),box2d[F3Y4j.p3Ec](t,F3Y4j.y2y(o,box2d[F3Y4j.K1Ec])?o:F3Y4j.E3qc,e,F3Y4j.Z2y(n,box2d[F3Y4j.Q0ic])?n:F3Y4j.E3qc,i)},goog[F3Y4j.a0ic](F3Y4j.k5Jc),goog[F3Y4j.D02c]("box2d.b2Settings"),goog[F3Y4j.D02c]("box2d.b2Math"),goog[F3Y4j.D02c]("box2d.b2Collision"),goog[F3Y4j.D02c]("box2d.b2CircleContact"),goog[F3Y4j.D02c]("box2d.b2PolygonAndCircleContact"),goog[F3Y4j.D02c]("box2d.b2PolygonContact"),goog[F3Y4j.D02c]("box2d.b2EdgeAndCircleContact"),goog[F3Y4j.D02c]("box2d.b2EdgeAndPolygonContact"),goog[F3Y4j.D02c]("box2d.b2ChainAndCircleContact"),goog[F3Y4j.D02c]("box2d.b2ChainAndPolygonContact"),box2d[F3Y4j.V0Qc]=function(){this[F3Y4j.H7Jc]=new box2d[F3Y4j.b17c],this[F3Y4j.e7Jc]=new box2d[F3Y4j.b17c]},box2d.b2VelocityConstraintPoint.prototype.rA=F3Y4j.E3qc,box2d.b2VelocityConstraintPoint.prototype.rB=F3Y4j.E3qc,box2d.b2VelocityConstraintPoint.prototype.normalImpulse=F3Y4j.u42c,box2d.b2VelocityConstraintPoint.prototype.tangentImpulse=F3Y4j.u42c,box2d.b2VelocityConstraintPoint.prototype.normalMass=F3Y4j.u42c,box2d.b2VelocityConstraintPoint.prototype.tangentMass=F3Y4j.u42c,box2d.b2VelocityConstraintPoint.prototype.velocityBias=F3Y4j.u42c,box2d[F3Y4j.V0Qc][F3Y4j.T7qc]=function(t){return box2d[F3Y4j.T0Jc](t,function(t){return new box2d[F3Y4j.V0Qc]})},box2d[F3Y4j.n7Qc]=function(){this[F3Y4j.Q72c]=box2d[F3Y4j.V0Qc][F3Y4j.T7qc](box2d[F3Y4j.O5tc]),this[F3Y4j.U6ic]=new box2d[F3Y4j.b17c],this[F3Y4j.l62c]=new box2d[F3Y4j.b17c],this[F3Y4j.c7qc]=new box2d[F3Y4j.r5Ec],this[F3Y4j.f62c]=new box2d[F3Y4j.r5Ec]},box2d.b2ContactVelocityConstraint.prototype.points=F3Y4j.E3qc,box2d.b2ContactVelocityConstraint.prototype.normal=F3Y4j.E3qc,box2d.b2ContactVelocityConstraint.prototype.tangent=F3Y4j.E3qc,box2d.b2ContactVelocityConstraint.prototype.normalMass=F3Y4j.E3qc,box2d.b2ContactVelocityConstraint.prototype.K=F3Y4j.E3qc,box2d.b2ContactVelocityConstraint.prototype.indexA=F3Y4j.u42c,box2d.b2ContactVelocityConstraint.prototype.indexB=F3Y4j.u42c,box2d.b2ContactVelocityConstraint.prototype.invMassA=F3Y4j.u42c,box2d.b2ContactVelocityConstraint.prototype.invMassB=F3Y4j.u42c,box2d.b2ContactVelocityConstraint.prototype.invIA=F3Y4j.u42c,box2d.b2ContactVelocityConstraint.prototype.invIB=F3Y4j.u42c,box2d.b2ContactVelocityConstraint.prototype.friction=F3Y4j.u42c,box2d.b2ContactVelocityConstraint.prototype.restitution=F3Y4j.u42c,box2d.b2ContactVelocityConstraint.prototype.tangentSpeed=F3Y4j.u42c,box2d.b2ContactVelocityConstraint.prototype.pointCount=F3Y4j.u42c,box2d.b2ContactVelocityConstraint.prototype.contactIndex=F3Y4j.u42c,box2d[F3Y4j.n7Qc][F3Y4j.T7qc]=function(t){return box2d[F3Y4j.T0Jc](t,function(t){return new box2d[F3Y4j.n7Qc]})},box2d[F3Y4j.j8tc]=function(){this[F3Y4j.l4Jc]=box2d[F3Y4j.b17c][F3Y4j.T7qc](box2d[F3Y4j.O5tc]),this[F3Y4j.D3Qc]=new box2d[F3Y4j.b17c],this[F3Y4j.U9Ec]=new box2d[F3Y4j.b17c],this[F3Y4j.C67c]=new box2d[F3Y4j.b17c],this[F3Y4j.h07c]=new box2d[F3Y4j.b17c]},box2d.b2ContactPositionConstraint.prototype.localPoints=F3Y4j.E3qc,box2d.b2ContactPositionConstraint.prototype.localNormal=F3Y4j.E3qc,box2d.b2ContactPositionConstraint.prototype.localPoint=F3Y4j.E3qc,box2d.b2ContactPositionConstraint.prototype.indexA=F3Y4j.u42c,box2d.b2ContactPositionConstraint.prototype.indexB=F3Y4j.u42c,box2d.b2ContactPositionConstraint.prototype.invMassA=F3Y4j.u42c,box2d.b2ContactPositionConstraint.prototype.invMassB=F3Y4j.u42c,box2d.b2ContactPositionConstraint.prototype.localCenterA=F3Y4j.E3qc,box2d.b2ContactPositionConstraint.prototype.localCenterB=F3Y4j.E3qc,box2d.b2ContactPositionConstraint.prototype.invIA=F3Y4j.u42c,box2d.b2ContactPositionConstraint.prototype.invIB=F3Y4j.u42c,box2d.b2ContactPositionConstraint.prototype.type=box2d[F3Y4j.u1tc][F3Y4j.O0tc],box2d.b2ContactPositionConstraint.prototype.radiusA=F3Y4j.u42c,box2d.b2ContactPositionConstraint.prototype.radiusB=F3Y4j.u42c,box2d.b2ContactPositionConstraint.prototype.pointCount=F3Y4j.u42c,box2d[F3Y4j.j8tc][F3Y4j.T7qc]=function(t){return box2d[F3Y4j.T0Jc](t,function(t){return new box2d[F3Y4j.j8tc]})},box2d[F3Y4j.O0Ec]=function(){this[F3Y4j.r7Ec]=new box2d[F3Y4j.d3Ec]},box2d.b2ContactSolverDef.prototype.step=F3Y4j.E3qc,box2d.b2ContactSolverDef.prototype.contacts=F3Y4j.E3qc,box2d.b2ContactSolverDef.prototype.count=F3Y4j.u42c,box2d.b2ContactSolverDef.prototype.positions=F3Y4j.E3qc,box2d.b2ContactSolverDef.prototype.velocities=F3Y4j.E3qc,box2d.b2ContactSolverDef.prototype.allocator=F3Y4j.E3qc,box2d[F3Y4j.O6Ec]=function(){this[F3Y4j.e5Qc]=new box2d[F3Y4j.d3Ec],this[F3Y4j.g8Qc]=box2d[F3Y4j.j8tc][F3Y4j.T7qc](F3Y4j.k8qc),this[F3Y4j.k9Jc]=box2d[F3Y4j.n7Qc][F3Y4j.T7qc](F3Y4j.k8qc)},box2d.b2ContactSolver.prototype.m_step=F3Y4j.E3qc,box2d.b2ContactSolver.prototype.m_positions=F3Y4j.E3qc,box2d.b2ContactSolver.prototype.m_velocities=F3Y4j.E3qc,box2d.b2ContactSolver.prototype.m_allocator=F3Y4j.E3qc,box2d.b2ContactSolver.prototype.m_positionConstraints=F3Y4j.E3qc,box2d.b2ContactSolver.prototype.m_velocityConstraints=F3Y4j.E3qc,box2d.b2ContactSolver.prototype.m_contacts=F3Y4j.E3qc,box2d.b2ContactSolver.prototype.m_count=F3Y4j.u42c,box2d.b2ContactSolver.prototype.Initialize=function(t){var e,i,o,n,s,r,c,a,h,u,l,d,p,F,j;if(this[F3Y4j.e5Qc][F3Y4j.j9Qc](t[F3Y4j.r7Ec]),this[F3Y4j.f3qc]=t[F3Y4j.c0qc],this[F3Y4j.a1qc]=t[F3Y4j.B7qc],F3Y4j.D2y(this[F3Y4j.g8Qc].length,this[F3Y4j.a1qc])){var Y=box2d[F3Y4j.h82c](F3Y4j.F2y(this[F3Y4j.g8Qc].length,2),this[F3Y4j.a1qc]);for(box2d[F3Y4j.l2Jc]&&window[F3Y4j.p1Jc][F3Y4j.v0Jc]("box2d.b2ContactSolver.m_positionConstraints: "+Y);F3Y4j.t2y(this[F3Y4j.g8Qc].length,Y);)this[F3Y4j.g8Qc][this[F3Y4j.g8Qc].length]=new box2d[F3Y4j.j8tc]}if(F3Y4j.T2y(this[F3Y4j.k9Jc].length,this[F3Y4j.a1qc])){Y=box2d[F3Y4j.h82c](F3Y4j.c2y(this[F3Y4j.k9Jc].length,2),this[F3Y4j.a1qc]);for(box2d[F3Y4j.l2Jc]&&window[F3Y4j.p1Jc][F3Y4j.v0Jc]("box2d.b2ContactSolver.m_velocityConstraints: "+Y);F3Y4j.e2y(this[F3Y4j.k9Jc].length,Y);)this[F3Y4j.k9Jc][this[F3Y4j.k9Jc].length]=new box2d[F3Y4j.n7Qc]}for(this[F3Y4j.Q8Jc]=t[F3Y4j.r7ic],this[F3Y4j.c0Qc]=t[F3Y4j.W8tc],this[F3Y4j.P6Qc]=t[F3Y4j.J9Qc],e=0,i=this[F3Y4j.a1qc];F3Y4j.g2y(e,i);++e)for(a=(s=this[F3Y4j.P6Qc][e])[F3Y4j.g72c],h=s[F3Y4j.x62c],r=a[F3Y4j.p82c](),c=h[F3Y4j.p82c](),r=r[F3Y4j.W6ic],c=c[F3Y4j.W6ic],a=a[F3Y4j.z4tc](),h=h[F3Y4j.z4tc](),l=(u=s[F3Y4j.W3Ec]())[F3Y4j.F0tc],box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.k2y(l,0)),(d=this[F3Y4j.k9Jc][e])[F3Y4j.z3tc]=s[F3Y4j.m0qc],d[F3Y4j.L1Jc]=s[F3Y4j.F2Ec],d[F3Y4j.V2Jc]=s[F3Y4j.h5Ec],d[F3Y4j.G22c]=a[F3Y4j.h7Jc],d[F3Y4j.s02c]=h[F3Y4j.h7Jc],d[F3Y4j.S07c]=a[F3Y4j.m4tc],d[F3Y4j.g87c]=h[F3Y4j.m4tc],d[F3Y4j.F47c]=a[F3Y4j.e1Ec],d[F3Y4j.u47c]=h[F3Y4j.e1Ec],d[F3Y4j.D7Qc]=e,d[F3Y4j.F0tc]=l,d[F3Y4j.f62c][F3Y4j.a4qc](),d[F3Y4j.c7qc][F3Y4j.a4qc](),(p=this[F3Y4j.g8Qc][e])[F3Y4j.G22c]=a[F3Y4j.h7Jc],p[F3Y4j.s02c]=h[F3Y4j.h7Jc],p[F3Y4j.S07c]=a[F3Y4j.m4tc],p[F3Y4j.g87c]=h[F3Y4j.m4tc],p[F3Y4j.C67c][F3Y4j.j9Qc](a[F3Y4j.G4qc][F3Y4j.K92c]),p[F3Y4j.h07c][F3Y4j.j9Qc](h[F3Y4j.G4qc][F3Y4j.K92c]),p[F3Y4j.F47c]=a[F3Y4j.e1Ec],p[F3Y4j.u47c]=h[F3Y4j.e1Ec],p[F3Y4j.D3Qc][F3Y4j.j9Qc](u[F3Y4j.D3Qc]),p[F3Y4j.U9Ec][F3Y4j.j9Qc](u[F3Y4j.U9Ec]),p[F3Y4j.F0tc]=l,p[F3Y4j.B37c]=r,p[F3Y4j.J37c]=c,p[F3Y4j.r0Jc]=u[F3Y4j.r0Jc],o=0,n=l;F3Y4j.n2y(o,n);++o)F=u[F3Y4j.Q72c][o],j=d[F3Y4j.Q72c][o],this[F3Y4j.e5Qc][F3Y4j.D47c]?(j[F3Y4j.E62c]=F3Y4j.P2y(this[F3Y4j.e5Qc][F3Y4j.W22c],F[F3Y4j.E62c]),j[F3Y4j.A2Qc]=F3Y4j.V8y(this[F3Y4j.e5Qc][F3Y4j.W22c],F[F3Y4j.A2Qc])):(j[F3Y4j.E62c]=0,j[F3Y4j.A2Qc]=0),j[F3Y4j.H7Jc][F3Y4j.a4qc](),j[F3Y4j.e7Jc][F3Y4j.a4qc](),j[F3Y4j.c7qc]=0,j[F3Y4j.N9tc]=0,j[F3Y4j.T2Jc]=0,p[F3Y4j.l4Jc][o][F3Y4j.j9Qc](F[F3Y4j.U9Ec]);return this},box2d.b2ContactSolver.prototype.InitializeVelocityConstraints=function(){for(var t,e,i,o,n,s,r,c,a,h,u,l,d,p,F,j,Y,f,b,g,y,m,x,v,w=box2d.b2ContactSolver.prototype.InitializeVelocityConstraints.s_xfA,_=box2d.b2ContactSolver.prototype.InitializeVelocityConstraints.s_xfB,E=box2d.b2ContactSolver.prototype.InitializeVelocityConstraints.s_worldManifold,S=F3Y4j.F2qc,C=F3Y4j.u42c,P=this[F3Y4j.a1qc];F3Y4j.h8y(C,P);++C){for(i=this[F3Y4j.k9Jc][C],y=(b=this[F3Y4j.g8Qc][C])[F3Y4j.B37c],m=b[F3Y4j.J37c],g=this[F3Y4j.P6Qc][i[F3Y4j.D7Qc]][F3Y4j.W3Ec](),Y=i[F3Y4j.G22c],x=i[F3Y4j.s02c],o=i[F3Y4j.S07c],n=i[F3Y4j.g87c],s=i[F3Y4j.F47c],r=i[F3Y4j.u47c],f=b[F3Y4j.C67c],b=b[F3Y4j.h07c],c=this[F3Y4j.Q8Jc][Y][F3Y4j.K22c],v=this[F3Y4j.Q8Jc][Y][F3Y4j.O22c],a=this[F3Y4j.c0Qc][Y][F3Y4j.H97c],h=this[F3Y4j.c0Qc][Y][F3Y4j.X17c],u=this[F3Y4j.Q8Jc][x][F3Y4j.K22c],Y=this[F3Y4j.Q8Jc][x][F3Y4j.O22c],l=this[F3Y4j.c0Qc][x][F3Y4j.H97c],d=this[F3Y4j.c0Qc][x][F3Y4j.X17c],box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.R8y(g[F3Y4j.F0tc],F3Y4j.u42c)),w[F3Y4j.G3ic][F3Y4j.b1ic](v),_[F3Y4j.G3ic][F3Y4j.b1ic](Y),box2d[F3Y4j.J97c](c,box2d[F3Y4j.Z0tc](w[F3Y4j.G3ic],f,box2d[F3Y4j.b17c][F3Y4j.c1Jc]),w[F3Y4j.Z3ic]),box2d[F3Y4j.J97c](u,box2d[F3Y4j.Z0tc](_[F3Y4j.G3ic],b,box2d[F3Y4j.b17c][F3Y4j.c1Jc]),_[F3Y4j.Z3ic]),E[F3Y4j.N47c](g,w,y,_,m),i[F3Y4j.U6ic][F3Y4j.j9Qc](E[F3Y4j.U6ic]),box2d[F3Y4j.r3Qc](i[F3Y4j.U6ic],i[F3Y4j.l62c]),x=i[F3Y4j.F0tc],t=F3Y4j.u42c,e=x;F3Y4j.b8y(t,e);++t)p=i[F3Y4j.Q72c][t],box2d[F3Y4j.J97c](E[F3Y4j.Q72c][t],c,p[F3Y4j.H7Jc]),box2d[F3Y4j.J97c](E[F3Y4j.Q72c][t],u,p[F3Y4j.e7Jc]),F=box2d[F3Y4j.O62c](p[F3Y4j.H7Jc],i[F3Y4j.U6ic]),j=box2d[F3Y4j.O62c](p[F3Y4j.e7Jc],i[F3Y4j.U6ic]),F=o+n+F3Y4j.p8y(s,F,F)+F3Y4j.m8y(r,j,j),p[F3Y4j.c7qc]=F3Y4j.w8y(F,F3Y4j.u42c)?F3Y4j.N8y(F3Y4j.b42c,F):F3Y4j.u42c,j=i[F3Y4j.l62c],F=box2d[F3Y4j.O62c](p[F3Y4j.H7Jc],j),j=box2d[F3Y4j.O62c](p[F3Y4j.e7Jc],j),F=o+n+F3Y4j.J8y(s,F,F)+F3Y4j.T8y(r,j,j),p[F3Y4j.N9tc]=F3Y4j.c8y(F,F3Y4j.u42c)?F3Y4j.e8y(F3Y4j.b42c,F):F3Y4j.u42c,p[F3Y4j.T2Jc]=F3Y4j.u42c,(j=box2d[F3Y4j.U2tc](i[F3Y4j.U6ic],box2d[F3Y4j.J97c](box2d[F3Y4j.M57c](l,d,p[F3Y4j.e7Jc],box2d[F3Y4j.b17c][F3Y4j.c1Jc]),box2d[F3Y4j.M57c](a,h,p[F3Y4j.H7Jc],box2d[F3Y4j.b17c][F3Y4j.M1Jc]),box2d[F3Y4j.b17c][F3Y4j.c1Jc])))<-box2d[F3Y4j.T37c]&&(p[F3Y4j.T2Jc]+=-i[F3Y4j.L1Jc]*j);F3Y4j.g8y(i[F3Y4j.F0tc],F3Y4j.B42c)&&(v=i[F3Y4j.Q72c][F3Y4j.u42c],Y=i[F3Y4j.Q72c][F3Y4j.b42c],f=box2d[F3Y4j.O62c](v[F3Y4j.H7Jc],i[F3Y4j.U6ic]),b=box2d[F3Y4j.O62c](v[F3Y4j.e7Jc],i[F3Y4j.U6ic]),g=box2d[F3Y4j.O62c](Y[F3Y4j.H7Jc],i[F3Y4j.U6ic]),y=box2d[F3Y4j.O62c](Y[F3Y4j.e7Jc],i[F3Y4j.U6ic]),m=o+n+F3Y4j.k8y(s,f,f)+F3Y4j.M8y(r,b,b),x=o+n+F3Y4j.o5l(s,g,g)+F3Y4j.h5l(r,y,y),v=o+n+F3Y4j.B5l(s,f,g)+F3Y4j.f5l(r,b,y),F3Y4j.y5l(m*m,S*(m*x-v*v))?(i[F3Y4j.f62c][F3Y4j.C7Qc][F3Y4j.V0tc](m,v),i[F3Y4j.f62c][F3Y4j.o6Qc][F3Y4j.V0tc](v,x),i[F3Y4j.f62c][F3Y4j.P7Ec](i[F3Y4j.c7qc])):i[F3Y4j.F0tc]=F3Y4j.b42c)}},box2d.b2ContactSolver.prototype.InitializeVelocityConstraints.s_xfA=new box2d[F3Y4j.J5ic],box2d.b2ContactSolver.prototype.InitializeVelocityConstraints.s_xfB=new box2d[F3Y4j.J5ic],box2d.b2ContactSolver.prototype.InitializeVelocityConstraints.s_worldManifold=new box2d[F3Y4j.b72c],box2d.b2ContactSolver.prototype.WarmStart=function(){for(var t,e,i,o,n,s,r,c,a,h,u,l,d,p,F,j,Y,f=box2d.b2ContactSolver.prototype.WarmStart.s_P,b=F3Y4j.u42c,g=this[F3Y4j.a1qc];F3Y4j.Z5l(b,g);++b){for(o=(i=this[F3Y4j.k9Jc][b])[F3Y4j.G22c],n=i[F3Y4j.s02c],s=i[F3Y4j.S07c],r=i[F3Y4j.F47c],c=i[F3Y4j.g87c],a=i[F3Y4j.u47c],h=i[F3Y4j.F0tc],u=this[F3Y4j.c0Qc][o][F3Y4j.H97c],l=this[F3Y4j.c0Qc][o][F3Y4j.X17c],d=this[F3Y4j.c0Qc][n][F3Y4j.H97c],p=this[F3Y4j.c0Qc][n][F3Y4j.X17c],F=i[F3Y4j.U6ic],j=i[F3Y4j.l62c],t=F3Y4j.u42c,e=h;F3Y4j.D5l(t,e);++t)Y=i[F3Y4j.Q72c][t],box2d[F3Y4j.O2ic](box2d[F3Y4j.H07c](Y[F3Y4j.E62c],F,box2d[F3Y4j.b17c][F3Y4j.c1Jc]),box2d[F3Y4j.H07c](Y[F3Y4j.A2Qc],j,box2d[F3Y4j.b17c][F3Y4j.M1Jc]),f),l-=F3Y4j.F5l(r,box2d[F3Y4j.O62c](Y[F3Y4j.H7Jc],f)),u[F3Y4j.Y7Jc](s,f),p+=F3Y4j.t5l(a,box2d[F3Y4j.O62c](Y[F3Y4j.e7Jc],f)),d[F3Y4j.C1qc](c,f);this[F3Y4j.c0Qc][o][F3Y4j.X17c]=l,this[F3Y4j.c0Qc][n][F3Y4j.X17c]=p}},box2d.b2ContactSolver.prototype.WarmStart.s_P=new box2d[F3Y4j.b17c],box2d.b2ContactSolver.prototype.SolveVelocityConstraints=function(){for(var t,e,i,o,n,s,r,c,a,h,u,l,d,p,F,j,Y,f,b,g,y,m,x,v,w,_=box2d.b2ContactSolver.prototype.SolveVelocityConstraints.s_dv,E=box2d.b2ContactSolver.prototype.SolveVelocityConstraints.s_dv1,M=box2d.b2ContactSolver.prototype.SolveVelocityConstraints.s_dv2,S=box2d.b2ContactSolver.prototype.SolveVelocityConstraints.s_P,C=box2d.b2ContactSolver.prototype.SolveVelocityConstraints.s_a,P=box2d.b2ContactSolver.prototype.SolveVelocityConstraints.s_b,A=box2d.b2ContactSolver.prototype.SolveVelocityConstraints.s_x,T=box2d.b2ContactSolver.prototype.SolveVelocityConstraints.s_d,I=box2d.b2ContactSolver.prototype.SolveVelocityConstraints.s_P1,q=box2d.b2ContactSolver.prototype.SolveVelocityConstraints.s_P2,B=box2d.b2ContactSolver.prototype.SolveVelocityConstraints.s_P1P2,J=F3Y4j.u42c,R=this[F3Y4j.a1qc];F3Y4j.T5l(J,R);++J){for(o=(i=this[F3Y4j.k9Jc][J])[F3Y4j.G22c],n=i[F3Y4j.s02c],s=i[F3Y4j.S07c],r=i[F3Y4j.F47c],c=i[F3Y4j.g87c],a=i[F3Y4j.u47c],f=i[F3Y4j.F0tc],h=this[F3Y4j.c0Qc][o][F3Y4j.H97c],u=this[F3Y4j.c0Qc][o][F3Y4j.X17c],l=this[F3Y4j.c0Qc][n][F3Y4j.H97c],d=this[F3Y4j.c0Qc][n][F3Y4j.X17c],p=i[F3Y4j.U6ic],F=i[F3Y4j.l62c],j=i[F3Y4j.z3tc],box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.v5l(f,F3Y4j.b42c)||F3Y4j.W5l(f,F3Y4j.B42c)),t=F3Y4j.u42c,e=f;F3Y4j.C5l(t,e);++t)Y=i[F3Y4j.Q72c][t],box2d[F3Y4j.J97c](box2d[F3Y4j.M57c](l,d,Y[F3Y4j.e7Jc],box2d[F3Y4j.b17c][F3Y4j.c1Jc]),box2d[F3Y4j.M57c](h,u,Y[F3Y4j.H7Jc],box2d[F3Y4j.b17c][F3Y4j.M1Jc]),_),g=F3Y4j.U5l(box2d[F3Y4j.U2tc](_,F),i[F3Y4j.V2Jc]),b=Y[F3Y4j.N9tc]*-g,g=F3Y4j.d5l(j,Y[F3Y4j.E62c]),y=box2d[F3Y4j.Q87c](Y[F3Y4j.A2Qc]+b,-g,g),b=F3Y4j.X5l(y,Y[F3Y4j.A2Qc]),Y[F3Y4j.A2Qc]=y,box2d[F3Y4j.H07c](b,F,S),h[F3Y4j.Y7Jc](s,S),u-=F3Y4j.o1l(r,box2d[F3Y4j.O62c](Y[F3Y4j.H7Jc],S)),l[F3Y4j.C1qc](c,S),d+=F3Y4j.q1l(a,box2d[F3Y4j.O62c](Y[F3Y4j.e7Jc],S));if(F3Y4j.z1l(i[F3Y4j.F0tc],F3Y4j.b42c))Y=i[F3Y4j.Q72c][F3Y4j.u42c],box2d[F3Y4j.J97c](box2d[F3Y4j.M57c](l,d,Y[F3Y4j.e7Jc],box2d[F3Y4j.b17c][F3Y4j.c1Jc]),box2d[F3Y4j.M57c](h,u,Y[F3Y4j.H7Jc],box2d[F3Y4j.b17c][F3Y4j.M1Jc]),_),f=box2d[F3Y4j.U2tc](_,p),b=-Y[F3Y4j.c7qc]*F3Y4j.E1l(f,Y[F3Y4j.T2Jc]),y=box2d[F3Y4j.h82c](Y[F3Y4j.E62c]+b,F3Y4j.u42c),b=F3Y4j.f1l(y,Y[F3Y4j.E62c]),Y[F3Y4j.E62c]=y,box2d[F3Y4j.H07c](b,p,S),h[F3Y4j.Y7Jc](s,S),u-=F3Y4j.H1l(r,box2d[F3Y4j.O62c](Y[F3Y4j.H7Jc],S)),l[F3Y4j.C1qc](c,S),d+=F3Y4j.I1l(a,box2d[F3Y4j.O62c](Y[F3Y4j.e7Jc],S));else for(m=i[F3Y4j.Q72c][F3Y4j.u42c],x=i[F3Y4j.Q72c][F3Y4j.b42c],C[F3Y4j.V0tc](m[F3Y4j.E62c],x[F3Y4j.E62c]),box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.w1l(C[F3Y4j.W17c],F3Y4j.u42c)&&F3Y4j.N1l(C[F3Y4j.I17c],F3Y4j.u42c)),box2d[F3Y4j.J97c](box2d[F3Y4j.M57c](l,d,m[F3Y4j.e7Jc],box2d[F3Y4j.b17c][F3Y4j.c1Jc]),box2d[F3Y4j.M57c](h,u,m[F3Y4j.H7Jc],box2d[F3Y4j.b17c][F3Y4j.M1Jc]),E),box2d[F3Y4j.J97c](box2d[F3Y4j.M57c](l,d,x[F3Y4j.e7Jc],box2d[F3Y4j.b17c][F3Y4j.c1Jc]),box2d[F3Y4j.M57c](h,u,x[F3Y4j.H7Jc],box2d[F3Y4j.b17c][F3Y4j.M1Jc]),M),v=box2d[F3Y4j.U2tc](E,p),w=box2d[F3Y4j.U2tc](M,p),P[F3Y4j.W17c]=F3Y4j.J1l(v,m[F3Y4j.T2Jc]),P[F3Y4j.I17c]=F3Y4j.S1l(w,x[F3Y4j.T2Jc]),P[F3Y4j.f3Jc](box2d[F3Y4j.c6Qc](i[F3Y4j.f62c],C,box2d[F3Y4j.b17c][F3Y4j.c1Jc]));;){if(box2d[F3Y4j.c6Qc](i[F3Y4j.c7qc],P,A)[F3Y4j.p9qc](),F3Y4j.Q1l(A[F3Y4j.W17c],F3Y4j.u42c)&&F3Y4j.G1l(A[F3Y4j.I17c],F3Y4j.u42c)){box2d[F3Y4j.J97c](A,C,T),box2d[F3Y4j.H07c](T[F3Y4j.W17c],p,I),box2d[F3Y4j.H07c](T[F3Y4j.I17c],p,q),box2d[F3Y4j.O2ic](I,q,B),h[F3Y4j.Y7Jc](s,B),u-=F3Y4j.a1l(r,box2d[F3Y4j.O62c](m[F3Y4j.H7Jc],I)+box2d[F3Y4j.O62c](x[F3Y4j.H7Jc],q)),l[F3Y4j.C1qc](c,B),d+=F3Y4j.L1l(a,box2d[F3Y4j.O62c](m[F3Y4j.e7Jc],I)+box2d[F3Y4j.O62c](x[F3Y4j.e7Jc],q)),m[F3Y4j.E62c]=A[F3Y4j.W17c],x[F3Y4j.E62c]=A[F3Y4j.I17c];break}if(A[F3Y4j.W17c]=-m[F3Y4j.c7qc]*P[F3Y4j.W17c],A[F3Y4j.I17c]=F3Y4j.u42c,v=F3Y4j.u42c,w=F3Y4j.K1l(i[F3Y4j.f62c][F3Y4j.C7Qc][F3Y4j.I17c],A[F3Y4j.W17c])+P[F3Y4j.I17c],F3Y4j.M1l(A[F3Y4j.W17c],F3Y4j.u42c)&&F3Y4j.s9l(w,F3Y4j.u42c)){box2d[F3Y4j.J97c](A,C,T),box2d[F3Y4j.H07c](T[F3Y4j.W17c],p,I),box2d[F3Y4j.H07c](T[F3Y4j.I17c],p,q),box2d[F3Y4j.O2ic](I,q,B),h[F3Y4j.Y7Jc](s,B),u-=F3Y4j.x9l(r,box2d[F3Y4j.O62c](m[F3Y4j.H7Jc],I)+box2d[F3Y4j.O62c](x[F3Y4j.H7Jc],q)),l[F3Y4j.C1qc](c,B),d+=F3Y4j.O9l(a,box2d[F3Y4j.O62c](m[F3Y4j.e7Jc],I)+box2d[F3Y4j.O62c](x[F3Y4j.e7Jc],q)),m[F3Y4j.E62c]=A[F3Y4j.W17c],x[F3Y4j.E62c]=A[F3Y4j.I17c];break}if(A[F3Y4j.W17c]=F3Y4j.u42c,A[F3Y4j.I17c]=-x[F3Y4j.c7qc]*P[F3Y4j.I17c],v=F3Y4j.B9l(i[F3Y4j.f62c][F3Y4j.o6Qc][F3Y4j.W17c],A[F3Y4j.I17c])+P[F3Y4j.W17c],w=F3Y4j.u42c,F3Y4j.u9l(A[F3Y4j.I17c],F3Y4j.u42c)&&F3Y4j.l9l(v,F3Y4j.u42c)){box2d[F3Y4j.J97c](A,C,T),box2d[F3Y4j.H07c](T[F3Y4j.W17c],p,I),box2d[F3Y4j.H07c](T[F3Y4j.I17c],p,q),box2d[F3Y4j.O2ic](I,q,B),h[F3Y4j.Y7Jc](s,B),u-=F3Y4j.m9l(r,box2d[F3Y4j.O62c](m[F3Y4j.H7Jc],I)+box2d[F3Y4j.O62c](x[F3Y4j.H7Jc],q)),l[F3Y4j.C1qc](c,B),d+=F3Y4j.Y9l(a,box2d[F3Y4j.O62c](m[F3Y4j.e7Jc],I)+box2d[F3Y4j.O62c](x[F3Y4j.e7Jc],q)),m[F3Y4j.E62c]=A[F3Y4j.W17c],x[F3Y4j.E62c]=A[F3Y4j.I17c];break}if(A[F3Y4j.W17c]=F3Y4j.u42c,A[F3Y4j.I17c]=F3Y4j.u42c,v=P[F3Y4j.W17c],w=P[F3Y4j.I17c],F3Y4j.j9l(v,F3Y4j.u42c)&&F3Y4j.A9l(w,F3Y4j.u42c)){box2d[F3Y4j.J97c](A,C,T),box2d[F3Y4j.H07c](T[F3Y4j.W17c],p,I),box2d[F3Y4j.H07c](T[F3Y4j.I17c],p,q),box2d[F3Y4j.O2ic](I,q,B),h[F3Y4j.Y7Jc](s,B),u-=F3Y4j.r9l(r,box2d[F3Y4j.O62c](m[F3Y4j.H7Jc],I)+box2d[F3Y4j.O62c](x[F3Y4j.H7Jc],q)),l[F3Y4j.C1qc](c,B),d+=F3Y4j.i9l(a,box2d[F3Y4j.O62c](m[F3Y4j.e7Jc],I)+box2d[F3Y4j.O62c](x[F3Y4j.e7Jc],q)),m[F3Y4j.E62c]=A[F3Y4j.W17c],x[F3Y4j.E62c]=A[F3Y4j.I17c];break}break}this[F3Y4j.c0Qc][o][F3Y4j.X17c]=u,this[F3Y4j.c0Qc][n][F3Y4j.X17c]=d}},box2d.b2ContactSolver.prototype.SolveVelocityConstraints.s_dv=new box2d[F3Y4j.b17c],box2d.b2ContactSolver.prototype.SolveVelocityConstraints.s_dv1=new box2d[F3Y4j.b17c],box2d.b2ContactSolver.prototype.SolveVelocityConstraints.s_dv2=new box2d[F3Y4j.b17c],box2d.b2ContactSolver.prototype.SolveVelocityConstraints.s_P=new box2d[F3Y4j.b17c],box2d.b2ContactSolver.prototype.SolveVelocityConstraints.s_a=new box2d[F3Y4j.b17c],box2d.b2ContactSolver.prototype.SolveVelocityConstraints.s_b=new box2d[F3Y4j.b17c],box2d.b2ContactSolver.prototype.SolveVelocityConstraints.s_x=new box2d[F3Y4j.b17c],box2d.b2ContactSolver.prototype.SolveVelocityConstraints.s_d=new box2d[F3Y4j.b17c],box2d.b2ContactSolver.prototype.SolveVelocityConstraints.s_P1=new box2d[F3Y4j.b17c],box2d.b2ContactSolver.prototype.SolveVelocityConstraints.s_P2=new box2d[F3Y4j.b17c],box2d.b2ContactSolver.prototype.SolveVelocityConstraints.s_P1P2=new box2d[F3Y4j.b17c],box2d.b2ContactSolver.prototype.StoreImpulses=function(){for(var t,e,i,o,n=F3Y4j.u42c,s=this[F3Y4j.a1qc];F3Y4j.c9l(n,s);++n)for(i=this[F3Y4j.k9Jc][n],o=this[F3Y4j.P6Qc][i[F3Y4j.D7Qc]][F3Y4j.W3Ec](),t=F3Y4j.u42c,e=i[F3Y4j.F0tc];F3Y4j.e9l(t,e);++t)o[F3Y4j.Q72c][t][F3Y4j.E62c]=i[F3Y4j.Q72c][t][F3Y4j.E62c],o[F3Y4j.Q72c][t][F3Y4j.A2Qc]=i[F3Y4j.Q72c][t][F3Y4j.A2Qc]},box2d[F3Y4j.Q5qc]=function(){this[F3Y4j.U6ic]=new box2d[F3Y4j.b17c],this[F3Y4j.T62c]=new box2d[F3Y4j.b17c]},box2d.b2PositionSolverManifold.prototype.normal=F3Y4j.E3qc,box2d.b2PositionSolverManifold.prototype.point=F3Y4j.E3qc,box2d.b2PositionSolverManifold.prototype.separation=F3Y4j.u42c,box2d.b2PositionSolverManifold.prototype.Initialize=function(t,e,i,o){var n=box2d.b2PositionSolverManifold.prototype.Initialize.s_pointA,s=box2d.b2PositionSolverManifold.prototype.Initialize.s_pointB,r=box2d.b2PositionSolverManifold.prototype.Initialize.s_planePoint,c=box2d.b2PositionSolverManifold.prototype.Initialize.s_clipPoint;switch(box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.g9l(t[F3Y4j.F0tc],F3Y4j.u42c)),t[F3Y4j.r0Jc]){case box2d[F3Y4j.u1tc][F3Y4j.k3qc]:box2d[F3Y4j.a72c](e,t[F3Y4j.U9Ec],n),box2d[F3Y4j.a72c](i,t[F3Y4j.l4Jc][F3Y4j.u42c],s),box2d[F3Y4j.J97c](s,n,this[F3Y4j.U6ic])[F3Y4j.X7Jc](),box2d[F3Y4j.a9ic](n,s,this[F3Y4j.T62c]),this[F3Y4j.w1Ec]=F3Y4j.k9l(box2d[F3Y4j.U2tc](box2d[F3Y4j.J97c](s,n,box2d[F3Y4j.b17c][F3Y4j.c1Jc]),this[F3Y4j.U6ic]),t[F3Y4j.B37c],t[F3Y4j.J37c]);break;case box2d[F3Y4j.u1tc][F3Y4j.P4ic]:box2d[F3Y4j.Z0tc](e[F3Y4j.G3ic],t[F3Y4j.D3Qc],this[F3Y4j.U6ic]),box2d[F3Y4j.a72c](e,t[F3Y4j.U9Ec],r),box2d[F3Y4j.a72c](i,t[F3Y4j.l4Jc][o],c),this[F3Y4j.w1Ec]=F3Y4j.M9l(box2d[F3Y4j.U2tc](box2d[F3Y4j.J97c](c,r,box2d[F3Y4j.b17c][F3Y4j.c1Jc]),this[F3Y4j.U6ic]),t[F3Y4j.B37c],t[F3Y4j.J37c]),this[F3Y4j.T62c][F3Y4j.j9Qc](c);break;case box2d[F3Y4j.u1tc][F3Y4j.c4ic]:box2d[F3Y4j.Z0tc](i[F3Y4j.G3ic],t[F3Y4j.D3Qc],this[F3Y4j.U6ic]),box2d[F3Y4j.a72c](i,t[F3Y4j.U9Ec],r),box2d[F3Y4j.a72c](e,t[F3Y4j.l4Jc][o],c),this[F3Y4j.w1Ec]=F3Y4j.o4l(box2d[F3Y4j.U2tc](box2d[F3Y4j.J97c](c,r,box2d[F3Y4j.b17c][F3Y4j.c1Jc]),this[F3Y4j.U6ic]),t[F3Y4j.B37c],t[F3Y4j.J37c]),this[F3Y4j.T62c][F3Y4j.j9Qc](c),this[F3Y4j.U6ic][F3Y4j.p9qc]()}},box2d.b2PositionSolverManifold.prototype.Initialize.s_pointA=new box2d[F3Y4j.b17c],box2d.b2PositionSolverManifold.prototype.Initialize.s_pointB=new box2d[F3Y4j.b17c],box2d.b2PositionSolverManifold.prototype.Initialize.s_planePoint=new box2d[F3Y4j.b17c],box2d.b2PositionSolverManifold.prototype.Initialize.s_clipPoint=new box2d[F3Y4j.b17c],box2d.b2ContactSolver.prototype.SolvePositionConstraints=function(){for(var t,e,i,o,n,s,r,c,a,h,u,l,d,p,F,j,Y,f,b,g,y=box2d.b2ContactSolver.prototype.SolvePositionConstraints.s_xfA,m=box2d.b2ContactSolver.prototype.SolvePositionConstraints.s_xfB,x=box2d.b2ContactSolver.prototype.SolvePositionConstraints.s_psm,v=box2d.b2ContactSolver.prototype.SolvePositionConstraints.s_rA,w=box2d.b2ContactSolver.prototype.SolvePositionConstraints.s_rB,_=box2d.b2ContactSolver.prototype.SolvePositionConstraints.s_P,E=F3Y4j.u42c,S=F3Y4j.u42c,C=this[F3Y4j.a1qc];F3Y4j.h4l(S,C);++S){for(o=(i=this[F3Y4j.g8Qc][S])[F3Y4j.G22c],n=i[F3Y4j.s02c],s=i[F3Y4j.C67c],r=i[F3Y4j.S07c],c=i[F3Y4j.F47c],a=i[F3Y4j.h07c],h=i[F3Y4j.g87c],u=i[F3Y4j.u47c],l=i[F3Y4j.F0tc],d=this[F3Y4j.Q8Jc][o][F3Y4j.K22c],p=this[F3Y4j.Q8Jc][o][F3Y4j.O22c],F=this[F3Y4j.Q8Jc][n][F3Y4j.K22c],j=this[F3Y4j.Q8Jc][n][F3Y4j.O22c],t=F3Y4j.u42c,e=l;F3Y4j.R4l(t,e);++t)y[F3Y4j.G3ic][F3Y4j.b1ic](p),m[F3Y4j.G3ic][F3Y4j.b1ic](j),box2d[F3Y4j.J97c](d,box2d[F3Y4j.Z0tc](y[F3Y4j.G3ic],s,box2d[F3Y4j.b17c][F3Y4j.c1Jc]),y[F3Y4j.Z3ic]),box2d[F3Y4j.J97c](F,box2d[F3Y4j.Z0tc](m[F3Y4j.G3ic],a,box2d[F3Y4j.b17c][F3Y4j.c1Jc]),m[F3Y4j.Z3ic]),x[F3Y4j.N47c](i,y,m,t),Y=x[F3Y4j.U6ic],f=x[F3Y4j.T62c],b=x[F3Y4j.w1Ec],box2d[F3Y4j.J97c](f,d,v),box2d[F3Y4j.J97c](f,F,w),E=box2d[F3Y4j.y3ic](E,b),f=box2d[F3Y4j.Q87c](F3Y4j.b4l(box2d[F3Y4j.x5Ec],b+box2d[F3Y4j.l9qc]),-box2d[F3Y4j.m6qc],F3Y4j.u42c),b=box2d[F3Y4j.O62c](v,Y),g=box2d[F3Y4j.O62c](w,Y),b=r+h+F3Y4j.p4l(c,b,b)+F3Y4j.m4l(u,g,g),g=F3Y4j.w4l(b,F3Y4j.u42c)?-f/b:F3Y4j.u42c,box2d[F3Y4j.H07c](g,Y,_),d[F3Y4j.Y7Jc](r,_),p-=F3Y4j.N4l(c,box2d[F3Y4j.O62c](v,_)),F[F3Y4j.C1qc](h,_),j+=F3Y4j.J4l(u,box2d[F3Y4j.O62c](w,_));this[F3Y4j.Q8Jc][o][F3Y4j.O22c]=p,this[F3Y4j.Q8Jc][n][F3Y4j.O22c]=j}return E>-F3Y4j.R42c*box2d[F3Y4j.l9qc]},box2d.b2ContactSolver.prototype.SolvePositionConstraints.s_xfA=new box2d[F3Y4j.J5ic],box2d.b2ContactSolver.prototype.SolvePositionConstraints.s_xfB=new box2d[F3Y4j.J5ic],box2d.b2ContactSolver.prototype.SolvePositionConstraints.s_psm=new box2d[F3Y4j.Q5qc],box2d.b2ContactSolver.prototype.SolvePositionConstraints.s_rA=new box2d[F3Y4j.b17c],box2d.b2ContactSolver.prototype.SolvePositionConstraints.s_rB=new box2d[F3Y4j.b17c],box2d.b2ContactSolver.prototype.SolvePositionConstraints.s_P=new box2d[F3Y4j.b17c],box2d.b2ContactSolver.prototype.SolveTOIPositionConstraints=function(t,e){for(var i,o,n,s,r,c,a,h,u,l,d,p,F,j,Y,f,b,g,y,m,x=box2d.b2ContactSolver.prototype.SolveTOIPositionConstraints.s_xfA,v=box2d.b2ContactSolver.prototype.SolveTOIPositionConstraints.s_xfB,w=box2d.b2ContactSolver.prototype.SolveTOIPositionConstraints.s_psm,_=box2d.b2ContactSolver.prototype.SolveTOIPositionConstraints.s_rA,E=box2d.b2ContactSolver.prototype.SolveTOIPositionConstraints.s_rB,S=box2d.b2ContactSolver.prototype.SolveTOIPositionConstraints.s_P,C=F3Y4j.u42c,P=F3Y4j.u42c,A=this[F3Y4j.a1qc];F3Y4j.S4l(P,A);++P){for(s=(n=this[F3Y4j.g8Qc][P])[F3Y4j.G22c],r=n[F3Y4j.s02c],c=n[F3Y4j.C67c],a=n[F3Y4j.h07c],h=n[F3Y4j.F0tc],u=F3Y4j.u42c,l=F3Y4j.u42c,(F3Y4j.Q4l(s,t)||F3Y4j.G4l(s,e))&&(u=n[F3Y4j.S07c],l=n[F3Y4j.F47c]),d=F3Y4j.u42c,p=F3Y4j.u42c,(F3Y4j.a4l(r,t)||F3Y4j.L4l(r,e))&&(d=n[F3Y4j.g87c],p=n[F3Y4j.u47c]),F=this[F3Y4j.Q8Jc][s][F3Y4j.K22c],j=this[F3Y4j.Q8Jc][s][F3Y4j.O22c],Y=this[F3Y4j.Q8Jc][r][F3Y4j.K22c],f=this[F3Y4j.Q8Jc][r][F3Y4j.O22c],i=F3Y4j.u42c,o=h;F3Y4j.K4l(i,o);++i)x[F3Y4j.G3ic][F3Y4j.b1ic](j),v[F3Y4j.G3ic][F3Y4j.b1ic](f),box2d[F3Y4j.J97c](F,box2d[F3Y4j.Z0tc](x[F3Y4j.G3ic],c,box2d[F3Y4j.b17c][F3Y4j.c1Jc]),x[F3Y4j.Z3ic]),box2d[F3Y4j.J97c](Y,box2d[F3Y4j.Z0tc](v[F3Y4j.G3ic],a,box2d[F3Y4j.b17c][F3Y4j.c1Jc]),v[F3Y4j.Z3ic]),w[F3Y4j.N47c](n,x,v,i),b=w[F3Y4j.U6ic],g=w[F3Y4j.T62c],y=w[F3Y4j.w1Ec],box2d[F3Y4j.J97c](g,F,_),box2d[F3Y4j.J97c](g,Y,E),C=box2d[F3Y4j.y3ic](C,y),g=box2d[F3Y4j.Q87c](F3Y4j.M4l(box2d[F3Y4j.W4ic],y+box2d[F3Y4j.l9qc]),-box2d[F3Y4j.m6qc],F3Y4j.u42c),y=box2d[F3Y4j.O62c](_,b),m=box2d[F3Y4j.O62c](E,b),y=u+d+F3Y4j.s3l(l,y,y)+F3Y4j.q3l(p,m,m),m=F3Y4j.R3l(y,F3Y4j.u42c)?-g/y:F3Y4j.u42c,box2d[F3Y4j.H07c](m,b,S),F[F3Y4j.Y7Jc](u,S),j-=F3Y4j.b3l(l,box2d[F3Y4j.O62c](_,S)),Y[F3Y4j.C1qc](d,S),f+=F3Y4j.p3l(p,box2d[F3Y4j.O62c](E,S));this[F3Y4j.Q8Jc][s][F3Y4j.O22c]=j,this[F3Y4j.Q8Jc][r][F3Y4j.O22c]=f}return C>=-F3Y4j.q5Jc*box2d[F3Y4j.l9qc]},box2d.b2ContactSolver.prototype.SolveTOIPositionConstraints.s_xfA=new box2d[F3Y4j.J5ic],box2d.b2ContactSolver.prototype.SolveTOIPositionConstraints.s_xfB=new box2d[F3Y4j.J5ic],box2d.b2ContactSolver.prototype.SolveTOIPositionConstraints.s_psm=new box2d[F3Y4j.Q5qc],box2d.b2ContactSolver.prototype.SolveTOIPositionConstraints.s_rA=new box2d[F3Y4j.b17c],box2d.b2ContactSolver.prototype.SolveTOIPositionConstraints.s_rB=new box2d[F3Y4j.b17c],box2d.b2ContactSolver.prototype.SolveTOIPositionConstraints.s_P=new box2d[F3Y4j.b17c],goog[F3Y4j.a0ic](F3Y4j.r8Jc),goog[F3Y4j.D02c]("box2d.b2Settings"),box2d[F3Y4j.D6Ec]=function(){},box2d.b2DestructionListener.prototype.SayGoodbyeJoint=function(t){},box2d.b2DestructionListener.prototype.SayGoodbyeFixture=function(t){},box2d[F3Y4j.c7tc]=function(){},box2d.b2ContactFilter.prototype.ShouldCollide=function(t,e){t=t[F3Y4j.g7Jc](),e=e[F3Y4j.g7Jc]();return F3Y4j.y3l(t[F3Y4j.e67c],e[F3Y4j.e67c])&&F3Y4j.Z3l(t[F3Y4j.e67c],F3Y4j.u42c)?F3Y4j.D3l(t[F3Y4j.e67c],F3Y4j.u42c):F3Y4j.F3l(t[F3Y4j.h0qc]&e[F3Y4j.j72c],F3Y4j.u42c)&&F3Y4j.t3l(t[F3Y4j.j72c]&e[F3Y4j.h0qc],F3Y4j.u42c)},box2d[F3Y4j.c7tc][F3Y4j.k42c]=new box2d[F3Y4j.c7tc],box2d[F3Y4j.c2Qc]=function(){this[F3Y4j.p5ic]=box2d[F3Y4j.m8qc](box2d[F3Y4j.O5tc]),this[F3Y4j.m9qc]=box2d[F3Y4j.m8qc](box2d[F3Y4j.O5tc])},box2d.b2ContactImpulse.prototype.normalImpulses=F3Y4j.E3qc,box2d.b2ContactImpulse.prototype.tangentImpulses=F3Y4j.E3qc,box2d.b2ContactImpulse.prototype.count=F3Y4j.u42c,box2d[F3Y4j.d7ic]=function(){};box2d.b2ContactListener.prototype.BeginContact=function(t){},box2d.b2ContactListener.prototype.EndContact=function(t){},box2d.b2ContactListener.prototype.PreSolve=function(t,e){},box2d.b2ContactListener.prototype.PostSolve=function(t,e){},box2d[F3Y4j.d7ic][F3Y4j.z4Jc]=new box2d[F3Y4j.d7ic],box2d[F3Y4j.B3qc]=function(){},box2d.b2QueryCallback.prototype.ReportFixture=function(t){return F3Y4j.H3qc},box2d[F3Y4j.D9tc]=function(){},box2d.b2RayCastCallback.prototype.ReportFixture=function(t,e,i,o){return o},goog[F3Y4j.a0ic](F3Y4j.V67c),goog[F3Y4j.D02c]("box2d.b2Settings"),goog[F3Y4j.D02c]("box2d.b2Timer"),goog[F3Y4j.D02c]("box2d.b2TimeStep"),goog[F3Y4j.D02c]("box2d.b2WorldCallbacks"),goog[F3Y4j.D02c]("box2d.b2ContactSolver"),box2d[F3Y4j.S82c]=function(){this[F3Y4j.L8Jc]=new Array(F3Y4j.k8qc),this[F3Y4j.P6Qc]=new Array(F3Y4j.k8qc),this[F3Y4j.d8Ec]=new Array(F3Y4j.k8qc),this[F3Y4j.Q8Jc]=box2d[F3Y4j.c9tc][F3Y4j.T7qc](F3Y4j.k8qc),this[F3Y4j.c0Qc]=box2d[F3Y4j.y4qc][F3Y4j.T7qc](F3Y4j.k8qc)},box2d.b2Island.prototype.m_allocator=F3Y4j.E3qc,box2d.b2Island.prototype.m_listener=F3Y4j.E3qc,box2d.b2Island.prototype.m_bodies=F3Y4j.E3qc,box2d.b2Island.prototype.m_contacts=F3Y4j.E3qc,box2d.b2Island.prototype.m_joints=F3Y4j.E3qc,box2d.b2Island.prototype.m_positions=F3Y4j.E3qc,box2d.b2Island.prototype.m_velocities=F3Y4j.E3qc,box2d.b2Island.prototype.m_bodyCount=F3Y4j.u42c,box2d.b2Island.prototype.m_jointCount=F3Y4j.u42c,box2d.b2Island.prototype.m_contactCount=F3Y4j.u42c,box2d.b2Island.prototype.m_bodyCapacity=F3Y4j.u42c,box2d.b2Island.prototype.m_contactCapacity=F3Y4j.u42c,box2d.b2Island.prototype.m_jointCapacity=F3Y4j.u42c,box2d.b2Island.prototype.Initialize=function(t,e,i,o,n){for(this[F3Y4j.I6Jc]=t,this[F3Y4j.S62c]=e,this[F3Y4j.F4ic]=i,this[F3Y4j.l9Jc]=0,this[F3Y4j.J32c]=0,this[F3Y4j.Z5ic]=0,this[F3Y4j.f3qc]=o,this[F3Y4j.Q0qc]=n;F3Y4j.T3l(this[F3Y4j.L8Jc].length,t);)this[F3Y4j.L8Jc][this[F3Y4j.L8Jc].length]=null;for(;F3Y4j.v3l(this[F3Y4j.P6Qc].length,e);)this[F3Y4j.P6Qc][this[F3Y4j.P6Qc].length]=null;for(;F3Y4j.W3l(this[F3Y4j.d8Ec].length,i);)this[F3Y4j.d8Ec][this[F3Y4j.d8Ec].length]=null;if(F3Y4j.C3l(this[F3Y4j.Q8Jc].length,t)){var s=box2d[F3Y4j.h82c](F3Y4j.U3l(this[F3Y4j.Q8Jc].length,2),t);for(box2d[F3Y4j.l2Jc]&&window[F3Y4j.p1Jc][F3Y4j.v0Jc]("box2d.b2Island.m_positions: "+s);F3Y4j.d3l(this[F3Y4j.Q8Jc].length,s);)this[F3Y4j.Q8Jc][this[F3Y4j.Q8Jc].length]=new box2d[F3Y4j.c9tc]}if(F3Y4j.X3l(this[F3Y4j.c0Qc].length,t)){s=box2d[F3Y4j.h82c](F3Y4j.o7l(this[F3Y4j.c0Qc].length,2),t);for(box2d[F3Y4j.l2Jc]&&window[F3Y4j.p1Jc][F3Y4j.v0Jc]("box2d.b2Island.m_velocities: "+s);F3Y4j.q7l(this[F3Y4j.c0Qc].length,s);)this[F3Y4j.c0Qc][this[F3Y4j.c0Qc].length]=new box2d[F3Y4j.y4qc]}},box2d.b2Island.prototype.Clear=function(){this[F3Y4j.l9Jc]=F3Y4j.u42c,this[F3Y4j.J32c]=F3Y4j.u42c,this[F3Y4j.Z5ic]=F3Y4j.u42c},box2d.b2Island.prototype.AddBody=function(t){box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.z7l(this[F3Y4j.l9Jc],this[F3Y4j.I6Jc])),t[F3Y4j.h7Jc]=this[F3Y4j.l9Jc],this[F3Y4j.L8Jc][this[F3Y4j.l9Jc]++]=t},box2d.b2Island.prototype.AddContact=function(t){box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.E7l(this[F3Y4j.J32c],this[F3Y4j.S62c])),this[F3Y4j.P6Qc][this[F3Y4j.J32c]++]=t},box2d.b2Island.prototype.AddJoint=function(t){box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.f7l(this[F3Y4j.Z5ic],this[F3Y4j.F4ic])),this[F3Y4j.d8Ec][this[F3Y4j.Z5ic]++]=t},box2d.b2Island.prototype.Solve=function(t,e,i,o){for(var n="SolvePositionConstraints",s=box2d[F3Y4j.S82c][F3Y4j.P77c][F3Y4j.t4Jc](),r=e[F3Y4j.N7Ec],c=F3Y4j.u42c;F3Y4j.H7l(c,this[F3Y4j.l9Jc]);++c){var a=this[F3Y4j.L8Jc][c],h=this[F3Y4j.Q8Jc][c][F3Y4j.K22c][F3Y4j.j9Qc](a[F3Y4j.G4qc][F3Y4j.K22c]),u=a[F3Y4j.G4qc][F3Y4j.O22c],l=this[F3Y4j.c0Qc][c][F3Y4j.H97c][F3Y4j.j9Qc](a[F3Y4j.k2qc]),d=a[F3Y4j.s9Qc];a[F3Y4j.G4qc][F3Y4j.d92c][F3Y4j.j9Qc](a[F3Y4j.G4qc][F3Y4j.K22c]),a[F3Y4j.G4qc][F3Y4j.F97c]=a[F3Y4j.G4qc][F3Y4j.O22c],F3Y4j.I7l(a[F3Y4j.N37c],box2d[F3Y4j.T0Ec][F3Y4j.c6ic])&&(l[F3Y4j.W17c]+=F3Y4j.w7l(r,a[F3Y4j.Y3qc]*i[F3Y4j.W17c]+a[F3Y4j.m4tc]*a[F3Y4j.G0qc][F3Y4j.W17c]),l[F3Y4j.I17c]+=F3Y4j.N7l(r,a[F3Y4j.Y3qc]*i[F3Y4j.I17c]+a[F3Y4j.m4tc]*a[F3Y4j.G0qc][F3Y4j.I17c]),d+=F3Y4j.J7l(r,a[F3Y4j.e1Ec],a[F3Y4j.A3ic]),l[F3Y4j.M62c](F3Y4j.T7l(F3Y4j.O5Jc,F3Y4j.O5Jc+r*a[F3Y4j.B22c])),d*=F3Y4j.v7l(F3Y4j.O5Jc,F3Y4j.O5Jc+r*a[F3Y4j.m6Jc])),this[F3Y4j.Q8Jc][c][F3Y4j.O22c]=u,this[F3Y4j.c0Qc][c][F3Y4j.X17c]=d}s[F3Y4j.t4Jc]();var p=box2d[F3Y4j.S82c][F3Y4j.O0Qc],F=(p[F3Y4j.r7Ec][F3Y4j.j9Qc](e),p[F3Y4j.r7ic]=this[F3Y4j.Q8Jc],p[F3Y4j.W8tc]=this[F3Y4j.c0Qc],box2d[F3Y4j.S82c][F3Y4j.X8Ec]),j=(F[F3Y4j.r7Ec][F3Y4j.j9Qc](e),F[F3Y4j.J9Qc]=this[F3Y4j.P6Qc],F[F3Y4j.B7qc]=this[F3Y4j.J32c],F[F3Y4j.r7ic]=this[F3Y4j.Q8Jc],F[F3Y4j.W8tc]=this[F3Y4j.c0Qc],F[F3Y4j.c0qc]=this[F3Y4j.f3qc],box2d[F3Y4j.S82c][F3Y4j.b6Jc][F3Y4j.N47c](F));j[F3Y4j.u5Gc](),e[F3Y4j.D47c]&&j.WarmStart();for(c=F3Y4j.u42c;F3Y4j.W7l(c,this[F3Y4j.Z5ic]);++c)this[F3Y4j.d8Ec][c].InitVelocityConstraints(p);t[F3Y4j.M4qc]=s[F3Y4j.j7tc](),s[F3Y4j.t4Jc]();for(c=F3Y4j.u42c;F3Y4j.C7l(c,e[F3Y4j.n2Ec]);++c){for(var Y=F3Y4j.u42c;F3Y4j.U7l(Y,this[F3Y4j.Z5ic]);++Y)this[F3Y4j.d8Ec][Y][F3Y4j.A77c](p);j[F3Y4j.A77c]()}j.StoreImpulses(),t[F3Y4j.K4Ec]=s[F3Y4j.j7tc]();for(c=F3Y4j.u42c;F3Y4j.d7l(c,this[F3Y4j.l9Jc]);++c){var f,h=this[F3Y4j.Q8Jc][c][F3Y4j.K22c],u=this[F3Y4j.Q8Jc][c][F3Y4j.O22c],l=this[F3Y4j.c0Qc][c][F3Y4j.H97c],d=this[F3Y4j.c0Qc][c][F3Y4j.X17c],b=box2d[F3Y4j.H07c](r,l,box2d[F3Y4j.S82c][F3Y4j.Z77c]),b=(F3Y4j.X7l(box2d[F3Y4j.U2tc](b,b),box2d[F3Y4j.U82c])&&(f=F3Y4j.o6l(box2d[F3Y4j.R6qc],b[F3Y4j.x2Jc]()),l[F3Y4j.M62c](f)),F3Y4j.q6l(r,d));F3Y4j.z6l(b*b,box2d[F3Y4j.q2tc])&&(d*=f=F3Y4j.E6l(box2d[F3Y4j.C7tc],box2d[F3Y4j.O7Qc](b))),h[F3Y4j.W17c]+=F3Y4j.f6l(r,l[F3Y4j.W17c]),h[F3Y4j.I17c]+=F3Y4j.H6l(r,l[F3Y4j.I17c]),u+=F3Y4j.I6l(r,d),this[F3Y4j.Q8Jc][c][F3Y4j.O22c]=u,this[F3Y4j.c0Qc][c][F3Y4j.X17c]=d}s[F3Y4j.t4Jc]();for(var g=F3Y4j.h57c,c=F3Y4j.u42c;F3Y4j.w6l(c,e[F3Y4j.v0qc]);++c){for(var y=j[n](),m=F3Y4j.H3qc,Y=F3Y4j.u42c;F3Y4j.N6l(Y,this[F3Y4j.Z5ic]);++Y)var x=this[F3Y4j.d8Ec][Y][n](p),m=m&&x;if(y&&m){g=F3Y4j.H3qc;break}}for(c=F3Y4j.u42c;F3Y4j.J6l(c,this[F3Y4j.l9Jc]);++c){var v=this[F3Y4j.L8Jc][c];v[F3Y4j.G4qc][F3Y4j.K22c][F3Y4j.j9Qc](this[F3Y4j.Q8Jc][c][F3Y4j.K22c]),v[F3Y4j.G4qc][F3Y4j.O22c]=this[F3Y4j.Q8Jc][c][F3Y4j.O22c],v[F3Y4j.k2qc][F3Y4j.j9Qc](this[F3Y4j.c0Qc][c][F3Y4j.H97c]),v[F3Y4j.s9Qc]=this[F3Y4j.c0Qc][c][F3Y4j.X17c],v[F3Y4j.j2Qc]()}if(t[F3Y4j.U6qc]=s[F3Y4j.j7tc](),this[F3Y4j.R2Qc](j[F3Y4j.k9Jc]),o){for(var w=box2d[F3Y4j.p7Qc],_=F3Y4j.S6l(box2d[F3Y4j.R1qc],box2d[F3Y4j.R1qc]),E=F3Y4j.Q6l(box2d[F3Y4j.g47c],box2d[F3Y4j.g47c]),c=F3Y4j.u42c;F3Y4j.G6l(c,this[F3Y4j.l9Jc]);++c){a=this[F3Y4j.L8Jc][c];F3Y4j.a6l(a[F3Y4j.j6Jc](),box2d[F3Y4j.T0Ec][F3Y4j.u0Jc])||(w=F3Y4j.L6l(a[F3Y4j.c8tc]&box2d[F3Y4j.L4Ec][F3Y4j.X2Qc],F3Y4j.u42c)||F3Y4j.K6l(a[F3Y4j.s9Qc]*a[F3Y4j.s9Qc],E)||F3Y4j.M6l(box2d[F3Y4j.U2tc](a[F3Y4j.k2qc],a[F3Y4j.k2qc]),_)?(a[F3Y4j.m87c]=F3Y4j.u42c,F3Y4j.u42c):(a[F3Y4j.m87c]+=r,box2d[F3Y4j.y3ic](w,a[F3Y4j.m87c])))}if(F3Y4j.s0l(w,box2d[F3Y4j.X2qc])&&g)for(c=F3Y4j.u42c;F3Y4j.x0l(c,this[F3Y4j.l9Jc]);++c)(a=this[F3Y4j.L8Jc][c])[F3Y4j.s7Ec](F3Y4j.h57c)}},box2d.b2Island.prototype.SolveTOI=function(t,e,i){box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.O0l(e,this[F3Y4j.l9Jc])),box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.B0l(i,this[F3Y4j.l9Jc]));for(var o=F3Y4j.u42c;F3Y4j.u0l(o,this[F3Y4j.l9Jc]);++o){var n=this[F3Y4j.L8Jc][o];this[F3Y4j.Q8Jc][o][F3Y4j.K22c][F3Y4j.j9Qc](n[F3Y4j.G4qc][F3Y4j.K22c]),this[F3Y4j.Q8Jc][o][F3Y4j.O22c]=n[F3Y4j.G4qc][F3Y4j.O22c],this[F3Y4j.c0Qc][o][F3Y4j.H97c][F3Y4j.j9Qc](n[F3Y4j.k2qc]),this[F3Y4j.c0Qc][o][F3Y4j.X17c]=n[F3Y4j.s9Qc]}for(var s=box2d[F3Y4j.S82c][F3Y4j.X8Ec],r=(s[F3Y4j.J9Qc]=this[F3Y4j.P6Qc],s[F3Y4j.B7qc]=this[F3Y4j.J32c],s[F3Y4j.c0qc]=this[F3Y4j.f3qc],s[F3Y4j.r7Ec][F3Y4j.j9Qc](t),s[F3Y4j.r7ic]=this[F3Y4j.Q8Jc],s[F3Y4j.W8tc]=this[F3Y4j.c0Qc],box2d[F3Y4j.S82c][F3Y4j.b6Jc][F3Y4j.N47c](s)),o=F3Y4j.u42c;F3Y4j.l0l(o,t[F3Y4j.v0qc])&&!r.SolveTOIPositionConstraints(e,i);++o);this[F3Y4j.L8Jc][e][F3Y4j.G4qc][F3Y4j.d92c][F3Y4j.j9Qc](this[F3Y4j.Q8Jc][e][F3Y4j.K22c]),this[F3Y4j.L8Jc][e][F3Y4j.G4qc][F3Y4j.F97c]=this[F3Y4j.Q8Jc][e][F3Y4j.O22c],this[F3Y4j.L8Jc][i][F3Y4j.G4qc][F3Y4j.d92c][F3Y4j.j9Qc](this[F3Y4j.Q8Jc][i][F3Y4j.K22c]),this[F3Y4j.L8Jc][i][F3Y4j.G4qc][F3Y4j.F97c]=this[F3Y4j.Q8Jc][i][F3Y4j.O22c],r[F3Y4j.u5Gc]();for(o=F3Y4j.u42c;F3Y4j.m0l(o,t[F3Y4j.n2Ec]);++o)r[F3Y4j.A77c]();for(var c=t[F3Y4j.N7Ec],o=F3Y4j.u42c;F3Y4j.Y0l(o,this[F3Y4j.l9Jc]);++o){var a,h=this[F3Y4j.Q8Jc][o][F3Y4j.K22c],u=this[F3Y4j.Q8Jc][o][F3Y4j.O22c],l=this[F3Y4j.c0Qc][o][F3Y4j.H97c],d=this[F3Y4j.c0Qc][o][F3Y4j.X17c],p=box2d[F3Y4j.H07c](c,l,box2d[F3Y4j.S82c][F3Y4j.Z77c]),p=(F3Y4j.j0l(box2d[F3Y4j.U2tc](p,p),box2d[F3Y4j.U82c])&&(a=F3Y4j.A0l(box2d[F3Y4j.R6qc],p[F3Y4j.x2Jc]()),l[F3Y4j.M62c](a)),F3Y4j.r0l(c,d)),p=(F3Y4j.i0l(p*p,box2d[F3Y4j.q2tc])&&(d*=a=F3Y4j.c0l(box2d[F3Y4j.C7tc],box2d[F3Y4j.O7Qc](p))),h[F3Y4j.C1qc](c,l),u+=F3Y4j.e0l(c,d),this[F3Y4j.Q8Jc][o][F3Y4j.O22c]=u,this[F3Y4j.c0Qc][o][F3Y4j.X17c]=d,this[F3Y4j.L8Jc][o]);p[F3Y4j.G4qc][F3Y4j.K22c][F3Y4j.j9Qc](h),p[F3Y4j.G4qc][F3Y4j.O22c]=u,p[F3Y4j.k2qc][F3Y4j.j9Qc](l),p[F3Y4j.s9Qc]=d,p[F3Y4j.j2Qc]()}this[F3Y4j.R2Qc](r[F3Y4j.k9Jc])},box2d.b2Island.prototype.Report=function(t){if(!F3Y4j.g0l(this[F3Y4j.Q0qc],F3Y4j.E3qc))for(var e=F3Y4j.u42c;F3Y4j.k0l(e,this[F3Y4j.J32c]);++e){var i=this[F3Y4j.P6Qc][e];if(i){var o=t[e],n=box2d[F3Y4j.S82c][F3Y4j.r1Jc];n[F3Y4j.B7qc]=o[F3Y4j.F0tc];for(var s=F3Y4j.u42c;F3Y4j.n0l(s,o[F3Y4j.F0tc]);++s)n[F3Y4j.p5ic][s]=o[F3Y4j.Q72c][s][F3Y4j.E62c],n[F3Y4j.m9qc][s]=o[F3Y4j.Q72c][s][F3Y4j.A2Qc];this[F3Y4j.Q0qc].PostSolve(i,n)}}},box2d[F3Y4j.S82c][F3Y4j.P77c]=new box2d[F3Y4j.V7Qc],box2d[F3Y4j.S82c][F3Y4j.O0Qc]=new box2d[F3Y4j.K9ic],box2d[F3Y4j.S82c][F3Y4j.X8Ec]=new box2d[F3Y4j.O0Ec],box2d[F3Y4j.S82c][F3Y4j.b6Jc]=new box2d[F3Y4j.O6Ec],box2d[F3Y4j.S82c][F3Y4j.Z77c]=new box2d[F3Y4j.b17c],box2d[F3Y4j.S82c][F3Y4j.r1Jc]=new box2d[F3Y4j.c2Qc],goog[F3Y4j.a0ic](F3Y4j.q07c),goog[F3Y4j.D02c]("box2d.b2Settings"),goog[F3Y4j.D02c]("box2d.b2Contact"),box2d[F3Y4j.r7Jc]=function(){},box2d.b2ContactRegister.prototype.createFcn=F3Y4j.E3qc,box2d.b2ContactRegister.prototype.destroyFcn=F3Y4j.E3qc,box2d.b2ContactRegister.prototype.primary=F3Y4j.h57c,box2d[F3Y4j.U37c]=function(t){this[F3Y4j.f3qc]=t,this.InitializeRegisters()},box2d.b2ContactFactory.prototype.m_allocator=F3Y4j.E3qc,box2d.b2ContactFactory.prototype.AddType=function(e,t,i,o){function n(t){return F3Y4j.P0l(r.length,0)?r.pop():e(t)}function s(t,e){r[F3Y4j.h17c](t)}var r=box2d[F3Y4j.T0Jc](256,function(t){return e()});this[F3Y4j.e8ic][i][o].pool=r,this[F3Y4j.e8ic][i][o][F3Y4j.r0tc]=n,this[F3Y4j.e8ic][i][o][F3Y4j.g67c]=s,this[F3Y4j.e8ic][i][o][F3Y4j.t0ic]=!0,F3Y4j.V2l(i,o)&&(this[F3Y4j.e8ic][o][i].pool=r,this[F3Y4j.e8ic][o][i][F3Y4j.r0tc]=n,this[F3Y4j.e8ic][o][i][F3Y4j.g67c]=s,this[F3Y4j.e8ic][o][i][F3Y4j.t0ic]=!1)},box2d.b2ContactFactory.prototype.InitializeRegisters=function(){var t="AddType";this[F3Y4j.e8ic]=new Array(box2d[F3Y4j.d9ic][F3Y4j.h8Jc]);for(var e=F3Y4j.u42c;F3Y4j.h2l(e,box2d[F3Y4j.d9ic][F3Y4j.h8Jc]);e++){this[F3Y4j.e8ic][e]=new Array(box2d[F3Y4j.d9ic][F3Y4j.h8Jc]);for(var i=F3Y4j.u42c;F3Y4j.R2l(i,box2d[F3Y4j.d9ic][F3Y4j.h8Jc]);i++)this[F3Y4j.e8ic][e][i]=new box2d[F3Y4j.r7Jc]}this[t](box2d[F3Y4j.W42c][F3Y4j.R1ic],box2d[F3Y4j.W42c][F3Y4j.V3Qc],box2d[F3Y4j.d9ic][F3Y4j.x87c],box2d[F3Y4j.d9ic][F3Y4j.x87c]),this[t](box2d[F3Y4j.d0Qc][F3Y4j.R1ic],box2d[F3Y4j.d0Qc][F3Y4j.V3Qc],box2d[F3Y4j.d9ic][F3Y4j.M2tc],box2d[F3Y4j.d9ic][F3Y4j.x87c]),this[t](box2d[F3Y4j.i4Ec][F3Y4j.R1ic],box2d[F3Y4j.i4Ec][F3Y4j.V3Qc],box2d[F3Y4j.d9ic][F3Y4j.M2tc],box2d[F3Y4j.d9ic][F3Y4j.M2tc]),this[t](box2d[F3Y4j.m72c][F3Y4j.R1ic],box2d[F3Y4j.m72c][F3Y4j.V3Qc],box2d[F3Y4j.d9ic][F3Y4j.d2Qc],box2d[F3Y4j.d9ic][F3Y4j.x87c]),this[t](box2d[F3Y4j.J6qc][F3Y4j.R1ic],box2d[F3Y4j.J6qc][F3Y4j.V3Qc],box2d[F3Y4j.d9ic][F3Y4j.d2Qc],box2d[F3Y4j.d9ic][F3Y4j.M2tc]),this[t](box2d[F3Y4j.a7tc][F3Y4j.R1ic],box2d[F3Y4j.a7tc][F3Y4j.V3Qc],box2d[F3Y4j.d9ic][F3Y4j.p4Qc],box2d[F3Y4j.d9ic][F3Y4j.x87c]),this[t](box2d[F3Y4j.V07c][F3Y4j.R1ic],box2d[F3Y4j.V07c][F3Y4j.V3Qc],box2d[F3Y4j.d9ic][F3Y4j.p4Qc],box2d[F3Y4j.d9ic][F3Y4j.M2tc])},box2d.b2ContactFactory.prototype.Create=function(t,e,i,o){var n,s=t[F3Y4j.j6Jc](),r=i[F3Y4j.j6Jc](),s=(box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.b2l(F3Y4j.u42c,s)&&F3Y4j.p2l(s,box2d[F3Y4j.d9ic][F3Y4j.h8Jc])),box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.y2l(F3Y4j.u42c,r)&&F3Y4j.Z2l(r,box2d[F3Y4j.d9ic][F3Y4j.h8Jc])),this[F3Y4j.e8ic][s][r]),r=s[F3Y4j.r0tc];return F3Y4j.D2l(r,F3Y4j.E3qc)?(s[F3Y4j.t0ic]?(n=r(this[F3Y4j.f3qc]))[F3Y4j.t4Jc](t,e,i,o):(n=r(this[F3Y4j.f3qc]))[F3Y4j.t4Jc](i,o,t,e),n):F3Y4j.E3qc},box2d.b2ContactFactory.prototype.Destroy=function(t){var e=t[F3Y4j.g72c],i=t[F3Y4j.x62c],e=(F3Y4j.F2l(t[F3Y4j.V5qc][F3Y4j.F0tc],F3Y4j.u42c)&&F3Y4j.t2l(e[F3Y4j.V5Jc](),F3Y4j.h57c)&&F3Y4j.T2l(i[F3Y4j.V5Jc](),F3Y4j.h57c)&&(e[F3Y4j.z4tc]()[F3Y4j.s7Ec](F3Y4j.H3qc),i[F3Y4j.z4tc]()[F3Y4j.s7Ec](F3Y4j.H3qc)),e[F3Y4j.j6Jc]()),i=i[F3Y4j.j6Jc]();box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.v2l(F3Y4j.u42c,e)&&F3Y4j.W2l(i,box2d[F3Y4j.d9ic][F3Y4j.h8Jc])),box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.C2l(F3Y4j.u42c,e)&&F3Y4j.U2l(i,box2d[F3Y4j.d9ic][F3Y4j.h8Jc])),(0,this[F3Y4j.e8ic][e][i][F3Y4j.g67c])(t,this[F3Y4j.f3qc])},goog[F3Y4j.a0ic](F3Y4j.b2qc),goog[F3Y4j.D02c]("box2d.b2Settings"),box2d[F3Y4j.q6tc]=function(t){this[F3Y4j.b5Gc]=new Array(t)},box2d.b2GrowableStack.prototype.m_stack=F3Y4j.E3qc,box2d.b2GrowableStack.prototype.m_count=F3Y4j.u42c,box2d.b2GrowableStack.prototype.Reset=function(){return this[F3Y4j.a1qc]=F3Y4j.u42c,this},box2d.b2GrowableStack.prototype.Push=function(t){this[F3Y4j.b5Gc][this[F3Y4j.a1qc]]=t,++this[F3Y4j.a1qc]},box2d.b2GrowableStack.prototype.Pop=function(){box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.d2l(this[F3Y4j.a1qc],F3Y4j.u42c)),--this[F3Y4j.a1qc];var t=this[F3Y4j.b5Gc][this[F3Y4j.a1qc]];return this[F3Y4j.b5Gc][this[F3Y4j.a1qc]]=F3Y4j.E3qc,t},box2d.b2GrowableStack.prototype.GetCount=function(){return this[F3Y4j.a1qc]},goog[F3Y4j.a0ic](F3Y4j.D6qc),goog[F3Y4j.D02c]("box2d.b2Settings"),goog[F3Y4j.D02c]("box2d.b2Collision"),goog[F3Y4j.D02c]("box2d.b2GrowableStack"),box2d[F3Y4j.W7Qc]=function(t){this[F3Y4j.w9Jc]=t||F3Y4j.u42c,this[F3Y4j.C7ic]=new box2d[F3Y4j.p02c]},box2d.b2TreeNode.prototype.m_id=F3Y4j.u42c,box2d.b2TreeNode.prototype.aabb=F3Y4j.E3qc,box2d.b2TreeNode.prototype.userData=F3Y4j.E3qc,box2d.b2TreeNode.prototype.parent=F3Y4j.E3qc,box2d.b2TreeNode.prototype.child1=F3Y4j.E3qc,box2d.b2TreeNode.prototype.child2=F3Y4j.E3qc,box2d.b2TreeNode.prototype.height=0,box2d.b2TreeNode.prototype.IsLeaf=function(){return F3Y4j.X2l(this[F3Y4j.a42c],F3Y4j.E3qc)},box2d[F3Y4j.l07c]=function(){},box2d.b2DynamicTree.prototype.m_root=F3Y4j.E3qc,box2d.b2DynamicTree.prototype.m_freeList=F3Y4j.E3qc,box2d.b2DynamicTree.prototype.m_path=F3Y4j.u42c,box2d.b2DynamicTree.prototype.m_insertionCount=F3Y4j.u42c,box2d[F3Y4j.l07c][F3Y4j.r5Jc]=new box2d[F3Y4j.q6tc](F3Y4j.H9Qc),box2d[F3Y4j.l07c][F3Y4j.W2qc]=new box2d[F3Y4j.b17c],box2d[F3Y4j.l07c][F3Y4j.V5Gc]=new box2d[F3Y4j.b17c],box2d[F3Y4j.l07c][F3Y4j.b9ic]=new box2d[F3Y4j.b17c],box2d[F3Y4j.l07c][F3Y4j.E4Jc]=new box2d[F3Y4j.p02c],box2d[F3Y4j.l07c][F3Y4j.v4qc]=new box2d[F3Y4j.K3ic],box2d[F3Y4j.l07c][F3Y4j.R8Ec]=new box2d[F3Y4j.p02c],box2d[F3Y4j.l07c][F3Y4j.g5Ec]=new box2d[F3Y4j.p02c],box2d.b2DynamicTree.prototype.GetUserData=function(t){return box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.o8l(t,F3Y4j.E3qc)),t[F3Y4j.f6Qc]},box2d.b2DynamicTree.prototype.GetFatAABB=function(t){return box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.q8l(t,F3Y4j.E3qc)),t[F3Y4j.C7ic]},box2d.b2DynamicTree.prototype.Query=function(t,e){if(!F3Y4j.z8l(this[F3Y4j.u82c],F3Y4j.E3qc)){var i=box2d[F3Y4j.l07c][F3Y4j.r5Jc][F3Y4j.t4Jc]();for(i[F3Y4j.S5Qc](this[F3Y4j.u82c]);F3Y4j.E8l(i[F3Y4j.j17c](),F3Y4j.u42c);){var o=i[F3Y4j.X6Qc]();if(!F3Y4j.f8l(o,F3Y4j.E3qc)&&o[F3Y4j.C7ic][F3Y4j.S27c](e))if(o[F3Y4j.E4tc]()){var n=t(o);if(F3Y4j.H8l(n,F3Y4j.h57c))return}else i[F3Y4j.S5Qc](o[F3Y4j.a42c]),i[F3Y4j.S5Qc](o[F3Y4j.s32c])}}},box2d.b2DynamicTree.prototype.RayCast=function(t,e){if(!F3Y4j.I8l(this[F3Y4j.u82c],F3Y4j.E3qc)){var i=e[F3Y4j.C6tc],o=e[F3Y4j.b0tc],n=box2d[F3Y4j.J97c](o,i,box2d[F3Y4j.l07c][F3Y4j.W2qc]),s=(box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.w8l(n[F3Y4j.u77c](),F3Y4j.u42c)),n[F3Y4j.w2tc](),box2d[F3Y4j.f7Ec](n,box2d[F3Y4j.l07c][F3Y4j.V5Gc])),r=box2d[F3Y4j.B5ic](s,box2d[F3Y4j.l07c][F3Y4j.b9ic]),c=e[F3Y4j.d6ic],a=box2d[F3Y4j.l07c][F3Y4j.E4Jc],h=i[F3Y4j.W17c]+F3Y4j.N8l(c,o[F3Y4j.W17c]-i[F3Y4j.W17c]),u=i[F3Y4j.I17c]+F3Y4j.J8l(c,o[F3Y4j.I17c]-i[F3Y4j.I17c]),l=(a[F3Y4j.h6ic][F3Y4j.W17c]=box2d[F3Y4j.y3ic](i[F3Y4j.W17c],h),a[F3Y4j.h6ic][F3Y4j.I17c]=box2d[F3Y4j.y3ic](i[F3Y4j.I17c],u),a[F3Y4j.P7ic][F3Y4j.W17c]=box2d[F3Y4j.h82c](i[F3Y4j.W17c],h),a[F3Y4j.P7ic][F3Y4j.I17c]=box2d[F3Y4j.h82c](i[F3Y4j.I17c],u),box2d[F3Y4j.l07c][F3Y4j.r5Jc][F3Y4j.t4Jc]());for(l[F3Y4j.S5Qc](this[F3Y4j.u82c]);F3Y4j.S8l(l[F3Y4j.j17c](),F3Y4j.u42c);){var d=l[F3Y4j.X6Qc]();if(!F3Y4j.Q8l(d,F3Y4j.E3qc)&&!F3Y4j.G8l(box2d[F3Y4j.n3ic](d[F3Y4j.C7ic],a),F3Y4j.h57c)){var p=d[F3Y4j.C7ic][F3Y4j.n1Jc](),F=d[F3Y4j.C7ic].GetExtents(),p=F3Y4j.a8l(box2d[F3Y4j.O7Qc](box2d[F3Y4j.U2tc](s,box2d[F3Y4j.J97c](i,p,box2d[F3Y4j.b17c][F3Y4j.c1Jc]))),box2d[F3Y4j.U2tc](r,F));if(!F3Y4j.L8l(p,F3Y4j.u42c))if(d[F3Y4j.E4tc]()){F=box2d[F3Y4j.l07c][F3Y4j.v4qc],p=(F[F3Y4j.C6tc][F3Y4j.j9Qc](e[F3Y4j.C6tc]),F[F3Y4j.b0tc][F3Y4j.j9Qc](e[F3Y4j.b0tc]),F[F3Y4j.d6ic]=c,t(F,d));if(F3Y4j.K8l(p,F3Y4j.u42c))return;F3Y4j.M8l(p,F3Y4j.u42c)&&(h=i[F3Y4j.W17c]+F3Y4j.s5R(c=p,o[F3Y4j.W17c]-i[F3Y4j.W17c]),u=i[F3Y4j.I17c]+F3Y4j.x5R(c,o[F3Y4j.I17c]-i[F3Y4j.I17c]),a[F3Y4j.h6ic][F3Y4j.W17c]=box2d[F3Y4j.y3ic](i[F3Y4j.W17c],h),a[F3Y4j.h6ic][F3Y4j.I17c]=box2d[F3Y4j.y3ic](i[F3Y4j.I17c],u),a[F3Y4j.P7ic][F3Y4j.W17c]=box2d[F3Y4j.h82c](i[F3Y4j.W17c],h),a[F3Y4j.P7ic][F3Y4j.I17c]=box2d[F3Y4j.h82c](i[F3Y4j.I17c],u))}else l[F3Y4j.S5Qc](d[F3Y4j.a42c]),l[F3Y4j.S5Qc](d[F3Y4j.s32c])}}}},box2d.b2DynamicTree.prototype.AllocateNode=function(){var t;return this[F3Y4j.I5Ec]?(t=this[F3Y4j.I5Ec],this[F3Y4j.I5Ec]=t.parent,t.parent=F3Y4j.E3qc,t[F3Y4j.a42c]=F3Y4j.E3qc,t[F3Y4j.s32c]=F3Y4j.E3qc,t.height=0,t[F3Y4j.f6Qc]=F3Y4j.E3qc,t):new box2d[F3Y4j.W7Qc](box2d.b2DynamicTree.prototype.s_node_id++)},box2d.b2DynamicTree.prototype.s_node_id=F3Y4j.u42c,box2d.b2DynamicTree.prototype.FreeNode=function(t){t.parent=this[F3Y4j.I5Ec],t.height=-1,this[F3Y4j.I5Ec]=t},box2d.b2DynamicTree.prototype.CreateProxy=function(t,e){var i=this[F3Y4j.s2Ec](),o=box2d[F3Y4j.V5tc],n=box2d[F3Y4j.V5tc];return i[F3Y4j.C7ic][F3Y4j.h6ic][F3Y4j.W17c]=F3Y4j.O5R(t[F3Y4j.h6ic][F3Y4j.W17c],o),i[F3Y4j.C7ic][F3Y4j.h6ic][F3Y4j.I17c]=F3Y4j.B5R(t[F3Y4j.h6ic][F3Y4j.I17c],n),i[F3Y4j.C7ic][F3Y4j.P7ic][F3Y4j.W17c]=t[F3Y4j.P7ic][F3Y4j.W17c]+o,i[F3Y4j.C7ic][F3Y4j.P7ic][F3Y4j.I17c]=t[F3Y4j.P7ic][F3Y4j.I17c]+n,i[F3Y4j.f6Qc]=e,i.height=0,this[F3Y4j.J8Ec](i),i},box2d.b2DynamicTree.prototype.DestroyProxy=function(t){box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](t[F3Y4j.E4tc]()),this[F3Y4j.Y1Qc](t),this[F3Y4j.p1tc](t)},box2d.b2DynamicTree.prototype.MoveProxy=function(t,e,i){if(box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](t[F3Y4j.E4tc]()),t[F3Y4j.C7ic].Contains(e))return F3Y4j.h57c;this[F3Y4j.Y1Qc](t);var o=box2d[F3Y4j.V5tc]+box2d[F3Y4j.r4tc]*(F3Y4j.u5R(i[F3Y4j.W17c],F3Y4j.u42c)?i[F3Y4j.W17c]:-i[F3Y4j.W17c]),i=box2d[F3Y4j.V5tc]+box2d[F3Y4j.r4tc]*(F3Y4j.l5R(i[F3Y4j.I17c],F3Y4j.u42c)?i[F3Y4j.I17c]:-i[F3Y4j.I17c]);return t[F3Y4j.C7ic][F3Y4j.h6ic][F3Y4j.W17c]=F3Y4j.m5R(e[F3Y4j.h6ic][F3Y4j.W17c],o),t[F3Y4j.C7ic][F3Y4j.h6ic][F3Y4j.I17c]=F3Y4j.Y5R(e[F3Y4j.h6ic][F3Y4j.I17c],i),t[F3Y4j.C7ic][F3Y4j.P7ic][F3Y4j.W17c]=e[F3Y4j.P7ic][F3Y4j.W17c]+o,t[F3Y4j.C7ic][F3Y4j.P7ic][F3Y4j.I17c]=e[F3Y4j.P7ic][F3Y4j.I17c]+i,this[F3Y4j.J8Ec](t),F3Y4j.H3qc},box2d.b2DynamicTree.prototype.InsertLeaf=function(t){if(++this.m_insertionCount,F3Y4j.j5R(this[F3Y4j.u82c],F3Y4j.E3qc))return this[F3Y4j.u82c]=t,void(this.m_root.parent=F3Y4j.E3qc);for(var e=t[F3Y4j.C7ic],i=(e[F3Y4j.n1Jc](),this[F3Y4j.u82c]);F3Y4j.A5R(i[F3Y4j.E4tc](),F3Y4j.h57c);){var o,n,s=i[F3Y4j.a42c],r=i[F3Y4j.s32c],c=i[F3Y4j.C7ic][F3Y4j.w1qc](),a=box2d[F3Y4j.l07c][F3Y4j.R8Ec],a=(a[F3Y4j.e0Ec](i[F3Y4j.C7ic],e),a[F3Y4j.w1qc]()),h=F3Y4j.r5R(F3Y4j.B42c,a),a=F3Y4j.i5R(F3Y4j.B42c,a-c),c=box2d[F3Y4j.l07c][F3Y4j.g5Ec],u=s[F3Y4j.E4tc]()?(c[F3Y4j.e0Ec](e,s[F3Y4j.C7ic]),c[F3Y4j.w1qc]()+a):(c[F3Y4j.e0Ec](e,s[F3Y4j.C7ic]),o=s[F3Y4j.C7ic][F3Y4j.w1qc](),n=c[F3Y4j.w1qc](),F3Y4j.c5R(n,o)+a),c=r[F3Y4j.E4tc]()?(c[F3Y4j.e0Ec](e,r[F3Y4j.C7ic]),c[F3Y4j.w1qc]()+a):(c[F3Y4j.e0Ec](e,r[F3Y4j.C7ic]),o=r[F3Y4j.C7ic][F3Y4j.w1qc](),n=c[F3Y4j.w1qc](),F3Y4j.e5R(n,o,a));if(F3Y4j.L5R(h,u)&&F3Y4j.K5R(h,c))break;i=F3Y4j.M5R(u,c)?s:r}var l=i,d=l.parent,p=this[F3Y4j.s2Ec]();for(p.parent=d,p[F3Y4j.f6Qc]=F3Y4j.E3qc,p[F3Y4j.C7ic][F3Y4j.e0Ec](e,l[F3Y4j.C7ic]),p.height=l.height+1,d?(F3Y4j.s1R(d[F3Y4j.a42c],l)?d[F3Y4j.a42c]=p:d[F3Y4j.s32c]=p,p[F3Y4j.a42c]=l,p[F3Y4j.s32c]=t,l.parent=p,t.parent=p):(p[F3Y4j.a42c]=l,p[F3Y4j.s32c]=t,l.parent=p,t.parent=p,this[F3Y4j.u82c]=p),i=t.parent;F3Y4j.x1R(i,F3Y4j.E3qc);)s=(i=this[F3Y4j.m17c](i))[F3Y4j.a42c],r=i[F3Y4j.s32c],box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.O1R(s,F3Y4j.E3qc)),box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.B1R(r,F3Y4j.E3qc)),i.height=1+box2d[F3Y4j.h82c](s.height,r.height),i[F3Y4j.C7ic][F3Y4j.e0Ec](s[F3Y4j.C7ic],r[F3Y4j.C7ic]),i=i.parent},box2d.b2DynamicTree.prototype.RemoveLeaf=function(t){if(F3Y4j.u1R(t,this[F3Y4j.u82c]))this[F3Y4j.u82c]=F3Y4j.E3qc;else{var e=t.parent,i=e.parent,t=F3Y4j.l1R(e[F3Y4j.a42c],t)?e[F3Y4j.s32c]:e[F3Y4j.a42c];if(i){F3Y4j.m1R(i[F3Y4j.a42c],e)?i[F3Y4j.a42c]=t:i[F3Y4j.s32c]=t,t.parent=i,this[F3Y4j.p1tc](e);for(var o=i;o;){var n=(o=this[F3Y4j.m17c](o))[F3Y4j.a42c],s=o[F3Y4j.s32c];o[F3Y4j.C7ic][F3Y4j.e0Ec](n[F3Y4j.C7ic],s[F3Y4j.C7ic]),o.height=1+box2d[F3Y4j.h82c](n.height,s.height),o=o.parent}}else(this[F3Y4j.u82c]=t).parent=F3Y4j.E3qc,this[F3Y4j.p1tc](e)}},box2d.b2DynamicTree.prototype.Balance=function(t){if(box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.Y1R(t,null)),t[F3Y4j.E4tc]()||F3Y4j.j1R(t.height,2))return t;var e,i,o=t[F3Y4j.a42c],n=t[F3Y4j.s32c],s=F3Y4j.A1R(n.height,o.height);return F3Y4j.r1R(s,1)?(e=n[F3Y4j.a42c],i=n[F3Y4j.s32c],n[F3Y4j.a42c]=t,n.parent=t.parent,t.parent=n,F3Y4j.i1R(n.parent,null)?F3Y4j.c1R(n.parent.child1,t)?n.parent.child1=n:(box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.e1R(n.parent.child2,t)),n.parent.child2=n):this[F3Y4j.u82c]=n,F3Y4j.g1R(e.height,i.height)?(n[F3Y4j.s32c]=e,((t[F3Y4j.s32c]=i).parent=t)[F3Y4j.C7ic][F3Y4j.e0Ec](o[F3Y4j.C7ic],i[F3Y4j.C7ic]),n[F3Y4j.C7ic][F3Y4j.e0Ec](t[F3Y4j.C7ic],e[F3Y4j.C7ic]),t.height=1+box2d[F3Y4j.h82c](o.height,i.height),n.height=1+box2d[F3Y4j.h82c](t.height,e.height)):(n[F3Y4j.s32c]=i,((t[F3Y4j.s32c]=e).parent=t)[F3Y4j.C7ic][F3Y4j.e0Ec](o[F3Y4j.C7ic],e[F3Y4j.C7ic]),n[F3Y4j.C7ic][F3Y4j.e0Ec](t[F3Y4j.C7ic],i[F3Y4j.C7ic]),t.height=1+box2d[F3Y4j.h82c](o.height,e.height),n.height=1+box2d[F3Y4j.h82c](t.height,i.height)),n):s<-1?(e=o[F3Y4j.a42c],i=o[F3Y4j.s32c],o[F3Y4j.a42c]=t,o.parent=t.parent,t.parent=o,F3Y4j.k1R(o.parent,null)?F3Y4j.n1R(o.parent.child1,t)?o.parent.child1=o:(box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.P1R(o.parent.child2,t)),o.parent.child2=o):this[F3Y4j.u82c]=o,F3Y4j.V9R(e.height,i.height)?(o[F3Y4j.s32c]=e,((t[F3Y4j.a42c]=i).parent=t)[F3Y4j.C7ic][F3Y4j.e0Ec](n[F3Y4j.C7ic],i[F3Y4j.C7ic]),o[F3Y4j.C7ic][F3Y4j.e0Ec](t[F3Y4j.C7ic],e[F3Y4j.C7ic]),t.height=1+box2d[F3Y4j.h82c](n.height,i.height),o.height=1+box2d[F3Y4j.h82c](t.height,e.height)):(o[F3Y4j.s32c]=i,((t[F3Y4j.a42c]=e).parent=t)[F3Y4j.C7ic][F3Y4j.e0Ec](n[F3Y4j.C7ic],e[F3Y4j.C7ic]),o[F3Y4j.C7ic][F3Y4j.e0Ec](t[F3Y4j.C7ic],i[F3Y4j.C7ic]),t.height=1+box2d[F3Y4j.h82c](n.height,e.height),o.height=1+box2d[F3Y4j.h82c](t.height,i.height)),o):t},box2d.b2DynamicTree.prototype.GetHeight=function(){return F3Y4j.h9R(this[F3Y4j.u82c],null)?0:this[F3Y4j.u82c].height},box2d.b2DynamicTree.prototype.GetAreaRatio=function(){var i=function(t){if(F3Y4j.b9R(t,F3Y4j.E3qc))return F3Y4j.u42c;if(t[F3Y4j.E4tc]())return F3Y4j.u42c;var e=t[F3Y4j.C7ic][F3Y4j.w1qc]();return(e+=i(t[F3Y4j.a42c]))+i(t[F3Y4j.s32c])};if(F3Y4j.R9R(this[F3Y4j.u82c],F3Y4j.E3qc))return F3Y4j.u42c;var t=this[F3Y4j.u82c][F3Y4j.C7ic][F3Y4j.w1qc](),e=i(this[F3Y4j.u82c]);return F3Y4j.p9R(e,t)},box2d.b2DynamicTree.prototype.ComputeHeightNode=function(t){if(t[F3Y4j.E4tc]())return F3Y4j.u42c;var e=this[F3Y4j.F72c](t[F3Y4j.a42c]),t=this[F3Y4j.F72c](t[F3Y4j.s32c]);return F3Y4j.b42c+box2d[F3Y4j.h82c](e,t)},box2d.b2DynamicTree.prototype.ComputeHeight=function(){return this[F3Y4j.F72c](this[F3Y4j.u82c])},box2d.b2DynamicTree.prototype.ValidateStructure=function(t){if(!F3Y4j.y9R(t,F3Y4j.E3qc)){F3Y4j.Z9R(t,this[F3Y4j.u82c])&&box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.D9R(t.parent,F3Y4j.E3qc));var e=t,i=e[F3Y4j.a42c],o=e[F3Y4j.s32c];if(e[F3Y4j.E4tc]())return box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.F9R(i,F3Y4j.E3qc)),box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.t9R(o,F3Y4j.E3qc)),void(box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.T9R(e.height,0)));box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.v9R(i.parent,t)),box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.W9R(o.parent,t)),this[F3Y4j.V7Jc](i),this[F3Y4j.V7Jc](o)}},box2d.b2DynamicTree.prototype.ValidateMetrics=function(t){if(!F3Y4j.C9R(t,null)){var e=t[F3Y4j.a42c],i=t[F3Y4j.s32c];if(t[F3Y4j.E4tc]())return box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.U9R(e,null)),box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.d9R(i,null)),void(box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.X9R(t.height,0)));var o=e.height,n=i.height,o=1+box2d[F3Y4j.h82c](o,n),n=(box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.o4R(t.height,o)),box2d[F3Y4j.l07c][F3Y4j.g5Ec]);n[F3Y4j.e0Ec](e[F3Y4j.C7ic],i[F3Y4j.C7ic]),box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.q4R(n[F3Y4j.h6ic],t[F3Y4j.C7ic][F3Y4j.h6ic])),box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.z4R(n[F3Y4j.P7ic],t[F3Y4j.C7ic][F3Y4j.P7ic])),this[F3Y4j.Q0tc](e),this[F3Y4j.Q0tc](i)}},box2d.b2DynamicTree.prototype.Validate=function(){this[F3Y4j.V7Jc](this[F3Y4j.u82c]),this[F3Y4j.Q0tc](this[F3Y4j.u82c]),F3Y4j.u42c;for(var t=this[F3Y4j.I5Ec];F3Y4j.E4R(t,F3Y4j.E3qc);)t=t.parent,0;box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.f4R(this[F3Y4j.y57c](),this.ComputeHeight()))},box2d.b2DynamicTree.prototype.GetMaxBalance=function(){var t=this[F3Y4j.u82c],e=0;if(F3Y4j.H4R(t,null))return e;if(F3Y4j.I4R(t.height,1))return e;box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.w4R(t[F3Y4j.E4tc](),!1));var i=t[F3Y4j.a42c],t=t[F3Y4j.s32c],t=box2d[F3Y4j.O7Qc](F3Y4j.N4R(t.height,i.height));return box2d[F3Y4j.h82c](e,t)},box2d.b2DynamicTree.prototype.RebuildBottomUp=function(){this.Validate()},box2d.b2DynamicTree.prototype.ShiftOrigin=function(t){function n(t,e){var i,o;F3Y4j.J4R(t,null)||F3Y4j.S4R(t.height,1)||(box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.Q4R(t[F3Y4j.E4tc](),!1)),i=t[F3Y4j.a42c],o=t[F3Y4j.s32c],n(i,e),n(o,e),t[F3Y4j.C7ic][F3Y4j.h6ic][F3Y4j.f3Jc](e),t[F3Y4j.C7ic][F3Y4j.P7ic][F3Y4j.f3Jc](e))}n(this[F3Y4j.u82c],t)},goog[F3Y4j.a0ic](F3Y4j.k9qc),goog[F3Y4j.D02c]("box2d.b2Settings"),goog[F3Y4j.D02c]("box2d.b2DynamicTree"),box2d[F3Y4j.s9Jc]=function(){},box2d.b2Pair.prototype.proxyA=F3Y4j.E3qc,box2d.b2Pair.prototype.proxyB=F3Y4j.E3qc,box2d[F3Y4j.u07c]=function(){this[F3Y4j.x7tc]=new box2d[F3Y4j.l07c],this[F3Y4j.o2qc]=new Array,this[F3Y4j.m1Jc]=new Array},box2d.b2BroadPhase.prototype.m_tree=F3Y4j.E3qc,box2d.b2BroadPhase.prototype.m_proxyCount=F3Y4j.u42c,box2d.b2BroadPhase.prototype.m_moveCount=F3Y4j.u42c,box2d.b2BroadPhase.prototype.m_moveBuffer=F3Y4j.E3qc,box2d.b2BroadPhase.prototype.m_pairCount=F3Y4j.u42c,box2d.b2BroadPhase.prototype.m_pairBuffer=F3Y4j.E3qc,box2d.b2BroadPhase.prototype.CreateProxy=function(t,e){t=this[F3Y4j.x7tc][F3Y4j.m47c](t,e);return++this[F3Y4j.l57c],this[F3Y4j.x5Jc](t),t},box2d.b2BroadPhase.prototype.DestroyProxy=function(t){this.UnBufferMove(t),--this[F3Y4j.l57c],this[F3Y4j.x7tc][F3Y4j.Y0qc](t)},box2d.b2BroadPhase.prototype.MoveProxy=function(t,e,i){this[F3Y4j.x7tc][F3Y4j.H1ic](t,e,i)&&this[F3Y4j.x5Jc](t)},box2d.b2BroadPhase.prototype.TouchProxy=function(t){this[F3Y4j.x5Jc](t)},box2d.b2BroadPhase.prototype.GetFatAABB=function(t){return this[F3Y4j.x7tc][F3Y4j.G9Qc](t)},box2d.b2BroadPhase.prototype.GetUserData=function(t){return this[F3Y4j.x7tc][F3Y4j.M1ic](t)},box2d.b2BroadPhase.prototype.TestOverlap=function(t,e){t=this[F3Y4j.x7tc][F3Y4j.G9Qc](t),e=this[F3Y4j.x7tc][F3Y4j.G9Qc](e);return box2d[F3Y4j.n3ic](t,e)},box2d.b2BroadPhase.prototype.GetProxyCount=function(){return this[F3Y4j.l57c]},box2d.b2BroadPhase.prototype.GetTreeHeight=function(){return this[F3Y4j.x7tc][F3Y4j.y57c]()},box2d.b2BroadPhase.prototype.GetTreeBalance=function(){return this[F3Y4j.x7tc].GetMaxBalance()},box2d.b2BroadPhase.prototype.GetTreeQuality=function(){return this[F3Y4j.x7tc].GetAreaRatio()},box2d.b2BroadPhase.prototype.ShiftOrigin=function(t){this[F3Y4j.x7tc][F3Y4j.G5Jc](t)},box2d.b2BroadPhase.prototype.UpdatePairs=function(t){for(var i="m_pairCount",e=this[i]=0;F3Y4j.G4R(e,this[F3Y4j.x7Jc]);++e){var o,n,s=this[F3Y4j.o2qc][e];F3Y4j.a4R(s,null)||(n=(o=this)[F3Y4j.x7tc][F3Y4j.G9Qc](s),this[F3Y4j.x7tc][F3Y4j.b3ic](function(t){if(F3Y4j.L4R(t[F3Y4j.w9Jc],s[F3Y4j.w9Jc]))return!0;F3Y4j.K4R(o[i],o[F3Y4j.m1Jc].length)&&(o[F3Y4j.m1Jc][o[i]]=new box2d[F3Y4j.s9Jc]);var e=o[F3Y4j.m1Jc][o[i]];return F3Y4j.M4R(t[F3Y4j.w9Jc],s[F3Y4j.w9Jc])?(e[F3Y4j.H6ic]=t,e[F3Y4j.Q6ic]=s):(e[F3Y4j.H6ic]=s,e[F3Y4j.Q6ic]=t),++o[i],!0},n))}this[F3Y4j.x7Jc]=0,this[F3Y4j.m1Jc].length=this[i],this[F3Y4j.m1Jc].sort(box2d[F3Y4j.a8qc]);for(e=0;F3Y4j.s3R(e,this[i]);){var r=this[F3Y4j.m1Jc][e],c=this[F3Y4j.x7tc][F3Y4j.M1ic](r[F3Y4j.H6ic]),a=this[F3Y4j.x7tc][F3Y4j.M1ic](r[F3Y4j.Q6ic]);for(t.AddPair(c,a),++e;F3Y4j.x3R(e,this[i]);){var h=this[F3Y4j.m1Jc][e];if(F3Y4j.O3R(h[F3Y4j.H6ic][F3Y4j.w9Jc],r[F3Y4j.H6ic][F3Y4j.w9Jc])||F3Y4j.B3R(h[F3Y4j.Q6ic][F3Y4j.w9Jc],r[F3Y4j.Q6ic][F3Y4j.w9Jc]))break;++e}}},box2d.b2BroadPhase.prototype.Query=function(t,e){this[F3Y4j.x7tc][F3Y4j.b3ic](t,e)},box2d.b2BroadPhase.prototype.RayCast=function(t,e){this[F3Y4j.x7tc][F3Y4j.E1Jc](t,e)},box2d.b2BroadPhase.prototype.BufferMove=function(t){this[F3Y4j.o2qc][this[F3Y4j.x7Jc]]=t,++this[F3Y4j.x7Jc]},box2d.b2BroadPhase.prototype.UnBufferMove=function(t){t=this[F3Y4j.o2qc][F3Y4j.Z6Ec](t);this[F3Y4j.o2qc][t]=F3Y4j.E3qc},box2d[F3Y4j.a8qc]=function(t,e){return F3Y4j.u3R(t[F3Y4j.H6ic][F3Y4j.w9Jc],e[F3Y4j.H6ic][F3Y4j.w9Jc])?F3Y4j.l3R(t[F3Y4j.Q6ic][F3Y4j.w9Jc],e[F3Y4j.Q6ic][F3Y4j.w9Jc]):F3Y4j.m3R(t[F3Y4j.H6ic][F3Y4j.w9Jc],e[F3Y4j.H6ic][F3Y4j.w9Jc])},goog[F3Y4j.a0ic](F3Y4j.I6Qc),goog[F3Y4j.D02c]("box2d.b2Settings"),goog[F3Y4j.D02c]("box2d.b2Math"),goog[F3Y4j.D02c]("box2d.b2Collision"),goog[F3Y4j.D02c]("box2d.b2BroadPhase"),goog[F3Y4j.D02c]("box2d.b2ContactFactory"),box2d[F3Y4j.z97c]=function(){this[F3Y4j.V1qc]=new box2d[F3Y4j.u07c],this[F3Y4j.g9tc]=new box2d[F3Y4j.U37c](this[F3Y4j.f3qc])},box2d.b2ContactManager.prototype.m_broadPhase=F3Y4j.E3qc,box2d.b2ContactManager.prototype.m_contactList=F3Y4j.E3qc,box2d.b2ContactManager.prototype.m_contactCount=F3Y4j.u42c,box2d.b2ContactManager.prototype.m_contactFilter=box2d[F3Y4j.c7tc][F3Y4j.k42c],box2d.b2ContactManager.prototype.m_contactListener=box2d[F3Y4j.d7ic][F3Y4j.z4Jc],box2d.b2ContactManager.prototype.m_allocator=F3Y4j.E3qc,box2d.b2ContactManager.prototype.m_contactFactory=F3Y4j.E3qc,box2d.b2ContactManager.prototype.Destroy=function(t){var e=t[F3Y4j.s0ic](),i=t[F3Y4j.f0ic](),e=e[F3Y4j.z4tc](),i=i[F3Y4j.z4tc]();this[F3Y4j.E4qc]&&t[F3Y4j.Y5tc]()&&this[F3Y4j.E4qc][F3Y4j.x0ic](t),t[F3Y4j.w6qc]&&(t[F3Y4j.w6qc][F3Y4j.l3tc]=t[F3Y4j.l3tc]),t[F3Y4j.l3tc]&&(t[F3Y4j.l3tc][F3Y4j.w6qc]=t[F3Y4j.w6qc]),F3Y4j.Y3R(t,this[F3Y4j.U5Ec])&&(this[F3Y4j.U5Ec]=t[F3Y4j.l3tc]),t[F3Y4j.H3Jc][F3Y4j.S7tc]&&(t[F3Y4j.H3Jc][F3Y4j.S7tc][F3Y4j.S1qc]=t[F3Y4j.H3Jc][F3Y4j.S1qc]),t[F3Y4j.H3Jc][F3Y4j.S1qc]&&(t[F3Y4j.H3Jc][F3Y4j.S1qc][F3Y4j.S7tc]=t[F3Y4j.H3Jc][F3Y4j.S7tc]),F3Y4j.j3R(t[F3Y4j.H3Jc],e[F3Y4j.U5Ec])&&(e[F3Y4j.U5Ec]=t[F3Y4j.H3Jc][F3Y4j.S1qc]),t[F3Y4j.J4Jc][F3Y4j.S7tc]&&(t[F3Y4j.J4Jc][F3Y4j.S7tc][F3Y4j.S1qc]=t[F3Y4j.J4Jc][F3Y4j.S1qc]),t[F3Y4j.J4Jc][F3Y4j.S1qc]&&(t[F3Y4j.J4Jc][F3Y4j.S1qc][F3Y4j.S7tc]=t[F3Y4j.J4Jc][F3Y4j.S7tc]),F3Y4j.A3R(t[F3Y4j.J4Jc],i[F3Y4j.U5Ec])&&(i[F3Y4j.U5Ec]=t[F3Y4j.J4Jc][F3Y4j.S1qc]),this[F3Y4j.g9tc][F3Y4j.V3Qc](t),--this[F3Y4j.J32c]},box2d.b2ContactManager.prototype.Collide=function(){for(var t=this[F3Y4j.U5Ec];t;){var e=t[F3Y4j.s0ic](),i=t[F3Y4j.f0ic](),o=t[F3Y4j.R32c](),n=t[F3Y4j.j32c](),s=e[F3Y4j.z4tc](),r=i[F3Y4j.z4tc]();if(F3Y4j.r3R(t[F3Y4j.c8tc],box2d[F3Y4j.P7Qc][F3Y4j.p8Jc])){if(F3Y4j.i3R(r[F3Y4j.a2ic](s),F3Y4j.h57c)){var c=t,t=c[F3Y4j.l3tc];this[F3Y4j.V3Qc](c);continue}if(this[F3Y4j.H5qc]&&F3Y4j.c3R(this[F3Y4j.H5qc][F3Y4j.a2ic](e,i),F3Y4j.h57c)){t=(c=t)[F3Y4j.l3tc],this[F3Y4j.V3Qc](c);continue}t[F3Y4j.c8tc]&=~box2d[F3Y4j.P7Qc][F3Y4j.p8Jc]}var s=s[F3Y4j.y5Gc]()&&F3Y4j.e3R(s[F3Y4j.N37c],box2d[F3Y4j.T0Ec][F3Y4j.u0Jc]),r=r[F3Y4j.y5Gc]()&&F3Y4j.g3R(r[F3Y4j.N37c],box2d[F3Y4j.T0Ec][F3Y4j.u0Jc]);F3Y4j.k3R(s,F3Y4j.h57c)&&F3Y4j.n3R(r,F3Y4j.h57c)?t=t[F3Y4j.l3tc]:(s=e[F3Y4j.l67c][o][F3Y4j.L7Ec],r=i[F3Y4j.l67c][n][F3Y4j.L7Ec],e=this[F3Y4j.V1qc][F3Y4j.S27c](s,r),F3Y4j.P3R(e,F3Y4j.h57c)?(t=(c=t)[F3Y4j.l3tc],this[F3Y4j.V3Qc](c)):(t[F3Y4j.l32c](this[F3Y4j.E4qc]),t=t[F3Y4j.l3tc]))}},box2d.b2ContactManager.prototype.FindNewContacts=function(){this[F3Y4j.V1qc].UpdatePairs(this)},box2d.b2ContactManager.prototype.AddPair=function(t,e){box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.V7R(t,box2d[F3Y4j.O8ic])),box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.h7R(e,box2d[F3Y4j.O8ic]));var i=t[F3Y4j.A9Ec],o=e[F3Y4j.A9Ec],n=t[F3Y4j.s3ic],s=e[F3Y4j.s3ic],r=i[F3Y4j.z4tc](),t=o[F3Y4j.z4tc]();if(!F3Y4j.R7R(r,t)){for(var c=t[F3Y4j.K7Qc]();c;){if(F3Y4j.b7R(c[F3Y4j.C62c],r)){var a=c[F3Y4j.F7Ec][F3Y4j.s0ic](),h=c[F3Y4j.F7Ec][F3Y4j.f0ic](),u=c[F3Y4j.F7Ec][F3Y4j.R32c](),l=c[F3Y4j.F7Ec][F3Y4j.j32c]();if(F3Y4j.p7R(a,i)&&F3Y4j.y7R(h,o)&&F3Y4j.Z7R(u,n)&&F3Y4j.D7R(l,s))return;if(F3Y4j.F7R(a,o)&&F3Y4j.t7R(h,i)&&F3Y4j.T7R(u,s)&&F3Y4j.v7R(l,n))return}c=c[F3Y4j.S1qc]}F3Y4j.W7R(t[F3Y4j.a2ic](r),F3Y4j.h57c)||this[F3Y4j.H5qc]&&F3Y4j.C7R(this[F3Y4j.H5qc][F3Y4j.a2ic](i,o),F3Y4j.h57c)||(e=this[F3Y4j.g9tc][F3Y4j.R1ic](i,n,o,s),F3Y4j.U7R(e,F3Y4j.E3qc)||(i=e[F3Y4j.s0ic](),o=e[F3Y4j.f0ic](),n=e[F3Y4j.R32c](),s=e[F3Y4j.j32c](),r=i[F3Y4j.L1qc],t=o[F3Y4j.L1qc],e[F3Y4j.w6qc]=F3Y4j.E3qc,e[F3Y4j.l3tc]=this[F3Y4j.U5Ec],F3Y4j.d7R(this[F3Y4j.U5Ec],F3Y4j.E3qc)&&(this[F3Y4j.U5Ec][F3Y4j.w6qc]=e),((this[F3Y4j.U5Ec]=e)[F3Y4j.H3Jc][F3Y4j.F7Ec]=e)[F3Y4j.H3Jc][F3Y4j.C62c]=t,e[F3Y4j.H3Jc][F3Y4j.S7tc]=F3Y4j.E3qc,e[F3Y4j.H3Jc][F3Y4j.S1qc]=r[F3Y4j.U5Ec],F3Y4j.X7R(r[F3Y4j.U5Ec],F3Y4j.E3qc)&&(r[F3Y4j.U5Ec][F3Y4j.S7tc]=e[F3Y4j.H3Jc]),r[F3Y4j.U5Ec]=e[F3Y4j.H3Jc],(e[F3Y4j.J4Jc][F3Y4j.F7Ec]=e)[F3Y4j.J4Jc][F3Y4j.C62c]=r,e[F3Y4j.J4Jc][F3Y4j.S7tc]=F3Y4j.E3qc,e[F3Y4j.J4Jc][F3Y4j.S1qc]=t[F3Y4j.U5Ec],F3Y4j.o6R(t[F3Y4j.U5Ec],F3Y4j.E3qc)&&(t[F3Y4j.U5Ec][F3Y4j.S7tc]=e[F3Y4j.J4Jc]),t[F3Y4j.U5Ec]=e[F3Y4j.J4Jc],F3Y4j.q6R(i[F3Y4j.V5Jc](),F3Y4j.h57c)&&F3Y4j.z6R(o[F3Y4j.V5Jc](),F3Y4j.h57c)&&(r[F3Y4j.s7Ec](F3Y4j.H3qc),t[F3Y4j.s7Ec](F3Y4j.H3qc)),++this[F3Y4j.J32c]))}},goog[F3Y4j.a0ic](F3Y4j.P6tc),goog[F3Y4j.D02c]("box2d.b2Settings"),goog[F3Y4j.D02c]("box2d.b2Math"),goog[F3Y4j.D02c]("box2d.b2Joint"),box2d[F3Y4j.y3tc][F3Y4j.R1ic]=function(t,e){var i=F3Y4j.E3qc;switch(t[F3Y4j.r0Jc]){case box2d[F3Y4j.T3Jc][F3Y4j.g3Jc]:i=new box2d[F3Y4j.i87c](F3Y4j.E6R(t,box2d[F3Y4j.T47c])?t:F3Y4j.E3qc);break;case box2d[F3Y4j.T3Jc][F3Y4j.z8tc]:i=new box2d[F3Y4j.C2ic](F3Y4j.f6R(t,box2d[F3Y4j.P3ic])?t:F3Y4j.E3qc);break;case box2d[F3Y4j.T3Jc][F3Y4j.M3Ec]:i=new box2d[F3Y4j.d5Jc](F3Y4j.H6R(t,box2d[F3Y4j.Q2ic])?t:F3Y4j.E3qc);break;case box2d[F3Y4j.T3Jc][F3Y4j.Y7Ec]:i=new box2d[F3Y4j.y3Qc](F3Y4j.I6R(t,box2d[F3Y4j.s5Ec])?t:F3Y4j.E3qc);break;case box2d[F3Y4j.T3Jc][F3Y4j.u1Ec]:i=new box2d[F3Y4j.R02c](F3Y4j.w6R(t,box2d[F3Y4j.G3tc])?t:F3Y4j.E3qc);break;case box2d[F3Y4j.T3Jc][F3Y4j.d47c]:i=new box2d[F3Y4j.I5qc](F3Y4j.N6R(t,box2d[F3Y4j.f5ic])?t:F3Y4j.E3qc);break;case box2d[F3Y4j.T3Jc][F3Y4j.o5Qc]:i=new box2d[F3Y4j.V3Ec](F3Y4j.J6R(t,box2d[F3Y4j.b5Jc])?t:F3Y4j.E3qc);break;case box2d[F3Y4j.T3Jc][F3Y4j.G5Qc]:i=new box2d[F3Y4j.R9ic](F3Y4j.S6R(t,box2d[F3Y4j.A0Jc])?t:F3Y4j.E3qc);break;case box2d[F3Y4j.T3Jc][F3Y4j.F67c]:i=new box2d[F3Y4j.d7Jc](F3Y4j.Q6R(t,box2d[F3Y4j.F8Ec])?t:F3Y4j.E3qc);break;case box2d[F3Y4j.T3Jc][F3Y4j.h2Jc]:i=new box2d[F3Y4j.F7ic](F3Y4j.G6R(t,box2d[F3Y4j.u8tc])?t:F3Y4j.E3qc);break;case box2d[F3Y4j.T3Jc][F3Y4j.W67c]:i=new box2d[F3Y4j.z7Qc](F3Y4j.a6R(t,box2d[F3Y4j.L27c])?t:F3Y4j.E3qc);break;case box2d[F3Y4j.T3Jc][F3Y4j.g0Ec]:i=new box2d[F3Y4j.E5Gc](F3Y4j.L6R(t,box2d[F3Y4j.i4ic])?t:F3Y4j.E3qc);break;default:box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.h57c)}return i},box2d[F3Y4j.y3tc][F3Y4j.V3Qc]=function(t,e){},goog[F3Y4j.a0ic](F3Y4j.t62c),goog[F3Y4j.D02c]("box2d.b2Settings"),box2d[F3Y4j.C8qc]=function(t,e,i){this[F3Y4j.K4ic]=t,this[F3Y4j.u0ic]=e,this[F3Y4j.n02c]=i},box2d.b2Color.prototype.r=F3Y4j.T8Qc,box2d.b2Color.prototype.g=F3Y4j.T8Qc,box2d.b2Color.prototype.b=F3Y4j.T8Qc,box2d.b2Color.prototype.SetRGB=function(t,e,i){return this[F3Y4j.K4ic]=t,this[F3Y4j.u0ic]=e,this[F3Y4j.n02c]=i,this},box2d.b2Color.prototype.MakeStyleString=function(t){var e=Math.round(Math.max(F3Y4j.u42c,Math.min(F3Y4j.m9Qc,F3Y4j.K6R(this[F3Y4j.K4ic],F3Y4j.m9Qc)))),i=Math.round(Math.max(F3Y4j.u42c,Math.min(F3Y4j.m9Qc,F3Y4j.M6R(this[F3Y4j.u0ic],F3Y4j.m9Qc)))),o=Math.round(Math.max(F3Y4j.u42c,Math.min(F3Y4j.m9Qc,F3Y4j.s0R(this[F3Y4j.n02c],F3Y4j.m9Qc)))),t=typeof t===F3Y4j.F1Ec?F3Y4j.O5Jc:Math.max(F3Y4j.u42c,Math.min(F3Y4j.b42c,t));return box2d[F3Y4j.C8qc][F3Y4j.W6tc](e,i,o,t)},box2d[F3Y4j.C8qc][F3Y4j.W6tc]=function(t,e,i,o){return F3Y4j.x0R(o,F3Y4j.b42c)?"rgba("+t+","+e+","+i+","+o+")":"rgb("+t+","+e+","+i+")"},box2d[F3Y4j.C8qc][F3Y4j.u5Qc]=new box2d[F3Y4j.C8qc](F3Y4j.b42c,F3Y4j.u42c,F3Y4j.u42c),box2d[F3Y4j.C8qc][F3Y4j.t1qc]=new box2d[F3Y4j.C8qc](F3Y4j.u42c,F3Y4j.b42c,F3Y4j.u42c),box2d[F3Y4j.C8qc][F3Y4j.L2Qc]=new box2d[F3Y4j.C8qc](F3Y4j.u42c,F3Y4j.u42c,F3Y4j.b42c),box2d[F3Y4j.D3Ec]={e_none:F3Y4j.u42c,e_shapeBit:1,e_jointBit:2,e_aabbBit:4,e_pairBit:8,e_centerOfMassBit:16,e_controllerBit:32,e_all:63},goog[F3Y4j.H7Ec](box2d[F3Y4j.D3Ec],F3Y4j.D8Qc,box2d[F3Y4j.D3Ec][F3Y4j.z4Ec]),goog[F3Y4j.H7Ec](box2d[F3Y4j.D3Ec],F3Y4j.Q1Ec,box2d[F3Y4j.D3Ec][F3Y4j.L1tc]),goog[F3Y4j.H7Ec](box2d[F3Y4j.D3Ec],F3Y4j.C9Jc,box2d[F3Y4j.D3Ec][F3Y4j.f4Qc]),goog[F3Y4j.H7Ec](box2d[F3Y4j.D3Ec],F3Y4j.G3Jc,box2d[F3Y4j.D3Ec][F3Y4j.k7ic]),goog[F3Y4j.H7Ec](box2d[F3Y4j.D3Ec],F3Y4j.e57c,box2d[F3Y4j.D3Ec][F3Y4j.u2Jc]),goog[F3Y4j.H7Ec](box2d[F3Y4j.D3Ec],F3Y4j.H4Qc,box2d[F3Y4j.D3Ec][F3Y4j.K1Jc]),goog[F3Y4j.H7Ec](box2d[F3Y4j.D3Ec],F3Y4j.O3qc,box2d[F3Y4j.D3Ec][F3Y4j.Y8tc]),goog[F3Y4j.H7Ec](box2d[F3Y4j.D3Ec],F3Y4j.g2tc,box2d[F3Y4j.D3Ec][F3Y4j.k0qc]),box2d[F3Y4j.e5ic]=function(){},box2d.b2Draw.prototype.m_drawFlags=box2d[F3Y4j.D3Ec][F3Y4j.z4Ec],box2d.b2Draw.prototype.SetFlags=function(t){this[F3Y4j.Y3Qc]=t},box2d.b2Draw.prototype.GetFlags=function(){return this[F3Y4j.Y3Qc]},box2d.b2Draw.prototype.AppendFlags=function(t){this[F3Y4j.Y3Qc]|=t},box2d.b2Draw.prototype.ClearFlags=function(t){this[F3Y4j.Y3Qc]&=~t},box2d.b2Draw.prototype.PushTransform=function(t){},box2d.b2Draw.prototype.PopTransform=function(t){},box2d.b2Draw.prototype.DrawPolygon=function(t,e,i){},box2d.b2Draw.prototype.DrawSolidPolygon=function(t,e,i){},box2d.b2Draw.prototype.DrawCircle=function(t,e,i){},box2d.b2Draw.prototype.DrawSolidCircle=function(t,e,i,o){},box2d.b2Draw.prototype.DrawSegment=function(t,e,i){},box2d.b2Draw.prototype.DrawTransform=function(t){},goog[F3Y4j.a0ic](F3Y4j.E7tc),goog[F3Y4j.D02c]("box2d.b2Settings"),goog[F3Y4j.D02c]("box2d.b2Collision"),goog[F3Y4j.D02c]("box2d.b2Shape"),box2d[F3Y4j.A2ic]=function(){},box2d.b2Filter.prototype.categoryBits=1,box2d.b2Filter.prototype.maskBits=65535,box2d.b2Filter.prototype.groupIndex=F3Y4j.u42c,box2d.b2Filter.prototype.Clone=function(){return(new box2d[F3Y4j.A2ic])[F3Y4j.j9Qc](this)},box2d.b2Filter.prototype.Copy=function(t){return box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.O0R(this,t)),this[F3Y4j.j72c]=t[F3Y4j.j72c],this[F3Y4j.h0qc]=t[F3Y4j.h0qc],this[F3Y4j.e67c]=t[F3Y4j.e67c],this},box2d[F3Y4j.W9Jc]=function(){this[F3Y4j.W4tc]=new box2d[F3Y4j.A2ic]},box2d.b2FixtureDef.prototype.shape=F3Y4j.E3qc,box2d.b2FixtureDef.prototype.userData=F3Y4j.E3qc,box2d.b2FixtureDef.prototype.friction=F3Y4j.G8Qc,box2d.b2FixtureDef.prototype.restitution=F3Y4j.u42c,box2d.b2FixtureDef.prototype.density=F3Y4j.u42c,box2d.b2FixtureDef.prototype.isSensor=F3Y4j.h57c,box2d.b2FixtureDef.prototype.filter=F3Y4j.E3qc,box2d[F3Y4j.O8ic]=function(){this[F3Y4j.C7ic]=new box2d[F3Y4j.p02c]},box2d.b2FixtureProxy.prototype.aabb=F3Y4j.E3qc,box2d.b2FixtureProxy.prototype.fixture=F3Y4j.E3qc,box2d.b2FixtureProxy.prototype.childIndex=F3Y4j.u42c,box2d.b2FixtureProxy.prototype.proxy=F3Y4j.E3qc,box2d[F3Y4j.O8ic][F3Y4j.T7qc]=function(t){return box2d[F3Y4j.T0Jc](t,function(t){return new box2d[F3Y4j.O8ic]})},box2d[F3Y4j.l2tc]=function(){this[F3Y4j.l57c]=F3Y4j.u42c,this[F3Y4j.f3ic]=new box2d[F3Y4j.A2ic]},box2d.b2Fixture.prototype.m_density=F3Y4j.u42c,box2d.b2Fixture.prototype.m_next=F3Y4j.E3qc,box2d.b2Fixture.prototype.m_body=F3Y4j.E3qc,box2d.b2Fixture.prototype.m_shape=F3Y4j.E3qc,box2d.b2Fixture.prototype.m_friction=F3Y4j.u42c,box2d.b2Fixture.prototype.m_restitution=F3Y4j.u42c,box2d.b2Fixture.prototype.m_proxies=F3Y4j.E3qc,box2d.b2Fixture.prototype.m_proxyCount=F3Y4j.u42c,box2d.b2Fixture.prototype.m_filter=F3Y4j.E3qc,box2d.b2Fixture.prototype.m_isSensor=F3Y4j.h57c,box2d.b2Fixture.prototype.m_userData=F3Y4j.E3qc,box2d.b2Fixture.prototype.GetType=function(){return this[F3Y4j.i8Jc][F3Y4j.j6Jc]()},box2d.b2Fixture.prototype.GetShape=function(){return this[F3Y4j.i8Jc]},box2d.b2Fixture.prototype.IsSensor=function(){return this[F3Y4j.j1ic]},box2d.b2Fixture.prototype.GetFilterData=function(){return this[F3Y4j.f3ic]},box2d.b2Fixture.prototype.GetUserData=function(){return this[F3Y4j.j9qc]},box2d.b2Fixture.prototype.SetUserData=function(t){this[F3Y4j.j9qc]=t},box2d.b2Fixture.prototype.GetBody=function(){return this[F3Y4j.L1qc]},box2d.b2Fixture.prototype.GetNext=function(){return this[F3Y4j.l3tc]},box2d.b2Fixture.prototype.SetDensity=function(t){this[F3Y4j.W8ic]=t},box2d.b2Fixture.prototype.GetDensity=function(){return this[F3Y4j.W8ic]},box2d.b2Fixture.prototype.GetFriction=function(){return this[F3Y4j.m0qc]},box2d.b2Fixture.prototype.SetFriction=function(t){this[F3Y4j.m0qc]=t},box2d.b2Fixture.prototype.GetRestitution=function(){return this[F3Y4j.F2Ec]},box2d.b2Fixture.prototype.SetRestitution=function(t){this[F3Y4j.F2Ec]=t},box2d.b2Fixture.prototype.TestPoint=function(t){return this[F3Y4j.i8Jc][F3Y4j.P72c](this[F3Y4j.L1qc][F3Y4j.L92c](),t)},box2d.b2Fixture.prototype.RayCast=function(t,e,i){return this[F3Y4j.i8Jc][F3Y4j.E1Jc](t,e,this[F3Y4j.L1qc][F3Y4j.L92c](),i)},box2d.b2Fixture.prototype.GetMassData=function(t){return t=t||new box2d[F3Y4j.L8tc],this[F3Y4j.i8Jc][F3Y4j.H0tc](t,this[F3Y4j.W8ic]),t},box2d.b2Fixture.prototype.GetAABB=function(t){return box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.B0R(F3Y4j.u42c,t)&&F3Y4j.u0R(t,this[F3Y4j.l57c])),this[F3Y4j.l67c][t][F3Y4j.C7ic]},box2d.b2Fixture.prototype.Create=function(t,e){this[F3Y4j.j9qc]=e[F3Y4j.f6Qc],this[F3Y4j.m0qc]=e[F3Y4j.z3tc],this[F3Y4j.F2Ec]=e[F3Y4j.L1Jc],this[F3Y4j.L1qc]=t,this[F3Y4j.l3tc]=F3Y4j.E3qc,this[F3Y4j.f3ic][F3Y4j.j9Qc](e[F3Y4j.W4tc]),this[F3Y4j.j1ic]=e.isSensor,this[F3Y4j.i8Jc]=e[F3Y4j.T2Ec][F3Y4j.N07c](),this[F3Y4j.l67c]=box2d[F3Y4j.O8ic][F3Y4j.T7qc](this[F3Y4j.i8Jc][F3Y4j.c5tc]()),this[F3Y4j.l57c]=F3Y4j.u42c,this[F3Y4j.W8ic]=e[F3Y4j.K0ic]},box2d.b2Fixture.prototype.Destroy=function(){box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.l0R(this[F3Y4j.l57c],F3Y4j.u42c)),this[F3Y4j.i8Jc]=F3Y4j.E3qc},box2d.b2Fixture.prototype.CreateProxies=function(t,e){box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.m0R(this[F3Y4j.l57c],F3Y4j.u42c)),this[F3Y4j.l57c]=this[F3Y4j.i8Jc][F3Y4j.c5tc]();for(var i=F3Y4j.u42c;F3Y4j.Y0R(i,this[F3Y4j.l57c]);++i){var o=this[F3Y4j.l67c][i];this[F3Y4j.i8Jc][F3Y4j.q2Qc](o[F3Y4j.C7ic],e,i),o[F3Y4j.L7Ec]=t[F3Y4j.m47c](o[F3Y4j.C7ic],o),o[F3Y4j.A9Ec]=this,o[F3Y4j.s3ic]=i}},box2d.b2Fixture.prototype.DestroyProxies=function(t){for(var e=F3Y4j.u42c;F3Y4j.j0R(e,this[F3Y4j.l57c]);++e){var i=this[F3Y4j.l67c][e];t[F3Y4j.Y0qc](i[F3Y4j.L7Ec]),i[F3Y4j.L7Ec]=F3Y4j.E3qc}this[F3Y4j.l57c]=F3Y4j.u42c},box2d.b2Fixture.prototype.Synchronize=function(t,e,i){if(!F3Y4j.A0R(this[F3Y4j.l57c],F3Y4j.u42c))for(var o=F3Y4j.u42c;F3Y4j.r0R(o,this[F3Y4j.l57c]);++o){var n=this[F3Y4j.l67c][o],s=box2d.b2Fixture.prototype.Synchronize.s_aabb1,r=box2d.b2Fixture.prototype.Synchronize.s_aabb2,s=(this[F3Y4j.i8Jc][F3Y4j.q2Qc](s,e,o),this[F3Y4j.i8Jc][F3Y4j.q2Qc](r,i,o),n[F3Y4j.C7ic][F3Y4j.e0Ec](s,r),box2d[F3Y4j.J97c](i[F3Y4j.Z3ic],e[F3Y4j.Z3ic],box2d.b2Fixture.prototype.Synchronize.s_displacement));t[F3Y4j.H1ic](n[F3Y4j.L7Ec],n[F3Y4j.C7ic],s)}},box2d.b2Fixture.prototype.Synchronize.s_aabb1=new box2d[F3Y4j.p02c],box2d.b2Fixture.prototype.Synchronize.s_aabb2=new box2d[F3Y4j.p02c],box2d.b2Fixture.prototype.Synchronize.s_displacement=new box2d[F3Y4j.b17c],box2d.b2Fixture.prototype.SetFilterData=function(t){this[F3Y4j.f3ic][F3Y4j.j9Qc](t),this[F3Y4j.T4Jc]()},box2d.b2Fixture.prototype.Refilter=function(){if(!this[F3Y4j.L1qc]){for(var t=this[F3Y4j.L1qc][F3Y4j.K7Qc]();t;){var e=t[F3Y4j.F7Ec],i=e[F3Y4j.s0ic](),o=e[F3Y4j.f0ic]();(F3Y4j.i0R(i,this)||F3Y4j.c0R(o,this))&&e[F3Y4j.R0tc](),t=t[F3Y4j.S1qc]}var n=this[F3Y4j.L1qc][F3Y4j.A47c]();if(!F3Y4j.e0R(n,F3Y4j.E3qc))for(var s=n[F3Y4j.A8Qc][F3Y4j.V1qc],r=F3Y4j.u42c;F3Y4j.g0R(r,this[F3Y4j.l57c]);++r)s[F3Y4j.j2ic](this[F3Y4j.l67c][r][F3Y4j.L7Ec])}},box2d.b2Fixture.prototype.SetSensor=function(t){F3Y4j.k0R(t,this[F3Y4j.j1ic])&&(this[F3Y4j.L1qc][F3Y4j.s7Ec](F3Y4j.H3qc),this[F3Y4j.j1ic]=t)},box2d.b2Fixture.prototype.Dump=function(t){box2d[F3Y4j.l2Jc]&&(box2d[F3Y4j.q7ic]("    /*box2d.b2FixtureDef*/ var fd = new box2d.b2FixtureDef();\n"),box2d[F3Y4j.q7ic]("    fd.friction = %.15f;\n",this[F3Y4j.m0qc]),box2d[F3Y4j.q7ic]("    fd.restitution = %.15f;\n",this[F3Y4j.F2Ec]),box2d[F3Y4j.q7ic]("    fd.density = %.15f;\n",this[F3Y4j.W8ic]),box2d[F3Y4j.q7ic]("    fd.isSensor = %s;\n",this[F3Y4j.j1ic]?F3Y4j.H1Ec:F3Y4j.y07c),box2d[F3Y4j.q7ic]("    fd.filter.categoryBits = %d;\n",this[F3Y4j.f3ic][F3Y4j.j72c]),box2d[F3Y4j.q7ic]("    fd.filter.maskBits = %d;\n",this[F3Y4j.f3ic][F3Y4j.h0qc]),box2d[F3Y4j.q7ic]("    fd.filter.groupIndex = %d;\n",this[F3Y4j.f3ic][F3Y4j.e67c]),this[F3Y4j.i8Jc][F3Y4j.Z6Qc](),box2d[F3Y4j.q7ic](F3Y4j.h2Ec),box2d[F3Y4j.q7ic]("    fd.shape = shape;\n"),box2d[F3Y4j.q7ic](F3Y4j.h2Ec),box2d[F3Y4j.q7ic]("    bodies[%d].CreateFixture(fd);\n",t))},goog[F3Y4j.a0ic](F3Y4j.q57c),goog[F3Y4j.D02c]("box2d.b2Settings"),goog[F3Y4j.D02c]("box2d.b2Math"),goog[F3Y4j.D02c]("box2d.b2Fixture"),box2d[F3Y4j.T0Ec]={b2_unknown:-F3Y4j.b42c,b2_staticBody:F3Y4j.u42c,b2_kinematicBody:F3Y4j.b42c,b2_dynamicBody:F3Y4j.B42c,b2_bulletBody:F3Y4j.R42c},goog[F3Y4j.H7Ec](box2d[F3Y4j.T0Ec],F3Y4j.j6Ec,box2d[F3Y4j.T0Ec][F3Y4j.a8Ec]),goog[F3Y4j.H7Ec](box2d[F3Y4j.T0Ec],F3Y4j.l4Qc,box2d[F3Y4j.T0Ec][F3Y4j.u0Jc]),goog[F3Y4j.H7Ec](box2d[F3Y4j.T0Ec],F3Y4j.f7qc,box2d[F3Y4j.T0Ec][F3Y4j.X5tc]),goog[F3Y4j.H7Ec](box2d[F3Y4j.T0Ec],F3Y4j.a0tc,box2d[F3Y4j.T0Ec][F3Y4j.c6ic]),goog[F3Y4j.H7Ec](box2d[F3Y4j.T0Ec],F3Y4j.N32c,box2d[F3Y4j.T0Ec][F3Y4j.O1ic]),box2d[F3Y4j.G6Ec]=function(){this[F3Y4j.c3Qc]=new box2d[F3Y4j.b17c](F3Y4j.u42c,F3Y4j.u42c),this[F3Y4j.o6qc]=new box2d[F3Y4j.b17c](F3Y4j.u42c,F3Y4j.u42c)},box2d.b2BodyDef.prototype.type=box2d[F3Y4j.T0Ec][F3Y4j.u0Jc],box2d.b2BodyDef.prototype.position=F3Y4j.E3qc,box2d.b2BodyDef.prototype.angle=F3Y4j.u42c,box2d.b2BodyDef.prototype.linearVelocity=F3Y4j.E3qc,box2d.b2BodyDef.prototype.angularVelocity=F3Y4j.u42c,box2d.b2BodyDef.prototype.linearDamping=F3Y4j.u42c,box2d.b2BodyDef.prototype.angularDamping=F3Y4j.u42c,box2d.b2BodyDef.prototype.allowSleep=F3Y4j.H3qc,box2d.b2BodyDef.prototype.awake=F3Y4j.H3qc,box2d.b2BodyDef.prototype.fixedRotation=F3Y4j.h57c,box2d.b2BodyDef.prototype.bullet=F3Y4j.h57c,box2d.b2BodyDef.prototype.active=F3Y4j.H3qc,box2d.b2BodyDef.prototype.userData=F3Y4j.E3qc,box2d.b2BodyDef.prototype.gravityScale=F3Y4j.b42c,box2d[F3Y4j.L4Ec]={e_none:F3Y4j.u42c,e_islandFlag:1,e_awakeFlag:2,e_autoSleepFlag:4,e_bulletFlag:8,e_fixedRotationFlag:16,e_activeFlag:32,e_toiFlag:64},goog[F3Y4j.H7Ec](box2d[F3Y4j.L4Ec],F3Y4j.D8Qc,box2d[F3Y4j.L4Ec][F3Y4j.z4Ec]),goog[F3Y4j.H7Ec](box2d[F3Y4j.L4Ec],F3Y4j.K57c,box2d[F3Y4j.L4Ec][F3Y4j.T5Ec]),goog[F3Y4j.H7Ec](box2d[F3Y4j.L4Ec],F3Y4j.x9Jc,box2d[F3Y4j.L4Ec][F3Y4j.n9Jc]),goog[F3Y4j.H7Ec](box2d[F3Y4j.L4Ec],F3Y4j.X77c,box2d[F3Y4j.L4Ec][F3Y4j.X2Qc]),goog[F3Y4j.H7Ec](box2d[F3Y4j.L4Ec],F3Y4j.V0Ec,box2d[F3Y4j.L4Ec][F3Y4j.f17c]),goog[F3Y4j.H7Ec](box2d[F3Y4j.L4Ec],F3Y4j.i5Qc,box2d[F3Y4j.L4Ec][F3Y4j.q0tc]),goog[F3Y4j.H7Ec](box2d[F3Y4j.L4Ec],F3Y4j.q7Jc,box2d[F3Y4j.L4Ec][F3Y4j.n9ic]),goog[F3Y4j.H7Ec](box2d[F3Y4j.L4Ec],F3Y4j.Y7qc,box2d[F3Y4j.L4Ec][F3Y4j.M77c]),box2d[F3Y4j.u37c]=function(t,e){this[F3Y4j.K6Ec]=new box2d[F3Y4j.J5ic],this[F3Y4j.X02c]=new box2d[F3Y4j.J5ic],this[F3Y4j.G4qc]=new box2d[F3Y4j.L22c],this[F3Y4j.m1Qc]=new box2d[F3Y4j.L22c],this[F3Y4j.k2qc]=new box2d[F3Y4j.b17c],this[F3Y4j.d3Qc]=new box2d[F3Y4j.b17c],this[F3Y4j.G0qc]=new box2d[F3Y4j.b17c],box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](t[F3Y4j.c3Qc][F3Y4j.A5Qc]()),box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](t[F3Y4j.o6qc][F3Y4j.A5Qc]()),box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](box2d[F3Y4j.i9Ec](t[F3Y4j.Y5Ec])),box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](box2d[F3Y4j.i9Ec](t[F3Y4j.T42c])),box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](box2d[F3Y4j.i9Ec](t[F3Y4j.S8Jc])&&F3Y4j.n0R(t[F3Y4j.S8Jc],F3Y4j.u42c)),box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](box2d[F3Y4j.i9Ec](t[F3Y4j.j3Qc])&&F3Y4j.P0R(t[F3Y4j.j3Qc],F3Y4j.u42c)),box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](box2d[F3Y4j.i9Ec](t[F3Y4j.y3Ec])&&F3Y4j.V2R(t[F3Y4j.y3Ec],F3Y4j.u42c)),this[F3Y4j.c8tc]=box2d[F3Y4j.L4Ec][F3Y4j.z4Ec],t[F3Y4j.J7tc]&&(this[F3Y4j.c8tc]|=box2d[F3Y4j.L4Ec][F3Y4j.f17c]),t[F3Y4j.O5qc]&&(this[F3Y4j.c8tc]|=box2d[F3Y4j.L4Ec][F3Y4j.q0tc]),t[F3Y4j.m9Ec]&&(this[F3Y4j.c8tc]|=box2d[F3Y4j.L4Ec][F3Y4j.X2Qc]),t[F3Y4j.h9Jc]&&(this[F3Y4j.c8tc]|=box2d[F3Y4j.L4Ec][F3Y4j.n9Jc]),t.active&&(this[F3Y4j.c8tc]|=box2d[F3Y4j.L4Ec][F3Y4j.n9ic]),this[F3Y4j.m6Qc]=e,this[F3Y4j.K6Ec][F3Y4j.Z3ic][F3Y4j.j9Qc](t[F3Y4j.c3Qc]),this[F3Y4j.K6Ec][F3Y4j.G3ic][F3Y4j.b1ic](t[F3Y4j.Y5Ec]),this[F3Y4j.G4qc][F3Y4j.K92c][F3Y4j.a4qc](),this[F3Y4j.G4qc][F3Y4j.d92c][F3Y4j.j9Qc](this[F3Y4j.K6Ec][F3Y4j.Z3ic]),this[F3Y4j.G4qc][F3Y4j.K22c][F3Y4j.j9Qc](this[F3Y4j.K6Ec][F3Y4j.Z3ic]),this[F3Y4j.G4qc][F3Y4j.F97c]=t[F3Y4j.Y5Ec],this[F3Y4j.G4qc][F3Y4j.O22c]=t[F3Y4j.Y5Ec],this[F3Y4j.G4qc][F3Y4j.i0ic]=F3Y4j.u42c,this[F3Y4j.k2qc][F3Y4j.j9Qc](t[F3Y4j.o6qc]),this[F3Y4j.s9Qc]=t[F3Y4j.T42c],this[F3Y4j.B22c]=t[F3Y4j.y3Ec],this[F3Y4j.m6Jc]=t[F3Y4j.j3Qc],this[F3Y4j.Y3qc]=t[F3Y4j.S8Jc],this[F3Y4j.G0qc][F3Y4j.a4qc](),this[F3Y4j.A3ic]=F3Y4j.u42c,this[F3Y4j.m87c]=F3Y4j.u42c,this[F3Y4j.N37c]=t[F3Y4j.r0Jc],F3Y4j.h2R(t[F3Y4j.r0Jc],box2d[F3Y4j.T0Ec][F3Y4j.c6ic])?(this[F3Y4j.p57c]=F3Y4j.b42c,this[F3Y4j.m4tc]=F3Y4j.b42c):(this[F3Y4j.p57c]=F3Y4j.u42c,this[F3Y4j.m4tc]=F3Y4j.u42c),this[F3Y4j.q5Gc]=F3Y4j.u42c,this[F3Y4j.e1Ec]=F3Y4j.u42c,this[F3Y4j.j9qc]=t[F3Y4j.f6Qc],this[F3Y4j.B4Ec]=F3Y4j.E3qc,this[F3Y4j.J07c]=F3Y4j.u42c,this[F3Y4j.y47c]=F3Y4j.E3qc,this[F3Y4j.I2ic]=F3Y4j.u42c},box2d.b2Body.prototype.m_flags=box2d[F3Y4j.L4Ec][F3Y4j.z4Ec],box2d.b2Body.prototype.m_islandIndex=F3Y4j.u42c,box2d.b2Body.prototype.m_world=F3Y4j.E3qc,box2d.b2Body.prototype.m_xf=F3Y4j.E3qc,box2d.b2Body.prototype.m_out_xf=F3Y4j.E3qc,box2d.b2Body.prototype.m_sweep=F3Y4j.E3qc,box2d.b2Body.prototype.m_out_sweep=F3Y4j.E3qc,box2d.b2Body.prototype.m_jointList=F3Y4j.E3qc,box2d.b2Body.prototype.m_contactList=F3Y4j.E3qc,box2d.b2Body.prototype.m_prev=F3Y4j.E3qc,box2d.b2Body.prototype.m_next=F3Y4j.E3qc,box2d.b2Body.prototype.m_linearVelocity=F3Y4j.E3qc,box2d.b2Body.prototype.m_out_linearVelocity=F3Y4j.E3qc,box2d.b2Body.prototype.m_angularVelocity=F3Y4j.u42c,box2d.b2Body.prototype.m_linearDamping=F3Y4j.u42c,box2d.b2Body.prototype.m_angularDamping=F3Y4j.u42c,box2d.b2Body.prototype.m_gravityScale=F3Y4j.b42c,box2d.b2Body.prototype.m_force=F3Y4j.E3qc,box2d.b2Body.prototype.m_torque=F3Y4j.u42c,box2d.b2Body.prototype.m_sleepTime=F3Y4j.u42c,box2d.b2Body.prototype.m_type=box2d[F3Y4j.T0Ec][F3Y4j.u0Jc],box2d.b2Body.prototype.m_mass=F3Y4j.b42c,box2d.b2Body.prototype.m_invMass=F3Y4j.b42c,box2d.b2Body.prototype.m_I=F3Y4j.u42c,box2d.b2Body.prototype.m_invI=F3Y4j.u42c,box2d.b2Body.prototype.m_userData=F3Y4j.E3qc,box2d.b2Body.prototype.m_fixtureList=F3Y4j.E3qc,box2d.b2Body.prototype.m_fixtureCount=F3Y4j.u42c,box2d.b2Body.prototype.m_controllerList=F3Y4j.E3qc,box2d.b2Body.prototype.m_controllerCount=F3Y4j.u42c,box2d.b2Body.prototype.CreateFixture=function(t){if(box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.R2R(this[F3Y4j.m6Qc][F3Y4j.W2Jc](),F3Y4j.h57c)),F3Y4j.b2R(this[F3Y4j.m6Qc][F3Y4j.W2Jc](),F3Y4j.H3qc))return F3Y4j.E3qc;var e=new box2d[F3Y4j.l2tc];return e[F3Y4j.R1ic](this,t),F3Y4j.p2R(this[F3Y4j.c8tc],box2d[F3Y4j.L4Ec][F3Y4j.n9ic])&&(t=this[F3Y4j.m6Qc][F3Y4j.A8Qc][F3Y4j.V1qc],e[F3Y4j.o5Jc](t,this[F3Y4j.K6Ec])),e[F3Y4j.l3tc]=this[F3Y4j.B4Ec],this[F3Y4j.B4Ec]=e,++this[F3Y4j.J07c],e[F3Y4j.L1qc]=this,F3Y4j.y2R(e[F3Y4j.W8ic],F3Y4j.u42c)&&this[F3Y4j.h6Qc](),this[F3Y4j.m6Qc][F3Y4j.c8tc]|=box2d[F3Y4j.I0Qc][F3Y4j.N27c],e},box2d.b2Body.prototype.CreateFixture2=function(t,e){F3Y4j.Z2R(e,void 0)&&(e=F3Y4j.u42c);var i=box2d.b2Body.prototype.CreateFixture2.s_def;return i[F3Y4j.T2Ec]=t,i[F3Y4j.K0ic]=e,this[F3Y4j.y8tc](i)},box2d.b2Body.prototype.CreateFixture2.s_def=new box2d[F3Y4j.W9Jc],box2d.b2Body.prototype.DestroyFixture=function(t){if(box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.D2R(this[F3Y4j.m6Qc][F3Y4j.W2Jc](),F3Y4j.h57c)),!F3Y4j.F2R(this[F3Y4j.m6Qc][F3Y4j.W2Jc](),F3Y4j.H3qc)){box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.t2R(t[F3Y4j.L1qc],this)),box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.T2R(this[F3Y4j.J07c],F3Y4j.u42c));for(var e=this[F3Y4j.B4Ec],i=F3Y4j.E3qc,o=F3Y4j.h57c;F3Y4j.v2R(e,F3Y4j.E3qc);){if(F3Y4j.W2R(e,t)){i?i[F3Y4j.l3tc]=t[F3Y4j.l3tc]:this[F3Y4j.B4Ec]=t[F3Y4j.l3tc],o=F3Y4j.H3qc;break}e=(i=e)[F3Y4j.l3tc]}box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](o);for(var n,s=this[F3Y4j.U5Ec];s;){var r=s[F3Y4j.F7Ec],s=s[F3Y4j.S1qc],c=r[F3Y4j.s0ic](),a=r[F3Y4j.f0ic]();(F3Y4j.C2R(t,c)||F3Y4j.U2R(t,a))&&this[F3Y4j.m6Qc][F3Y4j.A8Qc][F3Y4j.V3Qc](r)}F3Y4j.d2R(this[F3Y4j.c8tc],box2d[F3Y4j.L4Ec][F3Y4j.n9ic])&&(n=this[F3Y4j.m6Qc][F3Y4j.A8Qc][F3Y4j.V1qc],t[F3Y4j.Z3Jc](n)),t[F3Y4j.V3Qc](),t[F3Y4j.L1qc]=F3Y4j.E3qc,t[F3Y4j.l3tc]=F3Y4j.E3qc,--this[F3Y4j.J07c],this[F3Y4j.h6Qc]()}},box2d.b2Body.prototype.SetTransformVecRadians=function(t,e){this[F3Y4j.n2Jc](t[F3Y4j.W17c],t[F3Y4j.I17c],e)},box2d.b2Body.prototype.SetTransformXYRadians=function(t,e,i){if(box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.X2R(this[F3Y4j.m6Qc][F3Y4j.W2Jc](),F3Y4j.h57c)),!(F3Y4j.o8R(this[F3Y4j.m6Qc][F3Y4j.W2Jc](),F3Y4j.H3qc)||F3Y4j.q8R(this[F3Y4j.K6Ec][F3Y4j.Z3ic][F3Y4j.W17c],t)&&F3Y4j.z8R(this[F3Y4j.K6Ec][F3Y4j.Z3ic][F3Y4j.I17c],e)&&F3Y4j.E8R(this[F3Y4j.K6Ec][F3Y4j.G3ic][F3Y4j.T7Qc](),i))){this[F3Y4j.K6Ec][F3Y4j.G3ic][F3Y4j.b1ic](i),this[F3Y4j.K6Ec][F3Y4j.Z3ic][F3Y4j.V0tc](t,e),box2d[F3Y4j.a72c](this[F3Y4j.K6Ec],this[F3Y4j.G4qc][F3Y4j.K92c],this[F3Y4j.G4qc][F3Y4j.K22c]),this[F3Y4j.G4qc][F3Y4j.O22c]=i,this[F3Y4j.G4qc][F3Y4j.d92c][F3Y4j.j9Qc](this[F3Y4j.G4qc][F3Y4j.K22c]),this[F3Y4j.G4qc][F3Y4j.F97c]=i;for(var o=this[F3Y4j.m6Qc][F3Y4j.A8Qc][F3Y4j.V1qc],n=this[F3Y4j.B4Ec];n;n=n[F3Y4j.l3tc])n[F3Y4j.E9Qc](o,this[F3Y4j.K6Ec],this[F3Y4j.K6Ec])}},box2d.b2Body.prototype.SetTransform=function(t){this[F3Y4j.v2Jc](t[F3Y4j.Z3ic],t[F3Y4j.T7Qc]())},box2d.b2Body.prototype.GetTransform=function(t){return(t=t||this[F3Y4j.X02c])[F3Y4j.j9Qc](this[F3Y4j.K6Ec])},box2d.b2Body.prototype.GetPosition=function(t){return(t=t||this[F3Y4j.X02c][F3Y4j.Z3ic])[F3Y4j.j9Qc](this[F3Y4j.K6Ec][F3Y4j.Z3ic])},box2d.b2Body.prototype.SetPosition=function(t){this[F3Y4j.v2Jc](t,this[F3Y4j.T7Qc]())},box2d.b2Body.prototype.SetPositionXY=function(t,e){this[F3Y4j.n2Jc](t,e,this[F3Y4j.T7Qc]())},box2d.b2Body.prototype.GetAngle=function(){return this[F3Y4j.G4qc][F3Y4j.O22c]},box2d.b2Body.prototype.GetAngleRadians=box2d.b2Body.prototype.GetAngle,box2d.b2Body.prototype.GetAngleDegrees=function(){return box2d[F3Y4j.y32c](this[F3Y4j.E5Ec]())},box2d.b2Body.prototype.SetAngle=function(t){this[F3Y4j.v2Jc](this[F3Y4j.D9Ec](),t)},box2d.b2Body.prototype.SetAngleRadians=box2d.b2Body.prototype.SetAngle,box2d.b2Body.prototype.SetAngleDegrees=function(t){this[F3Y4j.N7qc](box2d[F3Y4j.g1tc](t))},box2d.b2Body.prototype.GetWorldCenter=function(t){return(t=t||this[F3Y4j.m1Qc][F3Y4j.K22c])[F3Y4j.j9Qc](this[F3Y4j.G4qc][F3Y4j.K22c])},box2d.b2Body.prototype.GetLocalCenter=function(t){return(t=t||this[F3Y4j.m1Qc][F3Y4j.K92c])[F3Y4j.j9Qc](this[F3Y4j.G4qc][F3Y4j.K92c])},box2d.b2Body.prototype.SetLinearVelocity=function(t){F3Y4j.f8R(this[F3Y4j.N37c],box2d[F3Y4j.T0Ec][F3Y4j.u0Jc])||(F3Y4j.H8R(box2d[F3Y4j.U2tc](t,t),F3Y4j.u42c)&&this[F3Y4j.s7Ec](F3Y4j.H3qc),this[F3Y4j.k2qc][F3Y4j.j9Qc](t))},box2d.b2Body.prototype.GetLinearVelocity=function(t){return(t=t||this[F3Y4j.d3Qc])[F3Y4j.j9Qc](this[F3Y4j.k2qc])},box2d.b2Body.prototype.SetAngularVelocity=function(t){F3Y4j.I8R(this[F3Y4j.N37c],box2d[F3Y4j.T0Ec][F3Y4j.u0Jc])||(F3Y4j.w8R(t*t,F3Y4j.u42c)&&this[F3Y4j.s7Ec](F3Y4j.H3qc),this[F3Y4j.s9Qc]=t)},box2d.b2Body.prototype.GetAngularVelocity=function(){return this[F3Y4j.s9Qc]},box2d.b2Body.prototype.GetDefinition=function(t){return t[F3Y4j.r0Jc]=this[F3Y4j.j6Jc](),t[F3Y4j.m9Ec]=F3Y4j.N8R(this[F3Y4j.c8tc]&box2d[F3Y4j.L4Ec][F3Y4j.X2Qc],box2d[F3Y4j.L4Ec][F3Y4j.X2Qc]),t[F3Y4j.Y5Ec]=this[F3Y4j.T7Qc](),t[F3Y4j.j3Qc]=this[F3Y4j.m6Jc],t[F3Y4j.S8Jc]=this[F3Y4j.Y3qc],t[F3Y4j.T42c]=this[F3Y4j.s9Qc],t[F3Y4j.O5qc]=F3Y4j.J8R(this[F3Y4j.c8tc]&box2d[F3Y4j.L4Ec][F3Y4j.q0tc],box2d[F3Y4j.L4Ec][F3Y4j.q0tc]),t[F3Y4j.J7tc]=F3Y4j.S8R(this[F3Y4j.c8tc]&box2d[F3Y4j.L4Ec][F3Y4j.f17c],box2d[F3Y4j.L4Ec][F3Y4j.f17c]),t[F3Y4j.h9Jc]=F3Y4j.Q8R(this[F3Y4j.c8tc]&box2d[F3Y4j.L4Ec][F3Y4j.n9Jc],box2d[F3Y4j.L4Ec][F3Y4j.n9Jc]),t[F3Y4j.y3Ec]=this[F3Y4j.B22c],t[F3Y4j.o6qc][F3Y4j.j9Qc](this[F3Y4j.w37c]()),t[F3Y4j.c3Qc][F3Y4j.j9Qc](this[F3Y4j.D9Ec]()),t[F3Y4j.f6Qc]=this[F3Y4j.M1ic](),t},box2d.b2Body.prototype.ApplyForce=function(t,e,i){i=i||F3Y4j.H3qc,F3Y4j.G8R(this[F3Y4j.N37c],box2d[F3Y4j.T0Ec][F3Y4j.c6ic])||(i&&F3Y4j.a8R(this[F3Y4j.c8tc]&box2d[F3Y4j.L4Ec][F3Y4j.n9Jc],F3Y4j.u42c)&&this[F3Y4j.s7Ec](F3Y4j.H3qc),F3Y4j.L8R(this[F3Y4j.c8tc],box2d[F3Y4j.L4Ec][F3Y4j.n9Jc])&&(this[F3Y4j.G0qc][F3Y4j.W17c]+=t[F3Y4j.W17c],this[F3Y4j.G0qc][F3Y4j.I17c]+=t[F3Y4j.I17c],this[F3Y4j.A3ic]+=F3Y4j.K8R((e[F3Y4j.W17c]-this[F3Y4j.G4qc][F3Y4j.K22c][F3Y4j.W17c])*t[F3Y4j.I17c],(e[F3Y4j.I17c]-this[F3Y4j.G4qc][F3Y4j.K22c][F3Y4j.I17c])*t[F3Y4j.W17c])))},box2d.b2Body.prototype.ApplyForceToCenter=function(t,e){e=e||F3Y4j.H3qc,F3Y4j.M8R(this[F3Y4j.N37c],box2d[F3Y4j.T0Ec][F3Y4j.c6ic])||(e&&F3Y4j.s5X(this[F3Y4j.c8tc]&box2d[F3Y4j.L4Ec][F3Y4j.n9Jc],F3Y4j.u42c)&&this[F3Y4j.s7Ec](F3Y4j.H3qc),F3Y4j.x5X(this[F3Y4j.c8tc],box2d[F3Y4j.L4Ec][F3Y4j.n9Jc])&&(this[F3Y4j.G0qc][F3Y4j.W17c]+=t[F3Y4j.W17c],this[F3Y4j.G0qc][F3Y4j.I17c]+=t[F3Y4j.I17c]))},box2d.b2Body.prototype.ApplyTorque=function(t,e){e=e||F3Y4j.H3qc,F3Y4j.O5X(this[F3Y4j.N37c],box2d[F3Y4j.T0Ec][F3Y4j.c6ic])||(e&&F3Y4j.B5X(this[F3Y4j.c8tc]&box2d[F3Y4j.L4Ec][F3Y4j.n9Jc],F3Y4j.u42c)&&this[F3Y4j.s7Ec](F3Y4j.H3qc),F3Y4j.u5X(this[F3Y4j.c8tc],box2d[F3Y4j.L4Ec][F3Y4j.n9Jc])&&(this[F3Y4j.A3ic]+=t))},box2d.b2Body.prototype.ApplyLinearImpulse=function(t,e,i){i=i||F3Y4j.H3qc,F3Y4j.l5X(this[F3Y4j.N37c],box2d[F3Y4j.T0Ec][F3Y4j.c6ic])||(i&&F3Y4j.m5X(this[F3Y4j.c8tc]&box2d[F3Y4j.L4Ec][F3Y4j.n9Jc],F3Y4j.u42c)&&this[F3Y4j.s7Ec](F3Y4j.H3qc),F3Y4j.Y5X(this[F3Y4j.c8tc],box2d[F3Y4j.L4Ec][F3Y4j.n9Jc])&&(this[F3Y4j.k2qc][F3Y4j.W17c]+=F3Y4j.j5X(this[F3Y4j.m4tc],t[F3Y4j.W17c]),this[F3Y4j.k2qc][F3Y4j.I17c]+=F3Y4j.A5X(this[F3Y4j.m4tc],t[F3Y4j.I17c]),this[F3Y4j.s9Qc]+=F3Y4j.r5X(this[F3Y4j.e1Ec],(e[F3Y4j.W17c]-this[F3Y4j.G4qc][F3Y4j.K22c][F3Y4j.W17c])*t[F3Y4j.I17c]-(e[F3Y4j.I17c]-this[F3Y4j.G4qc][F3Y4j.K22c][F3Y4j.I17c])*t[F3Y4j.W17c])))},box2d.b2Body.prototype.ApplyAngularImpulse=function(t,e){e=e||F3Y4j.H3qc,F3Y4j.i5X(this[F3Y4j.N37c],box2d[F3Y4j.T0Ec][F3Y4j.c6ic])||(e&&F3Y4j.c5X(this[F3Y4j.c8tc]&box2d[F3Y4j.L4Ec][F3Y4j.n9Jc],F3Y4j.u42c)&&this[F3Y4j.s7Ec](F3Y4j.H3qc),F3Y4j.e5X(this[F3Y4j.c8tc],box2d[F3Y4j.L4Ec][F3Y4j.n9Jc])&&(this[F3Y4j.s9Qc]+=F3Y4j.g5X(this[F3Y4j.e1Ec],t)))},box2d.b2Body.prototype.GetMass=function(){return this[F3Y4j.p57c]},box2d.b2Body.prototype.GetInertia=function(){return this[F3Y4j.q5Gc]+F3Y4j.k5X(this[F3Y4j.p57c],box2d[F3Y4j.U2tc](this[F3Y4j.G4qc][F3Y4j.K92c],this[F3Y4j.G4qc][F3Y4j.K92c]))},box2d.b2Body.prototype.GetMassData=function(t){return t[F3Y4j.x8qc]=this[F3Y4j.p57c],t[F3Y4j.t72c]=this[F3Y4j.q5Gc]+F3Y4j.n5X(this[F3Y4j.p57c],box2d[F3Y4j.U2tc](this[F3Y4j.G4qc][F3Y4j.K92c],this[F3Y4j.G4qc][F3Y4j.K92c])),t[F3Y4j.m3Jc][F3Y4j.j9Qc](this[F3Y4j.G4qc][F3Y4j.K92c]),t},box2d.b2Body.prototype.SetMassData=function(t){var e;box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.P5X(this[F3Y4j.m6Qc][F3Y4j.W2Jc](),F3Y4j.h57c)),F3Y4j.V1X(this[F3Y4j.m6Qc][F3Y4j.W2Jc](),F3Y4j.H3qc)||F3Y4j.h1X(this[F3Y4j.N37c],box2d[F3Y4j.T0Ec][F3Y4j.c6ic])||(this[F3Y4j.m4tc]=F3Y4j.u42c,this[F3Y4j.q5Gc]=F3Y4j.u42c,this[F3Y4j.e1Ec]=F3Y4j.u42c,this[F3Y4j.p57c]=t[F3Y4j.x8qc],F3Y4j.R1X(this[F3Y4j.p57c],F3Y4j.u42c)&&(this[F3Y4j.p57c]=F3Y4j.b42c),this[F3Y4j.m4tc]=F3Y4j.b1X(F3Y4j.b42c,this[F3Y4j.p57c]),F3Y4j.p1X(t[F3Y4j.t72c],F3Y4j.u42c)&&F3Y4j.y1X(this[F3Y4j.c8tc]&box2d[F3Y4j.L4Ec][F3Y4j.q0tc],F3Y4j.u42c)&&(this[F3Y4j.q5Gc]=F3Y4j.Z1X(t[F3Y4j.t72c],this[F3Y4j.p57c]*box2d[F3Y4j.U2tc](t[F3Y4j.m3Jc],t[F3Y4j.m3Jc])),box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.D1X(this[F3Y4j.q5Gc],F3Y4j.u42c)),this[F3Y4j.e1Ec]=F3Y4j.F1X(F3Y4j.b42c,this[F3Y4j.q5Gc])),e=box2d.b2Body.prototype.SetMassData.s_oldCenter.Copy(this[F3Y4j.G4qc][F3Y4j.K22c]),this[F3Y4j.G4qc][F3Y4j.K92c][F3Y4j.j9Qc](t[F3Y4j.m3Jc]),box2d[F3Y4j.a72c](this[F3Y4j.K6Ec],this[F3Y4j.G4qc][F3Y4j.K92c],this[F3Y4j.G4qc][F3Y4j.K22c]),this[F3Y4j.G4qc][F3Y4j.d92c][F3Y4j.j9Qc](this[F3Y4j.G4qc][F3Y4j.K22c]),box2d[F3Y4j.M57c](this[F3Y4j.k2qc],this[F3Y4j.s9Qc],box2d[F3Y4j.J97c](this[F3Y4j.G4qc][F3Y4j.K22c],e,box2d[F3Y4j.b17c][F3Y4j.c1Jc]),this[F3Y4j.k2qc]))},box2d.b2Body.prototype.SetMassData.s_oldCenter=new box2d[F3Y4j.b17c],box2d.b2Body.prototype.ResetMassData=function(){if(this[F3Y4j.p57c]=F3Y4j.u42c,this[F3Y4j.m4tc]=F3Y4j.u42c,this[F3Y4j.q5Gc]=F3Y4j.u42c,this[F3Y4j.e1Ec]=F3Y4j.u42c,this[F3Y4j.G4qc][F3Y4j.K92c][F3Y4j.a4qc](),F3Y4j.t1X(this[F3Y4j.N37c],box2d[F3Y4j.T0Ec][F3Y4j.u0Jc])||F3Y4j.T1X(this[F3Y4j.N37c],box2d[F3Y4j.T0Ec][F3Y4j.X5tc]))return this[F3Y4j.G4qc][F3Y4j.d92c][F3Y4j.j9Qc](this[F3Y4j.K6Ec][F3Y4j.Z3ic]),this[F3Y4j.G4qc][F3Y4j.K22c][F3Y4j.j9Qc](this[F3Y4j.K6Ec][F3Y4j.Z3ic]),void(this[F3Y4j.G4qc][F3Y4j.F97c]=this[F3Y4j.G4qc][F3Y4j.O22c]);box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.v1X(this[F3Y4j.N37c],box2d[F3Y4j.T0Ec][F3Y4j.c6ic]));for(var t,e=box2d.b2Body.prototype.ResetMassData.s_localCenter.SetZero(),i=this[F3Y4j.B4Ec];i;i=i[F3Y4j.l3tc])F3Y4j.W1X(i[F3Y4j.W8ic],F3Y4j.u42c)||(t=i.GetMassData(box2d.b2Body.prototype.ResetMassData.s_massData),this[F3Y4j.p57c]+=t[F3Y4j.x8qc],e[F3Y4j.W17c]+=F3Y4j.C1X(t[F3Y4j.m3Jc][F3Y4j.W17c],t[F3Y4j.x8qc]),e[F3Y4j.I17c]+=F3Y4j.U1X(t[F3Y4j.m3Jc][F3Y4j.I17c],t[F3Y4j.x8qc]),this[F3Y4j.q5Gc]+=t[F3Y4j.t72c]);F3Y4j.d1X(this[F3Y4j.p57c],F3Y4j.u42c)?(this[F3Y4j.m4tc]=F3Y4j.X1X(F3Y4j.b42c,this[F3Y4j.p57c]),e[F3Y4j.W17c]*=this[F3Y4j.m4tc],e[F3Y4j.I17c]*=this[F3Y4j.m4tc]):(this[F3Y4j.p57c]=F3Y4j.b42c,this[F3Y4j.m4tc]=F3Y4j.b42c),F3Y4j.o9X(this[F3Y4j.q5Gc],F3Y4j.u42c)&&F3Y4j.q9X(this[F3Y4j.c8tc]&box2d[F3Y4j.L4Ec][F3Y4j.q0tc],F3Y4j.u42c)?(this[F3Y4j.q5Gc]-=F3Y4j.z9X(this[F3Y4j.p57c],box2d[F3Y4j.U2tc](e,e)),box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.E9X(this[F3Y4j.q5Gc],F3Y4j.u42c)),this[F3Y4j.e1Ec]=F3Y4j.f9X(F3Y4j.b42c,this[F3Y4j.q5Gc])):(this[F3Y4j.q5Gc]=F3Y4j.u42c,this[F3Y4j.e1Ec]=F3Y4j.u42c);var o=box2d.b2Body.prototype.ResetMassData.s_oldCenter.Copy(this[F3Y4j.G4qc][F3Y4j.K22c]);this[F3Y4j.G4qc][F3Y4j.K92c][F3Y4j.j9Qc](e),box2d[F3Y4j.a72c](this[F3Y4j.K6Ec],this[F3Y4j.G4qc][F3Y4j.K92c],this[F3Y4j.G4qc][F3Y4j.K22c]),this[F3Y4j.G4qc][F3Y4j.d92c][F3Y4j.j9Qc](this[F3Y4j.G4qc][F3Y4j.K22c]),box2d[F3Y4j.M57c](this[F3Y4j.k2qc],this[F3Y4j.s9Qc],box2d[F3Y4j.J97c](this[F3Y4j.G4qc][F3Y4j.K22c],o,box2d[F3Y4j.b17c][F3Y4j.c1Jc]),this[F3Y4j.k2qc])},box2d.b2Body.prototype.ResetMassData.s_localCenter=new box2d[F3Y4j.b17c],box2d.b2Body.prototype.ResetMassData.s_oldCenter=new box2d[F3Y4j.b17c],box2d.b2Body.prototype.ResetMassData.s_massData=new box2d[F3Y4j.L8tc],box2d.b2Body.prototype.GetWorldPoint=function(t,e){return box2d[F3Y4j.a72c](this[F3Y4j.K6Ec],t,e)},box2d.b2Body.prototype.GetWorldVector=function(t,e){return box2d[F3Y4j.Z0tc](this[F3Y4j.K6Ec][F3Y4j.G3ic],t,e)},box2d.b2Body.prototype.GetLocalPoint=function(t,e){return box2d[F3Y4j.s9ic](this[F3Y4j.K6Ec],t,e)},box2d.b2Body.prototype.GetLocalVector=function(t,e){return box2d[F3Y4j.M8Ec](this[F3Y4j.K6Ec][F3Y4j.G3ic],t,e)},box2d.b2Body.prototype.GetLinearVelocityFromWorldPoint=function(t,e){return box2d[F3Y4j.M57c](this[F3Y4j.k2qc],this[F3Y4j.s9Qc],box2d[F3Y4j.J97c](t,this[F3Y4j.G4qc][F3Y4j.K22c],box2d[F3Y4j.b17c][F3Y4j.c1Jc]),e)},box2d.b2Body.prototype.GetLinearVelocityFromLocalPoint=function(t,e){return this[F3Y4j.p62c](this[F3Y4j.K82c](t,e),e)},box2d.b2Body.prototype.GetLinearDamping=function(){return this[F3Y4j.B22c]},box2d.b2Body.prototype.SetLinearDamping=function(t){this[F3Y4j.B22c]=t},box2d.b2Body.prototype.GetAngularDamping=function(){return this[F3Y4j.m6Jc]},box2d.b2Body.prototype.SetAngularDamping=function(t){this[F3Y4j.m6Jc]=t},box2d.b2Body.prototype.GetGravityScale=function(){return this[F3Y4j.Y3qc]},box2d.b2Body.prototype.SetGravityScale=function(t){this[F3Y4j.Y3qc]=t},box2d.b2Body.prototype.SetType=function(t){if(box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.H9X(this[F3Y4j.m6Qc][F3Y4j.W2Jc](),F3Y4j.h57c)),!F3Y4j.I9X(this[F3Y4j.m6Qc][F3Y4j.W2Jc](),F3Y4j.H3qc)&&!F3Y4j.w9X(this[F3Y4j.N37c],t)){this[F3Y4j.N37c]=t,this[F3Y4j.h6Qc](),F3Y4j.N9X(this[F3Y4j.N37c],box2d[F3Y4j.T0Ec][F3Y4j.u0Jc])&&(this[F3Y4j.k2qc][F3Y4j.a4qc](),this[F3Y4j.s9Qc]=F3Y4j.u42c,this[F3Y4j.G4qc][F3Y4j.F97c]=this[F3Y4j.G4qc][F3Y4j.O22c],this[F3Y4j.G4qc][F3Y4j.d92c][F3Y4j.j9Qc](this[F3Y4j.G4qc][F3Y4j.K22c]),this[F3Y4j.V22c]()),this[F3Y4j.s7Ec](F3Y4j.H3qc),this[F3Y4j.G0qc][F3Y4j.a4qc](),this[F3Y4j.A3ic]=F3Y4j.u42c;for(var e=this[F3Y4j.U5Ec];e;){var i=e,e=e[F3Y4j.S1qc];this[F3Y4j.m6Qc][F3Y4j.A8Qc][F3Y4j.V3Qc](i[F3Y4j.F7Ec])}this[F3Y4j.U5Ec]=F3Y4j.E3qc;for(var o=this[F3Y4j.m6Qc][F3Y4j.A8Qc][F3Y4j.V1qc],n=this[F3Y4j.B4Ec];n;n=n[F3Y4j.l3tc])for(var s=n[F3Y4j.l57c],r=F3Y4j.u42c;F3Y4j.J9X(r,s);++r)o[F3Y4j.j2ic](n[F3Y4j.l67c][r][F3Y4j.L7Ec])}},box2d.b2Body.prototype.GetType=function(){return this[F3Y4j.N37c]},box2d.b2Body.prototype.SetBullet=function(t){t?this[F3Y4j.c8tc]|=box2d[F3Y4j.L4Ec][F3Y4j.f17c]:this[F3Y4j.c8tc]&=~box2d[F3Y4j.L4Ec][F3Y4j.f17c]},box2d.b2Body.prototype.IsBullet=function(){return F3Y4j.S9X(this[F3Y4j.c8tc]&box2d[F3Y4j.L4Ec][F3Y4j.f17c],box2d[F3Y4j.L4Ec][F3Y4j.f17c])},box2d.b2Body.prototype.SetSleepingAllowed=function(t){t?this[F3Y4j.c8tc]|=box2d[F3Y4j.L4Ec][F3Y4j.X2Qc]:(this[F3Y4j.c8tc]&=~box2d[F3Y4j.L4Ec][F3Y4j.X2Qc],this[F3Y4j.s7Ec](F3Y4j.H3qc))},box2d.b2Body.prototype.IsSleepingAllowed=function(){return F3Y4j.Q9X(this[F3Y4j.c8tc]&box2d[F3Y4j.L4Ec][F3Y4j.X2Qc],box2d[F3Y4j.L4Ec][F3Y4j.X2Qc])},box2d.b2Body.prototype.SetAwake=function(t){t?F3Y4j.G9X(this[F3Y4j.c8tc]&box2d[F3Y4j.L4Ec][F3Y4j.n9Jc],F3Y4j.u42c)&&(this[F3Y4j.c8tc]|=box2d[F3Y4j.L4Ec][F3Y4j.n9Jc],this[F3Y4j.m87c]=F3Y4j.u42c):(this[F3Y4j.c8tc]&=~box2d[F3Y4j.L4Ec][F3Y4j.n9Jc],this[F3Y4j.m87c]=F3Y4j.u42c,this[F3Y4j.k2qc][F3Y4j.a4qc](),this[F3Y4j.s9Qc]=F3Y4j.u42c,this[F3Y4j.G0qc][F3Y4j.a4qc](),this[F3Y4j.A3ic]=F3Y4j.u42c)},box2d.b2Body.prototype.IsAwake=function(){return F3Y4j.a9X(this[F3Y4j.c8tc]&box2d[F3Y4j.L4Ec][F3Y4j.n9Jc],box2d[F3Y4j.L4Ec][F3Y4j.n9Jc])},box2d.b2Body.prototype.SetActive=function(t){if(box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.L9X(this[F3Y4j.m6Qc][F3Y4j.W2Jc](),F3Y4j.h57c)),!F3Y4j.K9X(t,this[F3Y4j.e6ic]()))if(t){this[F3Y4j.c8tc]|=box2d[F3Y4j.L4Ec][F3Y4j.n9ic];for(var e=this[F3Y4j.m6Qc][F3Y4j.A8Qc][F3Y4j.V1qc],i=this[F3Y4j.B4Ec];i;i=i[F3Y4j.l3tc])i[F3Y4j.o5Jc](e,this[F3Y4j.K6Ec])}else{this[F3Y4j.c8tc]&=~box2d[F3Y4j.L4Ec][F3Y4j.n9ic];for(e=this[F3Y4j.m6Qc][F3Y4j.A8Qc][F3Y4j.V1qc],i=this[F3Y4j.B4Ec];i;i=i[F3Y4j.l3tc])i[F3Y4j.Z3Jc](e);for(var o=this[F3Y4j.U5Ec];o;){var n=o,o=o[F3Y4j.S1qc];this[F3Y4j.m6Qc][F3Y4j.A8Qc][F3Y4j.V3Qc](n[F3Y4j.F7Ec])}this[F3Y4j.U5Ec]=F3Y4j.E3qc}},box2d.b2Body.prototype.IsActive=function(){return F3Y4j.M9X(this[F3Y4j.c8tc]&box2d[F3Y4j.L4Ec][F3Y4j.n9ic],box2d[F3Y4j.L4Ec][F3Y4j.n9ic])},box2d.b2Body.prototype.SetFixedRotation=function(t){var e=F3Y4j.s4X(this[F3Y4j.c8tc]&box2d[F3Y4j.L4Ec][F3Y4j.q0tc],box2d[F3Y4j.L4Ec][F3Y4j.q0tc]);F3Y4j.x4X(e,t)||(t?this[F3Y4j.c8tc]|=box2d[F3Y4j.L4Ec][F3Y4j.q0tc]:this[F3Y4j.c8tc]&=~box2d[F3Y4j.L4Ec][F3Y4j.q0tc],this[F3Y4j.s9Qc]=F3Y4j.u42c,this[F3Y4j.h6Qc]())},box2d.b2Body.prototype.IsFixedRotation=function(){return F3Y4j.O4X(this[F3Y4j.c8tc]&box2d[F3Y4j.L4Ec][F3Y4j.q0tc],box2d[F3Y4j.L4Ec][F3Y4j.q0tc])},box2d.b2Body.prototype.GetFixtureList=function(){return this[F3Y4j.B4Ec]},box2d.b2Body.prototype.GetJointList=function(){return this[F3Y4j.y97c]},box2d.b2Body.prototype.GetContactList=function(){return this[F3Y4j.U5Ec]},box2d.b2Body.prototype.GetNext=function(){return this[F3Y4j.l3tc]},box2d.b2Body.prototype.GetUserData=function(){return this[F3Y4j.j9qc]},box2d.b2Body.prototype.SetUserData=function(t){this[F3Y4j.j9qc]=t},box2d.b2Body.prototype.GetWorld=function(){return this[F3Y4j.m6Qc]},box2d.b2Body.prototype.SynchronizeFixtures=function(){for(var t=box2d.b2Body.prototype.SynchronizeFixtures.s_xf1,e=(t[F3Y4j.G3ic][F3Y4j.b1ic](this[F3Y4j.G4qc][F3Y4j.F97c]),box2d[F3Y4j.Z0tc](t[F3Y4j.G3ic],this[F3Y4j.G4qc][F3Y4j.K92c],t[F3Y4j.Z3ic]),box2d[F3Y4j.J97c](this[F3Y4j.G4qc][F3Y4j.d92c],t[F3Y4j.Z3ic],t[F3Y4j.Z3ic]),this[F3Y4j.m6Qc][F3Y4j.A8Qc][F3Y4j.V1qc]),i=this[F3Y4j.B4Ec];i;i=i[F3Y4j.l3tc])i[F3Y4j.E9Qc](e,t,this[F3Y4j.K6Ec])},box2d.b2Body.prototype.SynchronizeFixtures.s_xf1=new box2d[F3Y4j.J5ic],box2d.b2Body.prototype.SynchronizeTransform=function(){this[F3Y4j.K6Ec][F3Y4j.G3ic][F3Y4j.b1ic](this[F3Y4j.G4qc][F3Y4j.O22c]),box2d[F3Y4j.Z0tc](this[F3Y4j.K6Ec][F3Y4j.G3ic],this[F3Y4j.G4qc][F3Y4j.K92c],this[F3Y4j.K6Ec][F3Y4j.Z3ic]),box2d[F3Y4j.J97c](this[F3Y4j.G4qc][F3Y4j.K22c],this[F3Y4j.K6Ec][F3Y4j.Z3ic],this[F3Y4j.K6Ec][F3Y4j.Z3ic])},box2d.b2Body.prototype.ShouldCollide=function(t){if(F3Y4j.B4X(this[F3Y4j.N37c],box2d[F3Y4j.T0Ec][F3Y4j.c6ic])&&F3Y4j.u4X(t[F3Y4j.N37c],box2d[F3Y4j.T0Ec][F3Y4j.c6ic]))return F3Y4j.h57c;for(var e=this[F3Y4j.y97c];e;e=e[F3Y4j.S1qc])if(F3Y4j.l4X(e[F3Y4j.C62c],t)&&F3Y4j.m4X(e[F3Y4j.I0Jc][F3Y4j.v1tc],F3Y4j.h57c))return F3Y4j.h57c;return F3Y4j.H3qc},box2d.b2Body.prototype.Advance=function(t){this[F3Y4j.G4qc][F3Y4j.e62c](t),this[F3Y4j.G4qc][F3Y4j.K22c][F3Y4j.j9Qc](this[F3Y4j.G4qc][F3Y4j.d92c]),this[F3Y4j.G4qc][F3Y4j.O22c]=this[F3Y4j.G4qc][F3Y4j.F97c],this[F3Y4j.K6Ec][F3Y4j.G3ic][F3Y4j.b1ic](this[F3Y4j.G4qc][F3Y4j.O22c]),box2d[F3Y4j.Z0tc](this[F3Y4j.K6Ec][F3Y4j.G3ic],this[F3Y4j.G4qc][F3Y4j.K92c],this[F3Y4j.K6Ec][F3Y4j.Z3ic]),box2d[F3Y4j.J97c](this[F3Y4j.G4qc][F3Y4j.K22c],this[F3Y4j.K6Ec][F3Y4j.Z3ic],this[F3Y4j.K6Ec][F3Y4j.Z3ic])},box2d.b2Body.prototype.Dump=function(){if(box2d[F3Y4j.l2Jc]){var t=this[F3Y4j.h7Jc],e=(box2d[F3Y4j.q7ic](F3Y4j.o37c),box2d[F3Y4j.q7ic](F3Y4j.Z0Jc),box2d[F3Y4j.q7ic]("  /*box2d.b2BodyDef*/ var bd = new box2d.b2BodyDef();\n"),F3Y4j.J3ic);switch(this[F3Y4j.N37c]){case box2d[F3Y4j.T0Ec][F3Y4j.u0Jc]:e="box2d.b2BodyType.b2_staticBody";break;case box2d[F3Y4j.T0Ec][F3Y4j.X5tc]:e="box2d.b2BodyType.b2_kinematicBody";break;case box2d[F3Y4j.T0Ec][F3Y4j.c6ic]:e="box2d.b2BodyType.b2_dynamicBody";break;default:box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.h57c)}box2d[F3Y4j.q7ic]("  bd.type = %s;\n",e),box2d[F3Y4j.q7ic]("  bd.position.SetXY(%.15f, %.15f);\n",this[F3Y4j.K6Ec][F3Y4j.Z3ic][F3Y4j.W17c],this[F3Y4j.K6Ec][F3Y4j.Z3ic][F3Y4j.I17c]),box2d[F3Y4j.q7ic]("  bd.angle = %.15f;\n",this[F3Y4j.G4qc][F3Y4j.O22c]),box2d[F3Y4j.q7ic]("  bd.linearVelocity.SetXY(%.15f, %.15f);\n",this[F3Y4j.k2qc][F3Y4j.W17c],this[F3Y4j.k2qc][F3Y4j.I17c]),box2d[F3Y4j.q7ic]("  bd.angularVelocity = %.15f;\n",this[F3Y4j.s9Qc]),box2d[F3Y4j.q7ic]("  bd.linearDamping = %.15f;\n",this[F3Y4j.B22c]),box2d[F3Y4j.q7ic]("  bd.angularDamping = %.15f;\n",this[F3Y4j.m6Jc]),box2d[F3Y4j.q7ic]("  bd.allowSleep = %s;\n",F3Y4j.Y4X(this[F3Y4j.c8tc],box2d[F3Y4j.L4Ec][F3Y4j.X2Qc])?F3Y4j.H1Ec:F3Y4j.y07c),box2d[F3Y4j.q7ic]("  bd.awake = %s;\n",F3Y4j.j4X(this[F3Y4j.c8tc],box2d[F3Y4j.L4Ec][F3Y4j.n9Jc])?F3Y4j.H1Ec:F3Y4j.y07c),box2d[F3Y4j.q7ic]("  bd.fixedRotation = %s;\n",F3Y4j.A4X(this[F3Y4j.c8tc],box2d[F3Y4j.L4Ec][F3Y4j.q0tc])?F3Y4j.H1Ec:F3Y4j.y07c),box2d[F3Y4j.q7ic]("  bd.bullet = %s;\n",F3Y4j.r4X(this[F3Y4j.c8tc],box2d[F3Y4j.L4Ec][F3Y4j.f17c])?F3Y4j.H1Ec:F3Y4j.y07c),box2d[F3Y4j.q7ic]("  bd.active = %s;\n",F3Y4j.i4X(this[F3Y4j.c8tc],box2d[F3Y4j.L4Ec][F3Y4j.n9ic])?F3Y4j.H1Ec:F3Y4j.y07c),box2d[F3Y4j.q7ic]("  bd.gravityScale = %.15f;\n",this[F3Y4j.Y3qc]),box2d[F3Y4j.q7ic](F3Y4j.h2Ec),box2d[F3Y4j.q7ic]("  bodies[%d] = this.m_world.CreateBody(bd);\n",this[F3Y4j.h7Jc]),box2d[F3Y4j.q7ic](F3Y4j.h2Ec);for(var i=this[F3Y4j.B4Ec];i;i=i[F3Y4j.l3tc])box2d[F3Y4j.q7ic]("  if (true)\n"),box2d[F3Y4j.q7ic]("  {\n"),i[F3Y4j.Z6Qc](t),box2d[F3Y4j.q7ic]("  }\n");box2d[F3Y4j.q7ic](F3Y4j.w9qc)}},box2d.b2Body.prototype.GetControllerList=function(){return this[F3Y4j.y47c]},box2d.b2Body.prototype.GetControllerCount=function(){return this[F3Y4j.I2ic]},goog[F3Y4j.a0ic](F3Y4j.Y0Jc),goog[F3Y4j.D02c]("box2d.b2Settings"),goog[F3Y4j.D02c]("box2d.b2Draw"),goog[F3Y4j.D02c]("box2d.b2ContactManager"),goog[F3Y4j.D02c]("box2d.b2ContactSolver"),goog[F3Y4j.D02c]("box2d.b2Island"),goog[F3Y4j.D02c]("box2d.b2Body"),goog[F3Y4j.D02c]("box2d.b2Math"),goog[F3Y4j.D02c]("box2d.b2Collision"),goog[F3Y4j.D02c]("box2d.b2TimeStep"),goog[F3Y4j.D02c]("box2d.b2WorldCallbacks"),goog[F3Y4j.D02c]("box2d.b2JointFactory"),box2d[F3Y4j.I0Qc]={e_none:F3Y4j.u42c,e_newFixture:1,e_locked:2,e_clearForces:4},goog[F3Y4j.H7Ec](box2d[F3Y4j.I0Qc],F3Y4j.D8Qc,box2d[F3Y4j.I0Qc][F3Y4j.z4Ec]),goog[F3Y4j.H7Ec](box2d[F3Y4j.I0Qc],F3Y4j.C5Ec,box2d[F3Y4j.I0Qc][F3Y4j.N27c]),goog[F3Y4j.H7Ec](box2d[F3Y4j.I0Qc],F3Y4j.M67c,box2d[F3Y4j.I0Qc][F3Y4j.Z8qc]),goog[F3Y4j.H7Ec](box2d[F3Y4j.I0Qc],F3Y4j.n7Ec,box2d[F3Y4j.I0Qc][F3Y4j.K72c]),box2d[F3Y4j.q9ic]=function(t){this[F3Y4j.c8tc]=box2d[F3Y4j.I0Qc][F3Y4j.K72c],this[F3Y4j.A8Qc]=new box2d[F3Y4j.z97c],this[F3Y4j.v17c]=t[F3Y4j.N07c](),this[F3Y4j.N1Qc]=new box2d[F3Y4j.b17c],this[F3Y4j.h0tc]=F3Y4j.H3qc,this[F3Y4j.W7tc]=F3Y4j.E3qc,this[F3Y4j.m77c]=F3Y4j.E3qc,this[F3Y4j.D2tc]=F3Y4j.H3qc,this[F3Y4j.t0qc]=F3Y4j.H3qc,this[F3Y4j.T7ic]=F3Y4j.h57c,this[F3Y4j.V57c]=F3Y4j.H3qc,this[F3Y4j.G7tc]=new box2d[F3Y4j.k22c],this[F3Y4j.Z9Qc]=new box2d[F3Y4j.S82c],this[F3Y4j.r5Jc]=new Array},box2d.b2World.prototype.m_flags=box2d[F3Y4j.I0Qc][F3Y4j.z4Ec],box2d.b2World.prototype.m_contactManager=F3Y4j.E3qc,box2d.b2World.prototype.m_bodyList=F3Y4j.E3qc,box2d.b2World.prototype.m_jointList=F3Y4j.E3qc,box2d.b2World.prototype.m_bodyCount=F3Y4j.u42c,box2d.b2World.prototype.m_jointCount=F3Y4j.u42c,box2d.b2World.prototype.m_gravity=F3Y4j.E3qc,box2d.b2World.prototype.m_out_gravity=F3Y4j.E3qc,box2d.b2World.prototype.m_allowSleep=F3Y4j.H3qc,box2d.b2World.prototype.m_destructionListener=F3Y4j.E3qc,box2d.b2World.prototype.m_debugDraw=F3Y4j.E3qc,box2d.b2World.prototype.m_inv_dt0=F3Y4j.u42c,box2d.b2World.prototype.m_warmStarting=F3Y4j.H3qc,box2d.b2World.prototype.m_continuousPhysics=F3Y4j.H3qc,box2d.b2World.prototype.m_subStepping=F3Y4j.h57c,box2d.b2World.prototype.m_stepComplete=F3Y4j.H3qc,box2d.b2World.prototype.m_profile=F3Y4j.E3qc,box2d.b2World.prototype.m_island=F3Y4j.E3qc,box2d.b2World.prototype.s_stack=F3Y4j.E3qc,box2d.b2World.prototype.m_controllerList=F3Y4j.E3qc,box2d.b2World.prototype.m_controllerCount=F3Y4j.u42c,box2d.b2World.prototype.SetAllowSleeping=function(t){if(!F3Y4j.c4X(t,this[F3Y4j.h0tc])&&(this[F3Y4j.h0tc]=t,F3Y4j.e4X(this[F3Y4j.h0tc],F3Y4j.h57c)))for(var e=this[F3Y4j.s4ic];e;e=e[F3Y4j.l3tc])e[F3Y4j.s7Ec](F3Y4j.H3qc)},box2d.b2World.prototype.GetAllowSleeping=function(){return this[F3Y4j.h0tc]},box2d.b2World.prototype.SetWarmStarting=function(t){this[F3Y4j.D2tc]=t},box2d.b2World.prototype.GetWarmStarting=function(){return this[F3Y4j.D2tc]},box2d.b2World.prototype.SetContinuousPhysics=function(t){this[F3Y4j.t0qc]=t},box2d.b2World.prototype.GetContinuousPhysics=function(){return this[F3Y4j.t0qc]},box2d.b2World.prototype.SetSubStepping=function(t){this[F3Y4j.T7ic]=t},box2d.b2World.prototype.GetSubStepping=function(){return this[F3Y4j.T7ic]},box2d.b2World.prototype.GetBodyList=function(){return this[F3Y4j.s4ic]},box2d.b2World.prototype.GetJointList=function(){return this[F3Y4j.y97c]},box2d.b2World.prototype.GetContactList=function(){return this[F3Y4j.A8Qc][F3Y4j.U5Ec]},box2d.b2World.prototype.GetBodyCount=function(){return this[F3Y4j.l9Jc]},box2d.b2World.prototype.GetJointCount=function(){return this[F3Y4j.Z5ic]},box2d.b2World.prototype.GetContactCount=function(){return this[F3Y4j.A8Qc][F3Y4j.J32c]},box2d.b2World.prototype.SetGravity=function(t,e){if(e=e||F3Y4j.H3qc,(F3Y4j.g4X(this[F3Y4j.v17c][F3Y4j.W17c],t[F3Y4j.W17c])||F3Y4j.k4X(this[F3Y4j.v17c][F3Y4j.I17c],t[F3Y4j.I17c]))&&(this[F3Y4j.v17c][F3Y4j.j9Qc](t),e))for(var i=this[F3Y4j.s4ic];i;i=i[F3Y4j.l3tc])i[F3Y4j.s7Ec](F3Y4j.H3qc)},box2d.b2World.prototype.GetGravity=function(t){return(t=t||this[F3Y4j.N1Qc])[F3Y4j.j9Qc](this[F3Y4j.v17c])},box2d.b2World.prototype.IsLocked=function(){return F3Y4j.n4X(this[F3Y4j.c8tc]&box2d[F3Y4j.I0Qc][F3Y4j.Z8qc],F3Y4j.u42c)},box2d.b2World.prototype.SetAutoClearForces=function(t){t?this[F3Y4j.c8tc]|=box2d[F3Y4j.I0Qc][F3Y4j.K72c]:this[F3Y4j.c8tc]&=~box2d[F3Y4j.I0Qc][F3Y4j.K72c]},box2d.b2World.prototype.GetAutoClearForces=function(){return F3Y4j.P4X(this[F3Y4j.c8tc]&box2d[F3Y4j.I0Qc][F3Y4j.K72c],box2d[F3Y4j.I0Qc][F3Y4j.K72c])},box2d.b2World.prototype.GetContactManager=function(){return this[F3Y4j.A8Qc]},box2d.b2World.prototype.GetProfile=function(){return this[F3Y4j.G7tc]},box2d.b2World.prototype.SetDestructionListener=function(t){this[F3Y4j.W7tc]=t},box2d.b2World.prototype.SetContactFilter=function(t){this[F3Y4j.A8Qc][F3Y4j.H5qc]=t},box2d.b2World.prototype.SetContactListener=function(t){this[F3Y4j.A8Qc][F3Y4j.E4qc]=t},box2d.b2World.prototype.SetDebugDraw=function(t){this[F3Y4j.m77c]=t},box2d.b2World.prototype.CreateBody=function(t){if(box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.V3X(this[F3Y4j.W2Jc](),F3Y4j.h57c)),this[F3Y4j.W2Jc]())return F3Y4j.E3qc;t=new box2d[F3Y4j.u37c](t,this);return t[F3Y4j.w6qc]=F3Y4j.E3qc,t[F3Y4j.l3tc]=this[F3Y4j.s4ic],this[F3Y4j.s4ic]&&(this[F3Y4j.s4ic][F3Y4j.w6qc]=t),this[F3Y4j.s4ic]=t,++this[F3Y4j.l9Jc],t},box2d.b2World.prototype.DestroyBody=function(t){if(box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.h3X(this[F3Y4j.l9Jc],F3Y4j.u42c)),box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.R3X(this[F3Y4j.W2Jc](),F3Y4j.h57c)),!this[F3Y4j.W2Jc]()){for(var e=t[F3Y4j.y97c];e;){var i=e,e=e[F3Y4j.S1qc];this[F3Y4j.W7tc]&&this[F3Y4j.W7tc].SayGoodbyeJoint(i[F3Y4j.I0Jc]),this[F3Y4j.g5qc](i[F3Y4j.I0Jc]),t[F3Y4j.y97c]=e}t[F3Y4j.y97c]=F3Y4j.E3qc;for(var o=t[F3Y4j.y47c];o;){var n=o,o=o[F3Y4j.t77c];n[F3Y4j.w7Jc][F3Y4j.G8qc](t)}for(var s=t[F3Y4j.U5Ec];s;){var r=s,s=s[F3Y4j.S1qc];this[F3Y4j.A8Qc][F3Y4j.V3Qc](r[F3Y4j.F7Ec])}t[F3Y4j.U5Ec]=F3Y4j.E3qc;for(var c=t[F3Y4j.B4Ec];c;){var a=c,c=c[F3Y4j.l3tc];this[F3Y4j.W7tc]&&this[F3Y4j.W7tc].SayGoodbyeFixture(a),a[F3Y4j.Z3Jc](this[F3Y4j.A8Qc][F3Y4j.V1qc]),a[F3Y4j.V3Qc](),t[F3Y4j.B4Ec]=c,t[F3Y4j.J07c]-=F3Y4j.b42c}t[F3Y4j.B4Ec]=F3Y4j.E3qc,t[F3Y4j.J07c]=F3Y4j.u42c,t[F3Y4j.w6qc]&&(t[F3Y4j.w6qc][F3Y4j.l3tc]=t[F3Y4j.l3tc]),t[F3Y4j.l3tc]&&(t[F3Y4j.l3tc][F3Y4j.w6qc]=t[F3Y4j.w6qc]),F3Y4j.b3X(t,this[F3Y4j.s4ic])&&(this[F3Y4j.s4ic]=t[F3Y4j.l3tc]),--this[F3Y4j.l9Jc]}},box2d.b2World.prototype.CreateJoint=function(t){if(box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.p3X(this[F3Y4j.W2Jc](),F3Y4j.h57c)),this[F3Y4j.W2Jc]())return F3Y4j.E3qc;var e=box2d[F3Y4j.y3tc][F3Y4j.R1ic](t,F3Y4j.E3qc),i=(e[F3Y4j.w6qc]=F3Y4j.E3qc,e[F3Y4j.l3tc]=this[F3Y4j.y97c],this[F3Y4j.y97c]&&(this[F3Y4j.y97c][F3Y4j.w6qc]=e),this[F3Y4j.y97c]=e,++this[F3Y4j.Z5ic],(e[F3Y4j.v22c][F3Y4j.I0Jc]=e)[F3Y4j.v22c][F3Y4j.C62c]=e[F3Y4j.V8tc],e[F3Y4j.v22c][F3Y4j.S7tc]=F3Y4j.E3qc,e[F3Y4j.v22c][F3Y4j.S1qc]=e[F3Y4j.l8tc][F3Y4j.y97c],e[F3Y4j.l8tc][F3Y4j.y97c]&&(e[F3Y4j.l8tc][F3Y4j.y97c][F3Y4j.S7tc]=e[F3Y4j.v22c]),e[F3Y4j.l8tc][F3Y4j.y97c]=e[F3Y4j.v22c],(e[F3Y4j.p22c][F3Y4j.I0Jc]=e)[F3Y4j.p22c][F3Y4j.C62c]=e[F3Y4j.l8tc],e[F3Y4j.p22c][F3Y4j.S7tc]=F3Y4j.E3qc,e[F3Y4j.p22c][F3Y4j.S1qc]=e[F3Y4j.V8tc][F3Y4j.y97c],e[F3Y4j.V8tc][F3Y4j.y97c]&&(e[F3Y4j.V8tc][F3Y4j.y97c][F3Y4j.S7tc]=e[F3Y4j.p22c]),e[F3Y4j.V8tc][F3Y4j.y97c]=e[F3Y4j.p22c],t[F3Y4j.E32c]),o=t[F3Y4j.F32c];if(F3Y4j.y3X(t[F3Y4j.c5Qc],F3Y4j.h57c))for(var n=o[F3Y4j.K7Qc]();n;)F3Y4j.Z3X(n[F3Y4j.C62c],i)&&n[F3Y4j.F7Ec][F3Y4j.R0tc](),n=n[F3Y4j.S1qc];return e},box2d.b2World.prototype.DestroyJoint=function(t){if(box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.D3X(this[F3Y4j.W2Jc](),F3Y4j.h57c)),!this[F3Y4j.W2Jc]()){var e=t[F3Y4j.v1tc],i=(t[F3Y4j.w6qc]&&(t[F3Y4j.w6qc][F3Y4j.l3tc]=t[F3Y4j.l3tc]),t[F3Y4j.l3tc]&&(t[F3Y4j.l3tc][F3Y4j.w6qc]=t[F3Y4j.w6qc]),F3Y4j.F3X(t,this[F3Y4j.y97c])&&(this[F3Y4j.y97c]=t[F3Y4j.l3tc]),t[F3Y4j.l8tc]),o=t[F3Y4j.V8tc];if(i[F3Y4j.s7Ec](F3Y4j.H3qc),o[F3Y4j.s7Ec](F3Y4j.H3qc),t[F3Y4j.v22c][F3Y4j.S7tc]&&(t[F3Y4j.v22c][F3Y4j.S7tc][F3Y4j.S1qc]=t[F3Y4j.v22c][F3Y4j.S1qc]),t[F3Y4j.v22c][F3Y4j.S1qc]&&(t[F3Y4j.v22c][F3Y4j.S1qc][F3Y4j.S7tc]=t[F3Y4j.v22c][F3Y4j.S7tc]),F3Y4j.t3X(t[F3Y4j.v22c],i[F3Y4j.y97c])&&(i[F3Y4j.y97c]=t[F3Y4j.v22c][F3Y4j.S1qc]),t[F3Y4j.v22c][F3Y4j.S7tc]=F3Y4j.E3qc,t[F3Y4j.v22c][F3Y4j.S1qc]=F3Y4j.E3qc,t[F3Y4j.p22c][F3Y4j.S7tc]&&(t[F3Y4j.p22c][F3Y4j.S7tc][F3Y4j.S1qc]=t[F3Y4j.p22c][F3Y4j.S1qc]),t[F3Y4j.p22c][F3Y4j.S1qc]&&(t[F3Y4j.p22c][F3Y4j.S1qc][F3Y4j.S7tc]=t[F3Y4j.p22c][F3Y4j.S7tc]),F3Y4j.T3X(t[F3Y4j.p22c],o[F3Y4j.y97c])&&(o[F3Y4j.y97c]=t[F3Y4j.p22c][F3Y4j.S1qc]),t[F3Y4j.p22c][F3Y4j.S7tc]=F3Y4j.E3qc,t[F3Y4j.p22c][F3Y4j.S1qc]=F3Y4j.E3qc,box2d[F3Y4j.y3tc][F3Y4j.V3Qc](t,F3Y4j.E3qc),box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.v3X(this[F3Y4j.Z5ic],F3Y4j.u42c)),--this[F3Y4j.Z5ic],F3Y4j.W3X(e,F3Y4j.h57c))for(var n=o[F3Y4j.K7Qc]();n;)F3Y4j.C3X(n[F3Y4j.C62c],i)&&n[F3Y4j.F7Ec][F3Y4j.R0tc](),n=n[F3Y4j.S1qc]}},box2d.b2World.prototype.Solve=function(t){for(var e="m_islandFlag",i=this[F3Y4j.y47c];i;i=i[F3Y4j.l3tc])i[F3Y4j.u5ic](t);this[F3Y4j.G7tc][F3Y4j.M4qc]=0,this[F3Y4j.G7tc][F3Y4j.K4Ec]=0,this[F3Y4j.G7tc][F3Y4j.U6qc]=0;var o=this[F3Y4j.Z9Qc];o[F3Y4j.N47c](this[F3Y4j.l9Jc],this[F3Y4j.A8Qc][F3Y4j.J32c],this[F3Y4j.Z5ic],null,this[F3Y4j.A8Qc][F3Y4j.E4qc]);for(var n=this[F3Y4j.s4ic];n;n=n[F3Y4j.l3tc])n[F3Y4j.c8tc]&=~box2d[F3Y4j.L4Ec][F3Y4j.T5Ec];for(var s=this[F3Y4j.A8Qc][F3Y4j.U5Ec];s;s=s[F3Y4j.l3tc])s[F3Y4j.c8tc]&=~box2d[F3Y4j.P7Qc][F3Y4j.T5Ec];for(var r=this[F3Y4j.y97c];r;r=r[F3Y4j.l3tc])r[e]=!1;for(var c=this[F3Y4j.l9Jc],a=this[F3Y4j.r5Jc],h=this[F3Y4j.s4ic];h;h=h[F3Y4j.l3tc])if(!(F3Y4j.U3X(h[F3Y4j.c8tc],box2d[F3Y4j.L4Ec][F3Y4j.T5Ec])||F3Y4j.d3X(h[F3Y4j.y5Gc](),!1)||F3Y4j.X3X(h[F3Y4j.e6ic](),!1)||F3Y4j.o7X(h[F3Y4j.j6Jc](),box2d[F3Y4j.T0Ec][F3Y4j.u0Jc]))){o[F3Y4j.w1Jc]();var u=0;for((a[u++]=h)[F3Y4j.c8tc]|=box2d[F3Y4j.L4Ec][F3Y4j.T5Ec];F3Y4j.q7X(u,0);){n=a[--u];if(box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.z7X(n[F3Y4j.e6ic](),!0)),o[F3Y4j.q0qc](n),n[F3Y4j.s7Ec](!0),!F3Y4j.E7X(n[F3Y4j.j6Jc](),box2d[F3Y4j.T0Ec][F3Y4j.u0Jc])){for(var l=n[F3Y4j.U5Ec];l;l=l[F3Y4j.S1qc]){var d,p,F=l[F3Y4j.F7Ec];F3Y4j.f7X(F[F3Y4j.c8tc],box2d[F3Y4j.P7Qc][F3Y4j.T5Ec])||F3Y4j.H7X(F[F3Y4j.A02c](),!1)||F3Y4j.I7X(F[F3Y4j.Y5tc](),!1)||(d=F[F3Y4j.g72c][F3Y4j.j1ic],p=F[F3Y4j.x62c][F3Y4j.j1ic],d||p||(o[F3Y4j.u4ic](F),F[F3Y4j.c8tc]|=box2d[F3Y4j.P7Qc][F3Y4j.T5Ec],j=l[F3Y4j.C62c],F3Y4j.w7X(j[F3Y4j.c8tc],box2d[F3Y4j.L4Ec][F3Y4j.T5Ec])||(box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.N7X(u,c)),(a[u++]=j)[F3Y4j.c8tc]|=box2d[F3Y4j.L4Ec][F3Y4j.T5Ec])))}for(var j,Y=n[F3Y4j.y97c];Y;Y=Y[F3Y4j.S1qc])F3Y4j.J7X(Y[F3Y4j.I0Jc][e],!0)||(j=Y[F3Y4j.C62c],F3Y4j.S7X(j[F3Y4j.e6ic](),!1)||(o.AddJoint(Y[F3Y4j.I0Jc]),Y[F3Y4j.I0Jc][e]=!0,F3Y4j.Q7X(j[F3Y4j.c8tc],box2d[F3Y4j.L4Ec][F3Y4j.T5Ec])||(box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.G7X(u,c)),(a[u++]=j)[F3Y4j.c8tc]|=box2d[F3Y4j.L4Ec][F3Y4j.T5Ec])))}}var f=new box2d[F3Y4j.k22c];o[F3Y4j.t2Jc](f,t,this[F3Y4j.v17c],this[F3Y4j.h0tc]),this[F3Y4j.G7tc][F3Y4j.M4qc]+=f[F3Y4j.M4qc],this[F3Y4j.G7tc][F3Y4j.K4Ec]+=f[F3Y4j.K4Ec],this[F3Y4j.G7tc][F3Y4j.U6qc]+=f[F3Y4j.U6qc];for(var b=0;F3Y4j.a7X(b,o[F3Y4j.l9Jc]);++b){n=o[F3Y4j.L8Jc][b];F3Y4j.L7X(n[F3Y4j.j6Jc](),box2d[F3Y4j.T0Ec][F3Y4j.u0Jc])&&(n[F3Y4j.c8tc]&=~box2d[F3Y4j.L4Ec][F3Y4j.T5Ec])}}for(b=0;F3Y4j.K7X(b,a.length)&&a[b];++b)a[b]=null;for(var g=new box2d[F3Y4j.V7Qc],n=this[F3Y4j.s4ic];n;n=n[F3Y4j.l3tc])F3Y4j.M7X(n[F3Y4j.c8tc]&box2d[F3Y4j.L4Ec][F3Y4j.T5Ec],0)||F3Y4j.s6X(n[F3Y4j.j6Jc](),box2d[F3Y4j.T0Ec][F3Y4j.u0Jc])||n[F3Y4j.V22c]();this[F3Y4j.A8Qc][F3Y4j.J0Qc](),this[F3Y4j.G7tc][F3Y4j.L0Ec]=g[F3Y4j.j7tc]()},box2d.b2World.prototype.SolveTOI=function(t){var e=this[F3Y4j.Z9Qc];if(e[F3Y4j.N47c](F3Y4j.x6X(F3Y4j.B42c,box2d[F3Y4j.r6qc]),box2d[F3Y4j.r6qc],F3Y4j.u42c,F3Y4j.E3qc,this[F3Y4j.A8Qc][F3Y4j.E4qc]),this[F3Y4j.V57c]){for(var i=this[F3Y4j.s4ic];i;i=i[F3Y4j.l3tc])i[F3Y4j.c8tc]&=~box2d[F3Y4j.L4Ec][F3Y4j.T5Ec],i[F3Y4j.G4qc][F3Y4j.i0ic]=F3Y4j.u42c;for(var o=this[F3Y4j.A8Qc][F3Y4j.U5Ec];o;o=o[F3Y4j.l3tc])o[F3Y4j.c8tc]&=~F3Y4j.O6X(box2d[F3Y4j.P7Qc][F3Y4j.M77c],box2d[F3Y4j.P7Qc][F3Y4j.T5Ec]),o[F3Y4j.J8Qc]=F3Y4j.u42c,o.m_toi=F3Y4j.b42c}for(;;){for(var n=F3Y4j.E3qc,s=F3Y4j.b42c,o=this[F3Y4j.A8Qc][F3Y4j.U5Ec];o;o=o[F3Y4j.l3tc])if(!F3Y4j.B6X(o[F3Y4j.A02c](),F3Y4j.h57c)&&!F3Y4j.u6X(o[F3Y4j.J8Qc],box2d[F3Y4j.o3Ec])){var r=F3Y4j.b42c;if(F3Y4j.l6X(o[F3Y4j.c8tc],box2d[F3Y4j.P7Qc][F3Y4j.M77c]))r=o.m_toi;else{var c=o[F3Y4j.s0ic](),a=o[F3Y4j.f0ic]();if(c[F3Y4j.V5Jc]()||a[F3Y4j.V5Jc]())continue;var h=c[F3Y4j.z4tc](),u=a[F3Y4j.z4tc](),l=h[F3Y4j.N37c],d=u[F3Y4j.N37c],p=(box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.m6X(l,box2d[F3Y4j.T0Ec][F3Y4j.c6ic])||F3Y4j.Y6X(d,box2d[F3Y4j.T0Ec][F3Y4j.c6ic])),h[F3Y4j.y5Gc]()&&F3Y4j.j6X(l,box2d[F3Y4j.T0Ec][F3Y4j.u0Jc])),F=u[F3Y4j.y5Gc]()&&F3Y4j.A6X(d,box2d[F3Y4j.T0Ec][F3Y4j.u0Jc]);if(F3Y4j.r6X(p,F3Y4j.h57c)&&F3Y4j.i6X(F,F3Y4j.h57c))continue;p=h[F3Y4j.Z6tc]()||F3Y4j.c6X(l,box2d[F3Y4j.T0Ec][F3Y4j.c6ic]),F=u[F3Y4j.Z6tc]()||F3Y4j.e6X(d,box2d[F3Y4j.T0Ec][F3Y4j.c6ic]);if(F3Y4j.g6X(p,F3Y4j.h57c)&&F3Y4j.k6X(F,F3Y4j.h57c))continue;l=h[F3Y4j.G4qc][F3Y4j.i0ic],d=(F3Y4j.n6X(h[F3Y4j.G4qc][F3Y4j.i0ic],u[F3Y4j.G4qc][F3Y4j.i0ic])?(l=u[F3Y4j.G4qc][F3Y4j.i0ic],h[F3Y4j.G4qc][F3Y4j.e62c](l)):F3Y4j.P6X(u[F3Y4j.G4qc][F3Y4j.i0ic],h[F3Y4j.G4qc][F3Y4j.i0ic])&&(l=h[F3Y4j.G4qc][F3Y4j.i0ic],u[F3Y4j.G4qc][F3Y4j.e62c](l)),box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.V0X(l,F3Y4j.b42c)),o[F3Y4j.R32c]()),p=o[F3Y4j.j32c](),F=box2d.b2World.prototype.SolveTOI.s_toi_input,d=(F[F3Y4j.H6ic][F3Y4j.v5qc](c[F3Y4j.p82c](),d),F[F3Y4j.Q6ic][F3Y4j.v5qc](a[F3Y4j.p82c](),p),F[F3Y4j.t9ic][F3Y4j.j9Qc](h[F3Y4j.G4qc]),F[F3Y4j.M9ic][F3Y4j.j9Qc](u[F3Y4j.G4qc]),F[F3Y4j.t5tc]=F3Y4j.b42c,box2d.b2World.prototype.SolveTOI.s_toi_output),p=(box2d[F3Y4j.d37c](d,F),d[F3Y4j.l4ic]),r=F3Y4j.h0X(d[F3Y4j.g7ic],box2d[F3Y4j.v9tc][F3Y4j.m5Qc])?box2d[F3Y4j.y3ic](l+F3Y4j.R0X(F3Y4j.b42c-l,p),F3Y4j.b42c):F3Y4j.b42c;o.m_toi=r,o[F3Y4j.c8tc]|=box2d[F3Y4j.P7Qc][F3Y4j.M77c]}F3Y4j.b0X(r,s)&&(n=o,s=r)}if(F3Y4j.p0X(n,F3Y4j.E3qc)||F3Y4j.y0X(F3Y4j.b42c-F3Y4j.D2ic*box2d[F3Y4j.w7qc],s)){this[F3Y4j.V57c]=F3Y4j.H3qc;break}var c=n[F3Y4j.s0ic](),a=n[F3Y4j.f0ic](),h=c[F3Y4j.z4tc](),u=a[F3Y4j.z4tc](),j=box2d.b2World.prototype.SolveTOI.s_backup1.Copy(h[F3Y4j.G4qc]),Y=box2d.b2World.prototype.SolveTOI.s_backup2.Copy(u[F3Y4j.G4qc]);if(h[F3Y4j.e62c](s),u[F3Y4j.e62c](s),n[F3Y4j.l32c](this[F3Y4j.A8Qc][F3Y4j.E4qc]),n[F3Y4j.c8tc]&=~box2d[F3Y4j.P7Qc][F3Y4j.M77c],++n[F3Y4j.J8Qc],F3Y4j.Z0X(n[F3Y4j.A02c](),F3Y4j.h57c)||F3Y4j.D0X(n[F3Y4j.Y5tc](),F3Y4j.h57c))n.SetEnabled(F3Y4j.h57c),h[F3Y4j.G4qc][F3Y4j.j9Qc](j),u[F3Y4j.G4qc][F3Y4j.j9Qc](Y),h[F3Y4j.j2Qc](),u[F3Y4j.j2Qc]();else{h[F3Y4j.s7Ec](F3Y4j.H3qc),u[F3Y4j.s7Ec](F3Y4j.H3qc),e[F3Y4j.w1Jc](),e[F3Y4j.q0qc](h),e[F3Y4j.q0qc](u),e[F3Y4j.u4ic](n),h[F3Y4j.c8tc]|=box2d[F3Y4j.L4Ec][F3Y4j.T5Ec],u[F3Y4j.c8tc]|=box2d[F3Y4j.L4Ec][F3Y4j.T5Ec],n[F3Y4j.c8tc]|=box2d[F3Y4j.P7Qc][F3Y4j.T5Ec];for(var f=F3Y4j.u42c;F3Y4j.F0X(f,F3Y4j.B42c);++f){var b=F3Y4j.t0X(f,F3Y4j.u42c)?h:u;if(F3Y4j.T0X(b[F3Y4j.N37c],box2d[F3Y4j.T0Ec][F3Y4j.c6ic]))for(var g=b[F3Y4j.U5Ec];g&&!F3Y4j.v0X(e[F3Y4j.l9Jc],e[F3Y4j.I6Jc])&&!F3Y4j.W0X(e[F3Y4j.J32c],e[F3Y4j.S62c]);g=g[F3Y4j.S1qc]){var y,m,x,v=g[F3Y4j.F7Ec];F3Y4j.C0X(v[F3Y4j.c8tc],box2d[F3Y4j.P7Qc][F3Y4j.T5Ec])||(y=g[F3Y4j.C62c],F3Y4j.U0X(y[F3Y4j.N37c],box2d[F3Y4j.T0Ec][F3Y4j.c6ic])&&F3Y4j.d0X(b[F3Y4j.Z6tc](),F3Y4j.h57c)&&F3Y4j.X0X(y[F3Y4j.Z6tc](),F3Y4j.h57c)||(x=v[F3Y4j.g72c][F3Y4j.j1ic],m=v[F3Y4j.x62c][F3Y4j.j1ic],x||m||(x=box2d.b2World.prototype.SolveTOI.s_backup.Copy(y[F3Y4j.G4qc]),F3Y4j.o2X(y[F3Y4j.c8tc]&box2d[F3Y4j.L4Ec][F3Y4j.T5Ec],F3Y4j.u42c)&&y[F3Y4j.e62c](s),v[F3Y4j.l32c](this[F3Y4j.A8Qc][F3Y4j.E4qc]),F3Y4j.q2X(v[F3Y4j.A02c](),F3Y4j.h57c)||F3Y4j.z2X(v[F3Y4j.Y5tc](),F3Y4j.h57c)?(y[F3Y4j.G4qc][F3Y4j.j9Qc](x),y[F3Y4j.j2Qc]()):(v[F3Y4j.c8tc]|=box2d[F3Y4j.P7Qc][F3Y4j.T5Ec],e[F3Y4j.u4ic](v),F3Y4j.E2X(y[F3Y4j.c8tc],box2d[F3Y4j.L4Ec][F3Y4j.T5Ec])||(y[F3Y4j.c8tc]|=box2d[F3Y4j.L4Ec][F3Y4j.T5Ec],F3Y4j.f2X(y[F3Y4j.N37c],box2d[F3Y4j.T0Ec][F3Y4j.u0Jc])&&y[F3Y4j.s7Ec](F3Y4j.H3qc),e[F3Y4j.q0qc](y))))))}}j=box2d.b2World.prototype.SolveTOI.s_subStep;j[F3Y4j.N7Ec]=F3Y4j.H2X(F3Y4j.b42c-s,t[F3Y4j.N7Ec]),j[F3Y4j.G6ic]=F3Y4j.I2X(F3Y4j.b42c,j[F3Y4j.N7Ec]),j[F3Y4j.W22c]=F3Y4j.b42c,j[F3Y4j.v0qc]=F3Y4j.B2ic,j[F3Y4j.n2Ec]=t[F3Y4j.n2Ec],j[F3Y4j.D47c]=F3Y4j.h57c,e[F3Y4j.S37c](j,h[F3Y4j.h7Jc],u[F3Y4j.h7Jc]);for(f=F3Y4j.u42c;F3Y4j.w2X(f,e[F3Y4j.l9Jc]);++f){b=e[F3Y4j.L8Jc][f];if(b[F3Y4j.c8tc]&=~box2d[F3Y4j.L4Ec][F3Y4j.T5Ec],!F3Y4j.N2X(b[F3Y4j.N37c],box2d[F3Y4j.T0Ec][F3Y4j.c6ic])){b[F3Y4j.V22c]();for(g=b[F3Y4j.U5Ec];g;g=g[F3Y4j.S1qc])g[F3Y4j.F7Ec][F3Y4j.c8tc]&=~F3Y4j.J2X(box2d[F3Y4j.P7Qc][F3Y4j.M77c],box2d[F3Y4j.P7Qc][F3Y4j.T5Ec])}}if(this[F3Y4j.A8Qc][F3Y4j.J0Qc](),this[F3Y4j.T7ic]){this[F3Y4j.V57c]=F3Y4j.h57c;break}}}},box2d.b2World.prototype.SolveTOI.s_subStep=new box2d[F3Y4j.d3Ec],box2d.b2World.prototype.SolveTOI.s_backup=new box2d[F3Y4j.L22c],box2d.b2World.prototype.SolveTOI.s_backup1=new box2d[F3Y4j.L22c],box2d.b2World.prototype.SolveTOI.s_backup2=new box2d[F3Y4j.L22c],box2d.b2World.prototype.SolveTOI.s_toi_input=new box2d[F3Y4j.F0Qc],box2d.b2World.prototype.SolveTOI.s_toi_output=new box2d[F3Y4j.t47c],box2d.b2World.prototype.Step=function(t,e,i){var o,n=new box2d[F3Y4j.V7Qc],s=(F3Y4j.S2X(this[F3Y4j.c8tc],box2d[F3Y4j.I0Qc][F3Y4j.N27c])&&(this[F3Y4j.A8Qc][F3Y4j.J0Qc](),this[F3Y4j.c8tc]&=~box2d[F3Y4j.I0Qc][F3Y4j.N27c]),this[F3Y4j.c8tc]|=box2d[F3Y4j.I0Qc][F3Y4j.Z8qc],box2d.b2World.prototype.Step.s_step);s[F3Y4j.N7Ec]=t,s[F3Y4j.n2Ec]=e,s[F3Y4j.v0qc]=i,F3Y4j.Q2X(t,F3Y4j.u42c)?s[F3Y4j.G6ic]=F3Y4j.G2X(F3Y4j.b42c,t):s[F3Y4j.G6ic]=F3Y4j.u42c,s[F3Y4j.W22c]=F3Y4j.a2X(this.m_inv_dt0,t),s[F3Y4j.D47c]=this[F3Y4j.D2tc],F3Y4j.H3qc&&(o=new box2d[F3Y4j.V7Qc],this[F3Y4j.A8Qc][F3Y4j.T1Qc](),this[F3Y4j.G7tc][F3Y4j.F0qc]=o[F3Y4j.j7tc]()),this[F3Y4j.V57c]&&F3Y4j.L2X(s[F3Y4j.N7Ec],F3Y4j.u42c)&&(o=new box2d[F3Y4j.V7Qc],this[F3Y4j.t2Jc](s),this[F3Y4j.G7tc][F3Y4j.w77c]=o[F3Y4j.j7tc]()),this[F3Y4j.t0qc]&&F3Y4j.K2X(s[F3Y4j.N7Ec],F3Y4j.u42c)&&(o=new box2d[F3Y4j.V7Qc],this[F3Y4j.S37c](s),this[F3Y4j.G7tc][F3Y4j.b3Ec]=o[F3Y4j.j7tc]()),F3Y4j.M2X(s[F3Y4j.N7Ec],F3Y4j.u42c)&&(this.m_inv_dt0=s[F3Y4j.G6ic]),F3Y4j.s8X(this[F3Y4j.c8tc],box2d[F3Y4j.I0Qc][F3Y4j.K72c])&&this.ClearForces(),this[F3Y4j.c8tc]&=~box2d[F3Y4j.I0Qc][F3Y4j.Z8qc],this[F3Y4j.G7tc][F3Y4j.r7Ec]=n[F3Y4j.j7tc]()},box2d.b2World.prototype.Step.s_step=new box2d[F3Y4j.d3Ec],box2d.b2World.prototype.ClearForces=function(){for(var t=this[F3Y4j.s4ic];t;t=t[F3Y4j.l3tc])t[F3Y4j.G0qc][F3Y4j.a4qc](),t[F3Y4j.A3ic]=F3Y4j.u42c},box2d.b2World.prototype.QueryAABB=function(i,t){var o=this[F3Y4j.A8Qc][F3Y4j.V1qc];o[F3Y4j.b3ic](function(t){var t=o[F3Y4j.M1ic](t),e=(box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.x8X(t,box2d[F3Y4j.O8ic])),t[F3Y4j.A9Ec]);t[F3Y4j.s3ic];return F3Y4j.O8X(i,box2d[F3Y4j.B3qc])?i[F3Y4j.z07c](e):i(e)},t)},box2d.b2World.prototype.QueryShape=function(i,o,n){var s=this[F3Y4j.A8Qc][F3Y4j.V1qc],t=box2d.b2World.prototype.QueryShape.s_aabb;o[F3Y4j.q2Qc](t,n,0),s[F3Y4j.b3ic](function(t){var t=s[F3Y4j.M1ic](t),e=(box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.B8X(t,box2d[F3Y4j.O8ic])),t[F3Y4j.A9Ec]);t[F3Y4j.s3ic];return!box2d[F3Y4j.i2Ec](o,0,e[F3Y4j.p82c](),0,n,e[F3Y4j.z4tc]()[F3Y4j.L92c]())||(F3Y4j.u8X(i,box2d[F3Y4j.B3qc])?i[F3Y4j.z07c](e):i(e))},t)},box2d.b2World.prototype.QueryShape.s_aabb=new box2d[F3Y4j.p02c],box2d.b2World.prototype.QueryPoint=function(i,o){var n=this[F3Y4j.A8Qc][F3Y4j.V1qc],t=box2d.b2World.prototype.QueryPoint.s_aabb;t[F3Y4j.h6ic][F3Y4j.V0tc](F3Y4j.Y8X(o[F3Y4j.W17c],box2d[F3Y4j.l9qc]),F3Y4j.j8X(o[F3Y4j.I17c],box2d[F3Y4j.l9qc])),t[F3Y4j.P7ic][F3Y4j.V0tc](o[F3Y4j.W17c]+box2d[F3Y4j.l9qc],o[F3Y4j.I17c]+box2d[F3Y4j.l9qc]),n[F3Y4j.b3ic](function(t){var t=n[F3Y4j.M1ic](t),e=(box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.l8X(t,box2d[F3Y4j.O8ic])),t[F3Y4j.A9Ec]);t[F3Y4j.s3ic];return e[F3Y4j.P72c](o)?F3Y4j.m8X(i,box2d[F3Y4j.B3qc])?i[F3Y4j.z07c](e):i(e):F3Y4j.H3qc},t)},box2d.b2World.prototype.QueryPoint.s_aabb=new box2d[F3Y4j.p02c],box2d.b2World.prototype.RayCast=function(s,r,c){var a=this[F3Y4j.A8Qc][F3Y4j.V1qc],t=box2d.b2World.prototype.RayCast.s_input;t[F3Y4j.d6ic]=F3Y4j.b42c,t[F3Y4j.C6tc][F3Y4j.j9Qc](r),t[F3Y4j.b0tc][F3Y4j.j9Qc](c),a[F3Y4j.E1Jc](function(t,e){var i,e=a[F3Y4j.M1ic](e),o=(box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.A8X(e,box2d[F3Y4j.O8ic])),e[F3Y4j.A9Ec]),e=e[F3Y4j.s3ic],n=box2d.b2World.prototype.RayCast.s_output;return o[F3Y4j.E1Jc](n,t,e)?(e=n[F3Y4j.k7Qc],(i=box2d.b2World.prototype.RayCast.s_point)[F3Y4j.V0tc](F3Y4j.r8X(F3Y4j.b42c-e,r[F3Y4j.W17c])+F3Y4j.i8X(e,c[F3Y4j.W17c]),F3Y4j.c8X(F3Y4j.b42c-e,r[F3Y4j.I17c])+F3Y4j.e8X(e,c[F3Y4j.I17c])),F3Y4j.g8X(s,box2d[F3Y4j.D9tc])?s[F3Y4j.z07c](o,i,n[F3Y4j.U6ic],e):s(o,i,n[F3Y4j.U6ic],e)):t[F3Y4j.d6ic]},t)},box2d.b2World.prototype.RayCast.s_input=new box2d[F3Y4j.K3ic],box2d.b2World.prototype.RayCast.s_output=new box2d[F3Y4j.p1ic],box2d.b2World.prototype.RayCast.s_point=new box2d[F3Y4j.b17c],box2d.b2World.prototype.RayCastOne=function(t,e){var n=F3Y4j.E3qc,s=F3Y4j.b42c;return this[F3Y4j.E1Jc](function(t,e,i,o){return F3Y4j.k8X(o,s)&&(s=o,n=t),s},t,e),n},box2d.b2World.prototype.RayCastAll=function(t,e,n){return n.length=0,this[F3Y4j.E1Jc](function(t,e,i,o){return n[F3Y4j.h17c](t),F3Y4j.b42c},t,e),n},box2d.b2World.prototype.DrawShape=function(t,e){var i=t[F3Y4j.p82c]();switch(i[F3Y4j.N37c]){case box2d[F3Y4j.d9ic][F3Y4j.x87c]:var o=F3Y4j.n8X(i,box2d[F3Y4j.Q0ic])?i:F3Y4j.E3qc,n=o[F3Y4j.j8Jc],o=o[F3Y4j.W6ic],s=box2d[F3Y4j.b17c][F3Y4j.P1ic];this[F3Y4j.m77c].DrawSolidCircle(n,o,s,e);break;case box2d[F3Y4j.d9ic][F3Y4j.d2Qc]:var n=F3Y4j.P8X(i,box2d[F3Y4j.K1Ec])?i:F3Y4j.E3qc,r=n[F3Y4j.j5tc],c=n[F3Y4j.A4ic];this[F3Y4j.m77c][F3Y4j.C1Jc](r,c,e);break;case box2d[F3Y4j.d9ic][F3Y4j.p4Qc]:for(var o=F3Y4j.V5w(i,box2d[F3Y4j.e1ic])?i:F3Y4j.E3qc,a=o[F3Y4j.a1qc],r=(u=o[F3Y4j.G6Jc])[F3Y4j.u42c],h=F3Y4j.u42c;F3Y4j.h5w(h,a);++h){c=u[h];this[F3Y4j.m77c][F3Y4j.C1Jc](r,c,e),this[F3Y4j.m77c].DrawCircle(c,.05,e),r=c}break;case box2d[F3Y4j.d9ic][F3Y4j.M2tc]:var s=F3Y4j.R5w(i,box2d[F3Y4j.i77c])?i:F3Y4j.E3qc,n=s[F3Y4j.a1qc],u=s[F3Y4j.G6Jc];this[F3Y4j.m77c].DrawSolidPolygon(u,n,e)}},box2d.b2World.prototype.DrawJoint=function(t){var e=t[F3Y4j.R5Jc](),i=t[F3Y4j.Y5Jc](),e=e[F3Y4j.K6Ec],i=i[F3Y4j.K6Ec],o=e[F3Y4j.Z3ic],n=i[F3Y4j.Z3ic],s=t.GetAnchorA(box2d.b2World.prototype.DrawJoint.s_p1),r=t.GetAnchorB(box2d.b2World.prototype.DrawJoint.s_p2),c=box2d.b2World.prototype.DrawJoint.s_color.SetRGB(F3Y4j.T8Qc,F3Y4j.K8Qc,F3Y4j.K8Qc);switch(t[F3Y4j.N37c]){case box2d[F3Y4j.T3Jc][F3Y4j.g3Jc]:this[F3Y4j.m77c][F3Y4j.C1Jc](s,r,c);break;case box2d[F3Y4j.T3Jc][F3Y4j.u1Ec]:var a=F3Y4j.b5w(t,box2d[F3Y4j.R02c])?t:F3Y4j.E3qc,h=a.GetGroundAnchorA(box2d.b2World.prototype.DrawJoint.s_s1),a=a.GetGroundAnchorB(box2d.b2World.prototype.DrawJoint.s_s2);this[F3Y4j.m77c][F3Y4j.C1Jc](h,s,c),this[F3Y4j.m77c][F3Y4j.C1Jc](a,r,c),this[F3Y4j.m77c][F3Y4j.C1Jc](h,a,c);break;case box2d[F3Y4j.T3Jc][F3Y4j.z8tc]:this[F3Y4j.m77c][F3Y4j.C1Jc](s,r,c);break;default:this[F3Y4j.m77c][F3Y4j.C1Jc](o,s,c),this[F3Y4j.m77c][F3Y4j.C1Jc](s,r,c),this[F3Y4j.m77c][F3Y4j.C1Jc](n,r,c)}},box2d.b2World.prototype.DrawJoint.s_p1=new box2d[F3Y4j.b17c],box2d.b2World.prototype.DrawJoint.s_p2=new box2d[F3Y4j.b17c],box2d.b2World.prototype.DrawJoint.s_color=new box2d[F3Y4j.C8qc](F3Y4j.T8Qc,F3Y4j.K8Qc,F3Y4j.K8Qc),box2d.b2World.prototype.DrawJoint.s_s1=new box2d[F3Y4j.b17c],box2d.b2World.prototype.DrawJoint.s_s2=new box2d[F3Y4j.b17c],box2d.b2World.prototype.DrawDebugData=function(){var t="SetRGB";if(!F3Y4j.p5w(this[F3Y4j.m77c],F3Y4j.E3qc)){var e=this[F3Y4j.m77c].GetFlags(),i=box2d.b2World.prototype.DrawDebugData.s_color.SetRGB(F3Y4j.u42c,F3Y4j.u42c,F3Y4j.u42c);if(F3Y4j.y5w(e,box2d[F3Y4j.D3Ec][F3Y4j.L1tc]))for(var o=this[F3Y4j.s4ic];o;o=o[F3Y4j.l3tc]){var n=o[F3Y4j.K6Ec];this[F3Y4j.m77c][F3Y4j.J2Ec](n);for(var s=o[F3Y4j.W3Jc]();s;s=s[F3Y4j.l3tc])F3Y4j.Z5w(o[F3Y4j.e6ic](),F3Y4j.h57c)?i[t](F3Y4j.T8Qc,F3Y4j.T8Qc,F3Y4j.v8Qc):F3Y4j.D5w(o[F3Y4j.j6Jc](),box2d[F3Y4j.T0Ec][F3Y4j.u0Jc])?i[t](F3Y4j.T8Qc,F3Y4j.k8Qc,F3Y4j.T8Qc):F3Y4j.F5w(o[F3Y4j.j6Jc](),box2d[F3Y4j.T0Ec][F3Y4j.X5tc])?i[t](F3Y4j.T8Qc,F3Y4j.T8Qc,F3Y4j.k8Qc):F3Y4j.t5w(o[F3Y4j.y5Gc](),F3Y4j.h57c)?i[t](.6,.6,.6):i[t](F3Y4j.k8Qc,F3Y4j.d8Qc,F3Y4j.d8Qc),this[F3Y4j.i47c](s,i);this[F3Y4j.m77c][F3Y4j.C2Qc](n)}if(F3Y4j.T5w(e,box2d[F3Y4j.D3Ec][F3Y4j.f4Qc]))for(var r=this[F3Y4j.y97c];r;r=r[F3Y4j.l3tc])this.DrawJoint(r);if(F3Y4j.v5w(e,box2d[F3Y4j.D3Ec][F3Y4j.k7ic])){i[t](F3Y4j.k8Qc,F3Y4j.v8Qc,F3Y4j.k8Qc);for(var c=this[F3Y4j.A8Qc][F3Y4j.V1qc],a=box2d.b2World.prototype.DrawDebugData.s_vs,o=this[F3Y4j.s4ic];o;o=o[F3Y4j.l3tc])if(!F3Y4j.W5w(o[F3Y4j.e6ic](),F3Y4j.h57c))for(s=o[F3Y4j.W3Jc]();s;s=s[F3Y4j.l3tc])for(var h=F3Y4j.u42c;F3Y4j.C5w(h,s[F3Y4j.l57c]);++h){var u=s[F3Y4j.l67c][h],u=c[F3Y4j.G9Qc](u[F3Y4j.L7Ec]);a[F3Y4j.u42c][F3Y4j.V0tc](u[F3Y4j.h6ic][F3Y4j.W17c],u[F3Y4j.h6ic][F3Y4j.I17c]),a[F3Y4j.b42c][F3Y4j.V0tc](u[F3Y4j.P7ic][F3Y4j.W17c],u[F3Y4j.h6ic][F3Y4j.I17c]),a[F3Y4j.B42c][F3Y4j.V0tc](u[F3Y4j.P7ic][F3Y4j.W17c],u[F3Y4j.P7ic][F3Y4j.I17c]),a[F3Y4j.R42c][F3Y4j.V0tc](u[F3Y4j.h6ic][F3Y4j.W17c],u[F3Y4j.P7ic][F3Y4j.I17c]),this[F3Y4j.m77c].DrawPolygon(a,F3Y4j.y42c,i)}}if(F3Y4j.U5w(e,box2d[F3Y4j.D3Ec][F3Y4j.K1Jc]))for(o=this[F3Y4j.s4ic];o;o=o[F3Y4j.l3tc])(n=box2d.b2World.prototype.DrawDebugData.s_xf)[F3Y4j.G3ic][F3Y4j.j9Qc](o[F3Y4j.K6Ec][F3Y4j.G3ic]),n[F3Y4j.Z3ic][F3Y4j.j9Qc](o[F3Y4j.X9tc]()),this[F3Y4j.m77c].DrawTransform(n);if(F3Y4j.d5w(e,box2d[F3Y4j.D3Ec][F3Y4j.Y8tc]))for(var l=this[F3Y4j.y47c];l;l=l[F3Y4j.l3tc])l.Draw(this[F3Y4j.m77c])}},box2d.b2World.prototype.DrawDebugData.s_color=new box2d[F3Y4j.C8qc](F3Y4j.u42c,F3Y4j.u42c,F3Y4j.u42c),box2d.b2World.prototype.DrawDebugData.s_vs=box2d[F3Y4j.b17c][F3Y4j.T7qc](F3Y4j.y42c),box2d.b2World.prototype.DrawDebugData.s_xf=new box2d[F3Y4j.J5ic],box2d.b2World.prototype.SetBroadPhase=function(t){var e=this[F3Y4j.A8Qc][F3Y4j.V1qc];this[F3Y4j.A8Qc][F3Y4j.V1qc]=t;for(var i=this[F3Y4j.s4ic];i;i=i[F3Y4j.l3tc])for(var o=i[F3Y4j.B4Ec];o;o=o[F3Y4j.l3tc])o.m_proxy=t[F3Y4j.m47c](e[F3Y4j.G9Qc](o.m_proxy),o)},box2d.b2World.prototype.GetProxyCount=function(){return this[F3Y4j.A8Qc][F3Y4j.V1qc].GetProxyCount()},box2d.b2World.prototype.GetTreeHeight=function(){return this[F3Y4j.A8Qc][F3Y4j.V1qc].GetTreeHeight()},box2d.b2World.prototype.GetTreeBalance=function(){return this[F3Y4j.A8Qc][F3Y4j.V1qc].GetTreeBalance()},box2d.b2World.prototype.GetTreeQuality=function(){return this[F3Y4j.A8Qc][F3Y4j.V1qc].GetTreeQuality()},box2d.b2World.prototype.ShiftOrigin=function(t){if(box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.X5w(this[F3Y4j.W2Jc](),F3Y4j.h57c)),!this[F3Y4j.W2Jc]()){for(var e=this[F3Y4j.s4ic];e;e=e[F3Y4j.l3tc])e[F3Y4j.K6Ec][F3Y4j.Z3ic][F3Y4j.f3Jc](t),e[F3Y4j.G4qc][F3Y4j.d92c][F3Y4j.f3Jc](t),e[F3Y4j.G4qc][F3Y4j.K22c][F3Y4j.f3Jc](t);for(var i=this[F3Y4j.y97c];i;i=i[F3Y4j.l3tc])i[F3Y4j.G5Jc](t);this[F3Y4j.A8Qc][F3Y4j.V1qc][F3Y4j.G5Jc](t)}},box2d.b2World.prototype.Dump=function(){if(box2d[F3Y4j.l2Jc]&&!F3Y4j.o1w(this[F3Y4j.c8tc]&box2d[F3Y4j.I0Qc][F3Y4j.Z8qc],box2d[F3Y4j.I0Qc][F3Y4j.Z8qc])){box2d[F3Y4j.q7ic]("/** @type {box2d.b2Vec2} */ var g = new box2d.b2Vec2(%.15f, %.15f);\n",this[F3Y4j.v17c][F3Y4j.W17c],this[F3Y4j.v17c][F3Y4j.I17c]),box2d[F3Y4j.q7ic]("this.m_world.SetGravity(g);\n"),box2d[F3Y4j.q7ic]("/** @type {Array.<box2d.b2Body>} */ var bodies = new Array(%d);\n",this[F3Y4j.l9Jc]),box2d[F3Y4j.q7ic]("/** @type {Array.<box2d.b2Joint>} */ var joints = new Array(%d);\n",this[F3Y4j.Z5ic]);for(var t=F3Y4j.u42c,e=this[F3Y4j.s4ic];e;e=e[F3Y4j.l3tc])e[F3Y4j.h7Jc]=t,e[F3Y4j.Z6Qc](),++t;for(var t=F3Y4j.u42c,i=this[F3Y4j.y97c];i;i=i[F3Y4j.l3tc])i[F3Y4j.O7tc]=t,++t;for(i=this[F3Y4j.y97c];i;i=i[F3Y4j.l3tc])F3Y4j.q1w(i[F3Y4j.N37c],box2d[F3Y4j.T3Jc][F3Y4j.d47c])||(box2d[F3Y4j.q7ic](F3Y4j.o37c),box2d[F3Y4j.q7ic](F3Y4j.Z0Jc),i[F3Y4j.Z6Qc](),box2d[F3Y4j.q7ic](F3Y4j.w9qc));for(i=this[F3Y4j.y97c];i;i=i[F3Y4j.l3tc])F3Y4j.z1w(i[F3Y4j.N37c],box2d[F3Y4j.T3Jc][F3Y4j.d47c])||(box2d[F3Y4j.q7ic](F3Y4j.o37c),box2d[F3Y4j.q7ic](F3Y4j.Z0Jc),i[F3Y4j.Z6Qc](),box2d[F3Y4j.q7ic](F3Y4j.w9qc))}},box2d.b2World.prototype.AddController=function(t){return box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.E1w(t[F3Y4j.m6Qc],F3Y4j.E3qc),"Controller can only be a member of one world"),t[F3Y4j.m6Qc]=this,t[F3Y4j.l3tc]=this[F3Y4j.y47c],t[F3Y4j.w6qc]=F3Y4j.E3qc,this[F3Y4j.y47c]&&(this[F3Y4j.y47c][F3Y4j.w6qc]=t),this[F3Y4j.y47c]=t,++this[F3Y4j.I2ic],t},box2d.b2World.prototype.RemoveController=function(t){box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.f1w(t[F3Y4j.m6Qc],this),"Controller is not a member of this world"),t[F3Y4j.w6qc]&&(t[F3Y4j.w6qc][F3Y4j.l3tc]=t[F3Y4j.l3tc]),t[F3Y4j.l3tc]&&(t[F3Y4j.l3tc][F3Y4j.w6qc]=t[F3Y4j.w6qc]),F3Y4j.H1w(this[F3Y4j.y47c],t)&&(this[F3Y4j.y47c]=t[F3Y4j.l3tc]),--this[F3Y4j.I2ic],t[F3Y4j.w6qc]=F3Y4j.E3qc,t[F3Y4j.l3tc]=F3Y4j.E3qc,t[F3Y4j.m6Qc]=F3Y4j.E3qc},goog[F3Y4j.a0ic](F3Y4j.M82c),goog[F3Y4j.D02c]("box2d.b2Settings"),goog[F3Y4j.D02c]("box2d.b2Joint"),goog[F3Y4j.D02c]("box2d.b2Math"),box2d[F3Y4j.i4ic]=function(){goog[F3Y4j.W3tc](this,box2d[F3Y4j.T3Jc][F3Y4j.g0Ec]),this[F3Y4j.s8Qc]=new Array},goog[F3Y4j.b4ic](box2d[F3Y4j.i4ic],box2d[F3Y4j.X7qc]),box2d.b2AreaJointDef.prototype.world=F3Y4j.E3qc,box2d.b2AreaJointDef.prototype.bodies=F3Y4j.E3qc,box2d.b2AreaJointDef.prototype.frequencyHz=F3Y4j.u42c,box2d.b2AreaJointDef.prototype.dampingRatio=F3Y4j.u42c,box2d.b2AreaJointDef.prototype.AddBody=function(t){this[F3Y4j.s8Qc][F3Y4j.h17c](t),F3Y4j.I1w(this[F3Y4j.s8Qc].length,1)?this[F3Y4j.E32c]=t:F3Y4j.w1w(this[F3Y4j.s8Qc].length,2)&&(this[F3Y4j.F32c]=t)},box2d[F3Y4j.E5Gc]=function(t){var e="m_targetLengths",i=(goog[F3Y4j.W3tc](this,t),box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.N1w(t[F3Y4j.s8Qc].length,3),"You cannot create an area joint with less than three bodies."),this[F3Y4j.L8Jc]=t[F3Y4j.s8Qc],this[F3Y4j.V97c]=t[F3Y4j.U3Qc],this[F3Y4j.P9qc]=t[F3Y4j.s6tc],this[e]=box2d[F3Y4j.m8qc](t[F3Y4j.s8Qc].length),this[F3Y4j.x4Qc]=box2d[F3Y4j.b17c][F3Y4j.T7qc](t[F3Y4j.s8Qc].length),this[F3Y4j.d8Ec]=new Array(t[F3Y4j.s8Qc].length),this[F3Y4j.Z82c]=box2d[F3Y4j.b17c][F3Y4j.T7qc](t[F3Y4j.s8Qc].length),this[F3Y4j.i8Ec]=new box2d[F3Y4j.b17c],new box2d[F3Y4j.T47c]);i[F3Y4j.U3Qc]=t[F3Y4j.U3Qc],i[F3Y4j.s6tc]=t[F3Y4j.s6tc];for(var o=this[F3Y4j.t8Ec]=0,n=this[F3Y4j.L8Jc].length;F3Y4j.J1w(o,n);++o){var s=this[F3Y4j.L8Jc][o],r=this[F3Y4j.L8Jc][F3Y4j.S1w(o+1,n)],c=s[F3Y4j.X9tc](),a=r[F3Y4j.X9tc]();this[e][o]=box2d[F3Y4j.J9ic](c,a),this[F3Y4j.t8Ec]+=box2d[F3Y4j.O62c](c,a),i[F3Y4j.N47c](s,r,c,a),this[F3Y4j.d8Ec][o]=t[F3Y4j.N6ic][F3Y4j.Y72c](i)}this[F3Y4j.t8Ec]*=.5},goog[F3Y4j.b4ic](box2d[F3Y4j.E5Gc],box2d[F3Y4j.R6tc]),box2d.b2AreaJoint.prototype.m_bodies=F3Y4j.E3qc,box2d.b2AreaJoint.prototype.m_frequencyHz=F3Y4j.u42c,box2d.b2AreaJoint.prototype.m_dampingRatio=F3Y4j.u42c,box2d.b2AreaJoint.prototype.m_impulse=F3Y4j.u42c,box2d.b2AreaJoint.prototype.m_targetLengths=F3Y4j.E3qc,box2d.b2AreaJoint.prototype.m_targetArea=F3Y4j.u42c,box2d.b2AreaJoint.prototype.m_normals=F3Y4j.E3qc,box2d.b2AreaJoint.prototype.m_joints=F3Y4j.E3qc,box2d.b2AreaJoint.prototype.m_deltas=F3Y4j.E3qc,box2d.b2AreaJoint.prototype.m_delta=F3Y4j.E3qc,box2d.b2AreaJoint.prototype.GetAnchorA=function(t){return t[F3Y4j.a4qc]()},box2d.b2AreaJoint.prototype.GetAnchorB=function(t){return t[F3Y4j.a4qc]()},box2d.b2AreaJoint.prototype.GetReactionForce=function(t,e){return e[F3Y4j.a4qc]()},box2d.b2AreaJoint.prototype.GetReactionTorque=function(t){return F3Y4j.u42c},box2d.b2AreaJoint.prototype.SetFrequency=function(t){this[F3Y4j.V97c]=t;for(var e=0,i=this[F3Y4j.d8Ec].length;F3Y4j.Q1w(e,i);++e)this[F3Y4j.d8Ec][e].SetFrequency(t)},box2d.b2AreaJoint.prototype.GetFrequency=function(){return this[F3Y4j.V97c]},box2d.b2AreaJoint.prototype.SetDampingRatio=function(t){this[F3Y4j.P9qc]=t;for(var e=0,i=this[F3Y4j.d8Ec].length;F3Y4j.G1w(e,i);++e)this[F3Y4j.d8Ec][e].SetDampingRatio(t)},box2d.b2AreaJoint.prototype.GetDampingRatio=function(){return this[F3Y4j.P9qc]},box2d.b2AreaJoint.prototype.Dump=function(){box2d[F3Y4j.l2Jc]&&box2d[F3Y4j.q7ic]("Area joint dumping is not supported.\n")},box2d.b2AreaJoint.prototype.InitVelocityConstraints=function(t){for(var e=0,i=this[F3Y4j.L8Jc].length;F3Y4j.a1w(e,i);++e){var o=this[F3Y4j.L8Jc][F3Y4j.L1w(e+i-1,i)],n=this[F3Y4j.L8Jc][F3Y4j.K1w(e+1,i)],o=t[F3Y4j.r7ic][o[F3Y4j.h7Jc]][F3Y4j.K22c],n=t[F3Y4j.r7ic][n[F3Y4j.h7Jc]][F3Y4j.K22c],s=this[F3Y4j.Z82c][e];box2d[F3Y4j.J97c](n,o,s)}if(t[F3Y4j.r7Ec][F3Y4j.D47c]){this[F3Y4j.H6Ec]*=t[F3Y4j.r7Ec][F3Y4j.W22c];for(e=0,i=this[F3Y4j.L8Jc].length;F3Y4j.M1w(e,i);++e){var r=this[F3Y4j.L8Jc][e],c=t[F3Y4j.W8tc][r[F3Y4j.h7Jc]][F3Y4j.H97c],s=this[F3Y4j.Z82c][e];c[F3Y4j.W17c]+=F3Y4j.s9w(r[F3Y4j.m4tc],s[F3Y4j.I17c],.5,this[F3Y4j.H6Ec]),c[F3Y4j.I17c]+=r[F3Y4j.m4tc]*-s[F3Y4j.W17c]*.5*this[F3Y4j.H6Ec]}}else this[F3Y4j.H6Ec]=0},box2d.b2AreaJoint.prototype.SolveVelocityConstraints=function(t){for(var e=0,i=0,o=0,n=this[F3Y4j.L8Jc].length;F3Y4j.h9w(o,n);++o){var s=this[F3Y4j.L8Jc][o],r=t[F3Y4j.W8tc][s[F3Y4j.h7Jc]][F3Y4j.H97c],c=this[F3Y4j.Z82c][o];e+=F3Y4j.R9w(c[F3Y4j.u77c](),s[F3Y4j.L2ic]()),i+=box2d[F3Y4j.O62c](r,c)}var a=-2*i/e;this[F3Y4j.H6Ec]+=a;for(o=0,n=this[F3Y4j.L8Jc].length;F3Y4j.b9w(o,n);++o){s=this[F3Y4j.L8Jc][o],r=t[F3Y4j.W8tc][s[F3Y4j.h7Jc]][F3Y4j.H97c],c=this[F3Y4j.Z82c][o];r[F3Y4j.W17c]+=F3Y4j.p9w(s[F3Y4j.m4tc],c[F3Y4j.I17c],.5,a),r[F3Y4j.I17c]+=s[F3Y4j.m4tc]*-c[F3Y4j.W17c]*.5*a}},box2d.b2AreaJoint.prototype.SolvePositionConstraints=function(t){for(var e=0,i=0,o=0,n=this[F3Y4j.L8Jc].length;F3Y4j.I9w(o,n);++o){var s=this[F3Y4j.L8Jc][o],r=this[F3Y4j.L8Jc][F3Y4j.w9w(o+1,n)],c=t[F3Y4j.r7ic][s[F3Y4j.h7Jc]][F3Y4j.K22c],r=t[F3Y4j.r7ic][r[F3Y4j.h7Jc]][F3Y4j.K22c],a=(d=box2d[F3Y4j.J97c](r,c,this[F3Y4j.i8Ec]))[F3Y4j.x2Jc]();F3Y4j.N9w(a,box2d[F3Y4j.w7qc])&&(a=1),this[F3Y4j.x4Qc][o][F3Y4j.W17c]=F3Y4j.J9w(d[F3Y4j.I17c],a),this[F3Y4j.x4Qc][o][F3Y4j.I17c]=-d[F3Y4j.W17c]/a,e+=a,i+=box2d[F3Y4j.O62c](c,r)}for(var h=F3Y4j.S9w(this[F3Y4j.t8Ec],i*=.5),u=F3Y4j.Q9w(.5,h,e),l=!0,o=0,n=this[F3Y4j.L8Jc].length;F3Y4j.W9w(o,n);++o){var d,s=this[F3Y4j.L8Jc][o],c=t[F3Y4j.r7ic][s[F3Y4j.h7Jc]][F3Y4j.K22c],p=F3Y4j.C9w(o+1,n),p=((d=box2d[F3Y4j.O2ic](this[F3Y4j.x4Qc][o],this[F3Y4j.x4Qc][p],this[F3Y4j.i8Ec]))[F3Y4j.M62c](u),d[F3Y4j.u77c]());F3Y4j.U9w(p,box2d[F3Y4j.S9Jc](box2d[F3Y4j.m6qc]))&&d[F3Y4j.M62c](F3Y4j.d9w(box2d[F3Y4j.m6qc],box2d[F3Y4j.j7Jc](p))),F3Y4j.X9w(p,box2d[F3Y4j.S9Jc](box2d[F3Y4j.l9qc]))&&(l=!1),c[F3Y4j.W17c]+=d[F3Y4j.W17c],c[F3Y4j.I17c]+=d[F3Y4j.I17c]}return l},goog[F3Y4j.a0ic](F3Y4j.v27c),goog[F3Y4j.D02c]("box2d.b2Settings"),goog[F3Y4j.D02c]("box2d.b2Controller"),goog[F3Y4j.D02c]("box2d.b2Math"),goog[F3Y4j.D02c]("box2d.b2WorldCallbacks"),box2d[F3Y4j.e32c]=function(){goog[F3Y4j.W3tc](this),this[F3Y4j.U6ic]=new box2d[F3Y4j.b17c](F3Y4j.u42c,F3Y4j.b42c),this[F3Y4j.t3qc]=new box2d[F3Y4j.b17c](F3Y4j.u42c,F3Y4j.u42c),this[F3Y4j.F7Jc]=new box2d[F3Y4j.b17c](F3Y4j.u42c,F3Y4j.u42c)},goog[F3Y4j.b4ic](box2d[F3Y4j.e32c],box2d[F3Y4j.O9Ec]),box2d.b2BuoyancyController.prototype.normal=F3Y4j.E3qc,box2d.b2BuoyancyController.prototype.offset=F3Y4j.u42c,box2d.b2BuoyancyController.prototype.density=F3Y4j.u42c,box2d.b2BuoyancyController.prototype.velocity=F3Y4j.E3qc,box2d.b2BuoyancyController.prototype.linearDrag=F3Y4j.u42c,box2d.b2BuoyancyController.prototype.angularDrag=F3Y4j.u42c,box2d.b2BuoyancyController.prototype.useDensity=F3Y4j.h57c,box2d.b2BuoyancyController.prototype.useWorldGravity=F3Y4j.H3qc,box2d.b2BuoyancyController.prototype.gravity=F3Y4j.E3qc,box2d.b2BuoyancyController.prototype.Step=function(t){if(this[F3Y4j.s4ic]){this.useWorldGravity&&this[F3Y4j.F7Jc][F3Y4j.j9Qc](this[F3Y4j.A47c]()[F3Y4j.P32c]());for(var e=this[F3Y4j.s4ic];e;e=e[F3Y4j.P0Jc]){var i=e[F3Y4j.k4qc];if(!F3Y4j.o4w(i[F3Y4j.y5Gc](),F3Y4j.h57c)){for(var o,n=new box2d[F3Y4j.b17c],s=new box2d[F3Y4j.b17c],r=F3Y4j.u42c,c=F3Y4j.u42c,a=i[F3Y4j.W3Jc]();a;a=a[F3Y4j.l3tc]){var h=new box2d[F3Y4j.b17c],u=a[F3Y4j.p82c]().ComputeSubmergedArea(this[F3Y4j.U6ic],this[F3Y4j.y8Ec],i[F3Y4j.L92c](),h),l=(r+=u,n[F3Y4j.W17c]+=F3Y4j.q4w(u,h[F3Y4j.W17c]),n[F3Y4j.I17c]+=F3Y4j.z4w(u,h[F3Y4j.I17c]),F3Y4j.u42c),l=this.useDensity?a[F3Y4j.R4qc]():F3Y4j.b42c;c+=F3Y4j.E4w(u,l),s[F3Y4j.W17c]+=F3Y4j.f4w(u,h[F3Y4j.W17c],l),s[F3Y4j.I17c]+=F3Y4j.y4w(u,h[F3Y4j.I17c],l)}n[F3Y4j.W17c]/=r,n[F3Y4j.I17c]/=r,s[F3Y4j.W17c]/=c,s[F3Y4j.I17c]/=c,F3Y4j.Y4w(r,box2d[F3Y4j.w7qc])||((o=box2d[F3Y4j.i1Jc](this[F3Y4j.F7Jc],new box2d[F3Y4j.b17c]))[F3Y4j.M62c](F3Y4j.j4w(this[F3Y4j.K0ic],r)),i[F3Y4j.P62c](o,s),(o=i[F3Y4j.p62c](n,new box2d[F3Y4j.b17c]))[F3Y4j.f3Jc](this[F3Y4j.t3qc]),o[F3Y4j.M62c](-this.linearDrag*r),i[F3Y4j.P62c](o,n),i.ApplyTorque(-i.GetInertia()/i[F3Y4j.L2ic]()*r*i[F3Y4j.Q7Jc]()*this.angularDrag))}}}},box2d.b2BuoyancyController.prototype.Draw=function(t){var e=F3Y4j.U5Jc,i=new box2d[F3Y4j.b17c],o=new box2d[F3Y4j.b17c],e=(i[F3Y4j.W17c]=F3Y4j.A4w(this[F3Y4j.U6ic][F3Y4j.W17c],this[F3Y4j.y8Ec])+F3Y4j.r4w(this[F3Y4j.U6ic][F3Y4j.I17c],e),i[F3Y4j.I17c]=F3Y4j.i4w(this[F3Y4j.U6ic][F3Y4j.I17c]*this[F3Y4j.y8Ec],this[F3Y4j.U6ic][F3Y4j.W17c]*e),o[F3Y4j.W17c]=F3Y4j.c4w(this[F3Y4j.U6ic][F3Y4j.W17c]*this[F3Y4j.y8Ec],this[F3Y4j.U6ic][F3Y4j.I17c]*e),o[F3Y4j.I17c]=F3Y4j.e4w(this[F3Y4j.U6ic][F3Y4j.I17c],this[F3Y4j.y8Ec])+F3Y4j.g4w(this[F3Y4j.U6ic][F3Y4j.W17c],e),new box2d[F3Y4j.C8qc](F3Y4j.u42c,F3Y4j.u42c,F3Y4j.K8Qc));t[F3Y4j.C1Jc](i,o,e)},goog[F3Y4j.a0ic](F3Y4j.h5tc),goog[F3Y4j.D02c]("box2d.b2Settings"),goog[F3Y4j.D02c]("box2d.b2Controller"),goog[F3Y4j.D02c]("box2d.b2Math"),box2d[F3Y4j.j67c]=function(){goog[F3Y4j.W3tc](this),this[F3Y4j.M42c]=new box2d[F3Y4j.r5Ec],this[F3Y4j.i0Jc]=F3Y4j.u42c},goog[F3Y4j.b4ic](box2d[F3Y4j.j67c],box2d[F3Y4j.O9Ec]),box2d.b2TensorDampingController.prototype.T=new box2d[F3Y4j.r5Ec],box2d.b2TensorDampingController.prototype.maxTimestep=F3Y4j.u42c,box2d.b2TensorDampingController.prototype.Step=function(t){var e=t[F3Y4j.N7Ec];if(!F3Y4j.k4w(e,box2d[F3Y4j.w7qc])){F3Y4j.n4w(e,this[F3Y4j.i0Jc])&&F3Y4j.P4w(this[F3Y4j.i0Jc],F3Y4j.u42c)&&(e=this[F3Y4j.i0Jc]);for(var i=this[F3Y4j.s4ic];i;i=i[F3Y4j.P0Jc]){var o,n=i[F3Y4j.k4qc];n[F3Y4j.y5Gc]()&&(o=n[F3Y4j.K62c](box2d[F3Y4j.c6Qc](this[F3Y4j.M42c],n[F3Y4j.c72c](n[F3Y4j.w37c](),box2d[F3Y4j.b17c][F3Y4j.c1Jc]),box2d[F3Y4j.b17c][F3Y4j.M1Jc]),box2d.b2TensorDampingController.prototype.Step.s_damping),n[F3Y4j.p9tc](box2d[F3Y4j.O2ic](n[F3Y4j.w37c](),box2d[F3Y4j.H07c](e,o,box2d[F3Y4j.b17c][F3Y4j.c1Jc]),box2d[F3Y4j.b17c][F3Y4j.M1Jc])))}}},box2d.b2TensorDampingController.prototype.Step.s_damping=new box2d[F3Y4j.b17c],box2d.b2TensorDampingController.prototype.SetAxisAligned=function(t,e){this[F3Y4j.M42c][F3Y4j.C7Qc][F3Y4j.W17c]=-t,this[F3Y4j.M42c][F3Y4j.C7Qc][F3Y4j.I17c]=F3Y4j.u42c,this[F3Y4j.M42c][F3Y4j.o6Qc][F3Y4j.W17c]=F3Y4j.u42c,this[F3Y4j.M42c][F3Y4j.o6Qc][F3Y4j.I17c]=-e,F3Y4j.V3w(t,F3Y4j.u42c)||F3Y4j.h3w(e,F3Y4j.u42c)?this[F3Y4j.i0Jc]=F3Y4j.R3w(F3Y4j.b42c,box2d[F3Y4j.h82c](t,e)):this[F3Y4j.i0Jc]=F3Y4j.u42c},goog[F3Y4j.a0ic](F3Y4j.P1Ec),goog[F3Y4j.D02c]("box2d.b2Settings"),goog[F3Y4j.D02c]("box2d.b2Joint"),goog[F3Y4j.D02c]("box2d.b2Math"),box2d[F3Y4j.T47c]=function(){goog[F3Y4j.W3tc](this,box2d[F3Y4j.T3Jc][F3Y4j.g3Jc]),this[F3Y4j.A4Ec]=new box2d[F3Y4j.b17c],this[F3Y4j.f4Ec]=new box2d[F3Y4j.b17c]},goog[F3Y4j.b4ic](box2d[F3Y4j.T47c],box2d[F3Y4j.X7qc]),box2d.b2DistanceJointDef.prototype.localAnchorA=F3Y4j.E3qc,box2d.b2DistanceJointDef.prototype.localAnchorB=F3Y4j.E3qc,box2d.b2DistanceJointDef.prototype.length=1,box2d.b2DistanceJointDef.prototype.frequencyHz=F3Y4j.u42c,box2d.b2DistanceJointDef.prototype.dampingRatio=F3Y4j.u42c,box2d.b2DistanceJointDef.prototype.Initialize=function(t,e,i,o){this[F3Y4j.E32c]=t,this[F3Y4j.F32c]=e,this[F3Y4j.E32c][F3Y4j.v5Jc](i,this[F3Y4j.A4Ec]),this[F3Y4j.F32c][F3Y4j.v5Jc](o,this[F3Y4j.f4Ec]),this.length=box2d[F3Y4j.J9ic](i,o),this[F3Y4j.U3Qc]=F3Y4j.u42c,this[F3Y4j.s6tc]=F3Y4j.u42c},box2d[F3Y4j.i87c]=function(t){goog[F3Y4j.W3tc](this,t),this[F3Y4j.j9Jc]=new box2d[F3Y4j.b17c],this[F3Y4j.L9qc]=new box2d[F3Y4j.b17c],this[F3Y4j.s4qc]=new box2d[F3Y4j.b17c],this[F3Y4j.I8Jc]=new box2d[F3Y4j.b17c],this[F3Y4j.H2Jc]=new box2d[F3Y4j.b17c],this[F3Y4j.P9Qc]=new box2d[F3Y4j.s4Jc],this[F3Y4j.t3Qc]=new box2d[F3Y4j.s4Jc],this[F3Y4j.e6tc]=new box2d[F3Y4j.b17c],this[F3Y4j.M9tc]=new box2d[F3Y4j.b17c],this[F3Y4j.V97c]=t[F3Y4j.U3Qc],this[F3Y4j.P9qc]=t[F3Y4j.s6tc],this[F3Y4j.J2tc]=t[F3Y4j.A4Ec][F3Y4j.N07c](),this[F3Y4j.B2tc]=t[F3Y4j.f4Ec][F3Y4j.N07c](),this[F3Y4j.H8tc]=t.length},goog[F3Y4j.b4ic](box2d[F3Y4j.i87c],box2d[F3Y4j.R6tc]),box2d.b2DistanceJoint.prototype.m_frequencyHz=F3Y4j.u42c,box2d.b2DistanceJoint.prototype.m_dampingRatio=F3Y4j.u42c,box2d.b2DistanceJoint.prototype.m_bias=F3Y4j.u42c,box2d.b2DistanceJoint.prototype.m_localAnchorA=F3Y4j.E3qc,box2d.b2DistanceJoint.prototype.m_localAnchorB=F3Y4j.E3qc,box2d.b2DistanceJoint.prototype.m_gamma=F3Y4j.u42c,box2d.b2DistanceJoint.prototype.m_impulse=F3Y4j.u42c,box2d.b2DistanceJoint.prototype.m_length=F3Y4j.u42c,box2d.b2DistanceJoint.prototype.m_indexA=F3Y4j.u42c,box2d.b2DistanceJoint.prototype.m_indexB=F3Y4j.u42c,box2d.b2DistanceJoint.prototype.m_u=F3Y4j.E3qc,box2d.b2DistanceJoint.prototype.m_rA=F3Y4j.E3qc,box2d.b2DistanceJoint.prototype.m_rB=F3Y4j.E3qc,box2d.b2DistanceJoint.prototype.m_localCenterA=F3Y4j.E3qc,box2d.b2DistanceJoint.prototype.m_localCenterB=F3Y4j.E3qc,box2d.b2DistanceJoint.prototype.m_invMassA=F3Y4j.u42c,box2d.b2DistanceJoint.prototype.m_invMassB=F3Y4j.u42c,box2d.b2DistanceJoint.prototype.m_invIA=F3Y4j.u42c,box2d.b2DistanceJoint.prototype.m_invIB=F3Y4j.u42c,box2d.b2DistanceJoint.prototype.m_mass=F3Y4j.u42c,box2d.b2DistanceJoint.prototype.m_qA=F3Y4j.E3qc,box2d.b2DistanceJoint.prototype.m_qB=F3Y4j.E3qc,box2d.b2DistanceJoint.prototype.m_lalcA=F3Y4j.E3qc,box2d.b2DistanceJoint.prototype.m_lalcB=F3Y4j.E3qc,box2d.b2DistanceJoint.prototype.GetAnchorA=function(t){return this[F3Y4j.l8tc][F3Y4j.K82c](this[F3Y4j.J2tc],t)},box2d.b2DistanceJoint.prototype.GetAnchorB=function(t){return this[F3Y4j.V8tc][F3Y4j.K82c](this[F3Y4j.B2tc],t)},box2d.b2DistanceJoint.prototype.GetReactionForce=function(t,e){return e[F3Y4j.V0tc](F3Y4j.b3w(t,this[F3Y4j.H6Ec],this[F3Y4j.j9Jc][F3Y4j.W17c]),F3Y4j.l3w(t,this[F3Y4j.H6Ec],this[F3Y4j.j9Jc][F3Y4j.I17c]))},box2d.b2DistanceJoint.prototype.GetReactionTorque=function(t){return F3Y4j.u42c},box2d.b2DistanceJoint.prototype.GetLocalAnchorA=function(t){return t[F3Y4j.j9Qc](this[F3Y4j.J2tc])},box2d.b2DistanceJoint.prototype.GetLocalAnchorB=function(t){return t[F3Y4j.j9Qc](this[F3Y4j.B2tc])},box2d.b2DistanceJoint.prototype.SetLength=function(t){this[F3Y4j.H8tc]=t},box2d.b2DistanceJoint.prototype.GetLength=function(){return this[F3Y4j.H8tc]},box2d.b2DistanceJoint.prototype.SetFrequency=function(t){this[F3Y4j.V97c]=t},box2d.b2DistanceJoint.prototype.GetFrequency=function(){return this[F3Y4j.V97c]},box2d.b2DistanceJoint.prototype.SetDampingRatio=function(t){this[F3Y4j.P9qc]=t},box2d.b2DistanceJoint.prototype.GetDampingRatio=function(){return this[F3Y4j.P9qc]},box2d.b2DistanceJoint.prototype.Dump=function(){var t,e;box2d[F3Y4j.l2Jc]&&(t=this[F3Y4j.l8tc][F3Y4j.h7Jc],e=this[F3Y4j.V8tc][F3Y4j.h7Jc],box2d[F3Y4j.q7ic]("  /*box2d.b2DistanceJointDef*/ var jd = new box2d.b2DistanceJointDef();\n"),box2d[F3Y4j.q7ic](F3Y4j.v3Qc,t),box2d[F3Y4j.q7ic](F3Y4j.V8qc,e),box2d[F3Y4j.q7ic](F3Y4j.V6qc,this[F3Y4j.v1tc]?F3Y4j.H1Ec:F3Y4j.y07c),box2d[F3Y4j.q7ic](F3Y4j.u1ic,this[F3Y4j.J2tc][F3Y4j.W17c],this[F3Y4j.J2tc][F3Y4j.I17c]),box2d[F3Y4j.q7ic](F3Y4j.o1Qc,this[F3Y4j.B2tc][F3Y4j.W17c],this[F3Y4j.B2tc][F3Y4j.I17c]),box2d[F3Y4j.q7ic]("  jd.length = %.15f;\n",this[F3Y4j.H8tc]),box2d[F3Y4j.q7ic](F3Y4j.V1tc,this[F3Y4j.V97c]),box2d[F3Y4j.q7ic](F3Y4j.S8ic,this[F3Y4j.P9qc]),box2d[F3Y4j.q7ic](F3Y4j.Q4Jc,this[F3Y4j.O7tc]))},box2d.b2DistanceJoint.prototype.InitVelocityConstraints=function(t){this[F3Y4j.p5qc]=this[F3Y4j.l8tc][F3Y4j.h7Jc],this[F3Y4j.s5qc]=this[F3Y4j.V8tc][F3Y4j.h7Jc],this[F3Y4j.I8Jc][F3Y4j.j9Qc](this[F3Y4j.l8tc][F3Y4j.G4qc][F3Y4j.K92c]),this[F3Y4j.H2Jc][F3Y4j.j9Qc](this[F3Y4j.V8tc][F3Y4j.G4qc][F3Y4j.K92c]),this[F3Y4j.I9tc]=this[F3Y4j.l8tc][F3Y4j.m4tc],this[F3Y4j.h9tc]=this[F3Y4j.V8tc][F3Y4j.m4tc],this[F3Y4j.b4Jc]=this[F3Y4j.l8tc][F3Y4j.e1Ec],this[F3Y4j.Y9Jc]=this[F3Y4j.V8tc][F3Y4j.e1Ec];var e,i=t[F3Y4j.r7ic][this[F3Y4j.p5qc]][F3Y4j.K22c],o=t[F3Y4j.r7ic][this[F3Y4j.p5qc]][F3Y4j.O22c],n=t[F3Y4j.W8tc][this[F3Y4j.p5qc]][F3Y4j.H97c],s=t[F3Y4j.W8tc][this[F3Y4j.p5qc]][F3Y4j.X17c],r=t[F3Y4j.r7ic][this[F3Y4j.s5qc]][F3Y4j.K22c],c=t[F3Y4j.r7ic][this[F3Y4j.s5qc]][F3Y4j.O22c],a=t[F3Y4j.W8tc][this[F3Y4j.s5qc]][F3Y4j.H97c],h=t[F3Y4j.W8tc][this[F3Y4j.s5qc]][F3Y4j.X17c],o=this[F3Y4j.P9Qc][F3Y4j.b1ic](o),c=this[F3Y4j.t3Qc][F3Y4j.b1ic](c),o=(box2d[F3Y4j.J97c](this[F3Y4j.J2tc],this[F3Y4j.I8Jc],this[F3Y4j.e6tc]),box2d[F3Y4j.Z0tc](o,this[F3Y4j.e6tc],this[F3Y4j.L9qc]),box2d[F3Y4j.J97c](this[F3Y4j.B2tc],this[F3Y4j.H2Jc],this[F3Y4j.M9tc]),box2d[F3Y4j.Z0tc](c,this[F3Y4j.M9tc],this[F3Y4j.s4qc]),this[F3Y4j.j9Jc][F3Y4j.W17c]=r[F3Y4j.W17c]+this[F3Y4j.s4qc][F3Y4j.W17c]-i[F3Y4j.W17c]-this[F3Y4j.L9qc][F3Y4j.W17c],this[F3Y4j.j9Jc][F3Y4j.I17c]=r[F3Y4j.I17c]+this[F3Y4j.s4qc][F3Y4j.I17c]-i[F3Y4j.I17c]-this[F3Y4j.L9qc][F3Y4j.I17c],this[F3Y4j.j9Jc][F3Y4j.x2Jc]()),c=(F3Y4j.I3w(o,box2d[F3Y4j.l9qc])?this[F3Y4j.j9Jc][F3Y4j.M62c](F3Y4j.w3w(1,o)):this[F3Y4j.j9Jc][F3Y4j.a4qc](),box2d[F3Y4j.O62c](this[F3Y4j.L9qc],this[F3Y4j.j9Jc])),r=box2d[F3Y4j.O62c](this[F3Y4j.s4qc],this[F3Y4j.j9Jc]),i=this[F3Y4j.I9tc]+F3Y4j.N3w(this[F3Y4j.b4Jc],c,c)+this[F3Y4j.h9tc]+F3Y4j.t3w(this[F3Y4j.Y9Jc],r,r);this[F3Y4j.p57c]=F3Y4j.i3w(i,0)?F3Y4j.c3w(1,i):0,F3Y4j.e3w(this[F3Y4j.V97c],0)?(c=F3Y4j.g3w(o,this[F3Y4j.H8tc]),r=F3Y4j.k3w(2,box2d[F3Y4j.y7Jc],this[F3Y4j.V97c]),o=F3Y4j.M3w(2,this[F3Y4j.p57c],this[F3Y4j.P9qc],r),r=F3Y4j.V7w(this[F3Y4j.p57c],r,r),e=t[F3Y4j.r7Ec][F3Y4j.N7Ec],this[F3Y4j.x8Jc]=F3Y4j.O7w(e,o+e*r),this[F3Y4j.x8Jc]=F3Y4j.B7w(this[F3Y4j.x8Jc],0)?F3Y4j.u7w(1,this[F3Y4j.x8Jc]):0,this[F3Y4j.n1tc]=F3Y4j.l7w(c,e,r,this[F3Y4j.x8Jc]),i+=this[F3Y4j.x8Jc],this[F3Y4j.p57c]=F3Y4j.Z7w(i,0)?F3Y4j.D7w(1,i):0):(this[F3Y4j.x8Jc]=0,this[F3Y4j.n1tc]=0),t[F3Y4j.r7Ec][F3Y4j.D47c]?(this[F3Y4j.H6Ec]*=t[F3Y4j.r7Ec][F3Y4j.W22c],o=box2d[F3Y4j.H07c](this[F3Y4j.H6Ec],this[F3Y4j.j9Jc],box2d.b2DistanceJoint.prototype.InitVelocityConstraints.s_P),n[F3Y4j.Y7Jc](this[F3Y4j.I9tc],o),s-=F3Y4j.F7w(this[F3Y4j.b4Jc],box2d[F3Y4j.O62c](this[F3Y4j.L9qc],o)),a[F3Y4j.C1qc](this[F3Y4j.h9tc],o),h+=F3Y4j.t7w(this[F3Y4j.Y9Jc],box2d[F3Y4j.O62c](this[F3Y4j.s4qc],o))):this[F3Y4j.H6Ec]=0,t[F3Y4j.W8tc][this[F3Y4j.p5qc]][F3Y4j.X17c]=s,t[F3Y4j.W8tc][this[F3Y4j.s5qc]][F3Y4j.X17c]=h},box2d.b2DistanceJoint.prototype.InitVelocityConstraints.s_P=new box2d[F3Y4j.b17c],box2d.b2DistanceJoint.prototype.SolveVelocityConstraints=function(t){var e=t[F3Y4j.W8tc][this[F3Y4j.p5qc]][F3Y4j.H97c],i=t[F3Y4j.W8tc][this[F3Y4j.p5qc]][F3Y4j.X17c],o=t[F3Y4j.W8tc][this[F3Y4j.s5qc]][F3Y4j.H97c],n=t[F3Y4j.W8tc][this[F3Y4j.s5qc]][F3Y4j.X17c],s=box2d[F3Y4j.M57c](e,i,this[F3Y4j.L9qc],box2d.b2DistanceJoint.prototype.SolveVelocityConstraints.s_vpA),r=box2d[F3Y4j.M57c](o,n,this[F3Y4j.s4qc],box2d.b2DistanceJoint.prototype.SolveVelocityConstraints.s_vpB),r=box2d[F3Y4j.U2tc](this[F3Y4j.j9Jc],box2d[F3Y4j.J97c](r,s,box2d[F3Y4j.b17c][F3Y4j.c1Jc])),s=-this[F3Y4j.p57c]*(r+this[F3Y4j.n1tc]+F3Y4j.T7w(this[F3Y4j.x8Jc],this[F3Y4j.H6Ec])),r=(this[F3Y4j.H6Ec]+=s,box2d[F3Y4j.H07c](s,this[F3Y4j.j9Jc],box2d.b2DistanceJoint.prototype.SolveVelocityConstraints.s_P));e[F3Y4j.Y7Jc](this[F3Y4j.I9tc],r),i-=F3Y4j.v7w(this[F3Y4j.b4Jc],box2d[F3Y4j.O62c](this[F3Y4j.L9qc],r)),o[F3Y4j.C1qc](this[F3Y4j.h9tc],r),n+=F3Y4j.W7w(this[F3Y4j.Y9Jc],box2d[F3Y4j.O62c](this[F3Y4j.s4qc],r)),t[F3Y4j.W8tc][this[F3Y4j.p5qc]][F3Y4j.X17c]=i,t[F3Y4j.W8tc][this[F3Y4j.s5qc]][F3Y4j.X17c]=n},box2d.b2DistanceJoint.prototype.SolveVelocityConstraints.s_vpA=new box2d[F3Y4j.b17c],box2d.b2DistanceJoint.prototype.SolveVelocityConstraints.s_vpB=new box2d[F3Y4j.b17c],box2d.b2DistanceJoint.prototype.SolveVelocityConstraints.s_P=new box2d[F3Y4j.b17c],box2d.b2DistanceJoint.prototype.SolvePositionConstraints=function(t){if(F3Y4j.C7w(this[F3Y4j.V97c],0))return!0;var e=t[F3Y4j.r7ic][this[F3Y4j.p5qc]][F3Y4j.K22c],i=t[F3Y4j.r7ic][this[F3Y4j.p5qc]][F3Y4j.O22c],o=t[F3Y4j.r7ic][this[F3Y4j.s5qc]][F3Y4j.K22c],n=t[F3Y4j.r7ic][this[F3Y4j.s5qc]][F3Y4j.O22c],s=(this[F3Y4j.P9Qc][F3Y4j.b1ic](i),this[F3Y4j.t3Qc][F3Y4j.b1ic](n),box2d[F3Y4j.Z0tc](this[F3Y4j.P9Qc],this[F3Y4j.e6tc],this[F3Y4j.L9qc])),r=box2d[F3Y4j.Z0tc](this[F3Y4j.t3Qc],this[F3Y4j.M9tc],this[F3Y4j.s4qc]),c=this[F3Y4j.j9Jc],a=(c[F3Y4j.W17c]=o[F3Y4j.W17c]+r[F3Y4j.W17c]-e[F3Y4j.W17c]-s[F3Y4j.W17c],c[F3Y4j.I17c]=o[F3Y4j.I17c]+r[F3Y4j.I17c]-e[F3Y4j.I17c]-s[F3Y4j.I17c],this[F3Y4j.j9Jc][F3Y4j.w2tc]()),a=F3Y4j.U7w(a,this[F3Y4j.H8tc]),a=box2d[F3Y4j.Q87c](a,-box2d[F3Y4j.m6qc],box2d[F3Y4j.m6qc]),h=-this[F3Y4j.p57c]*a,h=box2d[F3Y4j.H07c](h,c,box2d.b2DistanceJoint.prototype.SolvePositionConstraints.s_P);return e[F3Y4j.Y7Jc](this[F3Y4j.I9tc],h),i-=F3Y4j.d7w(this[F3Y4j.b4Jc],box2d[F3Y4j.O62c](s,h)),o[F3Y4j.C1qc](this[F3Y4j.h9tc],h),n+=F3Y4j.X7w(this[F3Y4j.Y9Jc],box2d[F3Y4j.O62c](r,h)),t[F3Y4j.r7ic][this[F3Y4j.p5qc]][F3Y4j.O22c]=i,t[F3Y4j.r7ic][this[F3Y4j.s5qc]][F3Y4j.O22c]=n,F3Y4j.o6w(box2d[F3Y4j.O7Qc](a),box2d[F3Y4j.l9qc])},box2d.b2DistanceJoint.prototype.SolvePositionConstraints.s_P=new box2d[F3Y4j.b17c],goog[F3Y4j.a0ic](F3Y4j.b8tc),goog[F3Y4j.D02c]("box2d.b2Settings"),goog[F3Y4j.D02c]("box2d.b2Joint"),goog[F3Y4j.D02c]("box2d.b2Math"),box2d[F3Y4j.F8Ec]=function(){goog[F3Y4j.W3tc](this,box2d[F3Y4j.T3Jc][F3Y4j.F67c]),this[F3Y4j.A4Ec]=new box2d[F3Y4j.b17c],this[F3Y4j.f4Ec]=new box2d[F3Y4j.b17c]},goog[F3Y4j.b4ic](box2d[F3Y4j.F8Ec],box2d[F3Y4j.X7qc]),box2d.b2FrictionJointDef.prototype.localAnchorA=F3Y4j.E3qc,box2d.b2FrictionJointDef.prototype.localAnchorB=F3Y4j.E3qc,box2d.b2FrictionJointDef.prototype.maxForce=F3Y4j.u42c,box2d.b2FrictionJointDef.prototype.maxTorque=F3Y4j.u42c,box2d.b2FrictionJointDef.prototype.Initialize=function(t,e,i){this[F3Y4j.E32c]=t,this[F3Y4j.F32c]=e,this[F3Y4j.E32c][F3Y4j.v5Jc](i,this[F3Y4j.A4Ec]),this[F3Y4j.F32c][F3Y4j.v5Jc](i,this[F3Y4j.f4Ec])},box2d[F3Y4j.d7Jc]=function(t){goog[F3Y4j.W3tc](this,t),this[F3Y4j.J2tc]=t[F3Y4j.A4Ec][F3Y4j.N07c](),this[F3Y4j.B2tc]=t[F3Y4j.f4Ec][F3Y4j.N07c](),this[F3Y4j.a7qc]=(new box2d[F3Y4j.b17c])[F3Y4j.a4qc](),this[F3Y4j.X1qc]=t[F3Y4j.R9qc],this[F3Y4j.R4Jc]=t[F3Y4j.h3tc],this[F3Y4j.L9qc]=new box2d[F3Y4j.b17c],this[F3Y4j.s4qc]=new box2d[F3Y4j.b17c],this[F3Y4j.I8Jc]=new box2d[F3Y4j.b17c],this[F3Y4j.H2Jc]=new box2d[F3Y4j.b17c],this[F3Y4j.E9Jc]=(new box2d[F3Y4j.r5Ec])[F3Y4j.a4qc](),this[F3Y4j.P9Qc]=new box2d[F3Y4j.s4Jc],this[F3Y4j.t3Qc]=new box2d[F3Y4j.s4Jc],this[F3Y4j.e6tc]=new box2d[F3Y4j.b17c],this[F3Y4j.M9tc]=new box2d[F3Y4j.b17c],this[F3Y4j.Y8qc]=new box2d[F3Y4j.r5Ec]},goog[F3Y4j.b4ic](box2d[F3Y4j.d7Jc],box2d[F3Y4j.R6tc]),box2d.b2FrictionJoint.prototype.m_localAnchorA=F3Y4j.E3qc,box2d.b2FrictionJoint.prototype.m_localAnchorB=F3Y4j.E3qc,box2d.b2FrictionJoint.prototype.m_linearImpulse=F3Y4j.E3qc,box2d.b2FrictionJoint.prototype.m_angularImpulse=F3Y4j.u42c,box2d.b2FrictionJoint.prototype.m_maxForce=F3Y4j.u42c,box2d.b2FrictionJoint.prototype.m_maxTorque=F3Y4j.u42c,box2d.b2FrictionJoint.prototype.m_indexA=F3Y4j.u42c,box2d.b2FrictionJoint.prototype.m_indexB=F3Y4j.u42c,box2d.b2FrictionJoint.prototype.m_rA=F3Y4j.E3qc,box2d.b2FrictionJoint.prototype.m_rB=F3Y4j.E3qc,box2d.b2FrictionJoint.prototype.m_localCenterA=F3Y4j.E3qc,box2d.b2FrictionJoint.prototype.m_localCenterB=F3Y4j.E3qc,box2d.b2FrictionJoint.prototype.m_invMassA=F3Y4j.u42c,box2d.b2FrictionJoint.prototype.m_invMassB=F3Y4j.u42c,box2d.b2FrictionJoint.prototype.m_invIA=F3Y4j.u42c,box2d.b2FrictionJoint.prototype.m_invIB=F3Y4j.u42c,box2d.b2FrictionJoint.prototype.m_linearMass=F3Y4j.E3qc,box2d.b2FrictionJoint.prototype.m_angularMass=F3Y4j.u42c,box2d.b2FrictionJoint.prototype.m_qA=F3Y4j.E3qc,box2d.b2FrictionJoint.prototype.m_qB=F3Y4j.E3qc,box2d.b2FrictionJoint.prototype.m_lalcA=F3Y4j.E3qc,box2d.b2FrictionJoint.prototype.m_lalcB=F3Y4j.E3qc,box2d.b2FrictionJoint.prototype.m_K=F3Y4j.E3qc,box2d.b2FrictionJoint.prototype.InitVelocityConstraints=function(t){this[F3Y4j.p5qc]=this[F3Y4j.l8tc][F3Y4j.h7Jc],this[F3Y4j.s5qc]=this[F3Y4j.V8tc][F3Y4j.h7Jc],this[F3Y4j.I8Jc][F3Y4j.j9Qc](this[F3Y4j.l8tc][F3Y4j.G4qc][F3Y4j.K92c]),this[F3Y4j.H2Jc][F3Y4j.j9Qc](this[F3Y4j.V8tc][F3Y4j.G4qc][F3Y4j.K92c]),this[F3Y4j.I9tc]=this[F3Y4j.l8tc][F3Y4j.m4tc],this[F3Y4j.h9tc]=this[F3Y4j.V8tc][F3Y4j.m4tc],this[F3Y4j.b4Jc]=this[F3Y4j.l8tc][F3Y4j.e1Ec],this[F3Y4j.Y9Jc]=this[F3Y4j.V8tc][F3Y4j.e1Ec];var e=t[F3Y4j.r7ic][this[F3Y4j.p5qc]][F3Y4j.O22c],i=t[F3Y4j.W8tc][this[F3Y4j.p5qc]][F3Y4j.H97c],o=t[F3Y4j.W8tc][this[F3Y4j.p5qc]][F3Y4j.X17c],n=t[F3Y4j.r7ic][this[F3Y4j.s5qc]][F3Y4j.O22c],s=t[F3Y4j.W8tc][this[F3Y4j.s5qc]][F3Y4j.H97c],r=t[F3Y4j.W8tc][this[F3Y4j.s5qc]][F3Y4j.X17c],e=this[F3Y4j.P9Qc][F3Y4j.b1ic](e),n=this[F3Y4j.t3Qc][F3Y4j.b1ic](n),e=(box2d[F3Y4j.J97c](this[F3Y4j.J2tc],this[F3Y4j.I8Jc],this[F3Y4j.e6tc]),box2d[F3Y4j.Z0tc](e,this[F3Y4j.e6tc],this[F3Y4j.L9qc])),n=(box2d[F3Y4j.J97c](this[F3Y4j.B2tc],this[F3Y4j.H2Jc],this[F3Y4j.M9tc]),box2d[F3Y4j.Z0tc](n,this[F3Y4j.M9tc],this[F3Y4j.s4qc])),c=this[F3Y4j.I9tc],a=this[F3Y4j.h9tc],h=this[F3Y4j.b4Jc],u=this[F3Y4j.Y9Jc],l=this[F3Y4j.Y8qc];l[F3Y4j.C7Qc][F3Y4j.W17c]=c+a+F3Y4j.q6w(h,e[F3Y4j.I17c],e[F3Y4j.I17c])+F3Y4j.R6w(u,n[F3Y4j.I17c],n[F3Y4j.I17c]),l[F3Y4j.C7Qc][F3Y4j.I17c]=-h*e[F3Y4j.W17c]*e[F3Y4j.I17c]-F3Y4j.u6w(u,n[F3Y4j.W17c],n[F3Y4j.I17c]),l[F3Y4j.o6Qc][F3Y4j.W17c]=l[F3Y4j.C7Qc][F3Y4j.I17c],l[F3Y4j.o6Qc][F3Y4j.I17c]=c+a+F3Y4j.H6w(h,e[F3Y4j.W17c],e[F3Y4j.W17c])+F3Y4j.Z6w(u,n[F3Y4j.W17c],n[F3Y4j.W17c]),l[F3Y4j.P7Ec](this[F3Y4j.E9Jc]),this[F3Y4j.n32c]=h+u,F3Y4j.j6w(this[F3Y4j.n32c],0)&&(this[F3Y4j.n32c]=F3Y4j.A6w(1,this[F3Y4j.n32c])),t[F3Y4j.r7Ec][F3Y4j.D47c]?(this[F3Y4j.a7qc][F3Y4j.M62c](t[F3Y4j.r7Ec][F3Y4j.W22c]),this[F3Y4j.u4Ec]*=t[F3Y4j.r7Ec][F3Y4j.W22c],e=this[F3Y4j.a7qc],i[F3Y4j.Y7Jc](c,e),o-=F3Y4j.r6w(h,box2d[F3Y4j.O62c](this[F3Y4j.L9qc],e)+this[F3Y4j.u4Ec]),s[F3Y4j.C1qc](a,e),r+=F3Y4j.i6w(u,box2d[F3Y4j.O62c](this[F3Y4j.s4qc],e)+this[F3Y4j.u4Ec])):(this[F3Y4j.a7qc][F3Y4j.a4qc](),this[F3Y4j.u4Ec]=0),t[F3Y4j.W8tc][this[F3Y4j.p5qc]][F3Y4j.X17c]=o,t[F3Y4j.W8tc][this[F3Y4j.s5qc]][F3Y4j.X17c]=r},box2d.b2FrictionJoint.prototype.SolveVelocityConstraints=function(t){var e=t[F3Y4j.W8tc][this[F3Y4j.p5qc]][F3Y4j.H97c],i=t[F3Y4j.W8tc][this[F3Y4j.p5qc]][F3Y4j.X17c],o=t[F3Y4j.W8tc][this[F3Y4j.s5qc]][F3Y4j.H97c],n=t[F3Y4j.W8tc][this[F3Y4j.s5qc]][F3Y4j.X17c],s=this[F3Y4j.I9tc],r=this[F3Y4j.h9tc],c=this[F3Y4j.b4Jc],a=this[F3Y4j.Y9Jc],h=t[F3Y4j.r7Ec][F3Y4j.N7Ec],u=F3Y4j.c6w(n,i),l=-this[F3Y4j.n32c]*u,d=this[F3Y4j.u4Ec],p=F3Y4j.e6w(h,this[F3Y4j.R4Jc]),u=(this[F3Y4j.u4Ec]=box2d[F3Y4j.Q87c](this[F3Y4j.u4Ec]+l,-p,p),l=F3Y4j.g6w(this[F3Y4j.u4Ec],d),i-=F3Y4j.k6w(c,l),n+=F3Y4j.n6w(a,l),box2d[F3Y4j.J97c](box2d[F3Y4j.M57c](o,n,this[F3Y4j.s4qc],box2d[F3Y4j.b17c][F3Y4j.c1Jc]),box2d[F3Y4j.M57c](e,i,this[F3Y4j.L9qc],box2d[F3Y4j.b17c][F3Y4j.M1Jc]),box2d.b2FrictionJoint.prototype.SolveVelocityConstraints.s_Cdot)),d=box2d[F3Y4j.c6Qc](this[F3Y4j.E9Jc],u,box2d.b2FrictionJoint.prototype.SolveVelocityConstraints.s_impulseV)[F3Y4j.p9qc](),l=box2d.b2FrictionJoint.prototype.SolveVelocityConstraints.s_oldImpulseV.Copy(this[F3Y4j.a7qc]),p=(this[F3Y4j.a7qc][F3Y4j.l2Qc](d),F3Y4j.P6w(h,this[F3Y4j.X1qc]));F3Y4j.V0w(this[F3Y4j.a7qc][F3Y4j.u77c](),p*p)&&(this[F3Y4j.a7qc][F3Y4j.w2tc](),this[F3Y4j.a7qc][F3Y4j.M62c](p)),box2d[F3Y4j.J97c](this[F3Y4j.a7qc],l,d),e[F3Y4j.Y7Jc](s,d),i-=F3Y4j.h0w(c,box2d[F3Y4j.O62c](this[F3Y4j.L9qc],d)),o[F3Y4j.C1qc](r,d),n+=F3Y4j.R0w(a,box2d[F3Y4j.O62c](this[F3Y4j.s4qc],d)),t[F3Y4j.W8tc][this[F3Y4j.p5qc]][F3Y4j.X17c]=i,t[F3Y4j.W8tc][this[F3Y4j.s5qc]][F3Y4j.X17c]=n},box2d.b2FrictionJoint.prototype.SolveVelocityConstraints.s_Cdot=new box2d[F3Y4j.b17c],box2d.b2FrictionJoint.prototype.SolveVelocityConstraints.s_impulseV=new box2d[F3Y4j.b17c],box2d.b2FrictionJoint.prototype.SolveVelocityConstraints.s_oldImpulseV=new box2d[F3Y4j.b17c],box2d.b2FrictionJoint.prototype.SolvePositionConstraints=function(t){return!0},box2d.b2FrictionJoint.prototype.GetAnchorA=function(t){return this[F3Y4j.l8tc][F3Y4j.K82c](this[F3Y4j.J2tc],t)},box2d.b2FrictionJoint.prototype.GetAnchorB=function(t){return this[F3Y4j.V8tc][F3Y4j.K82c](this[F3Y4j.B2tc],t)},box2d.b2FrictionJoint.prototype.GetReactionForce=function(t,e){return e[F3Y4j.V0tc](F3Y4j.b0w(t,this[F3Y4j.a7qc][F3Y4j.W17c]),F3Y4j.p0w(t,this[F3Y4j.a7qc][F3Y4j.I17c]))},box2d.b2FrictionJoint.prototype.GetReactionTorque=function(t){return F3Y4j.y0w(t,this[F3Y4j.u4Ec])},box2d.b2FrictionJoint.prototype.GetLocalAnchorA=function(t){return t[F3Y4j.j9Qc](this[F3Y4j.J2tc])},box2d.b2FrictionJoint.prototype.GetLocalAnchorB=function(t){return t[F3Y4j.j9Qc](this[F3Y4j.B2tc])},box2d.b2FrictionJoint.prototype.SetMaxForce=function(t){this[F3Y4j.X1qc]=t},box2d.b2FrictionJoint.prototype.GetMaxForce=function(){return this[F3Y4j.X1qc]},box2d.b2FrictionJoint.prototype.SetMaxTorque=function(t){this[F3Y4j.R4Jc]=t},box2d.b2FrictionJoint.prototype.GetMaxTorque=function(){return this[F3Y4j.R4Jc]},box2d.b2FrictionJoint.prototype.Dump=function(){var t,e;box2d[F3Y4j.l2Jc]&&(t=this[F3Y4j.l8tc][F3Y4j.h7Jc],e=this[F3Y4j.V8tc][F3Y4j.h7Jc],box2d[F3Y4j.q7ic]("  /*box2d.b2FrictionJointDef*/ var jd = new box2d.b2FrictionJointDef();\n"),box2d[F3Y4j.q7ic](F3Y4j.v3Qc,t),box2d[F3Y4j.q7ic](F3Y4j.V8qc,e),box2d[F3Y4j.q7ic](F3Y4j.V6qc,this[F3Y4j.v1tc]?F3Y4j.H1Ec:F3Y4j.y07c),box2d[F3Y4j.q7ic](F3Y4j.u1ic,this[F3Y4j.J2tc][F3Y4j.W17c],this[F3Y4j.J2tc][F3Y4j.I17c]),box2d[F3Y4j.q7ic](F3Y4j.o1Qc,this[F3Y4j.B2tc][F3Y4j.W17c],this[F3Y4j.B2tc][F3Y4j.I17c]),box2d[F3Y4j.q7ic](F3Y4j.k4Jc,this[F3Y4j.X1qc]),box2d[F3Y4j.q7ic](F3Y4j.q5qc,this[F3Y4j.R4Jc]),box2d[F3Y4j.q7ic](F3Y4j.Q4Jc,this[F3Y4j.O7tc]))},goog[F3Y4j.a0ic](F3Y4j.C32c),goog[F3Y4j.D02c]("box2d.b2Settings"),goog[F3Y4j.D02c]("box2d.b2Joint"),goog[F3Y4j.D02c]("box2d.b2Math"),box2d[F3Y4j.P3ic]=function(){goog[F3Y4j.W3tc](this,box2d[F3Y4j.T3Jc][F3Y4j.z8tc]),this[F3Y4j.H4Jc]=new box2d[F3Y4j.b17c]},goog[F3Y4j.b4ic](box2d[F3Y4j.P3ic],box2d[F3Y4j.X7qc]),box2d.b2MouseJointDef.prototype.target=F3Y4j.E3qc,box2d.b2MouseJointDef.prototype.maxForce=F3Y4j.u42c,box2d.b2MouseJointDef.prototype.frequencyHz=F3Y4j.H42c,box2d.b2MouseJointDef.prototype.dampingRatio=F3Y4j.d8Qc,box2d[F3Y4j.C2ic]=function(t){goog[F3Y4j.W3tc](this,t),this[F3Y4j.B2tc]=new box2d[F3Y4j.b17c],this[F3Y4j.p1Ec]=new box2d[F3Y4j.b17c],this[F3Y4j.H6Ec]=new box2d[F3Y4j.b17c],this[F3Y4j.s4qc]=new box2d[F3Y4j.b17c],this[F3Y4j.H2Jc]=new box2d[F3Y4j.b17c],this[F3Y4j.p57c]=new box2d[F3Y4j.r5Ec],this[F3Y4j.P6qc]=new box2d[F3Y4j.b17c],this[F3Y4j.t3Qc]=new box2d[F3Y4j.s4Jc],this[F3Y4j.M9tc]=new box2d[F3Y4j.b17c],this[F3Y4j.Y8qc]=new box2d[F3Y4j.r5Ec],box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](t[F3Y4j.H4Jc][F3Y4j.A5Qc]()),box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](box2d[F3Y4j.i9Ec](t[F3Y4j.R9qc])&&F3Y4j.Z0w(t[F3Y4j.R9qc],F3Y4j.u42c)),box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](box2d[F3Y4j.i9Ec](t[F3Y4j.U3Qc])&&F3Y4j.D0w(t[F3Y4j.U3Qc],F3Y4j.u42c)),box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](box2d[F3Y4j.i9Ec](t[F3Y4j.s6tc])&&F3Y4j.F0w(t[F3Y4j.s6tc],F3Y4j.u42c)),this[F3Y4j.p1Ec][F3Y4j.j9Qc](t[F3Y4j.H4Jc]),box2d[F3Y4j.s9ic](this[F3Y4j.V8tc][F3Y4j.L92c](),this[F3Y4j.p1Ec],this[F3Y4j.B2tc]),this[F3Y4j.X1qc]=t[F3Y4j.R9qc],this[F3Y4j.H6Ec][F3Y4j.a4qc](),this[F3Y4j.V97c]=t[F3Y4j.U3Qc],this[F3Y4j.P9qc]=t[F3Y4j.s6tc],this[F3Y4j.W5tc]=F3Y4j.u42c,this[F3Y4j.x8Jc]=F3Y4j.u42c},goog[F3Y4j.b4ic](box2d[F3Y4j.C2ic],box2d[F3Y4j.R6tc]),box2d.b2MouseJoint.prototype.m_localAnchorB=F3Y4j.E3qc,box2d.b2MouseJoint.prototype.m_targetA=F3Y4j.E3qc,box2d.b2MouseJoint.prototype.m_frequencyHz=F3Y4j.u42c,box2d.b2MouseJoint.prototype.m_dampingRatio=F3Y4j.u42c,box2d.b2MouseJoint.prototype.m_beta=F3Y4j.u42c,box2d.b2MouseJoint.prototype.m_impulse=F3Y4j.E3qc,box2d.b2MouseJoint.prototype.m_maxForce=F3Y4j.u42c,box2d.b2MouseJoint.prototype.m_gamma=F3Y4j.u42c,box2d.b2MouseJoint.prototype.m_indexA=F3Y4j.u42c,box2d.b2MouseJoint.prototype.m_indexB=F3Y4j.u42c,box2d.b2MouseJoint.prototype.m_rB=F3Y4j.E3qc,box2d.b2MouseJoint.prototype.m_localCenterB=F3Y4j.E3qc,box2d.b2MouseJoint.prototype.m_invMassB=F3Y4j.u42c,box2d.b2MouseJoint.prototype.m_invIB=F3Y4j.u42c,box2d.b2MouseJoint.prototype.m_mass=F3Y4j.E3qc,box2d.b2MouseJoint.prototype.m_C=F3Y4j.E3qc,box2d.b2MouseJoint.prototype.m_qB=F3Y4j.E3qc,box2d.b2MouseJoint.prototype.m_lalcB=F3Y4j.E3qc,box2d.b2MouseJoint.prototype.m_K=F3Y4j.E3qc,box2d.b2MouseJoint.prototype.SetTarget=function(t){F3Y4j.t0w(this[F3Y4j.V8tc][F3Y4j.y5Gc](),F3Y4j.h57c)&&this[F3Y4j.V8tc][F3Y4j.s7Ec](F3Y4j.H3qc),this[F3Y4j.p1Ec][F3Y4j.j9Qc](t)},box2d.b2MouseJoint.prototype.GetTarget=function(t){return t[F3Y4j.j9Qc](this[F3Y4j.p1Ec])},box2d.b2MouseJoint.prototype.SetMaxForce=function(t){this[F3Y4j.X1qc]=t},box2d.b2MouseJoint.prototype.GetMaxForce=function(){return this[F3Y4j.X1qc]},box2d.b2MouseJoint.prototype.SetFrequency=function(t){this[F3Y4j.V97c]=t},box2d.b2MouseJoint.prototype.GetFrequency=function(){return this[F3Y4j.V97c]},box2d.b2MouseJoint.prototype.SetDampingRatio=function(t){this[F3Y4j.P9qc]=t},box2d.b2MouseJoint.prototype.GetDampingRatio=function(){return this[F3Y4j.P9qc]},box2d.b2MouseJoint.prototype.InitVelocityConstraints=function(t){this[F3Y4j.s5qc]=this[F3Y4j.V8tc][F3Y4j.h7Jc],this[F3Y4j.H2Jc][F3Y4j.j9Qc](this[F3Y4j.V8tc][F3Y4j.G4qc][F3Y4j.K92c]),this[F3Y4j.h9tc]=this[F3Y4j.V8tc][F3Y4j.m4tc],this[F3Y4j.Y9Jc]=this[F3Y4j.V8tc][F3Y4j.e1Ec];var e=t[F3Y4j.r7ic][this[F3Y4j.s5qc]][F3Y4j.K22c],i=t[F3Y4j.r7ic][this[F3Y4j.s5qc]][F3Y4j.O22c],o=t[F3Y4j.W8tc][this[F3Y4j.s5qc]][F3Y4j.H97c],n=t[F3Y4j.W8tc][this[F3Y4j.s5qc]][F3Y4j.X17c],i=this[F3Y4j.t3Qc][F3Y4j.b1ic](i),s=this[F3Y4j.V8tc][F3Y4j.L2ic](),r=F3Y4j.T0w(2,box2d[F3Y4j.y7Jc],this[F3Y4j.V97c]),c=F3Y4j.c0w(2,s,this[F3Y4j.P9qc],r),s=F3Y4j.C0w(s,r*r),r=t[F3Y4j.r7Ec][F3Y4j.N7Ec],c=(box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.U0w(c+r*s,box2d[F3Y4j.w7qc])),this[F3Y4j.x8Jc]=F3Y4j.d0w(r,c+r*s),F3Y4j.X0w(this[F3Y4j.x8Jc],0)&&(this[F3Y4j.x8Jc]=F3Y4j.o2w(1,this[F3Y4j.x8Jc])),this[F3Y4j.W5tc]=F3Y4j.q2w(r,s,this[F3Y4j.x8Jc]),box2d[F3Y4j.J97c](this[F3Y4j.B2tc],this[F3Y4j.H2Jc],this[F3Y4j.M9tc]),box2d[F3Y4j.Z0tc](i,this[F3Y4j.M9tc],this[F3Y4j.s4qc]),this[F3Y4j.Y8qc]);c[F3Y4j.C7Qc][F3Y4j.W17c]=this[F3Y4j.h9tc]+F3Y4j.R2w(this[F3Y4j.Y9Jc],this[F3Y4j.s4qc][F3Y4j.I17c],this[F3Y4j.s4qc][F3Y4j.I17c])+this[F3Y4j.x8Jc],c[F3Y4j.C7Qc][F3Y4j.I17c]=-this[F3Y4j.Y9Jc]*this[F3Y4j.s4qc][F3Y4j.W17c]*this[F3Y4j.s4qc][F3Y4j.I17c],c[F3Y4j.o6Qc][F3Y4j.W17c]=c[F3Y4j.C7Qc][F3Y4j.I17c],c[F3Y4j.o6Qc][F3Y4j.I17c]=this[F3Y4j.h9tc]+F3Y4j.u2w(this[F3Y4j.Y9Jc],this[F3Y4j.s4qc][F3Y4j.W17c],this[F3Y4j.s4qc][F3Y4j.W17c])+this[F3Y4j.x8Jc],c[F3Y4j.P7Ec](this[F3Y4j.p57c]),this[F3Y4j.P6qc][F3Y4j.W17c]=e[F3Y4j.W17c]+this[F3Y4j.s4qc][F3Y4j.W17c]-this[F3Y4j.p1Ec][F3Y4j.W17c],this[F3Y4j.P6qc][F3Y4j.I17c]=e[F3Y4j.I17c]+this[F3Y4j.s4qc][F3Y4j.I17c]-this[F3Y4j.p1Ec][F3Y4j.I17c],this[F3Y4j.P6qc][F3Y4j.M62c](this[F3Y4j.W5tc]),n*=.98,t[F3Y4j.r7Ec][F3Y4j.D47c]?(this[F3Y4j.H6Ec][F3Y4j.M62c](t[F3Y4j.r7Ec][F3Y4j.W22c]),o[F3Y4j.W17c]+=F3Y4j.H2w(this[F3Y4j.h9tc],this[F3Y4j.H6Ec][F3Y4j.W17c]),o[F3Y4j.I17c]+=F3Y4j.I2w(this[F3Y4j.h9tc],this[F3Y4j.H6Ec][F3Y4j.I17c]),n+=F3Y4j.w2w(this[F3Y4j.Y9Jc],box2d[F3Y4j.O62c](this[F3Y4j.s4qc],this[F3Y4j.H6Ec]))):this[F3Y4j.H6Ec][F3Y4j.a4qc](),t[F3Y4j.W8tc][this[F3Y4j.s5qc]][F3Y4j.X17c]=n},box2d.b2MouseJoint.prototype.SolveVelocityConstraints=function(t){var e=t[F3Y4j.W8tc][this[F3Y4j.s5qc]][F3Y4j.H97c],i=t[F3Y4j.W8tc][this[F3Y4j.s5qc]][F3Y4j.X17c],o=box2d[F3Y4j.M57c](e,i,this[F3Y4j.s4qc],box2d.b2MouseJoint.prototype.SolveVelocityConstraints.s_Cdot),o=box2d[F3Y4j.c6Qc](this[F3Y4j.p57c],box2d[F3Y4j.O2ic](o,box2d[F3Y4j.O2ic](this[F3Y4j.P6qc],box2d[F3Y4j.H07c](this[F3Y4j.x8Jc],this[F3Y4j.H6Ec],box2d[F3Y4j.b17c][F3Y4j.c1Jc]),box2d[F3Y4j.b17c][F3Y4j.c1Jc]),box2d[F3Y4j.b17c][F3Y4j.c1Jc])[F3Y4j.p9qc](),box2d.b2MouseJoint.prototype.SolveVelocityConstraints.s_impulse),n=box2d.b2MouseJoint.prototype.SolveVelocityConstraints.s_oldImpulse.Copy(this[F3Y4j.H6Ec]),s=(this[F3Y4j.H6Ec][F3Y4j.l2Qc](o),F3Y4j.N2w(t[F3Y4j.r7Ec][F3Y4j.N7Ec],this[F3Y4j.X1qc]));F3Y4j.J2w(this[F3Y4j.H6Ec][F3Y4j.u77c](),s*s)&&this[F3Y4j.H6Ec][F3Y4j.M62c](F3Y4j.S2w(s,this[F3Y4j.H6Ec][F3Y4j.x2Jc]())),box2d[F3Y4j.J97c](this[F3Y4j.H6Ec],n,o),e[F3Y4j.C1qc](this[F3Y4j.h9tc],o),i+=F3Y4j.Q2w(this[F3Y4j.Y9Jc],box2d[F3Y4j.O62c](this[F3Y4j.s4qc],o)),t[F3Y4j.W8tc][this[F3Y4j.s5qc]][F3Y4j.X17c]=i},box2d.b2MouseJoint.prototype.SolveVelocityConstraints.s_Cdot=new box2d[F3Y4j.b17c],box2d.b2MouseJoint.prototype.SolveVelocityConstraints.s_impulse=new box2d[F3Y4j.b17c],box2d.b2MouseJoint.prototype.SolveVelocityConstraints.s_oldImpulse=new box2d[F3Y4j.b17c],box2d.b2MouseJoint.prototype.SolvePositionConstraints=function(t){return!0},box2d.b2MouseJoint.prototype.GetAnchorA=function(t){return t[F3Y4j.j9Qc](this[F3Y4j.p1Ec])},box2d.b2MouseJoint.prototype.GetAnchorB=function(t){return this[F3Y4j.V8tc][F3Y4j.K82c](this[F3Y4j.B2tc],t)},box2d.b2MouseJoint.prototype.GetReactionForce=function(t,e){return box2d[F3Y4j.H07c](t,this[F3Y4j.H6Ec],e)},box2d.b2MouseJoint.prototype.GetReactionTorque=function(t){return F3Y4j.u42c},box2d.b2MouseJoint.prototype.Dump=function(){box2d[F3Y4j.l2Jc]&&box2d[F3Y4j.q7ic]("Mouse joint dumping is not supported.\n")},box2d.b2MouseJoint.prototype.ShiftOrigin=function(t){this[F3Y4j.p1Ec][F3Y4j.f3Jc](t)},goog[F3Y4j.a0ic](F3Y4j.A0tc),goog[F3Y4j.D02c]("box2d.b2Settings"),goog[F3Y4j.D02c]("box2d.b2Controller"),goog[F3Y4j.D02c]("box2d.b2Math"),box2d[F3Y4j.a02c]=function(){goog[F3Y4j.W3tc](this),this[F3Y4j.B02c]=new box2d[F3Y4j.b17c](F3Y4j.u42c,F3Y4j.u42c)},goog[F3Y4j.b4ic](box2d[F3Y4j.a02c],box2d[F3Y4j.O9Ec]),box2d.b2ConstantAccelController.prototype.F=F3Y4j.E3qc,box2d.b2ConstantForceController.prototype.Step=function(t){for(var e=this[F3Y4j.s4ic];e;e=e[F3Y4j.P0Jc]){var i=e[F3Y4j.k4qc];i[F3Y4j.y5Gc]()&&i[F3Y4j.P62c](this[F3Y4j.B02c],i[F3Y4j.X9tc]())}},goog[F3Y4j.a0ic](F3Y4j.b4qc),goog[F3Y4j.D02c]("box2d.b2Settings"),goog[F3Y4j.D02c]("box2d.b2Joint"),goog[F3Y4j.D02c]("box2d.b2Math"),F3Y4j[F3Y4j.H0Qc](F3Y4j.B42c),box2d[F3Y4j.G3tc]=function(){goog[F3Y4j.W3tc](this,box2d[F3Y4j.T3Jc][F3Y4j.u1Ec]),this[F3Y4j.c5Qc]=F3Y4j.H3qc,this[F3Y4j.o1tc]=new box2d[F3Y4j.b17c](-F3Y4j.b42c,F3Y4j.b42c),this[F3Y4j.y5tc]=new box2d[F3Y4j.b17c](F3Y4j.b42c,F3Y4j.b42c),this[F3Y4j.A4Ec]=new box2d[F3Y4j.b17c](-F3Y4j.b42c,F3Y4j.u42c),this[F3Y4j.f4Ec]=new box2d[F3Y4j.b17c](F3Y4j.b42c,F3Y4j.u42c)},goog[F3Y4j.b4ic](box2d[F3Y4j.G3tc],box2d[F3Y4j.X7qc]),box2d.b2PulleyJointDef.prototype.groundAnchorA=F3Y4j.E3qc,box2d.b2PulleyJointDef.prototype.groundAnchorB=F3Y4j.E3qc,box2d.b2PulleyJointDef.prototype.localAnchorA=F3Y4j.E3qc,box2d.b2PulleyJointDef.prototype.localAnchorB=F3Y4j.E3qc,box2d.b2PulleyJointDef.prototype.lengthA=F3Y4j.u42c,box2d.b2PulleyJointDef.prototype.lengthB=F3Y4j.u42c,box2d.b2PulleyJointDef.prototype.ratio=F3Y4j.b42c,box2d.b2PulleyJointDef.prototype.Initialize=function(t,e,i,o,n,s,r){this[F3Y4j.E32c]=t,this[F3Y4j.F32c]=e,this[F3Y4j.o1tc][F3Y4j.j9Qc](i),this[F3Y4j.y5tc][F3Y4j.j9Qc](o),this[F3Y4j.E32c][F3Y4j.v5Jc](n,this[F3Y4j.A4Ec]),this[F3Y4j.F32c][F3Y4j.v5Jc](s,this[F3Y4j.f4Ec]),this[F3Y4j.t1tc]=box2d[F3Y4j.J9ic](n,i),this[F3Y4j.b1tc]=box2d[F3Y4j.J9ic](s,o),this[F3Y4j.z9tc]=r,box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.G2w(this[F3Y4j.z9tc],box2d[F3Y4j.w7qc]))},box2d[F3Y4j.R02c]=function(t){goog[F3Y4j.W3tc](this,t),this[F3Y4j.V1ic]=new box2d[F3Y4j.b17c],this[F3Y4j.c5ic]=new box2d[F3Y4j.b17c],this[F3Y4j.J2tc]=new box2d[F3Y4j.b17c],this[F3Y4j.B2tc]=new box2d[F3Y4j.b17c],this[F3Y4j.s5ic]=new box2d[F3Y4j.b17c],this[F3Y4j.w5ic]=new box2d[F3Y4j.b17c],this[F3Y4j.L9qc]=new box2d[F3Y4j.b17c],this[F3Y4j.s4qc]=new box2d[F3Y4j.b17c],this[F3Y4j.I8Jc]=new box2d[F3Y4j.b17c],this[F3Y4j.H2Jc]=new box2d[F3Y4j.b17c],this[F3Y4j.P9Qc]=new box2d[F3Y4j.s4Jc],this[F3Y4j.t3Qc]=new box2d[F3Y4j.s4Jc],this[F3Y4j.e6tc]=new box2d[F3Y4j.b17c],this[F3Y4j.M9tc]=new box2d[F3Y4j.b17c],this[F3Y4j.V1ic][F3Y4j.j9Qc](t[F3Y4j.o1tc]),this[F3Y4j.c5ic][F3Y4j.j9Qc](t[F3Y4j.y5tc]),this[F3Y4j.J2tc][F3Y4j.j9Qc](t[F3Y4j.A4Ec]),this[F3Y4j.B2tc][F3Y4j.j9Qc](t[F3Y4j.f4Ec]),this[F3Y4j.q27c]=t[F3Y4j.t1tc],this[F3Y4j.I27c]=t[F3Y4j.b1tc],box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.a2w(t[F3Y4j.z9tc],F3Y4j.u42c)),this[F3Y4j.F5qc]=t[F3Y4j.z9tc],this[F3Y4j.H7ic]=t[F3Y4j.t1tc]+F3Y4j.L2w(this[F3Y4j.F5qc],t[F3Y4j.b1tc]),this[F3Y4j.H6Ec]=F3Y4j.u42c},goog[F3Y4j.b4ic](box2d[F3Y4j.R02c],box2d[F3Y4j.R6tc]),box2d.b2PulleyJoint.prototype.m_groundAnchorA=F3Y4j.E3qc,box2d.b2PulleyJoint.prototype.m_groundAnchorB=F3Y4j.E3qc,box2d.b2PulleyJoint.prototype.m_lengthA=F3Y4j.u42c,box2d.b2PulleyJoint.prototype.m_lengthB=F3Y4j.u42c,box2d.b2PulleyJoint.prototype.m_localAnchorA=F3Y4j.E3qc,box2d.b2PulleyJoint.prototype.m_localAnchorB=F3Y4j.E3qc,box2d.b2PulleyJoint.prototype.m_constant=F3Y4j.u42c,box2d.b2PulleyJoint.prototype.m_ratio=F3Y4j.u42c,box2d.b2PulleyJoint.prototype.m_impulse=F3Y4j.u42c,box2d.b2PulleyJoint.prototype.m_indexA=F3Y4j.u42c,box2d.b2PulleyJoint.prototype.m_indexB=F3Y4j.u42c,box2d.b2PulleyJoint.prototype.m_uA=F3Y4j.E3qc,box2d.b2PulleyJoint.prototype.m_uB=F3Y4j.E3qc,box2d.b2PulleyJoint.prototype.m_rA=F3Y4j.E3qc,box2d.b2PulleyJoint.prototype.m_rB=F3Y4j.E3qc,box2d.b2PulleyJoint.prototype.m_localCenterA=F3Y4j.E3qc,box2d.b2PulleyJoint.prototype.m_localCenterB=F3Y4j.E3qc,box2d.b2PulleyJoint.prototype.m_invMassA=F3Y4j.u42c,box2d.b2PulleyJoint.prototype.m_invMassB=F3Y4j.u42c,box2d.b2PulleyJoint.prototype.m_invIA=F3Y4j.u42c,box2d.b2PulleyJoint.prototype.m_invIB=F3Y4j.u42c,box2d.b2PulleyJoint.prototype.m_mass=F3Y4j.u42c,box2d.b2PulleyJoint.prototype.m_qA=F3Y4j.E3qc,box2d.b2PulleyJoint.prototype.m_qB=F3Y4j.E3qc,box2d.b2PulleyJoint.prototype.m_lalcA=F3Y4j.E3qc,box2d.b2PulleyJoint.prototype.m_lalcB=F3Y4j.E3qc;box2d.b2PulleyJoint.prototype.InitVelocityConstraints=function(t){this[F3Y4j.p5qc]=this[F3Y4j.l8tc][F3Y4j.h7Jc],this[F3Y4j.s5qc]=this[F3Y4j.V8tc][F3Y4j.h7Jc],this[F3Y4j.I8Jc][F3Y4j.j9Qc](this[F3Y4j.l8tc][F3Y4j.G4qc][F3Y4j.K92c]),this[F3Y4j.H2Jc][F3Y4j.j9Qc](this[F3Y4j.V8tc][F3Y4j.G4qc][F3Y4j.K92c]),this[F3Y4j.I9tc]=this[F3Y4j.l8tc][F3Y4j.m4tc],this[F3Y4j.h9tc]=this[F3Y4j.V8tc][F3Y4j.m4tc],this[F3Y4j.b4Jc]=this[F3Y4j.l8tc][F3Y4j.e1Ec],this[F3Y4j.Y9Jc]=this[F3Y4j.V8tc][F3Y4j.e1Ec];var e=t[F3Y4j.r7ic][this[F3Y4j.p5qc]][F3Y4j.K22c],i=t[F3Y4j.r7ic][this[F3Y4j.p5qc]][F3Y4j.O22c],o=t[F3Y4j.W8tc][this[F3Y4j.p5qc]][F3Y4j.H97c],n=t[F3Y4j.W8tc][this[F3Y4j.p5qc]][F3Y4j.X17c],s=t[F3Y4j.r7ic][this[F3Y4j.s5qc]][F3Y4j.K22c],r=t[F3Y4j.r7ic][this[F3Y4j.s5qc]][F3Y4j.O22c],c=t[F3Y4j.W8tc][this[F3Y4j.s5qc]][F3Y4j.H97c],a=t[F3Y4j.W8tc][this[F3Y4j.s5qc]][F3Y4j.X17c],i=this[F3Y4j.P9Qc][F3Y4j.b1ic](i),r=this[F3Y4j.t3Qc][F3Y4j.b1ic](r),i=(box2d[F3Y4j.J97c](this[F3Y4j.J2tc],this[F3Y4j.I8Jc],this[F3Y4j.e6tc]),box2d[F3Y4j.Z0tc](i,this[F3Y4j.e6tc],this[F3Y4j.L9qc]),box2d[F3Y4j.J97c](this[F3Y4j.B2tc],this[F3Y4j.H2Jc],this[F3Y4j.M9tc]),box2d[F3Y4j.Z0tc](r,this[F3Y4j.M9tc],this[F3Y4j.s4qc]),this[F3Y4j.s5ic][F3Y4j.j9Qc](e)[F3Y4j.l2Qc](this[F3Y4j.L9qc])[F3Y4j.f3Jc](this[F3Y4j.V1ic]),this[F3Y4j.w5ic][F3Y4j.j9Qc](s)[F3Y4j.l2Qc](this[F3Y4j.s4qc])[F3Y4j.f3Jc](this[F3Y4j.c5ic]),this[F3Y4j.s5ic][F3Y4j.x2Jc]()),r=this[F3Y4j.w5ic][F3Y4j.x2Jc](),e=(F3Y4j.K2w(i,10*box2d[F3Y4j.l9qc])?this[F3Y4j.s5ic][F3Y4j.M62c](F3Y4j.M2w(1,i)):this[F3Y4j.s5ic][F3Y4j.a4qc](),F3Y4j.s8w(r,10*box2d[F3Y4j.l9qc])?this[F3Y4j.w5ic][F3Y4j.M62c](F3Y4j.x8w(1,r)):this[F3Y4j.w5ic][F3Y4j.a4qc](),box2d[F3Y4j.O62c](this[F3Y4j.L9qc],this[F3Y4j.s5ic])),s=box2d[F3Y4j.O62c](this[F3Y4j.s4qc],this[F3Y4j.w5ic]),i=this[F3Y4j.I9tc]+F3Y4j.O8w(this[F3Y4j.b4Jc],e,e),r=this[F3Y4j.h9tc]+F3Y4j.E8w(this[F3Y4j.Y9Jc],s,s);this[F3Y4j.p57c]=i+F3Y4j.p8w(this[F3Y4j.F5qc],this[F3Y4j.F5qc],r),F3Y4j.m8w(this[F3Y4j.p57c],0)&&(this[F3Y4j.p57c]=F3Y4j.Y8w(1,this[F3Y4j.p57c])),t[F3Y4j.r7Ec][F3Y4j.D47c]?(this[F3Y4j.H6Ec]*=t[F3Y4j.r7Ec][F3Y4j.W22c],e=box2d[F3Y4j.H07c](-this[F3Y4j.H6Ec],this[F3Y4j.s5ic],box2d.b2PulleyJoint.prototype.InitVelocityConstraints.s_PA),s=box2d[F3Y4j.H07c](-this[F3Y4j.F5qc]*this[F3Y4j.H6Ec],this[F3Y4j.w5ic],box2d.b2PulleyJoint.prototype.InitVelocityConstraints.s_PB),o[F3Y4j.C1qc](this[F3Y4j.I9tc],e),n+=F3Y4j.j8w(this[F3Y4j.b4Jc],box2d[F3Y4j.O62c](this[F3Y4j.L9qc],e)),c[F3Y4j.C1qc](this[F3Y4j.h9tc],s),a+=F3Y4j.A8w(this[F3Y4j.Y9Jc],box2d[F3Y4j.O62c](this[F3Y4j.s4qc],s))):this[F3Y4j.H6Ec]=0,t[F3Y4j.W8tc][this[F3Y4j.p5qc]][F3Y4j.X17c]=n,t[F3Y4j.W8tc][this[F3Y4j.s5qc]][F3Y4j.X17c]=a},box2d.b2PulleyJoint.prototype.InitVelocityConstraints.s_PA=new box2d[F3Y4j.b17c],box2d.b2PulleyJoint.prototype.InitVelocityConstraints.s_PB=new box2d[F3Y4j.b17c],box2d.b2PulleyJoint.prototype.SolveVelocityConstraints=function(t){var e=t[F3Y4j.W8tc][this[F3Y4j.p5qc]][F3Y4j.H97c],i=t[F3Y4j.W8tc][this[F3Y4j.p5qc]][F3Y4j.X17c],o=t[F3Y4j.W8tc][this[F3Y4j.s5qc]][F3Y4j.H97c],n=t[F3Y4j.W8tc][this[F3Y4j.s5qc]][F3Y4j.X17c],s=box2d[F3Y4j.M57c](e,i,this[F3Y4j.L9qc],box2d.b2PulleyJoint.prototype.SolveVelocityConstraints.s_vpA),r=box2d[F3Y4j.M57c](o,n,this[F3Y4j.s4qc],box2d.b2PulleyJoint.prototype.SolveVelocityConstraints.s_vpB),s=-box2d[F3Y4j.U2tc](this[F3Y4j.s5ic],s)-this[F3Y4j.F5qc]*box2d[F3Y4j.U2tc](this[F3Y4j.w5ic],r),r=-this[F3Y4j.p57c]*s,s=(this[F3Y4j.H6Ec]+=r,box2d[F3Y4j.H07c](-r,this[F3Y4j.s5ic],box2d.b2PulleyJoint.prototype.SolveVelocityConstraints.s_PA)),r=box2d[F3Y4j.H07c](-this[F3Y4j.F5qc]*r,this[F3Y4j.w5ic],box2d.b2PulleyJoint.prototype.SolveVelocityConstraints.s_PB);e[F3Y4j.C1qc](this[F3Y4j.I9tc],s),i+=F3Y4j.r8w(this[F3Y4j.b4Jc],box2d[F3Y4j.O62c](this[F3Y4j.L9qc],s)),o[F3Y4j.C1qc](this[F3Y4j.h9tc],r),n+=F3Y4j.i8w(this[F3Y4j.Y9Jc],box2d[F3Y4j.O62c](this[F3Y4j.s4qc],r)),t[F3Y4j.W8tc][this[F3Y4j.p5qc]][F3Y4j.X17c]=i,t[F3Y4j.W8tc][this[F3Y4j.s5qc]][F3Y4j.X17c]=n},box2d.b2PulleyJoint.prototype.SolveVelocityConstraints.s_vpA=new box2d[F3Y4j.b17c],box2d.b2PulleyJoint.prototype.SolveVelocityConstraints.s_vpB=new box2d[F3Y4j.b17c],box2d.b2PulleyJoint.prototype.SolveVelocityConstraints.s_PA=new box2d[F3Y4j.b17c],box2d.b2PulleyJoint.prototype.SolveVelocityConstraints.s_PB=new box2d[F3Y4j.b17c],box2d.b2PulleyJoint.prototype.SolvePositionConstraints=function(t){var e=t[F3Y4j.r7ic][this[F3Y4j.p5qc]][F3Y4j.K22c],i=t[F3Y4j.r7ic][this[F3Y4j.p5qc]][F3Y4j.O22c],o=t[F3Y4j.r7ic][this[F3Y4j.s5qc]][F3Y4j.K22c],n=t[F3Y4j.r7ic][this[F3Y4j.s5qc]][F3Y4j.O22c],s=this[F3Y4j.P9Qc][F3Y4j.b1ic](i),r=this[F3Y4j.t3Qc][F3Y4j.b1ic](n),s=(box2d[F3Y4j.J97c](this[F3Y4j.J2tc],this[F3Y4j.I8Jc],this[F3Y4j.e6tc]),box2d[F3Y4j.Z0tc](s,this[F3Y4j.e6tc],this[F3Y4j.L9qc])),r=(box2d[F3Y4j.J97c](this[F3Y4j.B2tc],this[F3Y4j.H2Jc],this[F3Y4j.M9tc]),box2d[F3Y4j.Z0tc](r,this[F3Y4j.M9tc],this[F3Y4j.s4qc])),c=this[F3Y4j.s5ic][F3Y4j.j9Qc](e)[F3Y4j.l2Qc](s)[F3Y4j.f3Jc](this[F3Y4j.V1ic]),a=this[F3Y4j.w5ic][F3Y4j.j9Qc](o)[F3Y4j.l2Qc](r)[F3Y4j.f3Jc](this[F3Y4j.c5ic]),h=c[F3Y4j.x2Jc](),u=a[F3Y4j.x2Jc](),l=(F3Y4j.c8w(h,10*box2d[F3Y4j.l9qc])?c[F3Y4j.M62c](F3Y4j.e8w(1,h)):c[F3Y4j.a4qc](),F3Y4j.g8w(u,10*box2d[F3Y4j.l9qc])?a[F3Y4j.M62c](F3Y4j.k8w(1,u)):a[F3Y4j.a4qc](),box2d[F3Y4j.O62c](s,c)),d=box2d[F3Y4j.O62c](r,a),l=this[F3Y4j.I9tc]+F3Y4j.n8w(this[F3Y4j.b4Jc],l,l),d=this[F3Y4j.h9tc]+F3Y4j.s5u(this[F3Y4j.Y9Jc],d,d),l=l+F3Y4j.q5u(this[F3Y4j.F5qc],this[F3Y4j.F5qc],d),d=(F3Y4j.R5u(l,0)&&(l=F3Y4j.b5u(1,l)),F3Y4j.p5u(this[F3Y4j.H7ic],h,this[F3Y4j.F5qc]*u)),h=box2d[F3Y4j.O7Qc](d),u=-l*d,l=box2d[F3Y4j.H07c](-u,c,box2d.b2PulleyJoint.prototype.SolvePositionConstraints.s_PA),d=box2d[F3Y4j.H07c](-this[F3Y4j.F5qc]*u,a,box2d.b2PulleyJoint.prototype.SolvePositionConstraints.s_PB);return e[F3Y4j.C1qc](this[F3Y4j.I9tc],l),i+=F3Y4j.m5u(this[F3Y4j.b4Jc],box2d[F3Y4j.O62c](s,l)),o[F3Y4j.C1qc](this[F3Y4j.h9tc],d),n+=F3Y4j.Y5u(this[F3Y4j.Y9Jc],box2d[F3Y4j.O62c](r,d)),t[F3Y4j.r7ic][this[F3Y4j.p5qc]][F3Y4j.O22c]=i,t[F3Y4j.r7ic][this[F3Y4j.s5qc]][F3Y4j.O22c]=n,F3Y4j.j5u(h,box2d[F3Y4j.l9qc])},box2d.b2PulleyJoint.prototype.SolvePositionConstraints.s_PA=new box2d[F3Y4j.b17c],box2d.b2PulleyJoint.prototype.SolvePositionConstraints.s_PB=new box2d[F3Y4j.b17c],box2d.b2PulleyJoint.prototype.GetAnchorA=function(t){return this[F3Y4j.l8tc][F3Y4j.K82c](this[F3Y4j.J2tc],t)},box2d.b2PulleyJoint.prototype.GetAnchorB=function(t){return this[F3Y4j.V8tc][F3Y4j.K82c](this[F3Y4j.B2tc],t)},box2d.b2PulleyJoint.prototype.GetReactionForce=function(t,e){return e[F3Y4j.V0tc](F3Y4j.A5u(t,this[F3Y4j.H6Ec],this[F3Y4j.w5ic][F3Y4j.W17c]),F3Y4j.S5u(t,this[F3Y4j.H6Ec],this[F3Y4j.w5ic][F3Y4j.I17c]))},box2d.b2PulleyJoint.prototype.GetReactionTorque=function(t){return F3Y4j.u42c},box2d.b2PulleyJoint.prototype.GetGroundAnchorA=function(t){return t[F3Y4j.j9Qc](this[F3Y4j.V1ic])},box2d.b2PulleyJoint.prototype.GetGroundAnchorB=function(t){return t[F3Y4j.j9Qc](this[F3Y4j.c5ic])},box2d.b2PulleyJoint.prototype.GetLengthA=function(){return this[F3Y4j.q27c]},box2d.b2PulleyJoint.prototype.GetLengthB=function(){return this[F3Y4j.I27c]},box2d.b2PulleyJoint.prototype.GetRatio=function(){return this[F3Y4j.F5qc]},box2d.b2PulleyJoint.prototype.GetCurrentLengthA=function(){var t=this[F3Y4j.l8tc][F3Y4j.K82c](this[F3Y4j.J2tc],box2d.b2PulleyJoint.prototype.GetCurrentLengthA.s_p),e=this[F3Y4j.V1ic];return box2d[F3Y4j.J9ic](t,e)},box2d.b2PulleyJoint.prototype.GetCurrentLengthA.s_p=new box2d[F3Y4j.b17c],box2d.b2PulleyJoint.prototype.GetCurrentLengthB=function(){var t=this[F3Y4j.V8tc][F3Y4j.K82c](this[F3Y4j.B2tc],box2d.b2PulleyJoint.prototype.GetCurrentLengthB.s_p),e=this[F3Y4j.c5ic];return box2d[F3Y4j.J9ic](t,e)},box2d.b2PulleyJoint.prototype.GetCurrentLengthB.s_p=new box2d[F3Y4j.b17c],box2d.b2PulleyJoint.prototype.Dump=function(){var t,e;box2d[F3Y4j.l2Jc]&&(t=this[F3Y4j.l8tc][F3Y4j.h7Jc],e=this[F3Y4j.V8tc][F3Y4j.h7Jc],box2d[F3Y4j.q7ic]("  /*box2d.b2PulleyJointDef*/ var jd = new box2d.b2PulleyJointDef();\n"),box2d[F3Y4j.q7ic](F3Y4j.v3Qc,t),box2d[F3Y4j.q7ic](F3Y4j.V8qc,e),box2d[F3Y4j.q7ic](F3Y4j.V6qc,this[F3Y4j.v1tc]?F3Y4j.H1Ec:F3Y4j.y07c),box2d[F3Y4j.q7ic]("  jd.groundAnchorA.SetXY(%.15f, %.15f);\n",this[F3Y4j.V1ic][F3Y4j.W17c],this[F3Y4j.V1ic][F3Y4j.I17c]),box2d[F3Y4j.q7ic]("  jd.groundAnchorB.SetXY(%.15f, %.15f);\n",this[F3Y4j.c5ic][F3Y4j.W17c],this[F3Y4j.c5ic][F3Y4j.I17c]),box2d[F3Y4j.q7ic](F3Y4j.u1ic,this[F3Y4j.J2tc][F3Y4j.W17c],this[F3Y4j.J2tc][F3Y4j.I17c]),box2d[F3Y4j.q7ic](F3Y4j.o1Qc,this[F3Y4j.B2tc][F3Y4j.W17c],this[F3Y4j.B2tc][F3Y4j.I17c]),box2d[F3Y4j.q7ic]("  jd.lengthA = %.15f;\n",this[F3Y4j.q27c]),box2d[F3Y4j.q7ic]("  jd.lengthB = %.15f;\n",this[F3Y4j.I27c]),box2d[F3Y4j.q7ic](F3Y4j.Q8Ec,this[F3Y4j.F5qc]),box2d[F3Y4j.q7ic](F3Y4j.Q4Jc,this[F3Y4j.O7tc]))},box2d.b2PulleyJoint.prototype.ShiftOrigin=function(t){this[F3Y4j.V1ic][F3Y4j.f3Jc](t),this[F3Y4j.c5ic][F3Y4j.f3Jc](t)},goog[F3Y4j.a0ic](F3Y4j.y0Ec),goog[F3Y4j.D02c]("box2d.b2Shape"),box2d[F3Y4j.Q0ic]=function(t){goog[F3Y4j.W3tc](this,box2d[F3Y4j.d9ic][F3Y4j.x87c],t||F3Y4j.u42c),this[F3Y4j.j8Jc]=new box2d[F3Y4j.b17c]},goog[F3Y4j.b4ic](box2d[F3Y4j.Q0ic],box2d[F3Y4j.N57c]),box2d.b2CircleShape.prototype.m_p=F3Y4j.E3qc,box2d.b2CircleShape.prototype.Clone=function(){return(new box2d[F3Y4j.Q0ic])[F3Y4j.j9Qc](this)},box2d.b2CircleShape.prototype.Copy=function(t){return goog[F3Y4j.W3tc](this,F3Y4j.p4Ec,t),box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.v5u(t,box2d[F3Y4j.Q0ic])),this[F3Y4j.j8Jc][F3Y4j.j9Qc](t[F3Y4j.j8Jc]),this},box2d.b2CircleShape.prototype.GetChildCount=function(){return F3Y4j.b42c},box2d.b2CircleShape.prototype.TestPoint=function(t,e){t=box2d[F3Y4j.a72c](t,this[F3Y4j.j8Jc],box2d.b2CircleShape.prototype.TestPoint.s_center),e=box2d[F3Y4j.J97c](e,t,box2d.b2CircleShape.prototype.TestPoint.s_d);return F3Y4j.W5u(box2d[F3Y4j.U2tc](e,e),box2d[F3Y4j.S9Jc](this[F3Y4j.W6ic]))},box2d.b2CircleShape.prototype.TestPoint.s_center=new box2d[F3Y4j.b17c],box2d.b2CircleShape.prototype.TestPoint.s_d=new box2d[F3Y4j.b17c],box2d.b2CircleShape.prototype.RayCast=function(t,e,i,o){var i=box2d[F3Y4j.a72c](i,this[F3Y4j.j8Jc],box2d.b2CircleShape.prototype.RayCast.s_position),i=box2d[F3Y4j.J97c](e[F3Y4j.C6tc],i,box2d.b2CircleShape.prototype.RayCast.s_s),n=F3Y4j.C5u(box2d[F3Y4j.U2tc](i,i),box2d[F3Y4j.S9Jc](this[F3Y4j.W6ic])),s=box2d[F3Y4j.J97c](e[F3Y4j.b0tc],e[F3Y4j.C6tc],box2d.b2CircleShape.prototype.RayCast.s_r),r=box2d[F3Y4j.U2tc](i,s),c=box2d[F3Y4j.U2tc](s,s),n=F3Y4j.U5u(r*r,c*n);if(F3Y4j.d5u(n,0)||F3Y4j.X5u(c,box2d[F3Y4j.w7qc]))return!1;r=-(r+box2d[F3Y4j.j7Jc](n));return!(!F3Y4j.o1u(0,r)||!F3Y4j.q1u(r,e[F3Y4j.d6ic]*c))&&(t[F3Y4j.k7Qc]=r/=c,box2d[F3Y4j.c07c](i,r,s,t[F3Y4j.U6ic])[F3Y4j.X7Jc](),!0)},box2d.b2CircleShape.prototype.RayCast.s_position=new box2d[F3Y4j.b17c],box2d.b2CircleShape.prototype.RayCast.s_s=new box2d[F3Y4j.b17c],box2d.b2CircleShape.prototype.RayCast.s_r=new box2d[F3Y4j.b17c],box2d.b2CircleShape.prototype.ComputeAABB=function(t,e,i){e=box2d[F3Y4j.a72c](e,this[F3Y4j.j8Jc],box2d.b2CircleShape.prototype.ComputeAABB.s_p);t[F3Y4j.h6ic][F3Y4j.V0tc](F3Y4j.z1u(e[F3Y4j.W17c],this[F3Y4j.W6ic]),F3Y4j.E1u(e[F3Y4j.I17c],this[F3Y4j.W6ic])),t[F3Y4j.P7ic][F3Y4j.V0tc](e[F3Y4j.W17c]+this[F3Y4j.W6ic],e[F3Y4j.I17c]+this[F3Y4j.W6ic])},box2d.b2CircleShape.prototype.ComputeAABB.s_p=new box2d[F3Y4j.b17c],box2d.b2CircleShape.prototype.ComputeMass=function(t,e){var i=box2d[F3Y4j.S9Jc](this[F3Y4j.W6ic]);t[F3Y4j.x8qc]=F3Y4j.f1u(e,box2d[F3Y4j.y7Jc],i),t[F3Y4j.m3Jc][F3Y4j.j9Qc](this[F3Y4j.j8Jc]),t[F3Y4j.t72c]=F3Y4j.y1u(t[F3Y4j.x8qc],F3Y4j.T8Qc*i+box2d[F3Y4j.U2tc](this[F3Y4j.j8Jc],this[F3Y4j.j8Jc]))},box2d.b2CircleShape.prototype.SetupDistanceProxy=function(t,e){t[F3Y4j.G6Jc]=new Array(F3Y4j.b42c,F3Y4j.H3qc),t[F3Y4j.G6Jc][F3Y4j.u42c]=this[F3Y4j.j8Jc],t[F3Y4j.a1qc]=F3Y4j.b42c,t[F3Y4j.W6ic]=this[F3Y4j.W6ic]},box2d.b2CircleShape.prototype.ComputeSubmergedArea=function(t,e,i,o){i=box2d[F3Y4j.a72c](i,this[F3Y4j.j8Jc],new box2d[F3Y4j.b17c]),e=-F3Y4j.Z1u(box2d[F3Y4j.U2tc](t,i),e);if(e<-this[F3Y4j.W6ic]+box2d[F3Y4j.w7qc])return F3Y4j.u42c;if(F3Y4j.D1u(e,this[F3Y4j.W6ic]))return o[F3Y4j.j9Qc](i),F3Y4j.F1u(box2d[F3Y4j.y7Jc],this[F3Y4j.W6ic],this[F3Y4j.W6ic]);var n=F3Y4j.r1u(this[F3Y4j.W6ic],this[F3Y4j.W6ic]),s=F3Y4j.i1u(e,e),e=F3Y4j.c1u(n,box2d[F3Y4j.V7Ec](e/this[F3Y4j.W6ic])+box2d[F3Y4j.y7Jc]/F3Y4j.B42c)+F3Y4j.e1u(e,box2d[F3Y4j.j7Jc](n-s)),n=-F3Y4j.B42c/F3Y4j.R42c*box2d[F3Y4j.i6Ec](F3Y4j.g1u(n,s),F3Y4j.q5Jc)/e;return o[F3Y4j.W17c]=i[F3Y4j.W17c]+F3Y4j.k1u(t[F3Y4j.W17c],n),o[F3Y4j.I17c]=i[F3Y4j.I17c]+F3Y4j.n1u(t[F3Y4j.I17c],n),e},box2d.b2CircleShape.prototype.Dump=function(){box2d[F3Y4j.q7ic]("    /*box2d.b2CircleShape*/ var shape = new box2d.b2CircleShape();\n"),box2d[F3Y4j.q7ic](F3Y4j.l9Qc,this[F3Y4j.W6ic]),box2d[F3Y4j.q7ic]("    shape.m_p.SetXY(%.15f, %.15f);\n",this[F3Y4j.j8Jc][F3Y4j.W17c],this[F3Y4j.j8Jc][F3Y4j.I17c])},goog[F3Y4j.a0ic](F3Y4j.y9Jc),goog[F3Y4j.D02c]("box2d.b2Math"),goog[F3Y4j.D02c]("box2d.b2Draw"),box2d[F3Y4j.g8qc]=function(){this[F3Y4j.v5ic]=new Array,this[F3Y4j.S4Ec]=new Array,this[F3Y4j.F7Jc]=new box2d[F3Y4j.b17c]},box2d.b2RopeDef.prototype.vertices=F3Y4j.E3qc,box2d.b2RopeDef.prototype.count=F3Y4j.u42c,box2d.b2RopeDef.prototype.masses=F3Y4j.E3qc,box2d.b2RopeDef.prototype.gravity=F3Y4j.E3qc,box2d.b2RopeDef.prototype.damping=F3Y4j.W8Qc,box2d.b2RopeDef.prototype.k2=F3Y4j.k8Qc,box2d.b2RopeDef.prototype.k3=F3Y4j.W8Qc,box2d[F3Y4j.j0tc]=function(){this[F3Y4j.v17c]=new box2d[F3Y4j.b17c]},box2d.b2Rope.prototype.m_count=F3Y4j.u42c,box2d.b2Rope.prototype.m_ps=F3Y4j.E3qc,box2d.b2Rope.prototype.m_p0s=F3Y4j.E3qc,box2d.b2Rope.prototype.m_vs=F3Y4j.E3qc,box2d.b2Rope.prototype.m_ims=F3Y4j.E3qc,box2d.b2Rope.prototype.m_Ls=F3Y4j.E3qc,box2d.b2Rope.prototype.m_as=F3Y4j.E3qc,box2d.b2Rope.prototype.m_gravity=F3Y4j.E3qc,box2d.b2Rope.prototype.m_damping=F3Y4j.u42c,box2d.b2Rope.prototype.m_k2=F3Y4j.b42c,box2d.b2Rope.prototype.m_k3=F3Y4j.W8Qc,box2d.b2Rope.prototype.GetVertexCount=function(){return this[F3Y4j.a1qc]},box2d.b2Rope.prototype.GetVertices=function(){return this[F3Y4j.v6qc]},box2d.b2Rope.prototype.Initialize=function(t){box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.P1u(t[F3Y4j.B7qc],F3Y4j.R42c)),this[F3Y4j.a1qc]=t[F3Y4j.B7qc],this[F3Y4j.v6qc]=box2d[F3Y4j.b17c][F3Y4j.T7qc](this[F3Y4j.a1qc]),this[F3Y4j.m2tc]=box2d[F3Y4j.b17c][F3Y4j.T7qc](this[F3Y4j.a1qc]),this[F3Y4j.I37c]=box2d[F3Y4j.b17c][F3Y4j.T7qc](this[F3Y4j.a1qc]),this[F3Y4j.m4ic]=box2d[F3Y4j.m8qc](this[F3Y4j.a1qc]);for(var e=F3Y4j.u42c;F3Y4j.V9u(e,this[F3Y4j.a1qc]);++e){this[F3Y4j.v6qc][e][F3Y4j.j9Qc](t[F3Y4j.v5ic][e]),this[F3Y4j.m2tc][e][F3Y4j.j9Qc](t[F3Y4j.v5ic][e]),this[F3Y4j.I37c][e][F3Y4j.a4qc]();var i=t[F3Y4j.S4Ec][e];F3Y4j.h9u(i,F3Y4j.u42c)?this[F3Y4j.m4ic][e]=F3Y4j.R9u(F3Y4j.b42c,i):this[F3Y4j.m4ic][e]=F3Y4j.u42c}var o=F3Y4j.b9u(this[F3Y4j.a1qc],F3Y4j.b42c),n=F3Y4j.p9u(this[F3Y4j.a1qc],F3Y4j.B42c);this[F3Y4j.n6qc]=box2d[F3Y4j.m8qc](o),this[F3Y4j.e87c]=box2d[F3Y4j.m8qc](n);for(e=F3Y4j.u42c;F3Y4j.y9u(e,o);++e){var s=this[F3Y4j.v6qc][e],r=this[F3Y4j.v6qc][e+F3Y4j.b42c];this[F3Y4j.n6qc][e]=box2d[F3Y4j.J9ic](s,r)}for(e=F3Y4j.u42c;F3Y4j.Z9u(e,n);++e){var s=this[F3Y4j.v6qc][e],r=this[F3Y4j.v6qc][e+F3Y4j.b42c],c=this[F3Y4j.v6qc][e+F3Y4j.B42c],a=box2d[F3Y4j.J97c](r,s,box2d[F3Y4j.b17c][F3Y4j.c1Jc]),c=box2d[F3Y4j.J97c](c,r,box2d[F3Y4j.b17c][F3Y4j.M1Jc]),h=box2d[F3Y4j.O62c](a,c),a=box2d[F3Y4j.U2tc](a,c);this[F3Y4j.e87c][e]=box2d[F3Y4j.F1Jc](h,a)}this[F3Y4j.v17c][F3Y4j.j9Qc](t[F3Y4j.F7Jc]),this[F3Y4j.D4tc]=t.damping,this[F3Y4j.p2Jc]=t.k2,this[F3Y4j.A2Jc]=t.k3},box2d.b2Rope.prototype.Step=function(t,e){if(!F3Y4j.D9u(t,F3Y4j.u42c)){for(var i=Math.exp(-t*this[F3Y4j.D4tc]),o=F3Y4j.u42c;F3Y4j.F9u(o,this[F3Y4j.a1qc]);++o)this[F3Y4j.m2tc][o][F3Y4j.j9Qc](this[F3Y4j.v6qc][o]),F3Y4j.t9u(this[F3Y4j.m4ic][o],F3Y4j.u42c)&&this[F3Y4j.I37c][o][F3Y4j.C1qc](t,this[F3Y4j.v17c]),this[F3Y4j.I37c][o][F3Y4j.M62c](i),this[F3Y4j.v6qc][o][F3Y4j.C1qc](t,this[F3Y4j.I37c][o]);for(o=F3Y4j.u42c;F3Y4j.T9u(o,e);++o)this.SolveC2(),this.SolveC3(),this.SolveC2();for(var n=F3Y4j.v9u(F3Y4j.b42c,t),o=F3Y4j.u42c;F3Y4j.W9u(o,this[F3Y4j.a1qc]);++o)box2d[F3Y4j.H07c](n,box2d[F3Y4j.J97c](this[F3Y4j.v6qc][o],this[F3Y4j.m2tc][o],box2d[F3Y4j.b17c][F3Y4j.c1Jc]),this[F3Y4j.I37c][o])}},box2d.b2Rope.prototype.SolveC2=function(){for(var t=F3Y4j.C9u(this[F3Y4j.a1qc],F3Y4j.b42c),e=F3Y4j.u42c;F3Y4j.U9u(e,t);++e){var i,o=this[F3Y4j.v6qc][e],n=this[F3Y4j.v6qc][e+F3Y4j.b42c],s=box2d[F3Y4j.J97c](n,o,box2d[F3Y4j.j0tc][F3Y4j.r7Qc]),r=s[F3Y4j.w2tc](),c=this[F3Y4j.m4ic][e],a=this[F3Y4j.m4ic][e+F3Y4j.b42c];F3Y4j.d9u(c+a,F3Y4j.u42c)||(i=F3Y4j.X9u(c,c+a),c=F3Y4j.o4u(a,c+a),o[F3Y4j.Y7Jc](F3Y4j.q4u(this[F3Y4j.p2Jc],i,this[F3Y4j.n6qc][e]-r),s),n[F3Y4j.C1qc](F3Y4j.R4u(this[F3Y4j.p2Jc],c,this[F3Y4j.n6qc][e]-r),s))}},box2d[F3Y4j.j0tc][F3Y4j.r7Qc]=new box2d[F3Y4j.b17c],box2d.b2Rope.prototype.SetAngleRadians=function(t){for(var e=F3Y4j.u4u(this[F3Y4j.a1qc],F3Y4j.B42c),i=F3Y4j.u42c;F3Y4j.l4u(i,e);++i)this[F3Y4j.e87c][i]=t},box2d.b2Rope.prototype.SolveC3=function(){for(var t=F3Y4j.m4u(this[F3Y4j.a1qc],F3Y4j.B42c),e=F3Y4j.u42c;F3Y4j.Y4u(e,t);++e){var i=this[F3Y4j.v6qc][e],o=this[F3Y4j.v6qc][e+F3Y4j.b42c],n=this[F3Y4j.v6qc][e+F3Y4j.B42c],s=this[F3Y4j.m4ic][e],r=this[F3Y4j.m4ic][e+F3Y4j.b42c],c=this[F3Y4j.m4ic][e+F3Y4j.B42c],a=box2d[F3Y4j.J97c](o,i,box2d[F3Y4j.j0tc][F3Y4j.S47c]),h=box2d[F3Y4j.J97c](n,o,box2d[F3Y4j.j0tc][F3Y4j.I47c]),u=a[F3Y4j.u77c](),l=h[F3Y4j.u77c]();if(!F3Y4j.j4u(u*l,F3Y4j.u42c)){var d=box2d[F3Y4j.O62c](a,h),p=box2d[F3Y4j.U2tc](a,h),F=box2d[F3Y4j.F1Jc](d,p),d=box2d[F3Y4j.H07c](-F3Y4j.b42c/u,a.SelfSkew(),box2d[F3Y4j.j0tc][F3Y4j.Z3tc]),p=box2d[F3Y4j.H07c](F3Y4j.A4u(F3Y4j.b42c,l),h.SelfSkew(),box2d[F3Y4j.j0tc][F3Y4j.n4tc]),u=box2d[F3Y4j.i1Jc](d,box2d[F3Y4j.j0tc][F3Y4j.q67c]),a=box2d[F3Y4j.J97c](d,p,box2d[F3Y4j.j0tc][F3Y4j.h77c]),l=p,h=F3Y4j.r4u(s,box2d[F3Y4j.U2tc](u,u))+F3Y4j.i4u(r,box2d[F3Y4j.U2tc](a,a))+F3Y4j.c4u(c,box2d[F3Y4j.U2tc](l,l));if(!F3Y4j.e4u(h,F3Y4j.u42c)){for(var h=F3Y4j.g4u(F3Y4j.b42c,h),j=F3Y4j.k4u(F,this[F3Y4j.e87c][e]);F3Y4j.n4u(j,box2d[F3Y4j.y7Jc]);)F-=F3Y4j.P4u(F3Y4j.B42c,box2d[F3Y4j.y7Jc]),j=F3Y4j.V3u(F,this[F3Y4j.e87c][e]);for(;j<-box2d[F3Y4j.y7Jc];)F+=F3Y4j.h3u(F3Y4j.B42c,box2d[F3Y4j.y7Jc]),j=F3Y4j.R3u(F,this[F3Y4j.e87c][e]);d=-this[F3Y4j.A2Jc]*h*j;i[F3Y4j.C1qc](F3Y4j.b3u(s,d),u),o[F3Y4j.C1qc](F3Y4j.p3u(r,d),a),n[F3Y4j.C1qc](F3Y4j.y3u(c,d),l)}}}},box2d[F3Y4j.j0tc][F3Y4j.S47c]=new box2d[F3Y4j.b17c],box2d[F3Y4j.j0tc][F3Y4j.I47c]=new box2d[F3Y4j.b17c],box2d[F3Y4j.j0tc][F3Y4j.Z3tc]=new box2d[F3Y4j.b17c],box2d[F3Y4j.j0tc][F3Y4j.n4tc]=new box2d[F3Y4j.b17c],box2d[F3Y4j.j0tc][F3Y4j.q67c]=new box2d[F3Y4j.b17c],box2d[F3Y4j.j0tc][F3Y4j.h77c]=new box2d[F3Y4j.b17c],box2d.b2Rope.prototype.Draw=function(t){for(var e=new box2d[F3Y4j.C8qc](.4,F3Y4j.T8Qc,F3Y4j.d8Qc),i=F3Y4j.u42c;F3Y4j.Z3u(i,this[F3Y4j.a1qc]-F3Y4j.b42c);++i)t[F3Y4j.C1Jc](this[F3Y4j.v6qc][i],this[F3Y4j.v6qc][i+F3Y4j.b42c],e)},goog[F3Y4j.a0ic](F3Y4j.R72c),goog[F3Y4j.D02c]("box2d.b2Settings"),goog[F3Y4j.D02c]("box2d.b2Math"),box2d[F3Y4j.b5Jc]=function(){goog[F3Y4j.W3tc](this,box2d[F3Y4j.T3Jc][F3Y4j.o5Qc]),this[F3Y4j.A4Ec]=new box2d[F3Y4j.b17c](F3Y4j.u42c,F3Y4j.u42c),this[F3Y4j.f4Ec]=new box2d[F3Y4j.b17c](F3Y4j.u42c,F3Y4j.u42c),this[F3Y4j.Q22c]=new box2d[F3Y4j.b17c](F3Y4j.b42c,F3Y4j.u42c)},goog[F3Y4j.b4ic](box2d[F3Y4j.b5Jc],box2d[F3Y4j.X7qc]),box2d.b2WheelJointDef.prototype.localAnchorA=F3Y4j.E3qc,box2d.b2WheelJointDef.prototype.localAnchorB=F3Y4j.E3qc,box2d.b2WheelJointDef.prototype.localAxisA=F3Y4j.E3qc,box2d.b2WheelJointDef.prototype.enableMotor=F3Y4j.h57c,box2d.b2WheelJointDef.prototype.maxMotorTorque=F3Y4j.u42c,box2d.b2WheelJointDef.prototype.motorSpeed=F3Y4j.u42c,box2d.b2WheelJointDef.prototype.frequencyHz=F3Y4j.B42c,box2d.b2WheelJointDef.prototype.dampingRatio=F3Y4j.d8Qc,box2d.b2WheelJointDef.prototype.Initialize=function(t,e,i,o){this[F3Y4j.E32c]=t,this[F3Y4j.F32c]=e,this[F3Y4j.E32c][F3Y4j.v5Jc](i,this[F3Y4j.A4Ec]),this[F3Y4j.F32c][F3Y4j.v5Jc](i,this[F3Y4j.f4Ec]),this[F3Y4j.E32c][F3Y4j.c72c](o,this[F3Y4j.Q22c])},box2d[F3Y4j.V3Ec]=function(t){goog[F3Y4j.W3tc](this,t),this[F3Y4j.V97c]=t[F3Y4j.U3Qc],this[F3Y4j.P9qc]=t[F3Y4j.s6tc],this[F3Y4j.J2tc]=t[F3Y4j.A4Ec][F3Y4j.N07c](),this[F3Y4j.B2tc]=t[F3Y4j.f4Ec][F3Y4j.N07c](),this[F3Y4j.v6Jc]=t[F3Y4j.Q22c][F3Y4j.N07c](),this[F3Y4j.N17c]=box2d[F3Y4j.f7Ec](this[F3Y4j.v6Jc],new box2d[F3Y4j.b17c]),this[F3Y4j.m0tc]=t[F3Y4j.B8Jc],this[F3Y4j.n1Ec]=t[F3Y4j.Y6ic],this[F3Y4j.N0Qc]=t[F3Y4j.B4ic],this[F3Y4j.I8Jc]=new box2d[F3Y4j.b17c],this[F3Y4j.H2Jc]=new box2d[F3Y4j.b17c],this[F3Y4j.f1tc]=new box2d[F3Y4j.b17c],this[F3Y4j.i1tc]=new box2d[F3Y4j.b17c],this[F3Y4j.P9Qc]=new box2d[F3Y4j.s4Jc],this[F3Y4j.t3Qc]=new box2d[F3Y4j.s4Jc],this[F3Y4j.e6tc]=new box2d[F3Y4j.b17c],this[F3Y4j.M9tc]=new box2d[F3Y4j.b17c],this[F3Y4j.L9qc]=new box2d[F3Y4j.b17c],this[F3Y4j.s4qc]=new box2d[F3Y4j.b17c],this[F3Y4j.f1tc][F3Y4j.a4qc](),this[F3Y4j.i1tc][F3Y4j.a4qc]()},goog[F3Y4j.b4ic](box2d[F3Y4j.V3Ec],box2d[F3Y4j.R6tc]),box2d.b2WheelJoint.prototype.m_frequencyHz=F3Y4j.u42c,box2d.b2WheelJoint.prototype.m_dampingRatio=F3Y4j.u42c,box2d.b2WheelJoint.prototype.m_localAnchorA=F3Y4j.E3qc,box2d.b2WheelJoint.prototype.m_localAnchorB=F3Y4j.E3qc,box2d.b2WheelJoint.prototype.m_localXAxisA=F3Y4j.E3qc,box2d.b2WheelJoint.prototype.m_localYAxisA=F3Y4j.E3qc,box2d.b2WheelJoint.prototype.m_impulse=F3Y4j.u42c,box2d.b2WheelJoint.prototype.m_motorImpulse=F3Y4j.u42c,box2d.b2WheelJoint.prototype.m_springImpulse=F3Y4j.u42c,box2d.b2WheelJoint.prototype.m_maxMotorTorque=F3Y4j.u42c,box2d.b2WheelJoint.prototype.m_motorSpeed=F3Y4j.u42c,box2d.b2WheelJoint.prototype.m_enableMotor=F3Y4j.h57c,box2d.b2WheelJoint.prototype.m_indexA=F3Y4j.u42c,box2d.b2WheelJoint.prototype.m_indexB=F3Y4j.u42c,box2d.b2WheelJoint.prototype.m_localCenterA=F3Y4j.E3qc,box2d.b2WheelJoint.prototype.m_localCenterB=F3Y4j.E3qc,box2d.b2WheelJoint.prototype.m_invMassA=F3Y4j.u42c,box2d.b2WheelJoint.prototype.m_invMassB=F3Y4j.u42c,box2d.b2WheelJoint.prototype.m_invIA=F3Y4j.u42c,box2d.b2WheelJoint.prototype.m_invIB=F3Y4j.u42c,box2d.b2WheelJoint.prototype.m_ax=F3Y4j.E3qc,box2d.b2WheelJoint.prototype.m_ay=F3Y4j.E3qc,box2d.b2WheelJoint.prototype.m_sAx=F3Y4j.u42c,box2d.b2WheelJoint.prototype.m_sBx=F3Y4j.u42c,box2d.b2WheelJoint.prototype.m_sAy=F3Y4j.u42c,box2d.b2WheelJoint.prototype.m_sBy=F3Y4j.u42c,box2d.b2WheelJoint.prototype.m_mass=F3Y4j.u42c,box2d.b2WheelJoint.prototype.m_motorMass=F3Y4j.u42c,box2d.b2WheelJoint.prototype.m_springMass=F3Y4j.u42c,box2d.b2WheelJoint.prototype.m_bias=F3Y4j.u42c,box2d.b2WheelJoint.prototype.m_gamma=F3Y4j.u42c,box2d.b2WheelJoint.prototype.m_qA=F3Y4j.E3qc,box2d.b2WheelJoint.prototype.m_qB=F3Y4j.E3qc,box2d.b2WheelJoint.prototype.m_lalcA=F3Y4j.E3qc,box2d.b2WheelJoint.prototype.m_lalcB=F3Y4j.E3qc,box2d.b2WheelJoint.prototype.m_rA=F3Y4j.E3qc,box2d.b2WheelJoint.prototype.m_rB=F3Y4j.E3qc,box2d.b2WheelJoint.prototype.GetMotorSpeed=function(){return this[F3Y4j.n1Ec]},box2d.b2WheelJoint.prototype.GetMaxMotorTorque=function(){return this[F3Y4j.m0tc]},box2d.b2WheelJoint.prototype.SetSpringFrequencyHz=function(t){this[F3Y4j.V97c]=t},box2d.b2WheelJoint.prototype.GetSpringFrequencyHz=function(){return this[F3Y4j.V97c]},box2d.b2WheelJoint.prototype.SetSpringDampingRatio=function(t){this[F3Y4j.P9qc]=t},box2d.b2WheelJoint.prototype.GetSpringDampingRatio=function(){return this[F3Y4j.P9qc]},box2d.b2WheelJoint.prototype.InitVelocityConstraints=function(t){this[F3Y4j.p5qc]=this[F3Y4j.l8tc][F3Y4j.h7Jc],this[F3Y4j.s5qc]=this[F3Y4j.V8tc][F3Y4j.h7Jc],this[F3Y4j.I8Jc][F3Y4j.j9Qc](this[F3Y4j.l8tc][F3Y4j.G4qc][F3Y4j.K92c]),this[F3Y4j.H2Jc][F3Y4j.j9Qc](this[F3Y4j.V8tc][F3Y4j.G4qc][F3Y4j.K92c]),this[F3Y4j.I9tc]=this[F3Y4j.l8tc][F3Y4j.m4tc],this[F3Y4j.h9tc]=this[F3Y4j.V8tc][F3Y4j.m4tc],this[F3Y4j.b4Jc]=this[F3Y4j.l8tc][F3Y4j.e1Ec],this[F3Y4j.Y9Jc]=this[F3Y4j.V8tc][F3Y4j.e1Ec];var e=this[F3Y4j.I9tc],i=this[F3Y4j.h9tc],o=this[F3Y4j.b4Jc],n=this[F3Y4j.Y9Jc],s=t[F3Y4j.r7ic][this[F3Y4j.p5qc]][F3Y4j.K22c],r=t[F3Y4j.r7ic][this[F3Y4j.p5qc]][F3Y4j.O22c],c=t[F3Y4j.W8tc][this[F3Y4j.p5qc]][F3Y4j.H97c],a=t[F3Y4j.W8tc][this[F3Y4j.p5qc]][F3Y4j.X17c],h=t[F3Y4j.r7ic][this[F3Y4j.s5qc]][F3Y4j.K22c],u=t[F3Y4j.r7ic][this[F3Y4j.s5qc]][F3Y4j.O22c],l=t[F3Y4j.W8tc][this[F3Y4j.s5qc]][F3Y4j.H97c],d=t[F3Y4j.W8tc][this[F3Y4j.s5qc]][F3Y4j.X17c],r=this[F3Y4j.P9Qc][F3Y4j.b1ic](r),u=this[F3Y4j.t3Qc][F3Y4j.b1ic](u),p=(box2d[F3Y4j.J97c](this[F3Y4j.J2tc],this[F3Y4j.I8Jc],this[F3Y4j.e6tc]),box2d[F3Y4j.Z0tc](r,this[F3Y4j.e6tc],this[F3Y4j.L9qc])),u=(box2d[F3Y4j.J97c](this[F3Y4j.B2tc],this[F3Y4j.H2Jc],this[F3Y4j.M9tc]),box2d[F3Y4j.Z0tc](u,this[F3Y4j.M9tc],this[F3Y4j.s4qc])),h=box2d[F3Y4j.J97c](box2d[F3Y4j.O2ic](h,u,box2d[F3Y4j.b17c][F3Y4j.c1Jc]),box2d[F3Y4j.O2ic](s,p,box2d[F3Y4j.b17c][F3Y4j.M1Jc]),box2d.b2WheelJoint.prototype.InitVelocityConstraints.s_d);box2d[F3Y4j.Z0tc](r,this[F3Y4j.N17c],this[F3Y4j.i1tc]),this[F3Y4j.a57c]=box2d[F3Y4j.O62c](box2d[F3Y4j.O2ic](h,p,box2d[F3Y4j.b17c][F3Y4j.c1Jc]),this[F3Y4j.i1tc]),this[F3Y4j.i9Jc]=box2d[F3Y4j.O62c](u,this[F3Y4j.i1tc]),this[F3Y4j.p57c]=e+i+F3Y4j.D3u(o,this[F3Y4j.a57c],this[F3Y4j.a57c])+F3Y4j.A3u(n,this[F3Y4j.i9Jc],this[F3Y4j.i9Jc]),F3Y4j.S3u(this[F3Y4j.p57c],0)&&(this[F3Y4j.p57c]=F3Y4j.Q3u(1,this[F3Y4j.p57c])),this[F3Y4j.l6tc]=0,this[F3Y4j.n1tc]=0,this[F3Y4j.x8Jc]=0,F3Y4j.G3u(this[F3Y4j.V97c],0)?(box2d[F3Y4j.Z0tc](r,this[F3Y4j.v6Jc],this[F3Y4j.f1tc]),this[F3Y4j.D57c]=box2d[F3Y4j.O62c](box2d[F3Y4j.O2ic](h,p,box2d[F3Y4j.b17c][F3Y4j.c1Jc]),this[F3Y4j.f1tc]),this[F3Y4j.L9Jc]=box2d[F3Y4j.O62c](u,this[F3Y4j.f1tc]),s=e+i+F3Y4j.a3u(o,this[F3Y4j.D57c],this[F3Y4j.D57c])+F3Y4j.U3u(n,this[F3Y4j.L9Jc],this[F3Y4j.L9Jc]),F3Y4j.n3u(s,0)&&(this[F3Y4j.l6tc]=F3Y4j.P3u(1,s),r=box2d[F3Y4j.U2tc](h,this[F3Y4j.f1tc]),p=F3Y4j.V7u(2,box2d[F3Y4j.y7Jc],this[F3Y4j.V97c]),u=F3Y4j.O7u(2,this[F3Y4j.l6tc],this[F3Y4j.P9qc],p),e=F3Y4j.b7u(this[F3Y4j.l6tc],p,p),i=t[F3Y4j.r7Ec][F3Y4j.N7Ec],this[F3Y4j.x8Jc]=F3Y4j.l7u(i,u+i*e),F3Y4j.m7u(this[F3Y4j.x8Jc],0)&&(this[F3Y4j.x8Jc]=F3Y4j.Y7u(1,this[F3Y4j.x8Jc])),this[F3Y4j.n1tc]=F3Y4j.j7u(r,i,e,this[F3Y4j.x8Jc]),this[F3Y4j.l6tc]=s+this[F3Y4j.x8Jc],F3Y4j.t7u(this[F3Y4j.l6tc],0)&&(this[F3Y4j.l6tc]=F3Y4j.T7u(1,this[F3Y4j.l6tc])))):this[F3Y4j.Q1Jc]=0,this[F3Y4j.N0Qc]?(this[F3Y4j.Q17c]=o+n,F3Y4j.v7u(this[F3Y4j.Q17c],0)&&(this[F3Y4j.Q17c]=F3Y4j.W7u(1,this[F3Y4j.Q17c]))):(this[F3Y4j.Q17c]=0,this[F3Y4j.j82c]=0),t[F3Y4j.r7Ec][F3Y4j.D47c]?(this[F3Y4j.H6Ec]*=t[F3Y4j.r7Ec][F3Y4j.W22c],this[F3Y4j.Q1Jc]*=t[F3Y4j.r7Ec][F3Y4j.W22c],this[F3Y4j.j82c]*=t[F3Y4j.r7Ec][F3Y4j.W22c],h=box2d[F3Y4j.O2ic](box2d[F3Y4j.H07c](this[F3Y4j.H6Ec],this[F3Y4j.i1tc],box2d[F3Y4j.b17c][F3Y4j.c1Jc]),box2d[F3Y4j.H07c](this[F3Y4j.Q1Jc],this[F3Y4j.f1tc],box2d[F3Y4j.b17c][F3Y4j.M1Jc]),box2d.b2WheelJoint.prototype.InitVelocityConstraints.s_P),p=F3Y4j.C7u(this[F3Y4j.H6Ec],this[F3Y4j.a57c])+F3Y4j.U7u(this[F3Y4j.Q1Jc],this[F3Y4j.D57c])+this[F3Y4j.j82c],u=F3Y4j.d7u(this[F3Y4j.H6Ec],this[F3Y4j.i9Jc])+F3Y4j.X7u(this[F3Y4j.Q1Jc],this[F3Y4j.L9Jc])+this[F3Y4j.j82c],c[F3Y4j.Y7Jc](this[F3Y4j.I9tc],h),a-=F3Y4j.o6u(this[F3Y4j.b4Jc],p),l[F3Y4j.C1qc](this[F3Y4j.h9tc],h),d+=F3Y4j.q6u(this[F3Y4j.Y9Jc],u)):(this[F3Y4j.H6Ec]=0,this[F3Y4j.Q1Jc]=0,this[F3Y4j.j82c]=0),t[F3Y4j.W8tc][this[F3Y4j.p5qc]][F3Y4j.X17c]=a,t[F3Y4j.W8tc][this[F3Y4j.s5qc]][F3Y4j.X17c]=d},box2d.b2WheelJoint.prototype.InitVelocityConstraints.s_d=new box2d[F3Y4j.b17c],box2d.b2WheelJoint.prototype.InitVelocityConstraints.s_P=new box2d[F3Y4j.b17c],box2d.b2WheelJoint.prototype.SolveVelocityConstraints=function(t){var e=this[F3Y4j.I9tc],i=this[F3Y4j.h9tc],o=this[F3Y4j.b4Jc],n=this[F3Y4j.Y9Jc],s=t[F3Y4j.W8tc][this[F3Y4j.p5qc]][F3Y4j.H97c],r=t[F3Y4j.W8tc][this[F3Y4j.p5qc]][F3Y4j.X17c],c=t[F3Y4j.W8tc][this[F3Y4j.s5qc]][F3Y4j.H97c],a=t[F3Y4j.W8tc][this[F3Y4j.s5qc]][F3Y4j.X17c],h=box2d[F3Y4j.U2tc](this[F3Y4j.f1tc],box2d[F3Y4j.J97c](c,s,box2d[F3Y4j.b17c][F3Y4j.c1Jc]))+F3Y4j.z6u(this[F3Y4j.L9Jc],a)-F3Y4j.E6u(this[F3Y4j.D57c],r),u=-this[F3Y4j.l6tc]*(h+this[F3Y4j.n1tc]+F3Y4j.f6u(this[F3Y4j.x8Jc],this[F3Y4j.Q1Jc])),l=(this[F3Y4j.Q1Jc]+=u,box2d[F3Y4j.H07c](u,this[F3Y4j.f1tc],box2d.b2WheelJoint.prototype.SolveVelocityConstraints.s_P)),d=F3Y4j.H6u(u,this[F3Y4j.D57c]),p=F3Y4j.I6u(u,this[F3Y4j.L9Jc]),h=(s[F3Y4j.Y7Jc](e,l),r-=F3Y4j.w6u(o,d),c[F3Y4j.C1qc](i,l),a+=F3Y4j.N6u(n,p),F3Y4j.J6u(a,r,this[F3Y4j.n1Ec])),u=-this[F3Y4j.Q17c]*h,F=this[F3Y4j.j82c],j=F3Y4j.T6u(t[F3Y4j.r7Ec][F3Y4j.N7Ec],this[F3Y4j.m0tc]),h=(this[F3Y4j.j82c]=box2d[F3Y4j.Q87c](this[F3Y4j.j82c]+u,-j,j),u=F3Y4j.v6u(this[F3Y4j.j82c],F),r-=F3Y4j.W6u(o,u),a+=F3Y4j.C6u(n,u),box2d[F3Y4j.U2tc](this[F3Y4j.i1tc],box2d[F3Y4j.J97c](c,s,box2d[F3Y4j.b17c][F3Y4j.c1Jc]))+F3Y4j.U6u(this[F3Y4j.i9Jc],a)-F3Y4j.d6u(this[F3Y4j.a57c],r)),u=-this[F3Y4j.p57c]*h,l=(this[F3Y4j.H6Ec]+=u,box2d[F3Y4j.H07c](u,this[F3Y4j.i1tc],box2d.b2WheelJoint.prototype.SolveVelocityConstraints.s_P)),d=F3Y4j.X6u(u,this[F3Y4j.a57c]),p=F3Y4j.o0u(u,this[F3Y4j.i9Jc]);s[F3Y4j.Y7Jc](e,l),r-=F3Y4j.q0u(o,d),c[F3Y4j.C1qc](i,l),a+=F3Y4j.z0u(n,p),t[F3Y4j.W8tc][this[F3Y4j.p5qc]][F3Y4j.X17c]=r,t[F3Y4j.W8tc][this[F3Y4j.s5qc]][F3Y4j.X17c]=a},box2d.b2WheelJoint.prototype.SolveVelocityConstraints.s_P=new box2d[F3Y4j.b17c],box2d.b2WheelJoint.prototype.SolvePositionConstraints=function(t){var e=t[F3Y4j.r7ic][this[F3Y4j.p5qc]][F3Y4j.K22c],i=t[F3Y4j.r7ic][this[F3Y4j.p5qc]][F3Y4j.O22c],o=t[F3Y4j.r7ic][this[F3Y4j.s5qc]][F3Y4j.K22c],n=t[F3Y4j.r7ic][this[F3Y4j.s5qc]][F3Y4j.O22c],s=this[F3Y4j.P9Qc][F3Y4j.b1ic](i),r=this[F3Y4j.t3Qc][F3Y4j.b1ic](n),c=(box2d[F3Y4j.J97c](this[F3Y4j.J2tc],this[F3Y4j.I8Jc],this[F3Y4j.e6tc]),box2d[F3Y4j.Z0tc](s,this[F3Y4j.e6tc],this[F3Y4j.L9qc])),r=(box2d[F3Y4j.J97c](this[F3Y4j.B2tc],this[F3Y4j.H2Jc],this[F3Y4j.M9tc]),box2d[F3Y4j.Z0tc](r,this[F3Y4j.M9tc],this[F3Y4j.s4qc])),a=box2d[F3Y4j.O2ic](box2d[F3Y4j.J97c](o,e,box2d[F3Y4j.b17c][F3Y4j.c1Jc]),box2d[F3Y4j.J97c](r,c,box2d[F3Y4j.b17c][F3Y4j.M1Jc]),box2d.b2WheelJoint.prototype.SolvePositionConstraints.s_d),s=box2d[F3Y4j.Z0tc](s,this[F3Y4j.N17c],this[F3Y4j.i1tc]),c=box2d[F3Y4j.O62c](box2d[F3Y4j.O2ic](a,c,box2d[F3Y4j.b17c][F3Y4j.c1Jc]),s),r=box2d[F3Y4j.O62c](r,s),a=box2d[F3Y4j.U2tc](a,this[F3Y4j.i1tc]),h=this[F3Y4j.I9tc]+this[F3Y4j.h9tc]+F3Y4j.E0u(this[F3Y4j.b4Jc],this[F3Y4j.a57c],this[F3Y4j.a57c])+F3Y4j.p0u(this[F3Y4j.Y9Jc],this[F3Y4j.i9Jc],this[F3Y4j.i9Jc]),h=F3Y4j.m0u(h,0)?-a/h:0,s=box2d[F3Y4j.H07c](h,s,box2d.b2WheelJoint.prototype.SolvePositionConstraints.s_P),c=F3Y4j.Y0u(h,c),h=F3Y4j.j0u(h,r);return e[F3Y4j.Y7Jc](this[F3Y4j.I9tc],s),i-=F3Y4j.A0u(this[F3Y4j.b4Jc],c),o[F3Y4j.C1qc](this[F3Y4j.h9tc],s),n+=F3Y4j.r0u(this[F3Y4j.Y9Jc],h),t[F3Y4j.r7ic][this[F3Y4j.p5qc]][F3Y4j.O22c]=i,t[F3Y4j.r7ic][this[F3Y4j.s5qc]][F3Y4j.O22c]=n,F3Y4j.i0u(box2d[F3Y4j.O7Qc](a),box2d[F3Y4j.l9qc])},box2d.b2WheelJoint.prototype.SolvePositionConstraints.s_d=new box2d[F3Y4j.b17c],box2d.b2WheelJoint.prototype.SolvePositionConstraints.s_P=new box2d[F3Y4j.b17c],box2d.b2WheelJoint.prototype.GetDefinition=function(t){return box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](F3Y4j.h57c),t},box2d.b2WheelJoint.prototype.GetAnchorA=function(t){return this[F3Y4j.l8tc][F3Y4j.K82c](this[F3Y4j.J2tc],t)},box2d.b2WheelJoint.prototype.GetAnchorB=function(t){return this[F3Y4j.V8tc][F3Y4j.K82c](this[F3Y4j.B2tc],t)},box2d.b2WheelJoint.prototype.GetReactionForce=function(t,e){return e[F3Y4j.W17c]=F3Y4j.c0u(t,this[F3Y4j.H6Ec]*this[F3Y4j.i1tc][F3Y4j.W17c]+this[F3Y4j.Q1Jc]*this[F3Y4j.f1tc][F3Y4j.W17c]),e[F3Y4j.I17c]=F3Y4j.e0u(t,this[F3Y4j.H6Ec]*this[F3Y4j.i1tc][F3Y4j.I17c]+this[F3Y4j.Q1Jc]*this[F3Y4j.f1tc][F3Y4j.I17c]),e},box2d.b2WheelJoint.prototype.GetReactionTorque=function(t){return F3Y4j.g0u(t,this[F3Y4j.j82c])},box2d.b2WheelJoint.prototype.GetLocalAnchorA=function(t){return t[F3Y4j.j9Qc](this[F3Y4j.J2tc])},box2d.b2WheelJoint.prototype.GetLocalAnchorB=function(t){return t[F3Y4j.j9Qc](this[F3Y4j.B2tc])},box2d.b2WheelJoint.prototype.GetLocalAxisA=function(t){return t[F3Y4j.j9Qc](this[F3Y4j.v6Jc])},box2d.b2WheelJoint.prototype.GetJointTranslation=function(){var t=this[F3Y4j.l8tc],e=this[F3Y4j.V8tc],i=t[F3Y4j.K82c](this[F3Y4j.J2tc],new box2d[F3Y4j.b17c]),e=e[F3Y4j.K82c](this[F3Y4j.B2tc],new box2d[F3Y4j.b17c]),e=box2d[F3Y4j.J97c](e,i,new box2d[F3Y4j.b17c]),i=t[F3Y4j.K62c](this[F3Y4j.v6Jc],new box2d[F3Y4j.b17c]);return box2d[F3Y4j.U2tc](e,i)},box2d.b2WheelJoint.prototype.GetJointSpeed=function(){var t=this[F3Y4j.l8tc][F3Y4j.s9Qc],e=this[F3Y4j.V8tc][F3Y4j.s9Qc];return F3Y4j.k0u(e,t)},box2d.b2WheelJoint.prototype.IsMotorEnabled=function(){return this[F3Y4j.N0Qc]},box2d.b2WheelJoint.prototype.EnableMotor=function(t){this[F3Y4j.l8tc][F3Y4j.s7Ec](F3Y4j.H3qc),this[F3Y4j.V8tc][F3Y4j.s7Ec](F3Y4j.H3qc),this[F3Y4j.N0Qc]=t},box2d.b2WheelJoint.prototype.SetMotorSpeed=function(t){this[F3Y4j.l8tc][F3Y4j.s7Ec](!0),this[F3Y4j.V8tc][F3Y4j.s7Ec](!0),this[F3Y4j.n1Ec]=t},box2d.b2WheelJoint.prototype.SetMaxMotorTorque=function(t){this[F3Y4j.l8tc][F3Y4j.s7Ec](F3Y4j.H3qc),this[F3Y4j.V8tc][F3Y4j.s7Ec](F3Y4j.H3qc),this[F3Y4j.m0tc]=t},box2d.b2WheelJoint.prototype.GetMotorTorque=function(t){return F3Y4j.n0u(t,this[F3Y4j.j82c])},box2d.b2WheelJoint.prototype.Dump=function(){var t,e;box2d[F3Y4j.l2Jc]&&(t=this[F3Y4j.l8tc][F3Y4j.h7Jc],e=this[F3Y4j.V8tc][F3Y4j.h7Jc],box2d[F3Y4j.q7ic]("  /*box2d.b2WheelJointDef*/ var jd = new box2d.b2WheelJointDef();\n"),box2d[F3Y4j.q7ic](F3Y4j.v3Qc,t),box2d[F3Y4j.q7ic](F3Y4j.V8qc,e),box2d[F3Y4j.q7ic](F3Y4j.V6qc,this[F3Y4j.v1tc]?F3Y4j.H1Ec:F3Y4j.y07c),box2d[F3Y4j.q7ic](F3Y4j.u1ic,this[F3Y4j.J2tc][F3Y4j.W17c],this[F3Y4j.J2tc][F3Y4j.I17c]),box2d[F3Y4j.q7ic](F3Y4j.o1Qc,this[F3Y4j.B2tc][F3Y4j.W17c],this[F3Y4j.B2tc][F3Y4j.I17c]),box2d[F3Y4j.q7ic]("  jd.localAxisA.Set(%.15f, %.15f);\n",this[F3Y4j.v6Jc][F3Y4j.W17c],this[F3Y4j.v6Jc][F3Y4j.I17c]),box2d[F3Y4j.q7ic](F3Y4j.S6Qc,this[F3Y4j.N0Qc]?F3Y4j.H1Ec:F3Y4j.y07c),box2d[F3Y4j.q7ic](F3Y4j.E3Jc,this[F3Y4j.n1Ec]),box2d[F3Y4j.q7ic](F3Y4j.T4ic,this[F3Y4j.m0tc]),box2d[F3Y4j.q7ic](F3Y4j.V1tc,this[F3Y4j.V97c]),box2d[F3Y4j.q7ic](F3Y4j.S8ic,this[F3Y4j.P9qc]),box2d[F3Y4j.q7ic](F3Y4j.Q4Jc,this[F3Y4j.O7tc]))},goog[F3Y4j.a0ic](F3Y4j.K9Ec),goog[F3Y4j.D02c]("box2d.b2Settings"),goog[F3Y4j.D02c]("box2d.b2Math"),box2d[F3Y4j.L27c]=function(){goog[F3Y4j.W3tc](this,box2d[F3Y4j.T3Jc][F3Y4j.W67c]),this[F3Y4j.K1Qc]=new box2d[F3Y4j.b17c](F3Y4j.u42c,F3Y4j.u42c)},goog[F3Y4j.b4ic](box2d[F3Y4j.L27c],box2d[F3Y4j.X7qc]),box2d.b2MotorJointDef.prototype.linearOffset=F3Y4j.E3qc,box2d.b2MotorJointDef.prototype.angularOffset=F3Y4j.u42c,box2d.b2MotorJointDef.prototype.maxForce=F3Y4j.b42c,box2d.b2MotorJointDef.prototype.maxTorque=F3Y4j.b42c,box2d.b2MotorJointDef.prototype.correctionFactor=F3Y4j.v8Qc,box2d.b2MotorJointDef.prototype.Initialize=function(t,e){this[F3Y4j.E32c]=t,this[F3Y4j.F32c]=e,this[F3Y4j.E32c][F3Y4j.v5Jc](this[F3Y4j.F32c][F3Y4j.D9Ec](),this[F3Y4j.K1Qc]);t=this[F3Y4j.E32c][F3Y4j.T7Qc](),e=this[F3Y4j.F32c][F3Y4j.T7Qc]();this[F3Y4j.X32c]=F3Y4j.P0u(e,t)},box2d[F3Y4j.z7Qc]=function(t){goog[F3Y4j.W3tc](this,t),this[F3Y4j.T32c]=t[F3Y4j.K1Qc][F3Y4j.N07c](),this[F3Y4j.a7qc]=new box2d[F3Y4j.b17c](F3Y4j.u42c,F3Y4j.u42c),this[F3Y4j.X1qc]=t[F3Y4j.R9qc],this[F3Y4j.R4Jc]=t[F3Y4j.h3tc],this[F3Y4j.j3Jc]=t[F3Y4j.N62c],this[F3Y4j.L9qc]=new box2d[F3Y4j.b17c](F3Y4j.u42c,F3Y4j.u42c),this[F3Y4j.s4qc]=new box2d[F3Y4j.b17c](F3Y4j.u42c,F3Y4j.u42c),this[F3Y4j.I8Jc]=new box2d[F3Y4j.b17c](F3Y4j.u42c,F3Y4j.u42c),this[F3Y4j.H2Jc]=new box2d[F3Y4j.b17c](F3Y4j.u42c,F3Y4j.u42c),this[F3Y4j.P2Qc]=new box2d[F3Y4j.b17c](F3Y4j.u42c,F3Y4j.u42c),this[F3Y4j.E9Jc]=new box2d[F3Y4j.r5Ec],this[F3Y4j.P9Qc]=new box2d[F3Y4j.s4Jc],this[F3Y4j.t3Qc]=new box2d[F3Y4j.s4Jc],this[F3Y4j.Y8qc]=new box2d[F3Y4j.r5Ec]},goog[F3Y4j.b4ic](box2d[F3Y4j.z7Qc],box2d[F3Y4j.R6tc]),box2d.b2MotorJoint.prototype.m_linearOffset=F3Y4j.E3qc,box2d.b2MotorJoint.prototype.m_angularOffset=F3Y4j.u42c,box2d.b2MotorJoint.prototype.m_linearImpulse=F3Y4j.E3qc,box2d.b2MotorJoint.prototype.m_angularImpulse=F3Y4j.u42c,box2d.b2MotorJoint.prototype.m_maxForce=F3Y4j.u42c,box2d.b2MotorJoint.prototype.m_maxTorque=F3Y4j.u42c,box2d.b2MotorJoint.prototype.m_correctionFactor=F3Y4j.v8Qc,box2d.b2MotorJoint.prototype.m_indexA=F3Y4j.u42c,box2d.b2MotorJoint.prototype.m_indexB=F3Y4j.u42c,box2d.b2MotorJoint.prototype.m_rA=F3Y4j.E3qc,box2d.b2MotorJoint.prototype.m_rB=F3Y4j.E3qc,box2d.b2MotorJoint.prototype.m_localCenterA=F3Y4j.E3qc,box2d.b2MotorJoint.prototype.m_localCenterB=F3Y4j.E3qc,box2d.b2MotorJoint.prototype.m_linearError=F3Y4j.E3qc,box2d.b2MotorJoint.prototype.m_angularError=F3Y4j.u42c,box2d.b2MotorJoint.prototype.m_invMassA=F3Y4j.u42c,box2d.b2MotorJoint.prototype.m_invMassB=F3Y4j.u42c,box2d.b2MotorJoint.prototype.m_invIA=F3Y4j.u42c,box2d.b2MotorJoint.prototype.m_invIB=F3Y4j.u42c,box2d.b2MotorJoint.prototype.m_linearMass=F3Y4j.E3qc,box2d.b2MotorJoint.prototype.m_angularMass=F3Y4j.u42c,box2d.b2MotorJoint.prototype.m_qA=F3Y4j.E3qc,box2d.b2MotorJoint.prototype.m_qB=F3Y4j.E3qc,box2d.b2MotorJoint.prototype.m_K=F3Y4j.E3qc,box2d.b2MotorJoint.prototype.GetAnchorA=function(t){return this[F3Y4j.l8tc][F3Y4j.D9Ec](t)},box2d.b2MotorJoint.prototype.GetAnchorB=function(t){return this[F3Y4j.V8tc][F3Y4j.D9Ec](t)},box2d.b2MotorJoint.prototype.GetReactionForce=function(t,e){return box2d[F3Y4j.H07c](t,this[F3Y4j.a7qc],e)},box2d.b2MotorJoint.prototype.GetReactionTorque=function(t){return F3Y4j.V2u(t,this[F3Y4j.u4Ec])},box2d.b2MotorJoint.prototype.SetCorrectionFactor=function(t){box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](box2d[F3Y4j.i9Ec](t)&&F3Y4j.h2u(F3Y4j.e8Qc,t)&&F3Y4j.R2u(t,F3Y4j.O5Jc)),this._correctionFactor=t},box2d.b2MotorJoint.prototype.GetCorrectionFactor=function(){return this[F3Y4j.j3Jc]},box2d.b2MotorJoint.prototype.SetLinearOffset=function(t){box2d[F3Y4j.z9qc](t,this[F3Y4j.T32c])||(this[F3Y4j.l8tc][F3Y4j.s7Ec](F3Y4j.H3qc),this[F3Y4j.V8tc][F3Y4j.s7Ec](F3Y4j.H3qc),this[F3Y4j.T32c][F3Y4j.j9Qc](t))},box2d.b2MotorJoint.prototype.GetLinearOffset=function(t){return t[F3Y4j.j9Qc](this[F3Y4j.T32c])},box2d.b2MotorJoint.prototype.SetAngularOffset=function(t){F3Y4j.b2u(t,this[F3Y4j.C5Qc])&&(this[F3Y4j.l8tc][F3Y4j.s7Ec](F3Y4j.H3qc),this[F3Y4j.V8tc][F3Y4j.s7Ec](F3Y4j.H3qc),this[F3Y4j.C5Qc]=t)},box2d.b2MotorJoint.prototype.GetAngularOffset=function(){return this[F3Y4j.C5Qc]},box2d.b2MotorJoint.prototype.SetMaxForce=function(t){box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](box2d[F3Y4j.i9Ec](t)&&F3Y4j.p2u(t,F3Y4j.u42c)),this[F3Y4j.X1qc]=t},box2d.b2MotorJoint.prototype.GetMaxForce=function(){return this[F3Y4j.X1qc]},box2d.b2MotorJoint.prototype.SetMaxTorque=function(t){box2d[F3Y4j.w8Qc]&&box2d[F3Y4j.j77c](box2d[F3Y4j.i9Ec](t)&&F3Y4j.y2u(t,F3Y4j.u42c)),this[F3Y4j.R4Jc]=t},box2d.b2MotorJoint.prototype.GetMaxTorque=function(){return this[F3Y4j.R4Jc]},box2d.b2MotorJoint.prototype.InitVelocityConstraints=function(t){this[F3Y4j.p5qc]=this[F3Y4j.l8tc][F3Y4j.h7Jc],this[F3Y4j.s5qc]=this[F3Y4j.V8tc][F3Y4j.h7Jc],this[F3Y4j.I8Jc][F3Y4j.j9Qc](this[F3Y4j.l8tc][F3Y4j.G4qc][F3Y4j.K92c]),this[F3Y4j.H2Jc][F3Y4j.j9Qc](this[F3Y4j.V8tc][F3Y4j.G4qc][F3Y4j.K92c]),this[F3Y4j.I9tc]=this[F3Y4j.l8tc][F3Y4j.m4tc],this[F3Y4j.h9tc]=this[F3Y4j.V8tc][F3Y4j.m4tc],this[F3Y4j.b4Jc]=this[F3Y4j.l8tc][F3Y4j.e1Ec],this[F3Y4j.Y9Jc]=this[F3Y4j.V8tc][F3Y4j.e1Ec];var e=t[F3Y4j.r7ic][this[F3Y4j.p5qc]][F3Y4j.K22c],i=t[F3Y4j.r7ic][this[F3Y4j.p5qc]][F3Y4j.O22c],o=t[F3Y4j.W8tc][this[F3Y4j.p5qc]][F3Y4j.H97c],n=t[F3Y4j.W8tc][this[F3Y4j.p5qc]][F3Y4j.X17c],s=t[F3Y4j.r7ic][this[F3Y4j.s5qc]][F3Y4j.K22c],r=t[F3Y4j.r7ic][this[F3Y4j.s5qc]][F3Y4j.O22c],c=t[F3Y4j.W8tc][this[F3Y4j.s5qc]][F3Y4j.H97c],a=t[F3Y4j.W8tc][this[F3Y4j.s5qc]][F3Y4j.X17c],h=this[F3Y4j.P9Qc][F3Y4j.b1ic](i),u=this[F3Y4j.t3Qc][F3Y4j.b1ic](r),l=box2d[F3Y4j.Z0tc](h,box2d[F3Y4j.i1Jc](this[F3Y4j.I8Jc],box2d[F3Y4j.b17c][F3Y4j.c1Jc]),this[F3Y4j.L9qc]),u=box2d[F3Y4j.Z0tc](u,box2d[F3Y4j.i1Jc](this[F3Y4j.H2Jc],box2d[F3Y4j.b17c][F3Y4j.c1Jc]),this[F3Y4j.s4qc]),d=this[F3Y4j.I9tc],p=this[F3Y4j.h9tc],F=this[F3Y4j.b4Jc],j=this[F3Y4j.Y9Jc],Y=this[F3Y4j.Y8qc];Y[F3Y4j.C7Qc][F3Y4j.W17c]=d+p+F3Y4j.Z2u(F,l[F3Y4j.I17c],l[F3Y4j.I17c])+F3Y4j.j2u(j,u[F3Y4j.I17c],u[F3Y4j.I17c]),Y[F3Y4j.C7Qc][F3Y4j.I17c]=-F*l[F3Y4j.W17c]*l[F3Y4j.I17c]-F3Y4j.J2u(j,u[F3Y4j.W17c],u[F3Y4j.I17c]),Y[F3Y4j.o6Qc][F3Y4j.W17c]=Y[F3Y4j.C7Qc][F3Y4j.I17c],Y[F3Y4j.o6Qc][F3Y4j.I17c]=d+p+F3Y4j.T2u(F,l[F3Y4j.W17c],l[F3Y4j.W17c])+F3Y4j.c2u(j,u[F3Y4j.W17c],u[F3Y4j.W17c]),Y[F3Y4j.P7Ec](this[F3Y4j.E9Jc]),this[F3Y4j.n32c]=F+j,F3Y4j.a2u(this[F3Y4j.n32c],0)&&(this[F3Y4j.n32c]=F3Y4j.L2u(1,this[F3Y4j.n32c])),box2d[F3Y4j.J97c](box2d[F3Y4j.J97c](box2d[F3Y4j.O2ic](s,u,box2d[F3Y4j.b17c][F3Y4j.c1Jc]),box2d[F3Y4j.O2ic](e,l,box2d[F3Y4j.b17c][F3Y4j.M1Jc]),box2d[F3Y4j.b17c][F3Y4j.b9Jc]),box2d[F3Y4j.Z0tc](h,this[F3Y4j.T32c],box2d[F3Y4j.b17c][F3Y4j.o0Ec]),this[F3Y4j.P2Qc]),this[F3Y4j.f4qc]=F3Y4j.K2u(r,i,this[F3Y4j.C5Qc]),t[F3Y4j.r7Ec][F3Y4j.D47c]?(this[F3Y4j.a7qc][F3Y4j.M62c](t[F3Y4j.r7Ec][F3Y4j.W22c]),this[F3Y4j.u4Ec]*=t[F3Y4j.r7Ec][F3Y4j.W22c],Y=this[F3Y4j.a7qc],o[F3Y4j.Y7Jc](d,Y),n-=F3Y4j.X2u(F,box2d[F3Y4j.O62c](l,Y)+this[F3Y4j.u4Ec]),c[F3Y4j.C1qc](p,Y),a+=F3Y4j.o8u(j,box2d[F3Y4j.O62c](u,Y)+this[F3Y4j.u4Ec])):(this[F3Y4j.a7qc][F3Y4j.a4qc](),this[F3Y4j.u4Ec]=0),t[F3Y4j.W8tc][this[F3Y4j.p5qc]][F3Y4j.X17c]=n,t[F3Y4j.W8tc][this[F3Y4j.s5qc]][F3Y4j.X17c]=a},box2d.b2MotorJoint.prototype.SolveVelocityConstraints=function(t){var e=t[F3Y4j.W8tc][this[F3Y4j.p5qc]][F3Y4j.H97c],i=t[F3Y4j.W8tc][this[F3Y4j.p5qc]][F3Y4j.X17c],o=t[F3Y4j.W8tc][this[F3Y4j.s5qc]][F3Y4j.H97c],n=t[F3Y4j.W8tc][this[F3Y4j.s5qc]][F3Y4j.X17c],s=this[F3Y4j.I9tc],r=this[F3Y4j.h9tc],c=this[F3Y4j.b4Jc],a=this[F3Y4j.Y9Jc],h=t[F3Y4j.r7Ec][F3Y4j.N7Ec],u=t[F3Y4j.r7Ec][F3Y4j.G6ic],l=F3Y4j.q8u(n,i,u*this[F3Y4j.j3Jc]*this[F3Y4j.f4qc]),d=-this[F3Y4j.n32c]*l,p=this[F3Y4j.u4Ec],F=F3Y4j.R8u(h,this[F3Y4j.R4Jc]),j=(this[F3Y4j.u4Ec]=box2d[F3Y4j.Q87c](this[F3Y4j.u4Ec]+d,-F,F),d=F3Y4j.b8u(this[F3Y4j.u4Ec],p),i-=F3Y4j.p8u(c,d),n+=F3Y4j.y8u(a,d),this[F3Y4j.L9qc]),Y=this[F3Y4j.s4qc],l=box2d[F3Y4j.O2ic](box2d[F3Y4j.J97c](box2d[F3Y4j.O2ic](o,box2d[F3Y4j.N5Jc](n,Y,box2d[F3Y4j.b17c][F3Y4j.c1Jc]),box2d[F3Y4j.b17c][F3Y4j.c1Jc]),box2d[F3Y4j.O2ic](e,box2d[F3Y4j.N5Jc](i,j,box2d[F3Y4j.b17c][F3Y4j.M1Jc]),box2d[F3Y4j.b17c][F3Y4j.M1Jc]),box2d[F3Y4j.b17c][F3Y4j.b9Jc]),box2d[F3Y4j.H07c](F3Y4j.Z8u(u,this[F3Y4j.j3Jc]),this[F3Y4j.P2Qc],box2d[F3Y4j.b17c][F3Y4j.o0Ec]),box2d.b2MotorJoint.prototype.SolveVelocityConstraints.s_Cdot),d=box2d[F3Y4j.c6Qc](this[F3Y4j.E9Jc],l,box2d.b2MotorJoint.prototype.SolveVelocityConstraints.s_impulse)[F3Y4j.p9qc](),p=box2d.b2MotorJoint.prototype.SolveVelocityConstraints.s_oldImpulse.Copy(this[F3Y4j.a7qc]),F=(this[F3Y4j.a7qc][F3Y4j.l2Qc](d),F3Y4j.D8u(h,this[F3Y4j.X1qc]));F3Y4j.F8u(this[F3Y4j.a7qc][F3Y4j.u77c](),F*F)&&(this[F3Y4j.a7qc][F3Y4j.w2tc](),this[F3Y4j.a7qc][F3Y4j.M62c](F)),box2d[F3Y4j.J97c](this[F3Y4j.a7qc],p,d),e[F3Y4j.Y7Jc](s,d),i-=F3Y4j.t8u(c,box2d[F3Y4j.O62c](j,d)),o[F3Y4j.C1qc](r,d),n+=F3Y4j.T8u(a,box2d[F3Y4j.O62c](Y,d)),t[F3Y4j.W8tc][this[F3Y4j.p5qc]][F3Y4j.X17c]=i,t[F3Y4j.W8tc][this[F3Y4j.s5qc]][F3Y4j.X17c]=n},box2d.b2MotorJoint.prototype.SolveVelocityConstraints.s_Cdot=new box2d[F3Y4j.b17c],box2d.b2MotorJoint.prototype.SolveVelocityConstraints.s_impulse=new box2d[F3Y4j.b17c],box2d.b2MotorJoint.prototype.SolveVelocityConstraints.s_oldImpulse=new box2d[F3Y4j.b17c],box2d.b2MotorJoint.prototype.SolvePositionConstraints=function(t){return!0},box2d.b2MotorJoint.prototype.Dump=function(){var t,e;box2d[F3Y4j.l2Jc]&&(t=this[F3Y4j.l8tc][F3Y4j.h7Jc],e=this[F3Y4j.V8tc][F3Y4j.h7Jc],box2d[F3Y4j.q7ic]("  /*box2d.b2MotorJointDef*/ var jd = new box2d.b2MotorJointDef();\n"),box2d[F3Y4j.q7ic](F3Y4j.v3Qc,t),box2d[F3Y4j.q7ic](F3Y4j.V8qc,e),box2d[F3Y4j.q7ic](F3Y4j.V6qc,this[F3Y4j.v1tc]?F3Y4j.H1Ec:F3Y4j.y07c),box2d[F3Y4j.q7ic]("  jd.linearOffset.SetXY(%.15f, %.15f);\n",this[F3Y4j.T32c][F3Y4j.W17c],this[F3Y4j.T32c][F3Y4j.I17c]),box2d[F3Y4j.q7ic]("  jd.angularOffset = %.15f;\n",this[F3Y4j.C5Qc]),box2d[F3Y4j.q7ic](F3Y4j.k4Jc,this[F3Y4j.X1qc]),box2d[F3Y4j.q7ic](F3Y4j.q5qc,this[F3Y4j.R4Jc]),box2d[F3Y4j.q7ic]("  jd.correctionFactor = %.15f;\n",this[F3Y4j.j3Jc]),box2d[F3Y4j.q7ic](F3Y4j.Q4Jc,this[F3Y4j.O7tc]))},goog[F3Y4j.a0ic](F3Y4j.F0ic),goog[F3Y4j.D02c]("box2d.b2Settings"),goog[F3Y4j.D02c]("box2d.b2Draw"),goog[F3Y4j.D02c]("box2d.b2Timer"),goog[F3Y4j.D02c]("box2d.b2CircleShape"),goog[F3Y4j.D02c]("box2d.b2EdgeShape"),goog[F3Y4j.D02c]("box2d.b2ChainShape"),goog[F3Y4j.D02c]("box2d.b2PolygonShape"),goog[F3Y4j.D02c]("box2d.b2BroadPhase"),goog[F3Y4j.D02c]("box2d.b2Distance"),goog[F3Y4j.D02c]("box2d.b2DynamicTree"),goog[F3Y4j.D02c]("box2d.b2TimeOfImpact"),goog[F3Y4j.D02c]("box2d.b2Body"),goog[F3Y4j.D02c]("box2d.b2Fixture"),goog[F3Y4j.D02c]("box2d.b2WorldCallbacks"),goog[F3Y4j.D02c]("box2d.b2TimeStep"),goog[F3Y4j.D02c]("box2d.b2World"),goog[F3Y4j.D02c]("box2d.b2Contact"),goog[F3Y4j.D02c]("box2d.b2AreaJoint"),goog[F3Y4j.D02c]("box2d.b2DistanceJoint"),goog[F3Y4j.D02c]("box2d.b2FrictionJoint"),goog[F3Y4j.D02c]("box2d.b2GearJoint"),goog[F3Y4j.D02c]("box2d.b2MotorJoint"),goog[F3Y4j.D02c]("box2d.b2MouseJoint"),goog[F3Y4j.D02c]("box2d.b2PrismaticJoint"),goog[F3Y4j.D02c]("box2d.b2PulleyJoint"),goog[F3Y4j.D02c]("box2d.b2RevoluteJoint"),goog[F3Y4j.D02c]("box2d.b2RopeJoint"),goog[F3Y4j.D02c]("box2d.b2WeldJoint"),goog[F3Y4j.D02c]("box2d.b2WheelJoint"),goog[F3Y4j.D02c]("box2d.b2Rope"),goog[F3Y4j.D02c]("box2d.b2BuoyancyController"),goog[F3Y4j.D02c]("box2d.b2ConstantAccelController"),goog[F3Y4j.D02c]("box2d.b2ConstantForceController"),goog[F3Y4j.D02c]("box2d.b2GravityController"),goog[F3Y4j.D02c]("box2d.b2TensorDampingController"),Phaser[F3Y4j.w42c][F3Y4j.N77c]=function(t,e){this[F3Y4j.v3Ec]=t,this.version="1.0.2",this[F3Y4j.g07c]=F3Y4j.X8ic,this[F3Y4j.N6ic]=new box2d[F3Y4j.q9ic](new box2d[F3Y4j.b17c](F3Y4j.u42c,F3Y4j.u42c)),this[F3Y4j.A07c]=new Phaser[F3Y4j.w42c][F3Y4j.N77c][F3Y4j.x5qc](this[F3Y4j.g9qc](F3Y4j.b42c)),this[F3Y4j.N6ic][F3Y4j.O87c](this[F3Y4j.A07c]),this[F3Y4j.A2tc]=new Phaser[F3Y4j.w42c][F3Y4j.N77c][F3Y4j.I7Qc],this[F3Y4j.N6ic][F3Y4j.v2Ec](this[F3Y4j.A2tc]),this[F3Y4j.G1Ec]=F3Y4j.u42c,this[F3Y4j.m6tc]=F3Y4j.u42c,this[F3Y4j.F7Jc]=new Phaser[F3Y4j.w42c][F3Y4j.N77c][F3Y4j.M7Ec](this,this[F3Y4j.N6ic],this[F3Y4j.N6ic][F3Y4j.P32c],this[F3Y4j.N6ic].SetGravity),this[F3Y4j.z3tc]=F3Y4j.G8Qc,this[F3Y4j.L1Jc]=F3Y4j.e8Qc,this[F3Y4j.K0ic]=F3Y4j.O5Jc,this[F3Y4j.r5qc]=F3Y4j.v8u(F3Y4j.b42c,60),this[F3Y4j.n2Ec]=F3Y4j.Z42c,this[F3Y4j.v0qc]=F3Y4j.R42c,this[F3Y4j.p7Jc]=F3Y4j.h57c,this.paused=!1,this.particleSystem=F3Y4j.E3qc;t=new box2d[F3Y4j.G6Ec];this[F3Y4j.d4Jc]=this[F3Y4j.N6ic][F3Y4j.z4qc](t),this[F3Y4j.z6Ec]=F3Y4j.E3qc,e[F3Y4j.U0Qc]("mpx")&&e[F3Y4j.U0Qc]("pxm")&&(this[F3Y4j.g9qc]=e[F3Y4j.g9qc],this[F3Y4j.w72c]=e[F3Y4j.w72c]),this[F3Y4j.x6qc]={left:F3Y4j.E3qc,right:F3Y4j.E3qc,top:F3Y4j.E3qc,bottom:F3Y4j.E3qc},this[F3Y4j.G17c]=new Phaser.Signal,this[F3Y4j.A6qc]=new Phaser.Signal,this[F3Y4j.E3Qc]=[]},F3Y4j[F3Y4j.k3tc](32768),Phaser.Physics.Box2D.prototype={getNextBodyId:function(){var t=this[F3Y4j.G1Ec];return this[F3Y4j.G1Ec]+=1,t},getNextFixtureId:function(){var t=this[F3Y4j.m6tc];return this[F3Y4j.m6tc]+=1,t},removeBodyNextStep:function(t){this[F3Y4j.E3Qc][F3Y4j.h17c](t)},preUpdate:function(){for(var t=this[F3Y4j.E3Qc].length;t--;)this[F3Y4j.s5Gc](this[F3Y4j.E3Qc][t]);this[F3Y4j.E3Qc].length=0},enable:function(t,e){var i="enableBody",o="children",n="enable",s=(void 0===e&&(e=!0),1);if(Array[F3Y4j.S0Qc](t))for(s=t.length;s--;)F3Y4j.W8u(t[s],Phaser.Group)?this[n](t[s][o],e):(this[i](t[s]),e&&t[s][F3Y4j.U0Qc]("children")&&F3Y4j.C8u(t[s][o].length,0)&&this[n](t[s],!0));else F3Y4j.U8u(t,Phaser.Group)?this[n](t[o],e):(this[i](t),e&&t[F3Y4j.U0Qc]("children")&&F3Y4j.d8u(t[o].length,0)&&this[n](t[o],!0))},enableBody:function(t){t[F3Y4j.U0Qc]("body")&&F3Y4j.X8u(t[F3Y4j.k4qc],null)&&(t[F3Y4j.k4qc]=new Phaser[F3Y4j.w42c][F3Y4j.N77c][F3Y4j.u8Qc](this[F3Y4j.v3Ec],t,t[F3Y4j.W17c],t[F3Y4j.I17c],2),t.anchor[F3Y4j.N5tc](.5))},setBoundsToWorld:function(t,e,i,o,n,s){void 0===n&&(n=1),this.setBounds(this[F3Y4j.v3Ec][F3Y4j.N6ic][F3Y4j.M8tc][F3Y4j.W17c],this[F3Y4j.v3Ec][F3Y4j.N6ic][F3Y4j.M8tc][F3Y4j.I17c],this[F3Y4j.v3Ec][F3Y4j.N6ic][F3Y4j.M8tc].width,this[F3Y4j.v3Ec][F3Y4j.N6ic][F3Y4j.M8tc].height,t=void 0===t?!0:t,e=void 0===e?!0:e,i=void 0===i?!0:i,o=void 0===o?!0:o,n=void 0===s?4294967295:n,s)},setBounds:function(t,e,i,o,n,s,r,c,a,h){var u="bottom",a=(void 0===n&&(n=!0),void 0===s&&(s=!0),void 0===r&&(r=!0),void 0===c&&(c=!0),void 0===a&&(a=1),void 0===h&&(h=4294967295),this[F3Y4j.x6qc][F3Y4j.d0ic]&&this[F3Y4j.s5Gc](this[F3Y4j.x6qc][F3Y4j.d0ic]),this[F3Y4j.x6qc][F3Y4j.b6ic]&&this[F3Y4j.s5Gc](this[F3Y4j.x6qc][F3Y4j.b6ic]),this.walls.top&&this[F3Y4j.s5Gc](this.walls.top),this[F3Y4j.x6qc][u]&&this[F3Y4j.s5Gc](this[F3Y4j.x6qc][u]),new box2d[F3Y4j.i77c]),h=new box2d[F3Y4j.W9Jc],l=(h[F3Y4j.T2Ec]=a,h[F3Y4j.W4tc][F3Y4j.j72c]=Phaser[F3Y4j.w42c][F3Y4j.N77c][F3Y4j.M4Ec],h[F3Y4j.W4tc][F3Y4j.h0qc]=65535,this[F3Y4j.w72c](100)),d=this[F3Y4j.v3Ec][F3Y4j.N6ic][F3Y4j.M8tc];n&&(this[F3Y4j.x6qc][F3Y4j.d0ic]=this[F3Y4j.c2Jc](0,0,0),a[F3Y4j.m0Jc](l,this[F3Y4j.w72c](d.height)+l,new box2d[F3Y4j.b17c](l,0),0),this[F3Y4j.x6qc][F3Y4j.d0ic].data[F3Y4j.y8tc](h)[F3Y4j.a4Jc]=this[F3Y4j.C5tc]()),s&&(this[F3Y4j.x6qc][F3Y4j.b6ic]=this[F3Y4j.c2Jc](0,0,0),a[F3Y4j.m0Jc](l,this[F3Y4j.w72c](d.height)+l,new box2d[F3Y4j.b17c](this[F3Y4j.w72c](-d.width)-l,0),0),this[F3Y4j.x6qc][F3Y4j.b6ic].data[F3Y4j.y8tc](h)[F3Y4j.a4Jc]=this[F3Y4j.C5tc]()),r&&(this.walls.top=this[F3Y4j.c2Jc](0,0,0),a[F3Y4j.m0Jc](this[F3Y4j.w72c](d.width)+l,l,new box2d[F3Y4j.b17c](0,l),0),this.walls.top.data.CreateFixture(h)[F3Y4j.a4Jc]=this[F3Y4j.C5tc]()),c&&(this[F3Y4j.x6qc][u]=this[F3Y4j.c2Jc](0,0,0),a[F3Y4j.m0Jc](this[F3Y4j.w72c](d.width)+l,l,new box2d[F3Y4j.b17c](0,this[F3Y4j.w72c](-d.height)-l),0),this[F3Y4j.x6qc][u].data[F3Y4j.y8tc](h)[F3Y4j.a4Jc]=this[F3Y4j.C5tc]())},pause:function(){this.paused=!0},resume:function(){this.paused=!1},update:function(){this.paused||(this[F3Y4j.p7Jc]?this[F3Y4j.N6ic][F3Y4j.u5ic](this[F3Y4j.v3Ec].time.physicsElapsed,this[F3Y4j.n2Ec],this[F3Y4j.v0qc]):this[F3Y4j.N6ic][F3Y4j.u5ic](this[F3Y4j.r5qc],this[F3Y4j.n2Ec],this[F3Y4j.v0qc]))},reset:function(){this[F3Y4j.N2ic]()},clear:function(){var t=this[F3Y4j.N6ic][F3Y4j.P32c]()[F3Y4j.N07c]();this[F3Y4j.N6ic]=new box2d[F3Y4j.q9ic](t),this[F3Y4j.N6ic][F3Y4j.O87c](this[F3Y4j.A07c]),this[F3Y4j.N6ic][F3Y4j.v2Ec](this[F3Y4j.A2tc]),this[F3Y4j.E3Qc]=[]},destroy:function(){this[F3Y4j.N2ic](),this[F3Y4j.F7Jc]=null,this[F3Y4j.N6ic]=null,this[F3Y4j.v3Ec]=null},createBody:function(t,e,i){return new Phaser[F3Y4j.w42c][F3Y4j.N77c][F3Y4j.u8Qc](this[F3Y4j.v3Ec],null,t,e,i,this)},createCircle:function(t,e,i,o,n){return this[F3Y4j.c2Jc](t,e,2).setCircle(i,o,n)},createRectangle:function(t,e,i,o,n,s,r){return this[F3Y4j.c2Jc](t,e,2).setRectangle(i,o,n,s,r)},createPolygon:function(t,e,i,o,n){return this[F3Y4j.c2Jc](t,e,2).setPolygon(i,o,n)},addBody:function(t){return!t.data[F3Y4j.N6ic]&&(t.data=this[F3Y4j.N6ic][F3Y4j.z4qc](t[F3Y4j.r6Qc]),t.data[F3Y4j.N6ic]=this[F3Y4j.N6ic],t.data.parent=t,this[F3Y4j.G17c][F3Y4j.F1qc](t),!0)},removeBody:function(t){return F3Y4j.o5z(t.data[F3Y4j.N6ic],this[F3Y4j.N6ic])&&(this[F3Y4j.N6ic].DestroyBody(t.data),this[F3Y4j.A6qc][F3Y4j.F1qc](t)),t},getBodies:function(){for(var t=[],e=this[F3Y4j.N6ic].GetBodyList();e;e=e[F3Y4j.i6qc]())t[F3Y4j.h17c](e);return t},getBody:function(t){return F3Y4j.q5z(t,box2d[F3Y4j.u37c])?t:F3Y4j.z5z(t,Phaser[F3Y4j.w42c][F3Y4j.N77c][F3Y4j.u8Qc])?t.data:t.body&&F3Y4j.E5z(t.body[F3Y4j.r0Jc],Phaser[F3Y4j.w42c][F3Y4j.O0ic])?t[F3Y4j.k4qc].data:null},toJSON:function(){return this[F3Y4j.N6ic].toJSON()},mpx:function(t){return t*this[F3Y4j.g07c]},pxm:function(t){return F3Y4j.f5z(t,this[F3Y4j.g07c])},renderDebugDraw:function(t){var e;this[F3Y4j.v3Ec][F3Y4j.e0Qc][F3Y4j.B0Jc]&&((e=this[F3Y4j.v3Ec][F3Y4j.e0Qc][F3Y4j.B0Jc])[F3Y4j.A07c][F3Y4j.P8tc](t),e[F3Y4j.N6ic].DrawDebugData(),e[F3Y4j.A07c][F3Y4j.J7qc]())},renderBodyInfo:function(t,e){var i="toFixed";t.line("Position: x: "+e[F3Y4j.W17c][i](3)+" y: "+e[F3Y4j.I17c][i](3)),t.line("Rotation: "+e[F3Y4j.H6qc][i](3)+" degrees"),t.line("Velocity: x: "+e[F3Y4j.t3qc][F3Y4j.W17c][i](3)+" y: "+e[F3Y4j.t3qc][F3Y4j.I17c][i](3)),t.line("Angular velocity: "+e[F3Y4j.T42c][i](3)+" degrees/sec")},getFixturesAtPoint:function(t,e,i,o){void 0===i&&(i=!1),void 0===o&&(o=!1);var t=this[F3Y4j.w72c](-t),e=this[F3Y4j.w72c](-e),n=new box2d[F3Y4j.b17c](t,e),t=new box2d[F3Y4j.p02c],e=new box2d[F3Y4j.b17c],s=(e[F3Y4j.V0tc](.001,.001),box2d[F3Y4j.J97c](n,e,t[F3Y4j.h6ic]),box2d[F3Y4j.O2ic](n,e,t[F3Y4j.P7ic]),[]);return this[F3Y4j.N6ic][F3Y4j.f6tc](function(t){return!(!o||!F3Y4j.H5z(t[F3Y4j.z4tc]()[F3Y4j.j6Jc](),box2d[F3Y4j.T0Ec][F3Y4j.c6ic]))||(!t[F3Y4j.P72c](n)||(s[F3Y4j.h17c](t),!i))},t),s},getBodiesAtPoint:function(t,e,i,o){var n=this[F3Y4j.O6Jc](t,e,i=void 0===i?!1:i,o=void 0===o?!1:o);if(F3Y4j.I5z(n.length,1))return n;for(var s=[],r=0;F3Y4j.w5z(r,n.length);r++)s[F3Y4j.h17c](n[r][F3Y4j.z4tc]().parent);return s[F3Y4j.W4tc](function(t,e){return F3Y4j.N5z(s[F3Y4j.Z6Ec](t),e)}),s},mouseDragStart:function(t){this.mouseDragEnd();var e,i=this[F3Y4j.O6Jc](t[F3Y4j.W17c],t[F3Y4j.I17c],!0,!0);F3Y4j.J5z(i.length,1)||(e=this[F3Y4j.w72c](-t[F3Y4j.W17c]),t=this[F3Y4j.w72c](-t[F3Y4j.I17c]),e=new box2d[F3Y4j.b17c](e,t),(t=new box2d[F3Y4j.P3ic])[F3Y4j.E32c]=this[F3Y4j.d4Jc],t[F3Y4j.F32c]=i[0][F3Y4j.z4tc](),t[F3Y4j.H4Jc][F3Y4j.j9Qc](e),t[F3Y4j.R9qc]=F3Y4j.S5z(1e3,t[F3Y4j.F32c][F3Y4j.L2ic]()),this[F3Y4j.z6Ec]=this[F3Y4j.N6ic][F3Y4j.Y72c](t),t[F3Y4j.F32c][F3Y4j.s7Ec](!0))},mouseDragMove:function(t){var e;this[F3Y4j.z6Ec]&&(e=this[F3Y4j.w72c](-t[F3Y4j.W17c]),t=this[F3Y4j.w72c](-t[F3Y4j.I17c]),e=new box2d[F3Y4j.b17c](e,t),this[F3Y4j.z6Ec].SetTarget(e))},mouseDragEnd:function(){this[F3Y4j.z6Ec]&&(this[F3Y4j.N6ic][F3Y4j.g5qc](this[F3Y4j.z6Ec]),this[F3Y4j.z6Ec]=null)},distanceJoint:function(t,e,i,o,n,s,r,c,a){void 0===n&&(n=0),void 0===s&&(s=0),void 0===r&&(r=0),void 0===c&&(c=0),void 0===a&&(a=0),o=this[F3Y4j.w72c](-(o=void 0===o?0:o)),n=this[F3Y4j.w72c](-n),s=this[F3Y4j.w72c](-s),r=this[F3Y4j.w72c](-r),t.body&&(t=t.body),e.body&&(e=e.body);var h=new box2d[F3Y4j.T47c];return h[F3Y4j.E32c]=t.data,h[F3Y4j.F32c]=e.data,h[F3Y4j.A4Ec][F3Y4j.V0tc](o,n),h[F3Y4j.f4Ec][F3Y4j.V0tc](s,r),i=F3Y4j.Q5z(i,null)||void 0===i?(t=new box2d[F3Y4j.b17c],e=new box2d[F3Y4j.b17c],h[F3Y4j.E32c][F3Y4j.K82c](h[F3Y4j.A4Ec],t),h[F3Y4j.F32c][F3Y4j.K82c](h[F3Y4j.f4Ec],e),t[F3Y4j.f3Jc](e),t[F3Y4j.q4qc]()):this[F3Y4j.w72c](i),h.length=i,h[F3Y4j.U3Qc]=c,h[F3Y4j.s6tc]=a,this[F3Y4j.N6ic][F3Y4j.Y72c](h)},ropeJoint:function(t,e,i,o,n,s,r){void 0===n&&(n=0),void 0===s&&(s=0),void 0===r&&(r=0),o=this[F3Y4j.w72c](-(o=void 0===o?0:o)),n=this[F3Y4j.w72c](-n),s=this[F3Y4j.w72c](-s),r=this[F3Y4j.w72c](-r),t.body&&(t=t.body),e.body&&(e=e.body);var c=new box2d[F3Y4j.u8tc];return c[F3Y4j.E32c]=t.data,c[F3Y4j.F32c]=e.data,c[F3Y4j.A4Ec][F3Y4j.V0tc](o,n),c[F3Y4j.f4Ec][F3Y4j.V0tc](s,r),i=F3Y4j.G5z(i,null)||void 0===i?(t=new box2d[F3Y4j.b17c],e=new box2d[F3Y4j.b17c],c[F3Y4j.E32c][F3Y4j.K82c](c[F3Y4j.A4Ec],t),c[F3Y4j.F32c][F3Y4j.K82c](c[F3Y4j.f4Ec],e),t[F3Y4j.f3Jc](e),t[F3Y4j.q4qc]()):this[F3Y4j.w72c](i),c[F3Y4j.v5Ec]=i,this[F3Y4j.N6ic][F3Y4j.Y72c](c)},revoluteJoint:function(t,e,i,o,n,s,r,c,a,h,u,l){void 0===o&&(o=0),void 0===n&&(n=0),void 0===s&&(s=0),void 0===r&&(r=0),void 0===c&&(c=0),void 0===a&&(a=!1),void 0===h&&(h=0),void 0===u&&(u=0),void 0===l&&(l=!1),i=this[F3Y4j.w72c](-(i=void 0===i?0:i)),o=this[F3Y4j.w72c](-o),n=this[F3Y4j.w72c](-n),s=this[F3Y4j.w72c](-s),t.body&&(t=t.body),e.body&&(e=e.body);var d=new box2d[F3Y4j.s5Ec];return d[F3Y4j.E32c]=t.data,d[F3Y4j.F32c]=e.data,d[F3Y4j.A4Ec][F3Y4j.V0tc](i,o),d[F3Y4j.f4Ec][F3Y4j.V0tc](n,s),d[F3Y4j.Y6ic]=Phaser[F3Y4j.Z0Ec][F3Y4j.e4Jc](-r),d[F3Y4j.B8Jc]=c,d[F3Y4j.B4ic]=a,d[F3Y4j.l6Ec]=Phaser[F3Y4j.Z0Ec][F3Y4j.e4Jc](h),d[F3Y4j.n5Ec]=Phaser[F3Y4j.Z0Ec][F3Y4j.e4Jc](u),d[F3Y4j.A6ic]=l,this[F3Y4j.N6ic][F3Y4j.Y72c](d)},prismaticJoint:function(t,e,i,o,n,s,r,c,a,h,u,l,d,p,F){void 0===i&&(i=1),void 0===o&&(o=0),void 0===s&&(s=0),void 0===r&&(r=0),void 0===c&&(c=0),void 0===a&&(a=0),void 0===h&&(h=0),void 0===l&&(l=0),void 0===d&&(d=0),void 0===p&&(p=!1),void 0===u&&(u=!1),void 0===F&&(F=0),i*=-1,o*=-1,n=this[F3Y4j.w72c](-(n=void 0===n?0:n)),s=this[F3Y4j.w72c](-s),r=this[F3Y4j.w72c](-r),c=this[F3Y4j.w72c](-c),a=this[F3Y4j.w72c](a),l=this[F3Y4j.w72c](l),d=this[F3Y4j.w72c](d),t.body&&(t=t.body),e.body&&(e=e.body);var j=new box2d[F3Y4j.Q2ic];return j[F3Y4j.E32c]=t.data,j[F3Y4j.F32c]=e.data,j[F3Y4j.Q22c][F3Y4j.V0tc](i,o),j[F3Y4j.A4Ec][F3Y4j.V0tc](n,s),j[F3Y4j.f4Ec][F3Y4j.V0tc](r,c),j[F3Y4j.Y6ic]=a,j[F3Y4j.q8Qc]=h,j[F3Y4j.B4ic]=u,j[F3Y4j.Q9Ec]=l,j[F3Y4j.S5qc]=d,j[F3Y4j.A6ic]=p,j[F3Y4j.e2ic]=Phaser[F3Y4j.Z0Ec][F3Y4j.e4Jc](-F),this[F3Y4j.N6ic][F3Y4j.Y72c](j)},frictionJoint:function(t,e,i,o,n,s,r,c){void 0===s&&(s=0),void 0===r&&(r=0),void 0===c&&(c=0),void 0===i&&(i=0),void 0===o&&(o=0),n=this[F3Y4j.w72c](-(n=void 0===n?0:n)),s=this[F3Y4j.w72c](-s),r=this[F3Y4j.w72c](-r),c=this[F3Y4j.w72c](-c),t.body&&(t=t.body),e.body&&(e=e.body);var a=new box2d[F3Y4j.F8Ec];return a[F3Y4j.E32c]=t.data,a[F3Y4j.F32c]=e.data,a[F3Y4j.A4Ec][F3Y4j.V0tc](n,s),a[F3Y4j.f4Ec][F3Y4j.V0tc](r,c),a[F3Y4j.R9qc]=i,a[F3Y4j.h3tc]=o,this[F3Y4j.N6ic][F3Y4j.Y72c](a)},weldJoint:function(t,e,i,o,n,s,r,c){void 0===o&&(o=0),void 0===n&&(n=0),void 0===s&&(s=0),void 0===r&&(r=0),void 0===c&&(c=0),i=this[F3Y4j.w72c](-(i=void 0===i?0:i)),o=this[F3Y4j.w72c](-o),n=this[F3Y4j.w72c](-n),s=this[F3Y4j.w72c](-s),t.body&&(t=t.body),e.body&&(e=e.body);var a=new box2d[F3Y4j.A0Jc];return a[F3Y4j.E32c]=t.data,a[F3Y4j.F32c]=e.data,a[F3Y4j.A4Ec][F3Y4j.V0tc](i,o),a[F3Y4j.f4Ec][F3Y4j.V0tc](n,s),a[F3Y4j.U3Qc]=r,a[F3Y4j.s6tc]=c,this[F3Y4j.N6ic][F3Y4j.Y72c](a)},motorJoint:function(t,e,i,o,n,s,r,c){void 0===r&&(r=0),void 0===c&&(c=0),void 0===i&&(i=0),void 0===o&&(o=0),void 0===n&&(n=1),s=this[F3Y4j.w72c](-(s=void 0===s?0:s)),r=this[F3Y4j.w72c](-r),t.body&&(t=t.body),e.body&&(e=e.body);var a=new box2d[F3Y4j.L27c];return a[F3Y4j.E32c]=t.data,a[F3Y4j.F32c]=e.data,a[F3Y4j.K1Qc][F3Y4j.V0tc](s,r),a[F3Y4j.R9qc]=i,a[F3Y4j.h3tc]=o,a[F3Y4j.X32c]=Phaser[F3Y4j.Z0Ec][F3Y4j.e4Jc](-c),a[F3Y4j.N62c]=n,this[F3Y4j.N6ic][F3Y4j.Y72c](a)},wheelJoint:function(t,e,i,o,n,s,r,c,a,h,u,l,d){void 0===r&&(r=0),void 0===c&&(c=1),void 0===o&&(o=0),void 0===n&&(n=0),void 0===s&&(s=0),void 0===u&&(u=0),void 0===l&&(l=0),void 0===d&&(d=!1),void 0===a&&(a=0),void 0===h&&(h=0),r*=-1,c*=-1,i=this[F3Y4j.w72c](-(i=void 0===i?0:i)),o=this[F3Y4j.w72c](-o),n=this[F3Y4j.w72c](-n),s=this[F3Y4j.w72c](-s),t.body&&(t=t.body),e.body&&(e=e.body);var p=new box2d[F3Y4j.b5Jc];return p[F3Y4j.E32c]=t.data,p[F3Y4j.F32c]=e.data,p[F3Y4j.Q22c][F3Y4j.V0tc](r,c),p[F3Y4j.A4Ec][F3Y4j.V0tc](i,o),p[F3Y4j.f4Ec][F3Y4j.V0tc](n,s),p[F3Y4j.Y6ic]=Phaser[F3Y4j.Z0Ec][F3Y4j.e4Jc](-u),p[F3Y4j.B8Jc]=l,p[F3Y4j.B4ic]=d,p[F3Y4j.U3Qc]=a,p[F3Y4j.s6tc]=h,this[F3Y4j.N6ic][F3Y4j.Y72c](p)},pulleyJoint:function(t,e,i,o,n,s,r,c,a,h,u,l,d){void 0===o&&(o=0),void 0===n&&(n=0),void 0===s&&(s=0),void 0===r&&(r=0),void 0===c&&(c=0),void 0===a&&(a=0),void 0===h&&(h=0),void 0===u&&(u=1),void 0===l&&(l=100),void 0===d&&(d=100),i=this[F3Y4j.w72c](-(i=void 0===i?0:i)),o=this[F3Y4j.w72c](-o),n=this[F3Y4j.w72c](-n),s=this[F3Y4j.w72c](-s),r=this[F3Y4j.w72c](-r),c=this[F3Y4j.w72c](-c),a=this[F3Y4j.w72c](-a),h=this[F3Y4j.w72c](-h),l=this[F3Y4j.w72c](l),d=this[F3Y4j.w72c](d),t.body&&(t=t.body),e.body&&(e=e.body);var p=new box2d[F3Y4j.G3tc];return p[F3Y4j.E32c]=t.data,p[F3Y4j.F32c]=e.data,p[F3Y4j.A4Ec][F3Y4j.V0tc](i,o),p[F3Y4j.f4Ec][F3Y4j.V0tc](n,s),p[F3Y4j.o1tc][F3Y4j.V0tc](r,c),p[F3Y4j.y5tc][F3Y4j.V0tc](a,h),p[F3Y4j.t1tc]=l,p[F3Y4j.b1tc]=d,p[F3Y4j.z9tc]=u,this[F3Y4j.N6ic][F3Y4j.Y72c](p)},gearJoint:function(t,e,i){void 0===i&&(i=1);var o=new box2d[F3Y4j.f5ic];return o[F3Y4j.I9ic]=t,o[F3Y4j.V9ic]=e,o[F3Y4j.z9tc]=-i,o[F3Y4j.E32c]=t[F3Y4j.R5Jc](),o[F3Y4j.F32c]=e[F3Y4j.Y5Jc](),this[F3Y4j.N6ic][F3Y4j.Y72c](o)},clearTilemapLayerBodies:function(t,e){e=t[F3Y4j.J3Qc](e);for(var i=t[F3Y4j.a6Qc][e][F3Y4j.s8Qc].length;i--;)t[F3Y4j.a6Qc][e][F3Y4j.s8Qc][i].destroy();t[F3Y4j.a6Qc][e][F3Y4j.s8Qc].length=0},convertTilemap:function(t,e,i,o){e=t[F3Y4j.J3Qc](e),void 0===i&&(i=!0),void 0===o&&(o=!0),this.clearTilemapLayerBodies(t,e);for(var n=0,s=0,r=0,c=0,a=t[F3Y4j.a6Qc][e].height;F3Y4j.a5z(c,a);c++)for(var n=0,h=0,u=t[F3Y4j.a6Qc][e].width;F3Y4j.L5z(h,u);h++){var l,d,p=t[F3Y4j.a6Qc][e].data[c][h];p&&-1<p[F3Y4j.r07c]&&p.collides&&(o?(l=t.getTileRight(e,h,c),F3Y4j.K5z(n,0)&&(s=F3Y4j.M5z(p[F3Y4j.W17c],p.width),r=F3Y4j.s1z(p[F3Y4j.I17c],p.height),n=p.width),l&&l.collides?n+=p.width:((d=new Phaser[F3Y4j.w42c][F3Y4j.N77c][F3Y4j.u8Qc](this[F3Y4j.v3Ec],null,s,r,0))[F3Y4j.g9Qc](n,p.height,F3Y4j.x1z(n,2),F3Y4j.O1z(p.height,2),0),i&&this.addBody(d),t[F3Y4j.a6Qc][e][F3Y4j.s8Qc][F3Y4j.h17c](d),n=0)):((d=this[F3Y4j.c2Jc](F3Y4j.B1z(p[F3Y4j.W17c],p.width),F3Y4j.u1z(p[F3Y4j.I17c],p.height),0,!1))[F3Y4j.g9Qc](p.width,p.height,F3Y4j.l1z(p.width,2),F3Y4j.m1z(p.height,2),0),i&&this.addBody(d),t[F3Y4j.a6Qc][e][F3Y4j.s8Qc][F3Y4j.h17c](d)))}return t[F3Y4j.a6Qc][e][F3Y4j.s8Qc]},raycast:function(t,e,i,o,n,s){void 0===n&&(n=!0),void 0===s&&(s=null),t=this[F3Y4j.w72c](-t),e=this[F3Y4j.w72c](-e),i=this[F3Y4j.w72c](-i),o=this[F3Y4j.w72c](-o);var t=new box2d[F3Y4j.b17c](t,e),e=new box2d[F3Y4j.b17c](i,o),r=[],c=new Phaser[F3Y4j.w42c][F3Y4j.N77c][F3Y4j.I87c](this,n,s);this[F3Y4j.N6ic][F3Y4j.E1Jc](c,t,e);for(var a=0;F3Y4j.Y1z(a,c[F3Y4j.f47c].length);a++){var h=c[F3Y4j.f47c][a];h[F3Y4j.T62c]={x:this[F3Y4j.g9qc](-h[F3Y4j.T62c][F3Y4j.W17c]),y:this[F3Y4j.g9qc](-h[F3Y4j.T62c][F3Y4j.I17c])},h[F3Y4j.U6ic]={x:-h[F3Y4j.U6ic][F3Y4j.W17c],y:-h[F3Y4j.U6ic][F3Y4j.I17c]},r[F3Y4j.h17c](h)}return r},queryAABB:function(t,e,i,o){t=this[F3Y4j.w72c](-t),e=this[F3Y4j.w72c](-e),i=this[F3Y4j.w72c](i),o=this[F3Y4j.w72c](o);var n=new box2d[F3Y4j.p02c],i=(n[F3Y4j.h6ic][F3Y4j.V0tc](F3Y4j.j1z(t,i),F3Y4j.A1z(e,o)),n[F3Y4j.P7ic][F3Y4j.V0tc](t,e),new Phaser[F3Y4j.w42c][F3Y4j.N77c][F3Y4j.h7qc](this));return this[F3Y4j.N6ic][F3Y4j.f6tc](i,n),i[F3Y4j.f47c]},queryFixture:function(t){var e=new Phaser[F3Y4j.w42c][F3Y4j.N77c][F3Y4j.h7qc](this);return this[F3Y4j.N6ic].QueryShape(e,t[F3Y4j.p82c](),t[F3Y4j.z4tc]()[F3Y4j.L92c]()),e[F3Y4j.f47c]},setPTMRatio:function(t){this[F3Y4j.g07c]=t,this[F3Y4j.A07c]=new Phaser[F3Y4j.w42c][F3Y4j.N77c][F3Y4j.x5qc](this[F3Y4j.g07c]),this[F3Y4j.N6ic][F3Y4j.O87c](this[F3Y4j.A07c])}},Phaser[F3Y4j.w42c][F3Y4j.N77c][F3Y4j.I87c]=function(t,e,i){this[F3Y4j.N6ic]=t,this[F3Y4j.P9tc]=e,this[F3Y4j.J1ic]=i,this[F3Y4j.f47c]=[]},goog[F3Y4j.b4ic](Phaser[F3Y4j.w42c][F3Y4j.N77c][F3Y4j.I87c],box2d[F3Y4j.D9tc]),Phaser.Physics.Box2D.RayCastCallback.prototype.ReportFixture=function(t,e,i,o){if(F3Y4j.r1z(this[F3Y4j.J1ic],F3Y4j.E3qc)){var n={x:this[F3Y4j.N6ic][F3Y4j.g9qc](-e[F3Y4j.W17c]),y:this[F3Y4j.N6ic][F3Y4j.g9qc](-e[F3Y4j.I17c])},s={x:-i[F3Y4j.W17c],y:-i[F3Y4j.I17c]},r=t[F3Y4j.z4tc]().parent;if(!this[F3Y4j.J1ic][F3Y4j.J7ic](this,r,t,n,s))return-F3Y4j.b42c}this[F3Y4j.P9tc]&&(this[F3Y4j.f47c]=[]);r={};return r[F3Y4j.k4qc]=t[F3Y4j.z4tc]().parent,r[F3Y4j.A9Ec]=t,r[F3Y4j.T62c]={x:e[F3Y4j.W17c],y:e[F3Y4j.I17c]},r[F3Y4j.U6ic]={x:i[F3Y4j.W17c],y:i[F3Y4j.I17c]},this[F3Y4j.f47c][F3Y4j.h17c](r),this[F3Y4j.P9tc]?o:F3Y4j.b42c},Phaser[F3Y4j.w42c][F3Y4j.N77c][F3Y4j.h7qc]=function(t){this[F3Y4j.N6ic]=t,this[F3Y4j.f47c]=[]},goog[F3Y4j.b4ic](Phaser[F3Y4j.w42c][F3Y4j.N77c][F3Y4j.h7qc],box2d[F3Y4j.B3qc]),Phaser.Physics.Box2D.QueryCallback.prototype.ReportFixture=function(t){var e={};return e[F3Y4j.k4qc]=t[F3Y4j.z4tc]().parent,e[F3Y4j.A9Ec]=t,this[F3Y4j.f47c][F3Y4j.h17c](e),F3Y4j.H3qc},Phaser[F3Y4j.w42c][F3Y4j.N77c][F3Y4j.p8tc]=function(t,e,i,o){i=i||"rgb(255,255,255)",void 0===o&&(o=!0);var o=e.data,n=o[F3Y4j.L92c](),s=e[F3Y4j.N6ic],e=(n[F3Y4j.Z3ic][F3Y4j.W17c]+=-e[F3Y4j.v3Ec].camera[F3Y4j.W17c]/s[F3Y4j.g07c],n[F3Y4j.Z3ic][F3Y4j.I17c]-=-e[F3Y4j.v3Ec].camera[F3Y4j.I17c]/s[F3Y4j.g07c],s[F3Y4j.A07c][F3Y4j.P8tc](t),s[F3Y4j.A07c][F3Y4j.J2Ec](n),Phaser.Color.webToColor(i)),r=s[F3Y4j.A07c].color;r[F3Y4j.K4ic]=F3Y4j.i1z(e[F3Y4j.K4ic],255),r[F3Y4j.u0ic]=F3Y4j.c1z(e[F3Y4j.u0ic],255),r[F3Y4j.n02c]=F3Y4j.e1z(e[F3Y4j.n02c],255);for(var c=o[F3Y4j.W3Jc]();c;c=c[F3Y4j.i6qc]())s[F3Y4j.N6ic][F3Y4j.i47c](c,r);s[F3Y4j.A07c][F3Y4j.C2Qc](),s[F3Y4j.A07c][F3Y4j.J7qc]()},Phaser[F3Y4j.w42c][F3Y4j.N77c][F3Y4j.u8Qc]=function(t,e,i,o,n,s){typeof e===F3Y4j.F1Ec&&(e=F3Y4j.E3qc),typeof i===F3Y4j.F1Ec&&(i=F3Y4j.u42c),typeof o===F3Y4j.F1Ec&&(o=F3Y4j.u42c),typeof n===F3Y4j.F1Ec&&(n=F3Y4j.B42c),typeof s===F3Y4j.F1Ec&&(s=t[F3Y4j.e0Qc][F3Y4j.B0Jc]),this[F3Y4j.v3Ec]=t,this[F3Y4j.N6ic]=s,this[F3Y4j.a4Jc]=this[F3Y4j.N6ic].getNextBodyId(),this[F3Y4j.o9qc]=e,this[F3Y4j.r0Jc]=Phaser[F3Y4j.w42c][F3Y4j.O0ic],this[F3Y4j.y8Ec]=new Phaser.Point,this[F3Y4j.r6Qc]=new box2d[F3Y4j.G6Ec],this[F3Y4j.r6Qc][F3Y4j.c3Qc][F3Y4j.V0tc](-this[F3Y4j.N6ic][F3Y4j.w72c](i),-this[F3Y4j.N6ic][F3Y4j.w72c](o)),F3Y4j.g1z(n,F3Y4j.u42c)?this[F3Y4j.r6Qc][F3Y4j.r0Jc]=box2d[F3Y4j.T0Ec][F3Y4j.u0Jc]:F3Y4j.k1z(n,F3Y4j.b42c)?this[F3Y4j.r6Qc][F3Y4j.r0Jc]=box2d[F3Y4j.T0Ec][F3Y4j.X5tc]:F3Y4j.n1z(n,F3Y4j.B42c)?this[F3Y4j.r6Qc][F3Y4j.r0Jc]=box2d[F3Y4j.T0Ec][F3Y4j.c6ic]:F3Y4j.P1z(n,F3Y4j.R42c)&&(this[F3Y4j.r6Qc][F3Y4j.r0Jc]=box2d[F3Y4j.T0Ec][F3Y4j.O1ic]),this.data=this[F3Y4j.N6ic][F3Y4j.N6ic][F3Y4j.z4qc](this[F3Y4j.r6Qc]),this.data[F3Y4j.N6ic]=this[F3Y4j.N6ic][F3Y4j.N6ic],(this.data.parent=this)[F3Y4j.t3qc]=new Phaser[F3Y4j.w42c][F3Y4j.N77c][F3Y4j.M7Ec](this[F3Y4j.N6ic],this.data,this.data[F3Y4j.w37c],this.data[F3Y4j.p9tc]),this[F3Y4j.v9qc]=F3Y4j.h57c,this[F3Y4j.R2tc]={},this[F3Y4j.G72c]={},this[F3Y4j.a4Qc]={},this[F3Y4j.m0ic]={},this[F3Y4j.K97c]={},this[F3Y4j.D0ic]={},this[F3Y4j.U3Jc]={},this[F3Y4j.V72c]={},this[F3Y4j.j7qc]={},this[F3Y4j.z0Jc]={},this[F3Y4j.y4Jc]={},this[F3Y4j.G4Ec]={},this[F3Y4j.d6Qc]={},this[F3Y4j.Q8qc]={},this[F3Y4j.Z4ic]={},this[F3Y4j.E2tc]={},this[F3Y4j.M7Jc]={},this[F3Y4j.F5Qc]={},e&&this.setRectangleFromSprite(e)},Phaser.Physics.Box2D.Body.prototype={setBodyContactCallback:function(t,e,i){var o=-1;t.id?o=t[F3Y4j.a4Jc]:t.body&&(o=t[F3Y4j.k4qc][F3Y4j.a4Jc]),-1<o&&(F3Y4j.V9z(e,null)?(delete this[F3Y4j.a4Qc][o],delete this[F3Y4j.m0ic][o]):(this[F3Y4j.a4Qc][o]=e,this[F3Y4j.m0ic][o]=i))},setFixtureContactCallback:function(t,e,i){t=t[F3Y4j.a4Jc];-1<t&&(F3Y4j.h9z(e,null)?(delete this[F3Y4j.R2tc][t],delete this[F3Y4j.G72c][t]):(this[F3Y4j.R2tc][t]=e,this[F3Y4j.G72c][t]=i))},setCategoryContactCallback:function(t,e,i){F3Y4j.R9z(e,null)?(delete this[F3Y4j.K97c][t],delete this._categoryContactCallbacksContext[t]):(this[F3Y4j.K97c][t]=e,this[F3Y4j.D0ic][t]=i)},setBodyPresolveCallback:function(t,e,i){var o=-1;t.id?o=t[F3Y4j.a4Jc]:t.body&&(o=t[F3Y4j.k4qc][F3Y4j.a4Jc]),-1<o&&(F3Y4j.b9z(e,null)?(delete this[F3Y4j.j7qc][o],delete this[F3Y4j.z0Jc][o]):(this[F3Y4j.j7qc][o]=e,this[F3Y4j.z0Jc][o]=i))},setFixturePresolveCallback:function(t,e,i){t=t[F3Y4j.a4Jc];-1<t&&(F3Y4j.p9z(e,null)?(delete this[F3Y4j.U3Jc][t],delete this[F3Y4j.V72c][t]):(this[F3Y4j.U3Jc][t]=e,this[F3Y4j.V72c][t]=i))},setCategoryPresolveCallback:function(t,e,i){F3Y4j.y9z(e,null)?(delete this[F3Y4j.y4Jc][t],delete this._categoryPresolveCallbacksContext[t]):(this[F3Y4j.y4Jc][t]=e,this[F3Y4j.G4Ec][t]=i)},setBodyPostsolveCallback:function(t,e,i){var o=-1;t.id?o=t[F3Y4j.a4Jc]:t.body&&(o=t[F3Y4j.k4qc][F3Y4j.a4Jc]),-1<o&&(F3Y4j.Z9z(e,null)?(delete this[F3Y4j.Z4ic][o],delete this[F3Y4j.E2tc][o]):(this[F3Y4j.Z4ic][o]=e,this[F3Y4j.E2tc][o]=i))},setFixturePostsolveCallback:function(t,e,i){t=t[F3Y4j.a4Jc];-1<t&&(F3Y4j.D9z(e,null)?(delete this[F3Y4j.d6Qc][t],delete this[F3Y4j.Q8qc][t]):(this[F3Y4j.d6Qc][t]=e,this[F3Y4j.Q8qc][t]=i))},setCategoryPostsolveCallback:function(t,e,i){F3Y4j.F9z(e,null)?(delete this[F3Y4j.M7Jc][t],delete this._categoryPostsolveCallbacksContext[t]):(this[F3Y4j.M7Jc][t]=e,this[F3Y4j.F5Qc][t]=i)},setCollisionCategory:function(t,e){if(void 0===e)for(var i=this.data[F3Y4j.W3Jc]();i;i=i[F3Y4j.i6qc]())i[F3Y4j.g7Jc]()[F3Y4j.j72c]=t;else e[F3Y4j.g7Jc]()[F3Y4j.j72c]=t},setCollisionMask:function(t,e){if(void 0===e)for(var i=this.data[F3Y4j.W3Jc]();i;i=i[F3Y4j.i6qc]())i[F3Y4j.g7Jc]()[F3Y4j.h0qc]=t;else e[F3Y4j.g7Jc]()[F3Y4j.h0qc]=t},applyForce:function(t,e){this.data[F3Y4j.P62c](new box2d[F3Y4j.b17c](-t,-e),this.data[F3Y4j.X9tc](),!0)},setZeroRotation:function(){this.data[F3Y4j.K32c](0)},setZeroVelocity:function(){this.data[F3Y4j.p9tc](box2d[F3Y4j.b17c][F3Y4j.Q42c])},setZeroDamping:function(){this.data[F3Y4j.U72c](0),this.data[F3Y4j.H17c](0)},toLocalPoint:function(t,e){return t[F3Y4j.W17c]=this[F3Y4j.N6ic][F3Y4j.w72c](-e[F3Y4j.W17c]),t[F3Y4j.I17c]=this[F3Y4j.N6ic][F3Y4j.w72c](-e[F3Y4j.I17c]),this.data[F3Y4j.v5Jc](t,t),t[F3Y4j.W17c]=this[F3Y4j.N6ic][F3Y4j.g9qc](-t[F3Y4j.W17c]),t[F3Y4j.I17c]=this[F3Y4j.N6ic][F3Y4j.g9qc](-t[F3Y4j.I17c]),t},toWorldPoint:function(t,e){return t[F3Y4j.W17c]=this[F3Y4j.N6ic][F3Y4j.w72c](-e[F3Y4j.W17c]),t[F3Y4j.I17c]=this[F3Y4j.N6ic][F3Y4j.w72c](-e[F3Y4j.I17c]),this.data[F3Y4j.K82c](t,t),t[F3Y4j.W17c]=this[F3Y4j.N6ic][F3Y4j.g9qc](-t[F3Y4j.W17c]),t[F3Y4j.I17c]=this[F3Y4j.N6ic][F3Y4j.g9qc](-t[F3Y4j.I17c]),t},toLocalVector:function(t,e){return t[F3Y4j.W17c]=this[F3Y4j.N6ic][F3Y4j.w72c](-e[F3Y4j.W17c]),t[F3Y4j.I17c]=this[F3Y4j.N6ic][F3Y4j.w72c](-e[F3Y4j.I17c]),this.data[F3Y4j.c72c](t,t),t[F3Y4j.W17c]=this[F3Y4j.N6ic][F3Y4j.g9qc](-t[F3Y4j.W17c]),t[F3Y4j.I17c]=this[F3Y4j.N6ic][F3Y4j.g9qc](-t[F3Y4j.I17c]),t},toWorldVector:function(t,e){t[F3Y4j.W17c]=this[F3Y4j.N6ic][F3Y4j.w72c](-e[F3Y4j.W17c]),t[F3Y4j.I17c]=this[F3Y4j.N6ic][F3Y4j.w72c](-e[F3Y4j.I17c]),this.data[F3Y4j.K62c](t,t),t[F3Y4j.W17c]=this[F3Y4j.N6ic][F3Y4j.g9qc](-t[F3Y4j.W17c]),t[F3Y4j.I17c]=this[F3Y4j.N6ic][F3Y4j.g9qc](-t[F3Y4j.I17c])},rotateLeft:function(t){this.data[F3Y4j.K32c](this[F3Y4j.N6ic][F3Y4j.w72c](-t))},rotateRight:function(t){this.data[F3Y4j.K32c](this[F3Y4j.N6ic][F3Y4j.w72c](t))},moveForward:function(t){var t=this[F3Y4j.N6ic][F3Y4j.w72c](t),e=new box2d[F3Y4j.b17c];this[F3Y4j.K0Jc](e,{x:0,y:t}),this.data[F3Y4j.p9tc](e)},moveBackward:function(t){var t=this[F3Y4j.N6ic][F3Y4j.w72c](-t),e=new box2d[F3Y4j.b17c];this[F3Y4j.K0Jc](e,{x:0,y:t}),this.data[F3Y4j.p9tc](e)},thrust:function(t){var t=F3Y4j.t9z(this[F3Y4j.N6ic][F3Y4j.w72c](t),this.data[F3Y4j.L2ic]()),e=new box2d[F3Y4j.b17c];this[F3Y4j.K0Jc](e,{x:0,y:t}),this.data[F3Y4j.P62c](e,this.data[F3Y4j.X9tc](),!0)},reverse:function(t){var t=-this[F3Y4j.N6ic][F3Y4j.w72c](t)*this.data[F3Y4j.L2ic](),e=new box2d[F3Y4j.b17c];this[F3Y4j.K0Jc](e,{x:0,y:t}),this.data[F3Y4j.P62c](e,this.data[F3Y4j.X9tc](),!0)},moveLeft:function(t){this[F3Y4j.t3qc][F3Y4j.W17c]=-t},moveRight:function(t){this[F3Y4j.t3qc][F3Y4j.W17c]=t},moveUp:function(t){this[F3Y4j.t3qc][F3Y4j.I17c]=-t},moveDown:function(t){this[F3Y4j.t3qc][F3Y4j.I17c]=t},preUpdate:function(){this[F3Y4j.v9qc]&&(this[F3Y4j.G87c](),this[F3Y4j.v9qc]=!1)},postUpdate:function(){this[F3Y4j.o9qc]&&(this[F3Y4j.o9qc][F3Y4j.W17c]=this[F3Y4j.N6ic][F3Y4j.g9qc](-this.data[F3Y4j.D9Ec]()[F3Y4j.W17c]),this[F3Y4j.o9qc][F3Y4j.I17c]=this[F3Y4j.N6ic][F3Y4j.g9qc](-this.data[F3Y4j.D9Ec]()[F3Y4j.I17c]),this[F3Y4j.o9qc][F3Y4j.H6qc]=this.data[F3Y4j.E5Ec]())},kill:function(){this.data[F3Y4j.h37c](!1)},reset:function(t,e){this.data[F3Y4j.t4Qc](this[F3Y4j.N6ic][F3Y4j.w72c](-t),this[F3Y4j.N6ic][F3Y4j.w72c](-e)),this.data[F3Y4j.h37c](!0)},removeFromWorld:function(){F3Y4j.T9z(this.data[F3Y4j.N6ic],this[F3Y4j.v3Ec][F3Y4j.e0Qc][F3Y4j.B0Jc][F3Y4j.N6ic])&&this[F3Y4j.v3Ec][F3Y4j.e0Qc][F3Y4j.B0Jc].removeBodyNextStep(this)},destroy:function(){this[F3Y4j.G87c](),this._bodyCallbacks={},this._bodyCallbackContext={},this._categoryCallbacks={},this._categoryCallbackContext={},this[F3Y4j.o9qc]=null},clearFixtures:function(){for(var t=[],e=this.data[F3Y4j.W3Jc]();e;e=e[F3Y4j.i6qc]())t[F3Y4j.h17c](e);for(var i=t.length;i--;)this.data[F3Y4j.S3tc](t[i])},addCircle:function(t,e,i){t=new box2d[F3Y4j.Q0ic](this[F3Y4j.N6ic][F3Y4j.w72c](t)),t[F3Y4j.j8Jc][F3Y4j.V0tc](this[F3Y4j.N6ic][F3Y4j.w72c](-e),this[F3Y4j.N6ic][F3Y4j.w72c](-i)),e=new box2d[F3Y4j.W9Jc],e[F3Y4j.T2Ec]=t,e[F3Y4j.z3tc]=this[F3Y4j.N6ic][F3Y4j.z3tc],e[F3Y4j.L1Jc]=this[F3Y4j.N6ic][F3Y4j.L1Jc],e[F3Y4j.K0ic]=this[F3Y4j.N6ic][F3Y4j.K0ic],i=this.data[F3Y4j.y8tc](e);return i[F3Y4j.a4Jc]=this[F3Y4j.N6ic][F3Y4j.C5tc](),i},addRectangle:function(t,e,i,o,n){void 0===e&&(e=16),void 0===i&&(i=0),void 0===o&&(o=0),void 0===n&&(n=0),t=this[F3Y4j.N6ic][F3Y4j.w72c](t=void 0===t?16:t),e=this[F3Y4j.N6ic][F3Y4j.w72c](e);var s=new box2d[F3Y4j.i77c],t=(s[F3Y4j.m0Jc](F3Y4j.v9z(.5,t),F3Y4j.W9z(.5,e),new box2d[F3Y4j.b17c](this[F3Y4j.N6ic][F3Y4j.w72c](-i),this[F3Y4j.N6ic][F3Y4j.w72c](-o)),n),new box2d[F3Y4j.W9Jc]),e=(t[F3Y4j.T2Ec]=s,t[F3Y4j.z3tc]=this[F3Y4j.N6ic][F3Y4j.z3tc],t[F3Y4j.L1Jc]=this[F3Y4j.N6ic][F3Y4j.L1Jc],t[F3Y4j.K0ic]=this[F3Y4j.N6ic][F3Y4j.K0ic],this.data[F3Y4j.y8tc](t));return e[F3Y4j.a4Jc]=this[F3Y4j.N6ic][F3Y4j.C5tc](),e},addEdge:function(t,e,i,o){var n=new box2d[F3Y4j.K1Ec],t=(n[F3Y4j.G1tc](new box2d[F3Y4j.b17c](this[F3Y4j.N6ic][F3Y4j.w72c](-t),this[F3Y4j.N6ic][F3Y4j.w72c](-e)),new box2d[F3Y4j.b17c](this[F3Y4j.N6ic][F3Y4j.w72c](-i),this[F3Y4j.N6ic][F3Y4j.w72c](-o))),new box2d[F3Y4j.W9Jc]),e=(t[F3Y4j.T2Ec]=n,t[F3Y4j.z3tc]=this[F3Y4j.N6ic][F3Y4j.z3tc],t[F3Y4j.L1Jc]=this[F3Y4j.N6ic][F3Y4j.L1Jc],t[F3Y4j.K0ic]=this[F3Y4j.N6ic][F3Y4j.K0ic],this.data[F3Y4j.y8tc](t));return e[F3Y4j.a4Jc]=this[F3Y4j.N6ic][F3Y4j.C5tc](),e},addChain:function(t,e,i,o){if(void 0===t)return null;if(F3Y4j.C9z(t.length,4))return null;void 0===e&&(e=0),void 0===i&&(i=F3Y4j.U9z(t.length-e,2));for(var n=[],s=e;F3Y4j.d9z(s,e+i);s++)n[F3Y4j.h17c](new box2d[F3Y4j.b17c](this[F3Y4j.N6ic][F3Y4j.w72c](-t[F3Y4j.X9z(2,s)]),this[F3Y4j.N6ic][F3Y4j.w72c](-t[F3Y4j.o4z(2,s)+1])));var r=new box2d[F3Y4j.e1ic],o=(o?r.CreateLoop(n,n.length):r[F3Y4j.r9ic](n,n.length),new box2d[F3Y4j.W9Jc]),r=(o[F3Y4j.T2Ec]=r,o[F3Y4j.z3tc]=this[F3Y4j.N6ic][F3Y4j.z3tc],o[F3Y4j.L1Jc]=this[F3Y4j.N6ic][F3Y4j.L1Jc],o[F3Y4j.K0ic]=this[F3Y4j.N6ic][F3Y4j.K0ic],this.data[F3Y4j.y8tc](o));return r[F3Y4j.a4Jc]=this[F3Y4j.N6ic][F3Y4j.C5tc](),r},addLoop:function(t,e,i){return this[F3Y4j.L4tc](t,e,i,!0)},addPolygon:function(t,e,i){if(void 0===t)return null;if(F3Y4j.q4z(t.length,6))return null;void 0===e&&(e=0),void 0===i&&(i=F3Y4j.z4z(t.length-e,2));for(var o=[],n=e;F3Y4j.E4z(n,e+i);n++)o[F3Y4j.h17c]({x:this[F3Y4j.N6ic][F3Y4j.w72c](-t[F3Y4j.f4z(2,n)]),y:this[F3Y4j.N6ic][F3Y4j.w72c](-t[F3Y4j.H4z(2,n)+1])});for(var s=new Phaser[F3Y4j.w42c][F3Y4j.N77c][F3Y4j.K7qc],r=(s.setFromXYObjects(o),s[F3Y4j.x42c](o)),c=null,n=0;F3Y4j.I4z(n,r.length);n++){var a=new box2d[F3Y4j.i77c],h=(a[F3Y4j.G1tc](r[n],r[n].length),new box2d[F3Y4j.W9Jc]);h[F3Y4j.T2Ec]=a,h[F3Y4j.z3tc]=this[F3Y4j.N6ic][F3Y4j.z3tc],h[F3Y4j.L1Jc]=this[F3Y4j.N6ic][F3Y4j.L1Jc],h[F3Y4j.K0ic]=this[F3Y4j.N6ic][F3Y4j.K0ic],(c=this.data[F3Y4j.y8tc](h))[F3Y4j.a4Jc]=this[F3Y4j.N6ic][F3Y4j.C5tc]()}return c},removeFixture:function(t){return!F3Y4j.w4z(t[F3Y4j.z4tc](),this.data)&&(this.data[F3Y4j.S3tc](t),!0)},setCircle:function(t,e,i){return void 0===t&&(t=32),void 0===e&&(e=0),void 0===i&&(i=0),this[F3Y4j.g6Ec](),this.addCircle(t,e,i)},setRectangle:function(t,e,i,o,n){return this[F3Y4j.g6Ec](),this[F3Y4j.g9Qc](t,e,i,o,n)},setRectangleFromSprite:function(t){return void 0===t&&(t=this[F3Y4j.o9qc]),this[F3Y4j.g6Ec](),this[F3Y4j.g9Qc](t.width,t.height,0,0,t[F3Y4j.H6qc])},setEdge:function(t,e,i,o){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===o&&(o=0),this[F3Y4j.g6Ec](),this.addEdge(t,e,i,o)},setChain:function(t,e,i,o){return void 0===t||F3Y4j.N4z(t.length,4)?null:(void 0===e&&(e=0),void 0===i&&(i=F3Y4j.J4z(t.length-e,2)),this[F3Y4j.g6Ec](),this[F3Y4j.L4tc](t,e,i,o))},setLoop:function(t,e,i){return this.setChain(t,e,i,!0)},setPolygon:function(t,e,i){return void 0===t||F3Y4j.S4z(t.length,4)?null:(void 0===e&&(e=0),void 0===i&&(i=F3Y4j.Q4z(t.length-e,2)),this[F3Y4j.g6Ec](),this.addPolygon(t,e,i))},loadPolygon:function(t,e,i){void 0===i&&(i=null);for(var o=this[F3Y4j.v3Ec].cache.getPhysicsData(t,e),n=0;F3Y4j.G4z(n,o.length);n++){for(var s=[],r=0;F3Y4j.a4z(r,o[n][F3Y4j.T2Ec].length);r+=2)s[F3Y4j.h17c](new box2d[F3Y4j.b17c](this[F3Y4j.N6ic][F3Y4j.w72c](-o[n][F3Y4j.T2Ec][r]),this[F3Y4j.N6ic][F3Y4j.w72c](-o[n][F3Y4j.T2Ec][r+1])));if(i)for(var c=this[F3Y4j.N6ic][F3Y4j.w72c](-.5*i.width),a=this[F3Y4j.N6ic][F3Y4j.w72c](-.5*i.height),h=0;F3Y4j.L4z(h,s.length);h++)s[h][F3Y4j.W17c]-=c,s[h][F3Y4j.I17c]-=a;var u=new box2d[F3Y4j.i77c],l=(u[F3Y4j.G1tc](s,s.length),new box2d[F3Y4j.W9Jc]);l[F3Y4j.T2Ec]=u,l[F3Y4j.z3tc]=o[n][F3Y4j.z3tc],l[F3Y4j.L1Jc]=o[n].bounce,l[F3Y4j.K0ic]=o[n][F3Y4j.K0ic],l[F3Y4j.W4tc][F3Y4j.j72c]=o[n][F3Y4j.W4tc][F3Y4j.j72c],l[F3Y4j.W4tc][F3Y4j.h0qc]=o[n][F3Y4j.W4tc][F3Y4j.h0qc],this.data[F3Y4j.y8tc](l)[F3Y4j.a4Jc]=this[F3Y4j.N6ic][F3Y4j.C5tc]()}return!0},containsPoint:function(t){for(var e=this[F3Y4j.N6ic][F3Y4j.w72c](-t[F3Y4j.W17c]),t=this[F3Y4j.N6ic][F3Y4j.w72c](-t[F3Y4j.I17c]),i=new box2d[F3Y4j.b17c](e,t),o=this.data[F3Y4j.W3Jc]();o;o=o[F3Y4j.i6qc]())if(o[F3Y4j.P72c](i))return!0;return!1}},Phaser.Physics.Box2D.Body.prototype.constructor=Phaser[F3Y4j.w42c][F3Y4j.N77c][F3Y4j.u8Qc],Object[F3Y4j.U3Ec](Phaser.Physics.Box2D.Body.prototype,"static",{get:function(){return F3Y4j.K4z(this.data[F3Y4j.j6Jc](),box2d[F3Y4j.T0Ec][F3Y4j.u0Jc])},set:function(t){t&&F3Y4j.M4z(this.data[F3Y4j.j6Jc](),box2d[F3Y4j.T0Ec][F3Y4j.u0Jc])?this.data[F3Y4j.x27c](box2d[F3Y4j.T0Ec][F3Y4j.u0Jc]):!t&&F3Y4j.s3z(this.data[F3Y4j.j6Jc](),box2d[F3Y4j.T0Ec][F3Y4j.u0Jc])&&this.data[F3Y4j.x27c](box2d[F3Y4j.T0Ec][F3Y4j.c6ic])}}),Object[F3Y4j.U3Ec](Phaser.Physics.Box2D.Body.prototype,"dynamic",{get:function(){return F3Y4j.x3z(this.data[F3Y4j.j6Jc](),box2d[F3Y4j.T0Ec][F3Y4j.c6ic])},set:function(t){t&&F3Y4j.O3z(this.data[F3Y4j.j6Jc](),box2d[F3Y4j.T0Ec][F3Y4j.c6ic])?this.data[F3Y4j.x27c](box2d[F3Y4j.T0Ec][F3Y4j.c6ic]):!t&&F3Y4j.B3z(this.data[F3Y4j.j6Jc](),box2d[F3Y4j.T0Ec][F3Y4j.c6ic])&&this.data[F3Y4j.x27c](box2d[F3Y4j.T0Ec][F3Y4j.u0Jc])}}),Object[F3Y4j.U3Ec](Phaser.Physics.Box2D.Body.prototype,"kinematic",{get:function(){return F3Y4j.u3z(this.data[F3Y4j.j6Jc](),box2d[F3Y4j.T0Ec][F3Y4j.X5tc])},set:function(t){t&&F3Y4j.l3z(this.data[F3Y4j.j6Jc](),box2d[F3Y4j.T0Ec][F3Y4j.X5tc])?this.data[F3Y4j.x27c](box2d[F3Y4j.T0Ec][F3Y4j.X5tc]):!t&&F3Y4j.m3z(this.data[F3Y4j.j6Jc](),box2d[F3Y4j.T0Ec][F3Y4j.X5tc])&&this.data[F3Y4j.x27c](box2d[F3Y4j.T0Ec][F3Y4j.u0Jc])}}),Object[F3Y4j.U3Ec](Phaser.Physics.Box2D.Body.prototype,"angle",{get:function(){return Phaser[F3Y4j.Z0Ec][F3Y4j.n8Ec](Phaser[F3Y4j.Z0Ec].radToDeg(this.data[F3Y4j.E5Ec]()))},set:function(t){this.data[F3Y4j.N7qc](Phaser[F3Y4j.Z0Ec][F3Y4j.e4Jc](Phaser[F3Y4j.Z0Ec][F3Y4j.n8Ec](t)))}}),Object[F3Y4j.U3Ec](Phaser.Physics.Box2D.Body.prototype,"linearDamping",{get:function(){return this.data.GetLinearDamping()},set:function(t){this.data[F3Y4j.U72c](t)}}),Object[F3Y4j.U3Ec](Phaser.Physics.Box2D.Body.prototype,"angularDamping",{get:function(){return this.data.GetAngularDamping()},set:function(t){this.data[F3Y4j.H17c](t)}}),Object[F3Y4j.U3Ec](Phaser.Physics.Box2D.Body.prototype,"angularVelocity",{get:function(){return this.data[F3Y4j.Q7Jc]()},set:function(t){this.data[F3Y4j.K32c](t)}}),Object[F3Y4j.U3Ec](Phaser.Physics.Box2D.Body.prototype,"fixedRotation",{get:function(){return this.data.IsFixedRotation()},set:function(t){this.data.SetFixedRotation(t)}}),Object[F3Y4j.U3Ec](Phaser.Physics.Box2D.Body.prototype,"gravityScale",{get:function(){return this.data.GetGravityScale()},set:function(t){this.data.SetGravityScale(t)}}),Object[F3Y4j.U3Ec](Phaser.Physics.Box2D.Body.prototype,"friction",{get:function(){var t=this.data[F3Y4j.W3Jc]();return t?t.GetFriction():0},set:function(t){for(var e=this.data[F3Y4j.W3Jc]();e;e=e[F3Y4j.i6qc]())e.SetFriction(t),e[F3Y4j.T4Jc]()}}),Object[F3Y4j.U3Ec](Phaser.Physics.Box2D.Body.prototype,"restitution",{get:function(){var t=this.data[F3Y4j.W3Jc]();return t?t.GetRestitution():0},set:function(t){for(var e=this.data[F3Y4j.W3Jc]();e;e=e[F3Y4j.i6qc]())e.SetRestitution(t),e[F3Y4j.T4Jc]()}}),Object[F3Y4j.U3Ec](Phaser.Physics.Box2D.Body.prototype,"sensor",{get:function(){var t=this.data[F3Y4j.W3Jc]();return t?t[F3Y4j.V5Jc]():0},set:function(t){for(var e=this.data[F3Y4j.W3Jc]();e;e=e[F3Y4j.i6qc]())e.SetSensor(t),e[F3Y4j.T4Jc]()}}),Object[F3Y4j.U3Ec](Phaser.Physics.Box2D.Body.prototype,"bullet",{get:function(){return this.data[F3Y4j.Z6tc]()},set:function(t){this.data.SetBullet(t)}}),Object[F3Y4j.U3Ec](Phaser.Physics.Box2D.Body.prototype,"mass",{get:function(){return this.data[F3Y4j.L2ic]()},set:function(t){if(F3Y4j.Y3z(t,0))this.data[F3Y4j.x27c](box2d[F3Y4j.T0Ec][F3Y4j.u0Jc]);else{F3Y4j.j3z(this.data[F3Y4j.j6Jc](),box2d[F3Y4j.T0Ec][F3Y4j.c6ic])&&this.data[F3Y4j.x27c](box2d[F3Y4j.T0Ec][F3Y4j.c6ic]);for(var e=this.data[F3Y4j.L2ic](),i=F3Y4j.A3z(t,e),o=this.data[F3Y4j.W3Jc]();o;o=o[F3Y4j.i6qc]()){var n=o[F3Y4j.R4qc]();o.SetDensity(F3Y4j.r3z(n,i))}this.data[F3Y4j.h6Qc]()}}}),Object[F3Y4j.U3Ec](Phaser.Physics.Box2D.Body.prototype,"rotation",{get:function(){return this.data[F3Y4j.E5Ec]()},set:function(t){this.data[F3Y4j.N7qc](t)}}),Object[F3Y4j.U3Ec](Phaser.Physics.Box2D.Body.prototype,"x",{get:function(){return this[F3Y4j.N6ic][F3Y4j.g9qc](-this.data[F3Y4j.D9Ec]()[F3Y4j.W17c])},set:function(t){this.data[F3Y4j.t4Qc](this[F3Y4j.N6ic][F3Y4j.w72c](-t),this.data[F3Y4j.D9Ec]()[F3Y4j.I17c])}}),Object[F3Y4j.U3Ec](Phaser.Physics.Box2D.Body.prototype,"y",{get:function(){return this[F3Y4j.N6ic][F3Y4j.g9qc](-this.data[F3Y4j.D9Ec]()[F3Y4j.I17c])},set:function(t){this.data[F3Y4j.t4Qc](this.data[F3Y4j.D9Ec]()[F3Y4j.W17c],this[F3Y4j.N6ic][F3Y4j.w72c](-t))}}),Object[F3Y4j.U3Ec](Phaser.Physics.Box2D.Body.prototype,"collideWorldBounds",{get:function(){for(var t=this.data[F3Y4j.W3Jc]();t;t=t[F3Y4j.i6qc]()){var e=t[F3Y4j.g7Jc]();if(F3Y4j.i3z(e[F3Y4j.h0qc],Phaser[F3Y4j.w42c][F3Y4j.N77c][F3Y4j.M4Ec]))return!0}return!1},set:function(t){for(var e=this.data[F3Y4j.W3Jc]();e;e=e[F3Y4j.i6qc]()){var i=e[F3Y4j.g7Jc]();t?i[F3Y4j.h0qc]|=Phaser[F3Y4j.w42c][F3Y4j.N77c][F3Y4j.M4Ec]:i[F3Y4j.h0qc]&=~Phaser[F3Y4j.w42c][F3Y4j.N77c][F3Y4j.M4Ec]}}}),Phaser[F3Y4j.w42c][F3Y4j.N77c][F3Y4j.M7Ec]=function(t,e,i,o){this[F3Y4j.N6ic]=t,this[F3Y4j.o0Jc]=e,this[F3Y4j.x5tc]=i,this[F3Y4j.B5Qc]=o},Phaser.Physics.Box2D.PointProxy.prototype.constructor=Phaser[F3Y4j.w42c][F3Y4j.N77c][F3Y4j.M7Ec],Object[F3Y4j.U3Ec](Phaser.Physics.Box2D.PointProxy.prototype,F3Y4j.W17c,{get:function(){return this[F3Y4j.N6ic][F3Y4j.g9qc](-this[F3Y4j.x5tc][F3Y4j.J7ic](this[F3Y4j.o0Jc])[F3Y4j.W17c])},set:function(t){var e=this[F3Y4j.x5tc][F3Y4j.J7ic](this[F3Y4j.o0Jc]);e[F3Y4j.W17c]=this[F3Y4j.N6ic][F3Y4j.w72c](-t),this[F3Y4j.B5Qc][F3Y4j.J7ic](this[F3Y4j.o0Jc],e)}}),Object[F3Y4j.U3Ec](Phaser.Physics.Box2D.PointProxy.prototype,F3Y4j.I17c,{get:function(){return this[F3Y4j.N6ic][F3Y4j.g9qc](-this[F3Y4j.x5tc][F3Y4j.J7ic](this[F3Y4j.o0Jc])[F3Y4j.I17c])},set:function(t){var e=this[F3Y4j.x5tc][F3Y4j.J7ic](this[F3Y4j.o0Jc]);e[F3Y4j.I17c]=this[F3Y4j.N6ic][F3Y4j.w72c](-t),this[F3Y4j.B5Qc][F3Y4j.J7ic](this[F3Y4j.o0Jc],e)}}),Phaser[F3Y4j.w42c][F3Y4j.N77c][F3Y4j.x5qc]=function(t){this[F3Y4j.y5Ec]=F3Y4j.E3qc,this[F3Y4j.O5Ec]=t,this[F3Y4j.b9Ec]=box2d[F3Y4j.D3Ec][F3Y4j.L1tc]},Phaser.Physics.Box2D.DefaultDebugDraw.prototype.color=new box2d[F3Y4j.C8qc](F3Y4j.b42c,F3Y4j.b42c,F3Y4j.b42c),Phaser.Physics.Box2D.DefaultDebugDraw.prototype.SetFlags=function(t){this[F3Y4j.b9Ec]=t},Phaser.Physics.Box2D.DefaultDebugDraw.prototype.GetFlags=function(){return this[F3Y4j.b9Ec]},Phaser.Physics.Box2D.DefaultDebugDraw.prototype.start=function(t){this[F3Y4j.y5Ec]=t,this[F3Y4j.y5Ec].save(),this[F3Y4j.y5Ec].scale(-1,-1),this[F3Y4j.y5Ec].scale(this[F3Y4j.O5Ec],this[F3Y4j.O5Ec])},Phaser.Physics.Box2D.DefaultDebugDraw.prototype.stop=function(){this[F3Y4j.y5Ec].restore()},Phaser.Physics.Box2D.DefaultDebugDraw.prototype.PushTransform=function(t){var e=this[F3Y4j.y5Ec];e.save(),e.translate(t[F3Y4j.Z3ic][F3Y4j.W17c],t[F3Y4j.Z3ic][F3Y4j.I17c]),e.rotate(t[F3Y4j.G3ic][F3Y4j.T7Qc]())},Phaser.Physics.Box2D.DefaultDebugDraw.prototype.PopTransform=function(){this[F3Y4j.y5Ec].restore()},Phaser.Physics.Box2D.DefaultDebugDraw.prototype.DrawPolygon=function(t,e,i){if(e){var o=this[F3Y4j.y5Ec];o.lineWidth=F3Y4j.c3z(1,this[F3Y4j.O5Ec]),o.beginPath(),o.moveTo(t[0][F3Y4j.W17c],t[0][F3Y4j.I17c]);for(var n=F3Y4j.b42c;F3Y4j.e3z(n,e);n++)o.lineTo(t[n][F3Y4j.W17c],t[n][F3Y4j.I17c]);o.closePath(),o.strokeStyle=i[F3Y4j.W6tc](1),o.stroke()}},Phaser.Physics.Box2D.DefaultDebugDraw.prototype.DrawSolidPolygon=function(t,e,i){if(e){var o=this[F3Y4j.y5Ec];o.lineWidth=F3Y4j.g3z(1,this[F3Y4j.O5Ec]),o.beginPath(),o.moveTo(t[0][F3Y4j.W17c],t[0][F3Y4j.I17c]);for(var n=F3Y4j.b42c;F3Y4j.k3z(n,e);n++)o.lineTo(t[n][F3Y4j.W17c],t[n][F3Y4j.I17c]);o.closePath(),o.fillStyle=i[F3Y4j.W6tc](.5),o.fill(),o.strokeStyle=i[F3Y4j.W6tc](1),o.stroke()}},Phaser.Physics.Box2D.DefaultDebugDraw.prototype.DrawCircle=function(t,e,i){var o;e&&((o=this[F3Y4j.y5Ec]).beginPath(),o.arc(t[F3Y4j.W17c],t[F3Y4j.I17c],e,0,F3Y4j.n3z(Math[F3Y4j.s1ic],2),!0),o.strokeStyle=i[F3Y4j.W6tc](1),o.stroke())},Phaser.Physics.Box2D.DefaultDebugDraw.prototype.DrawSolidCircle=function(t,e,i,o){var n,s;e&&((n=this[F3Y4j.y5Ec]).lineWidth=F3Y4j.P3z(1,this[F3Y4j.O5Ec]),s=t[F3Y4j.W17c],t=t[F3Y4j.I17c],n.beginPath(),n.arc(s,t,e,0,F3Y4j.V7z(Math[F3Y4j.s1ic],2),!0),n.moveTo(s,t),n.lineTo(s+F3Y4j.h7z(i[F3Y4j.W17c],e),t+F3Y4j.R7z(i[F3Y4j.I17c],e)),n.fillStyle=o[F3Y4j.W6tc](.5),n.fill(),n.strokeStyle=o[F3Y4j.W6tc](1),n.stroke())},Phaser.Physics.Box2D.DefaultDebugDraw.prototype.DrawSegment=function(t,e,i){var o=this[F3Y4j.y5Ec];o.lineWidth=F3Y4j.b7z(1,this[F3Y4j.O5Ec]),o.beginPath(),o.moveTo(t[F3Y4j.W17c],t[F3Y4j.I17c]),o.lineTo(e[F3Y4j.W17c],e[F3Y4j.I17c]),o.strokeStyle=i[F3Y4j.W6tc](1),o.stroke()},Phaser.Physics.Box2D.DefaultDebugDraw.prototype.DrawTransform=function(t){var e=this[F3Y4j.y5Ec];e.lineWidth=F3Y4j.p7z(1,this[F3Y4j.O5Ec]),this[F3Y4j.J2Ec](t),e.beginPath(),e.moveTo(0,0),e.lineTo(1,0),e.strokeStyle=box2d[F3Y4j.C8qc][F3Y4j.u5Qc][F3Y4j.W6tc](1),e.stroke(),e.beginPath(),e.moveTo(0,0),e.lineTo(0,1),e.strokeStyle=box2d[F3Y4j.C8qc][F3Y4j.t1qc][F3Y4j.W6tc](1),e.stroke(),this[F3Y4j.C2Qc](t)},Phaser.Physics.Box2D.DefaultDebugDraw.prototype.DrawPoint=function(t,e,i){var o=this[F3Y4j.y5Ec],i=(o.fillStyle=i[F3Y4j.W6tc](),F3Y4j.y7z(e,F3Y4j.B42c));o.fillRect(F3Y4j.Z7z(t[F3Y4j.W17c],i),F3Y4j.D7z(t[F3Y4j.I17c],i),e,e)},Phaser.Physics.Box2D.DefaultDebugDraw.prototype.DrawAABB=function(t,e){var i=this[F3Y4j.y5Ec],e=(i.strokeStyle=e[F3Y4j.W6tc](),t[F3Y4j.h6ic][F3Y4j.W17c]),o=t[F3Y4j.h6ic][F3Y4j.I17c],n=F3Y4j.F7z(t[F3Y4j.P7ic][F3Y4j.W17c],t[F3Y4j.h6ic][F3Y4j.W17c]),t=F3Y4j.t7z(t[F3Y4j.P7ic][F3Y4j.I17c],t[F3Y4j.h6ic][F3Y4j.I17c]);i.strokeRect(e,o,n,t)},Object[F3Y4j.U3Ec](Phaser.Physics.Box2D.DefaultDebugDraw.prototype,F3Y4j.s0Qc,{get:function(){return F3Y4j.T7z(this[F3Y4j.b9Ec],box2d[F3Y4j.D3Ec][F3Y4j.L1tc])},set:function(t){t?this[F3Y4j.b9Ec]|=box2d[F3Y4j.D3Ec][F3Y4j.L1tc]:this[F3Y4j.b9Ec]&=~box2d[F3Y4j.D3Ec][F3Y4j.L1tc]}}),Object[F3Y4j.U3Ec](Phaser.Physics.Box2D.DefaultDebugDraw.prototype,F3Y4j.c0Jc,{get:function(){return F3Y4j.v7z(this[F3Y4j.b9Ec],box2d[F3Y4j.D3Ec][F3Y4j.f4Qc])},set:function(t){t?this[F3Y4j.b9Ec]|=box2d[F3Y4j.D3Ec][F3Y4j.f4Qc]:this[F3Y4j.b9Ec]&=~box2d[F3Y4j.D3Ec][F3Y4j.f4Qc]}}),Object[F3Y4j.U3Ec](Phaser.Physics.Box2D.DefaultDebugDraw.prototype,F3Y4j.r1ic,{get:function(){return F3Y4j.W7z(this[F3Y4j.b9Ec],box2d[F3Y4j.D3Ec][F3Y4j.k7ic])},set:function(t){t?this[F3Y4j.b9Ec]|=box2d[F3Y4j.D3Ec][F3Y4j.k7ic]:this[F3Y4j.b9Ec]&=~box2d[F3Y4j.D3Ec][F3Y4j.k7ic]}}),Object[F3Y4j.U3Ec](Phaser.Physics.Box2D.DefaultDebugDraw.prototype,F3Y4j.U27c,{get:function(){return F3Y4j.C7z(this[F3Y4j.b9Ec],box2d[F3Y4j.D3Ec][F3Y4j.u2Jc])},set:function(t){t?this[F3Y4j.b9Ec]|=box2d[F3Y4j.D3Ec][F3Y4j.u2Jc]:this[F3Y4j.b9Ec]&=~box2d[F3Y4j.D3Ec][F3Y4j.u2Jc]}}),Object[F3Y4j.U3Ec](Phaser.Physics.Box2D.DefaultDebugDraw.prototype,F3Y4j.D2Ec,{get:function(){return F3Y4j.U7z(this[F3Y4j.b9Ec],box2d[F3Y4j.D3Ec][F3Y4j.K1Jc])},set:function(t){t?this[F3Y4j.b9Ec]|=box2d[F3Y4j.D3Ec][F3Y4j.K1Jc]:this[F3Y4j.b9Ec]&=~box2d[F3Y4j.D3Ec][F3Y4j.K1Jc]}}),Phaser[F3Y4j.w42c][F3Y4j.N77c][F3Y4j.I7Qc]=function(){},Phaser.Physics.Box2D.DefaultContactListener.prototype.BeginContact=function(t){this[F3Y4j.x5Qc](t,F3Y4j.H3qc)},Phaser.Physics.Box2D.DefaultContactListener.prototype.EndContact=function(t){this[F3Y4j.x5Qc](t,F3Y4j.h57c)},Phaser.Physics.Box2D.DefaultContactListener.prototype.handleContactBeginOrEnd=function(t,e){var i,o,n=t[F3Y4j.s0ic](),s=t[F3Y4j.f0ic](),r=n[F3Y4j.z4tc](),c=s[F3Y4j.z4tc](),a=n[F3Y4j.g7Jc]()[F3Y4j.j72c],h=s[F3Y4j.g7Jc]()[F3Y4j.j72c],r=r.parent,c=c.parent;r!==void F3Y4j.u42c&&c!==void F3Y4j.u42c&&(i=r[F3Y4j.a4Jc],o=c[F3Y4j.a4Jc],r[F3Y4j.a4Qc][o]&&r[F3Y4j.a4Qc][o][F3Y4j.J7ic](r[F3Y4j.m0ic][o],r,c,n,s,e,t),c[F3Y4j.a4Qc][i]&&c[F3Y4j.a4Qc][i][F3Y4j.J7ic](c[F3Y4j.m0ic][i],c,r,s,n,e,t),r[F3Y4j.R2tc][s[F3Y4j.a4Jc]]&&r[F3Y4j.R2tc][s[F3Y4j.a4Jc]][F3Y4j.J7ic](r[F3Y4j.G72c][s[F3Y4j.a4Jc]],r,c,n,s,e,t),c[F3Y4j.R2tc][n[F3Y4j.a4Jc]]&&c[F3Y4j.R2tc][n[F3Y4j.a4Jc]][F3Y4j.J7ic](c[F3Y4j.G72c][n[F3Y4j.a4Jc]],c,r,s,n,e,t),r[F3Y4j.R2tc][n[F3Y4j.a4Jc]]&&r[F3Y4j.R2tc][n[F3Y4j.a4Jc]][F3Y4j.J7ic](r[F3Y4j.G72c][n[F3Y4j.a4Jc]],r,c,n,s,e,t),c[F3Y4j.R2tc][s[F3Y4j.a4Jc]]&&c[F3Y4j.R2tc][s[F3Y4j.a4Jc]][F3Y4j.J7ic](c[F3Y4j.G72c][s[F3Y4j.a4Jc]],c,r,s,n,e,t),r[F3Y4j.K97c][h]&&r[F3Y4j.K97c][h][F3Y4j.J7ic](r[F3Y4j.D0ic][h],r,c,n,s,e,t),c[F3Y4j.K97c][a]&&c[F3Y4j.K97c][a][F3Y4j.J7ic](c[F3Y4j.D0ic][a],c,r,s,n,e,t),r[F3Y4j.K97c][a]&&r[F3Y4j.K97c][a][F3Y4j.J7ic](r[F3Y4j.D0ic][a],r,c,n,s,e,t),c[F3Y4j.K97c][h]&&c[F3Y4j.K97c][h][F3Y4j.J7ic](c[F3Y4j.D0ic][h],c,r,s,n,e,t))},Phaser.Physics.Box2D.DefaultContactListener.prototype.PreSolve=function(t,e){var i,o,n=t[F3Y4j.s0ic](),s=t[F3Y4j.f0ic](),r=n[F3Y4j.z4tc](),c=s[F3Y4j.z4tc](),a=n[F3Y4j.g7Jc]()[F3Y4j.j72c],h=s[F3Y4j.g7Jc]()[F3Y4j.j72c],r=r.parent,c=c.parent;r!==void F3Y4j.u42c&&c!==void F3Y4j.u42c&&(i=r[F3Y4j.a4Jc],o=c[F3Y4j.a4Jc],r[F3Y4j.j7qc][o]&&r[F3Y4j.j7qc][o][F3Y4j.J7ic](r[F3Y4j.z0Jc][o],r,c,n,s,t,e),c[F3Y4j.j7qc][i]&&c[F3Y4j.j7qc][i][F3Y4j.J7ic](c[F3Y4j.z0Jc][i],c,r,s,n,t,e),r[F3Y4j.U3Jc][s[F3Y4j.a4Jc]]&&r[F3Y4j.U3Jc][s[F3Y4j.a4Jc]][F3Y4j.J7ic](r[F3Y4j.V72c][s[F3Y4j.a4Jc]],r,c,n,s,t,e),c[F3Y4j.U3Jc][n[F3Y4j.a4Jc]]&&c[F3Y4j.U3Jc][n[F3Y4j.a4Jc]][F3Y4j.J7ic](c[F3Y4j.V72c][n[F3Y4j.a4Jc]],c,r,s,n,t,e),r[F3Y4j.y4Jc][h]&&r[F3Y4j.y4Jc][h][F3Y4j.J7ic](r[F3Y4j.G4Ec][h],r,c,n,s,t,e),c[F3Y4j.y4Jc][a]&&c[F3Y4j.y4Jc][a][F3Y4j.J7ic](c[F3Y4j.G4Ec][a],c,r,s,n,t,e))},Phaser.Physics.Box2D.DefaultContactListener.prototype.PostSolve=function(t,e){var i,o,n=t[F3Y4j.s0ic](),s=t[F3Y4j.f0ic](),r=n[F3Y4j.z4tc](),c=s[F3Y4j.z4tc](),a=n[F3Y4j.g7Jc]()[F3Y4j.j72c],h=s[F3Y4j.g7Jc]()[F3Y4j.j72c],r=r.parent,c=c.parent;r!==void F3Y4j.u42c&&c!==void F3Y4j.u42c&&(i=r[F3Y4j.a4Jc],o=c[F3Y4j.a4Jc],r[F3Y4j.Z4ic][o]&&r[F3Y4j.Z4ic][o][F3Y4j.J7ic](r[F3Y4j.E2tc][o],r,c,n,s,t,e),c[F3Y4j.Z4ic][i]&&c[F3Y4j.Z4ic][i][F3Y4j.J7ic](c[F3Y4j.E2tc][i],c,r,s,n,t,e),r[F3Y4j.d6Qc][s[F3Y4j.a4Jc]]&&r[F3Y4j.d6Qc][s[F3Y4j.a4Jc]][F3Y4j.J7ic](r[F3Y4j.Q8qc][s[F3Y4j.a4Jc]],r,c,n,s,t,e),c[F3Y4j.d6Qc][n[F3Y4j.a4Jc]]&&c[F3Y4j.d6Qc][n[F3Y4j.a4Jc]][F3Y4j.J7ic](c[F3Y4j.Q8qc][n[F3Y4j.a4Jc]],c,r,s,n,t,e),r[F3Y4j.M7Jc][h]&&r[F3Y4j.M7Jc][h][F3Y4j.J7ic](r[F3Y4j.F5Qc][h],r,c,n,s,t,e),c[F3Y4j.M7Jc][a]&&c[F3Y4j.M7Jc][a][F3Y4j.J7ic](c[F3Y4j.F5Qc][a],c,r,s,n,t,e))},Phaser[F3Y4j.w42c][F3Y4j.N77c][F3Y4j.K7qc]=function(){this[F3Y4j.v5ic]=[]},Phaser.Physics.Box2D.Polygon.prototype.setFromFlatXYCoords=function(t){this[F3Y4j.v5ic]=[];for(var e=0;F3Y4j.d7z(e,t.length/2);e++)this[F3Y4j.v5ic][F3Y4j.h17c]({x:t[F3Y4j.X7z(2,e)],y:t[F3Y4j.o6z(2,e)+1]})},Phaser.Physics.Box2D.Polygon.prototype.setFromXYObjects=function(t){this[F3Y4j.v5ic]=t[F3Y4j.U4Ec]()},Phaser.Physics.Box2D.Polygon.prototype.addVertex=function(t){this[F3Y4j.v5ic][F3Y4j.h17c](t)},Phaser.Physics.Box2D.Polygon.prototype.at=function(t){var e=this[F3Y4j.v5ic].length;return this[F3Y4j.v5ic][F3Y4j.q6z(t,0)?F3Y4j.z6z(t,e)+e:F3Y4j.E6z(t,e)]},Phaser.Physics.Box2D.Polygon.prototype.indicesAreAdjacent=function(t,e){if(t=F3Y4j.f6z(t,this[F3Y4j.v5ic].length),e=F3Y4j.H6z(e,this[F3Y4j.v5ic].length),F3Y4j.I6z(t,e))return!0;t=Math.abs(F3Y4j.w6z(t,e));return!!F3Y4j.N6z(t,2)||!!F3Y4j.J6z(t,this[F3Y4j.v5ic].length-1)},Phaser.Physics.Box2D.Polygon.prototype.areaInTriangle=function(t,e,i){return t=this[F3Y4j.S32c](t),e=this[F3Y4j.S32c](e),i=this[F3Y4j.S32c](i),F3Y4j.S6z((e[F3Y4j.W17c]-t[F3Y4j.W17c])*(i[F3Y4j.I17c]-t[F3Y4j.I17c])-(i[F3Y4j.W17c]-t[F3Y4j.W17c])*(e[F3Y4j.I17c]-t[F3Y4j.I17c]),F3Y4j.T8Qc)},Phaser.Physics.Box2D.Polygon.prototype.left=function(t,e,i){return F3Y4j.Q6z(this[F3Y4j.L37c](t,e,i),F3Y4j.u42c)},Phaser.Physics.Box2D.Polygon.prototype.leftOn=function(t,e,i){return F3Y4j.G6z(this[F3Y4j.L37c](t,e,i),F3Y4j.u42c)},Phaser.Physics.Box2D.Polygon.prototype.right=function(t,e,i){return F3Y4j.a6z(this[F3Y4j.L37c](t,e,i),F3Y4j.u42c)},Phaser.Physics.Box2D.Polygon.prototype.rightOn=function(t,e,i){return F3Y4j.L6z(this[F3Y4j.L37c](t,e,i),F3Y4j.u42c)},Phaser[F3Y4j.w42c][F3Y4j.N77c][F3Y4j.K7qc][F3Y4j.w8ic]=function(t,e){var i=F3Y4j.K6z(e[F3Y4j.W17c],t[F3Y4j.W17c]),e=F3Y4j.M6z(e[F3Y4j.I17c],t[F3Y4j.I17c]);return F3Y4j.s0z(i,i)+F3Y4j.x0z(e,e)},Phaser.Physics.Box2D.Polygon.prototype.makeCCW=function(){for(var t=0,e=1,i=this[F3Y4j.v5ic].length;F3Y4j.O0z(e,i);e++)(F3Y4j.B0z(this[F3Y4j.S32c](e)[F3Y4j.I17c],this[F3Y4j.S32c](t)[F3Y4j.I17c])||F3Y4j.u0z(this[F3Y4j.S32c](e)[F3Y4j.I17c],this[F3Y4j.S32c](t)[F3Y4j.I17c])&&F3Y4j.l0z(this[F3Y4j.S32c](e)[F3Y4j.W17c],this[F3Y4j.S32c](t)[F3Y4j.W17c]))&&(t=e);return!this[F3Y4j.d0ic](F3Y4j.m0z(t,1),t,t+1)&&(this[F3Y4j.v5ic].reverse(),!0)},Phaser.Physics.Box2D.Polygon.prototype.isConvex=function(){for(var t=!1,e=!1,i=0,o=this[F3Y4j.v5ic].length;F3Y4j.Y0z(i,o);i++){var n=i,s=F3Y4j.j0z(i+1,o),r=F3Y4j.A0z(i+2,o);F3Y4j.r0z(this[F3Y4j.L37c](this[F3Y4j.v5ic][n],this[F3Y4j.v5ic][s],this[F3Y4j.v5ic][r]),0)?t=!0:e=!0}return F3Y4j.i0z(e,t)},Phaser.Physics.Box2D.Polygon.prototype.isReflex=function(t){return this[F3Y4j.b6ic](F3Y4j.c0z(t,F3Y4j.b42c),t,t+F3Y4j.b42c)},Phaser[F3Y4j.w42c][F3Y4j.N77c][F3Y4j.K7qc][F3Y4j.t6ic]=function(t,e){return F3Y4j.e0z(t[F3Y4j.W17c],e[F3Y4j.W17c])&&F3Y4j.g0z(t[F3Y4j.I17c],e[F3Y4j.I17c])},Phaser[F3Y4j.w42c][F3Y4j.N77c][F3Y4j.K7qc][F3Y4j.t9Qc]=function(t,e,i,o){if(Phaser[F3Y4j.w42c][F3Y4j.N77c][F3Y4j.K7qc][F3Y4j.t6ic](e,i)||Phaser[F3Y4j.w42c][F3Y4j.N77c][F3Y4j.K7qc][F3Y4j.t6ic](t,i)||Phaser[F3Y4j.w42c][F3Y4j.N77c][F3Y4j.K7qc][F3Y4j.t6ic](e,o)||Phaser[F3Y4j.w42c][F3Y4j.N77c][F3Y4j.K7qc][F3Y4j.t6ic](t,o))return F3Y4j.E3qc;var n={},s=(box2d[F3Y4j.J97c](e,t,n),box2d[F3Y4j.L72c](n,F3Y4j.b42c,n),box2d[F3Y4j.U2tc](n,t)),r=box2d[F3Y4j.U2tc](n,i),n=box2d[F3Y4j.U2tc](n,o);if(F3Y4j.k0z(r,s)&&F3Y4j.n0z(n,s))return F3Y4j.E3qc;if(F3Y4j.P0z(r,s)&&F3Y4j.V2z(n,s))return F3Y4j.E3qc;n={},box2d[F3Y4j.J97c](o,i,n),box2d[F3Y4j.L72c](n,F3Y4j.b42c,n),r=box2d[F3Y4j.U2tc](n,i),s=box2d[F3Y4j.U2tc](n,t),o=box2d[F3Y4j.U2tc](n,e);if(F3Y4j.h2z(s,r)&&F3Y4j.R2z(o,r))return F3Y4j.E3qc;if(F3Y4j.b2z(s,r)&&F3Y4j.p2z(o,r))return F3Y4j.E3qc;i=F3Y4j.y2z(r-s,o-s);return{x:t[F3Y4j.W17c]+F3Y4j.Z2z(i,e[F3Y4j.W17c]-t[F3Y4j.W17c]),y:t[F3Y4j.I17c]+F3Y4j.D2z(i,e[F3Y4j.I17c]-t[F3Y4j.I17c])}},Phaser.Physics.Box2D.Polygon.prototype.canSee=function(t,e){if(this.indicesAreAdjacent(t,e))return!1;if(this.leftOn(t+1,t,e)&&this.rightOn(F3Y4j.F2z(t,1),t,e))return!1;for(var i=0;F3Y4j.t2z(i,this[F3Y4j.v5ic].length);++i)if(!F3Y4j.T2z((i+1)%this[F3Y4j.v5ic].length,t)&&!F3Y4j.v2z(i,t)&&this.leftOn(t,e,i+1)&&this.rightOn(t,e,i)&&Phaser[F3Y4j.w42c][F3Y4j.N77c][F3Y4j.K7qc][F3Y4j.t9Qc](this[F3Y4j.S32c](t),this[F3Y4j.S32c](e),this[F3Y4j.S32c](i),this[F3Y4j.S32c](i+1)))return!1;return!0},Phaser.Physics.Box2D.Polygon.prototype.subPolygon=function(t,e){var i="addVertex",o=new Phaser[F3Y4j.w42c][F3Y4j.N77c][F3Y4j.K7qc];if(F3Y4j.W2z(t,e))for(var n=t;F3Y4j.C2z(n,e+1);n++)o[i](this[F3Y4j.S32c](n));else{for(n=t;F3Y4j.U2z(n,this[F3Y4j.v5ic].length);n++)o[i](this[F3Y4j.S32c](n));for(n=0;F3Y4j.d2z(n,e+1);n++)o[i](this[F3Y4j.S32c](n))}return o},Phaser.Physics.Box2D.Polygon.prototype.decomposeOptimal=function(t){if(F3Y4j.X2z(t=void 0===t?0:t,1))return this[F3Y4j.v5ic];this[F3Y4j.p6Jc]();for(var e,i=[],o=[],n=Number[F3Y4j.M9Jc],s=0;F3Y4j.o8z(s,this[F3Y4j.v5ic].length);s++)if(this[F3Y4j.K37c](s))for(var r=0;F3Y4j.q8z(r,this[F3Y4j.v5ic].length);r++)this[F3Y4j.T0ic](s,r)&&(o=this[F3Y4j.U8qc](s,r)[F3Y4j.x42c](t+1),e=this[F3Y4j.U8qc](r,s)[F3Y4j.x42c](t+1),F3Y4j.z8z(o.length+e.length,n)&&(n=(i=o[F3Y4j.U4Ec](e)).length));return F3Y4j.E8z(i.length,0)&&i[F3Y4j.h17c](this[F3Y4j.v5ic]),i},Phaser.Physics.Box2D.Polygon.prototype.decompose=function(t){void 0===t&&(t=0),this[F3Y4j.p6Jc]();for(var e,i,o,n=[],s=Number[F3Y4j.M9Jc],r=!1,c=0;F3Y4j.f8z(c,this[F3Y4j.v5ic].length);c++)if(this[F3Y4j.K37c](c))for(var a,h,r=!0,u=this[F3Y4j.S32c](c),l=0;F3Y4j.H8z(l,this[F3Y4j.v5ic].length);l++)this[F3Y4j.T0ic](c,l)&&(a=this[F3Y4j.S32c](l),h=F3Y4j.I8z(a[F3Y4j.W17c],u[F3Y4j.W17c]),a=F3Y4j.w8z(a[F3Y4j.I17c],u[F3Y4j.I17c]),h=F3Y4j.N8z(h*h,a*a),F3Y4j.J8z(h,s)&&(e=c,i=l,s=h));return!r&&F3Y4j.S8z(this[F3Y4j.v5ic].length,8)&&(e=0,i=Math[F3Y4j.D6ic](F3Y4j.Q8z(this[F3Y4j.v5ic].length,2)),r=!0),r&&(o=this[F3Y4j.U8qc](e,i)[F3Y4j.x42c](t+1),t=this[F3Y4j.U8qc](i,e)[F3Y4j.x42c](t+1),n=o[F3Y4j.U4Ec](t)),F3Y4j.G8z(n.length,0)&&n[F3Y4j.h17c](this[F3Y4j.v5ic]),n};var PhaserCachebuster,PhaserSpine,PhaserSuperStorage,Fabrique,Transmorpher3,__extends=this&&this.__extends||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)},spine=(!function(t){i=Phaser.Plugin,__extends(o,i),o.prototype.patchLoader=function(){Object.defineProperty(Phaser.Loader,"cacheBuster",{value:null}),Phaser.Loader.prototype.transformUrl=function(t,e){return t?(null!==this.cacheBuster&&null===t.match(/^(data:)/)&&(t+="?v="+this.cacheBuster),t.match(/^(?:blob:|data:|http:\/\/|https:\/\/|\/\/)/)?t:this.baseURL+e.path+t):""}};var i,e=o;function o(t,e){t=i.call(this,t,e)||this;return t.patchLoader(),t}t.CacheBuster=e}(PhaserCachebuster=PhaserCachebuster||{}),{radDeg:180/Math.PI,degRad:Math.PI/180,Float32Array:"undefined"==typeof Float32Array?Array:Float32Array,Uint32Array:"undefined"==typeof Uint32Array?Array:Uint32Array,Uint16Array:"undefined"==typeof Uint16Array?Array:Uint16Array}),__extends=(spine.temp=new spine.Float32Array(2),spine.BoneData=function(t,e){this.name=t,this.parent=e},spine.BoneData.prototype={length:0,x:0,y:0,rotation:0,scaleX:1,scaleY:1,inheritScale:!0,inheritRotation:!0},spine.BlendMode={normal:0,additive:1,multiply:2,screen:3},spine.SlotData=function(t,e){this.name=t,this.boneData=e},spine.SlotData.prototype={r:1,g:1,b:1,a:1,attachmentName:null,blendMode:spine.BlendMode.normal},spine.IkConstraintData=function(t){this.name=t,this.bones=[]},spine.IkConstraintData.prototype={target:null,bendDirection:1,mix:1},spine.TransformConstraintData=function(t){this.name=t},spine.TransformConstraintData.prototype={bone:null,target:null,translateMix:1,x:0,y:0},spine.Bone=function(t,e,i){this.data=t,this.skeleton=e,this.parent=i,this.setToSetupPose()},spine.Bone.yDown=!1,spine.Bone.prototype={x:0,y:0,rotation:0,scaleX:1,scaleY:1,a:0,b:0,worldX:0,c:0,d:0,worldY:0,worldSignX:1,worldSignY:1,update:function(){this.updateWorldTransform(this.x,this.y,this.rotation,this.scaleX,this.scaleY)},updateWorldTransformWith:function(){this.updateWorldTransform(this.x,this.y,this.rotation,this.scaleX,this.scaleY)},updateWorldTransform:function(t,e,i,o,n){this.appliedRotation=i,this.appliedScaleX=o,this.appliedScaleY=n,i*=spine.degRad;var s,r=(j=Math.cos(i))*o,c=-(Y=Math.sin(i))*n,a=Y*o,h=j*n,u=this.parent;if(!u)return(s=this.skeleton).flipX&&(t=-t,r=-r,c=-c),s.flipY!=spine.Bone.yDown&&(e=-e,a=-a,h=-h),this.a=r,this.b=c,this.c=a,this.d=h,this.worldX=t,this.worldY=e,this.worldSignX=o<0?-1:1,void(this.worldSignY=n<0?-1:1);var l=u.a,d=u.b,p=u.c,F=u.d;if(this.worldX=l*t+d*e+u.worldX,this.worldY=p*t+F*e+u.worldY,this.worldSignX=u.worldSignX*(o<0?-1:1),this.worldSignY=u.worldSignY*(n<0?-1:1),this.data.inheritRotation&&this.data.inheritScale)this.a=l*r+d*a,this.b=l*c+d*h,this.c=p*r+F*a,this.d=p*c+F*h;else{if(this.data.inheritRotation){p=d=0,F=l=1;do{i=u.appliedRotation*spine.degRad;var j,Y,f=l*(j=Math.cos(i))+d*(Y=Math.sin(i)),d=l*-Y+d*j,l=f}while((f=p*j+F*Y,F=p*-Y+F*j,p=f,u.data.inheritRotation)&&(u=u.parent));this.a=l*r+d*a,this.b=l*c+d*h,this.c=p*r+F*a,this.d=p*c+F*h}else if(this.data.inheritScale){p=d=0,F=l=1;do{i=u.appliedRotation*spine.degRad,j=Math.cos(i),Y=Math.sin(i);var b=u.appliedScaleX,g=u.appliedScaleY,y=j*b,m=-Y*g,x=Y*b,g=j*g,f=l*y+d*x}while((d=l*m+d*g,l=f,f=p*y+F*x,F=p*m+F*g,p=f,b<0&&(i=-i),f=l*(j=Math.cos(-i))+d*(Y=Math.sin(-i)),d=l*-Y+d*j,l=f,f=p*j+F*Y,F=p*-Y+F*j,p=f,u.data.inheritScale)&&(u=u.parent));this.a=l*r+d*a,this.b=l*c+d*h,this.c=p*r+F*a,this.d=p*c+F*h}else this.a=r,this.b=c,this.c=a,this.d=h;this.skeleton.flipX&&(this.a=-this.a,this.b=-this.b),this.skeleton.flipY!=spine.Bone.yDown&&(this.c=-this.c,this.d=-this.d)}},setToSetupPose:function(){var t=this.data;this.x=t.x,this.y=t.y,this.rotation=t.rotation,this.scaleX=t.scaleX,this.scaleY=t.scaleY},getWorldRotationX:function(){return Math.atan2(this.c,this.a)*spine.radDeg},getWorldRotationY:function(){return Math.atan2(this.d,this.b)*spine.radDeg},getWorldScaleX:function(){return Math.sqrt(this.a*this.a+this.b*this.b)*this.worldSignX},getWorldScaleY:function(){return Math.sqrt(this.c*this.c+this.d*this.d)*this.worldSignY},worldToLocal:function(t){var e=t[0]-this.worldX,i=t[1]-this.worldY,o=this.a,n=this.b,s=this.c,r=this.d,c=1/(o*r-n*s);return t[0]=e*r*c-i*n*c,t[1]=i*o*c-e*s*c,t},localToWorld:function(t){var e=t[0],i=t[1];return t[0]=e*this.a+i*this.b+this.worldX,t[1]=e*this.c+i*this.d+this.worldY,t}},spine.Slot=function(t,e){this.data=t,this.bone=e,this.attachmentVertices=new spine.Float32Array,this.setToSetupPose()},spine.Slot.prototype={r:1,g:1,b:1,a:1,_attachmentTime:0,attachment:null,setAttachment:function(t){this.attachment!=t&&(this.attachment=t,this._attachmentTime=this.bone.skeleton.time,this.attachmentVertices.length=0)},setAttachmentTime:function(t){this._attachmentTime=this.bone.skeleton.time-t},getAttachmentTime:function(){return this.bone.skeleton.time-this._attachmentTime},setToSetupPose:function(){var t=this.data;if(this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a,t.attachmentName){for(var e=this.bone.skeleton.data.slots,i=0,o=e.length;i<o;i++)if(e[i]==t){this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachmentBySlotIndex(i,t.attachmentName));break}}else this.setAttachment(null)}},spine.IkConstraint=function(t,e){this.data=t,this.mix=t.mix,this.bendDirection=t.bendDirection,this.bones=[];for(var i=0,o=t.bones.length;i<o;i++)this.bones[i]=e.findBone(t.bones[i].name);this.target=e.findBone(t.target.name)},spine.IkConstraint.prototype={apply:function(){this.update()},update:function(){var t=this.target,e=this.bones;switch(e.length){case 1:spine.IkConstraint.apply1(e[0],t.worldX,t.worldY,this.mix);break;case 2:spine.IkConstraint.apply2(e[0],e[1],t.worldX,t.worldY,this.bendDirection,this.mix)}}},spine.IkConstraint.apply1=function(t,e,i,o){var n=t.parent?t.parent.getWorldRotationX():0,s=t.rotation,i=Math.atan2(i-t.worldY,e-t.worldX)*spine.radDeg-n;180<(i=t.worldSignX!=t.worldSignY!=(t.skeleton.flipX!=(t.skeleton.flipY!=spine.Bone.yDown))?360-i:i)?i-=360:i<-180&&(i+=360),t.updateWorldTransform(t.x,t.y,s+(i-s)*o,t.appliedScaleX,t.appliedScaleY)},spine.IkConstraint.apply2=function(t,e,M,R,i,L){if(0!=L){var k,D,o,n,s,r,c=t.x,a=t.y,h=t.appliedScaleX,u=t.appliedScaleY,l=h<0?(h=-h,k=180,-1):(k=0,1),d=(u<0&&(u=-u,l=-l),e.x),p=e.y,F=e.appliedScaleX,O=Math.abs(h-u)<=1e-4,j=(O||0==p||(e.worldX=t.a*d+t.worldX,e.worldY=t.c*d+t.worldY,p=0),D=F<0?(F=-F,180):0,t.parent),Y=(j=j?(g=j.a,x=j.b,B=j.c,J=1/(g*(m=j.d)-x*B),o=((T=M-(s=j.worldX))*m-(A=R-(j=j.worldY))*x)*J-c,n=(A*g-T*B)*J-a,s=((T=e.worldX-s)*m-(A=e.worldY-j)*x)*J-c,(A*g-T*B)*J-a):(o=M-c,n=R-a,s=e.worldX-c,e.worldY-a),Math.sqrt(s*s+j*j)),f=e.data.length*F;t:if(O)var b=(o*o+n*n-Y*Y-(f*=h)*f)/(2*Y*f),g=(b<-1?b=-1:1<b&&(b=1),r=Math.acos(b)*i,Y+f*b),b=f*Math.sin(r),y=Math.atan2(n*g-o*b,o*g+n*b);else{var m,g=h*f,x=u*f,b=Math.atan2(n,o),v=g*g,w=x*x,_=o*o+n*n,E=w*(Y*Y)+v*_-v*w,S=-2*w*Y,C=w-v;if(0<=(m=S*S-4*C*E)){var P=Math.sqrt(m),S=(P=-(S+(P=S<0?-P:P))/2)/C,C=E/P,E=Math.abs(S)<Math.abs(C)?S:C;if(E*E<=_){var A=Math.sqrt(_-E*E)*i;y=b-Math.atan2(A,E),r=Math.atan2(A/u,(E-Y)/h);break t}}var T,P=0,S=Number.MAX_VALUE,C=0,E=0,G=0,I=0,Q=0,N=0,q=(T=Y+g)*T,v=(I<q&&(G=0,I=q,Q=T),(q=(T=Y-g)*T)<S&&(P=Math.PI,S=q,C=T),Math.acos(-g*Y/(v-w))),A=(T=g*Math.cos(v)+Y,x*Math.sin(v));(q=T*T+A*A)<S&&(P=v,S=q,C=T,E=A),I<q&&(G=v,I=q,Q=T,N=A),r=_<=(S+I)/2?(y=b-Math.atan2(E*i,C),P*i):(y=b-Math.atan2(N*i,Q),G*i)}var B=Math.atan2(p,d)*l,J=(180<(y=(y-B)*spine.radDeg+k)?y-=360:y<-180&&(y+=360),180<(r=(r+B)*spine.radDeg*l+D)?r-=360:r<-180&&(r+=360),t.rotation);t.updateWorldTransform(c,a,J+(y-J)*L,t.appliedScaleX,t.appliedScaleY),J=e.rotation,e.updateWorldTransform(d,p,J+(r-J)*L,e.appliedScaleX,e.appliedScaleY)}},spine.TransformConstraint=function(t,e){this.data=t,this.translateMix=t.translateMix,this.x=t.x,this.y=t.y,this.bone=e.findBone(t.bone.name),this.target=e.findBone(t.target.name)},spine.TransformConstraint.prototype={apply:function(){this.update()},update:function(){var t,e,i=this.translateMix;0<i&&((t=spine.temp)[0]=x,t[1]=y,this.target.localToWorld(t),(e=this.bone).worldX+=(t[0]-e.worldX)*i,e.worldY+=(t[1]-e.worldY)*i)}},spine.Skin=function(t){this.name=t,this.attachments={}},spine.Skin.prototype={addAttachment:function(t,e,i){this.attachments[t+":"+e]=i},getAttachment:function(t,e){return this.attachments[t+":"+e]},_attachAll:function(t,e){for(var i in e.attachments){var o=i.indexOf(":"),n=parseInt(i.substring(0,o)),i=i.substring(o+1),o=t.slots[n];!o.attachment||o.attachment.name!=i||(n=this.getAttachment(n,i))&&o.setAttachment(n)}}},spine.Animation=function(t,e,i){this.name=t,this.timelines=e,this.duration=i},spine.Animation.prototype={apply:function(t,e,i,o,n){o&&0!=this.duration&&(i%=this.duration,0<e&&(e%=this.duration));for(var s=this.timelines,r=0,c=s.length;r<c;r++)s[r].apply(t,e,i,n,1)},mix:function(t,e,i,o,n,s){o&&0!=this.duration&&(i%=this.duration,0<e&&(e%=this.duration));for(var r=this.timelines,c=0,a=r.length;c<a;c++)r[c].apply(t,e,i,n,s)}},spine.Animation.binarySearch=function(t,e,i){var o=0,n=Math.floor(t.length/i)-2;if(!n)return i;for(var s=n>>>1;;){if(t[(s+1)*i]<=e?o=s+1:n=s,o==n)return(o+1)*i;s=o+n>>>1}},spine.Animation.binarySearch1=function(t,e){var i=0,o=t.length-2;if(!o)return 1;for(var n=o>>>1;;){if(t[n+1]<=e?i=n+1:o=n,i==o)return i+1;n=i+o>>>1}},spine.Animation.linearSearch=function(t,e,i){for(var o=0,n=t.length-i;o<=n;o+=i)if(t[o]>e)return o;return-1},spine.Curves=function(t){t=19*(t-1);this.curves=new spine.Float32Array(t),this.curves.length=t},spine.Curves.prototype={setLinear:function(t){this.curves[19*t]=0},setStepped:function(t){this.curves[19*t]=1},setCurve:function(t,e,i,o,n){for(var s=.1*.1*.1,r=6*s,c=2*-e+o,a=2*-i+n,o=3*(e-o)+1,n=3*(i-n)+1,h=e*(3*.1)+c*(.1*.1*3)+o*s,u=i*(3*.1)+a*(.1*.1*3)+n*s,l=c*(.1*.1*6)+o*r,d=a*(.1*.1*6)+n*r,p=o*r,F=n*r,j=19*t,Y=this.curves,f=(Y[j++]=2,h),b=u,g=j+19-1;j<g;j+=2)Y[j]=f,Y[j+1]=b,h+=l,u+=d,l+=p,d+=F,f+=h,b+=u},getCurvePercent:function(t,e){e=e<0?0:1<e?1:e;var i=this.curves,o=19*t,t=i[o];if(0===t)return e;if(1==t)return 0;for(var n,s,r=0,c=++o,a=o+19-1;o<a;o+=2)if(e<=(r=i[o]))return(s=o==c?n=0:(n=i[o-2],i[o-1]))+(i[o+1]-s)*(e-n)/(r-n);t=i[o-1];return t+(1-t)*(e-r)/(1-r)}},spine.RotateTimeline=function(t){this.curves=new spine.Curves(t),this.frames=new spine.Float32Array(2*t),this.frames.length=2*t},spine.RotateTimeline.prototype={boneIndex:0,getFrameCount:function(){return this.frames.length/2},setFrame:function(t,e,i){this.frames[t*=2]=e,this.frames[t+1]=i},apply:function(t,e,i,o,n){var s=this.frames;if(!(i<s[0])){t=t.bones[this.boneIndex];if(i>=s[s.length-2]){for(var r=t.data.rotation+s[s.length-1]-t.rotation;180<r;)r-=360;for(;r<-180;)r+=360;t.rotation+=r*n}else{for(var c=spine.Animation.binarySearch(s,i,2),a=s[c-1],h=s[c],i=1-(i-h)/(s[c-2]-h),i=this.curves.getCurvePercent(c/2-1,i),r=s[c+1]-a;180<r;)r-=360;for(;r<-180;)r+=360;for(r=t.data.rotation+(a+r*i)-t.rotation;180<r;)r-=360;for(;r<-180;)r+=360;t.rotation+=r*n}}}},spine.TranslateTimeline=function(t){this.curves=new spine.Curves(t),this.frames=new spine.Float32Array(3*t),this.frames.length=3*t},spine.TranslateTimeline.prototype={boneIndex:0,getFrameCount:function(){return this.frames.length/3},setFrame:function(t,e,i,o){this.frames[t*=3]=e,this.frames[t+1]=i,this.frames[t+2]=o},apply:function(t,e,i,o,n){var s=this.frames;if(!(i<s[0])){t=t.bones[this.boneIndex];if(i>=s[s.length-3])return t.x+=(t.data.x+s[s.length-2]-t.x)*n,void(t.y+=(t.data.y+s[s.length-1]-t.y)*n);var r=spine.Animation.binarySearch(s,i,3),c=s[r-2],a=s[r-1],h=s[r],i=1-(i-h)/(s[r+-3]-h),i=this.curves.getCurvePercent(r/3-1,i);t.x+=(t.data.x+c+(s[r+1]-c)*i-t.x)*n,t.y+=(t.data.y+a+(s[r+2]-a)*i-t.y)*n}}},spine.ScaleTimeline=function(t){this.curves=new spine.Curves(t),this.frames=new spine.Float32Array(3*t),this.frames.length=3*t},spine.ScaleTimeline.prototype={boneIndex:0,getFrameCount:function(){return this.frames.length/3},setFrame:function(t,e,i,o){this.frames[t*=3]=e,this.frames[t+1]=i,this.frames[t+2]=o},apply:function(t,e,i,o,n){var s=this.frames;if(!(i<s[0])){t=t.bones[this.boneIndex];if(i>=s[s.length-3])return t.scaleX+=(t.data.scaleX*s[s.length-2]-t.scaleX)*n,void(t.scaleY+=(t.data.scaleY*s[s.length-1]-t.scaleY)*n);var r=spine.Animation.binarySearch(s,i,3),c=s[r-2],a=s[r-1],h=s[r],i=1-(i-h)/(s[r+-3]-h),i=this.curves.getCurvePercent(r/3-1,i);t.scaleX+=(t.data.scaleX*(c+(s[r+1]-c)*i)-t.scaleX)*n,t.scaleY+=(t.data.scaleY*(a+(s[r+2]-a)*i)-t.scaleY)*n}}},spine.ColorTimeline=function(t){this.curves=new spine.Curves(t),this.frames=new spine.Float32Array(5*t),this.frames.length=5*t},spine.ColorTimeline.prototype={slotIndex:0,getFrameCount:function(){return this.frames.length/5},setFrame:function(t,e,i,o,n,s){this.frames[t*=5]=e,this.frames[t+1]=i,this.frames[t+2]=o,this.frames[t+3]=n,this.frames[t+4]=s},apply:function(t,e,i,o,n){var s,r,c,a,h,u,l,d,p=this.frames;i<p[0]||(h=i>=p[p.length-5]?(s=p[(a=p.length-1)-3],r=p[a-2],c=p[a-1],p[a]):(h=p[(a=spine.Animation.binarySearch(p,i,5))-4],d=p[a-3],u=p[a-2],l=p[a-1],i=1-(i-(i=p[a]))/(p[a-5]-i),i=this.curves.getCurvePercent(a/5-1,i),s=h+(p[a+1]-h)*i,r=d+(p[a+2]-d)*i,c=u+(p[a+3]-u)*i,l+(p[a+4]-l)*i),d=t.slots[this.slotIndex],n<1?(d.r+=(s-d.r)*n,d.g+=(r-d.g)*n,d.b+=(c-d.b)*n,d.a+=(h-d.a)*n):(d.r=s,d.g=r,d.b=c,d.a=h))}},spine.AttachmentTimeline=function(t){this.curves=new spine.Curves(t),this.frames=new spine.Float32Array(t),this.frames.length=t,this.attachmentNames=[],this.attachmentNames.length=t},spine.AttachmentTimeline.prototype={slotIndex:0,getFrameCount:function(){return this.frames.length},setFrame:function(t,e,i){this.frames[t]=e,this.attachmentNames[t]=i},apply:function(t,e,i,o,n){var s=this.frames;i<s[0]?i<e&&this.apply(t,e,Number.MAX_VALUE,null,0):(i<e&&(e=-1),s[s=i>=s[s.length-1]?s.length-1:spine.Animation.binarySearch1(s,i)-1]<e||(i=this.attachmentNames[s],t.slots[this.slotIndex].setAttachment(i?t.getAttachmentBySlotIndex(this.slotIndex,i):null)))}},spine.EventTimeline=function(t){this.frames=new spine.Float32Array(t),this.frames.length=t,this.events=[],this.events.length=t},spine.EventTimeline.prototype={getFrameCount:function(){return this.frames.length},setFrame:function(t,e){this.frames[t]=e.time,this.events[t]=e},apply:function(t,e,i,o,n){if(o){var s=this.frames,r=s.length;if(i<e)this.apply(t,e,Number.MAX_VALUE,o,n),e=-1;else if(e>=s[r-1])return;if(!(i<s[0])){if(e<s[0])c=0;else for(var c,a=s[c=spine.Animation.binarySearch1(s,e)];0<c&&s[c-1]==a;)c--;for(var h=this.events;c<r&&i>=s[c];c++)o[o.length]=h[c]}}}},spine.DrawOrderTimeline=function(t){this.frames=new spine.Float32Array(t),this.frames.length=t,this.drawOrders=[],this.drawOrders.length=t},spine.DrawOrderTimeline.prototype={getFrameCount:function(){return this.frames.length},setFrame:function(t,e,i){this.frames[t]=e,this.drawOrders[t]=i},apply:function(t,e,i,o,n){var s=this.frames;if(!(i<s[0])){var s=i>=s[s.length-1]?s.length-1:spine.Animation.binarySearch1(s,i)-1,r=t.drawOrder,c=t.slots,a=this.drawOrders[s];if(a)for(h=0,u=a.length;h<u;h++)r[h]=t.slots[a[h]];else for(var h=0,u=c.length;h<u;h++)r[h]=c[h]}}},spine.FfdTimeline=function(t){this.curves=new spine.Curves(t),this.frames=new spine.Float32Array(t),this.frames.length=t,this.frameVertices=[],this.frameVertices.length=t},spine.FfdTimeline.prototype={slotIndex:0,attachment:0,getFrameCount:function(){return this.frames.length},setFrame:function(t,e,i){this.frames[t]=e,this.frameVertices[t]=i},apply:function(t,e,i,o,n){var t=t.slots[this.slotIndex],s=t.attachment;if(s&&(s==this.attachment||s.inheritFFD&&s.parentMesh==this.attachment)){s=this.frames;if(!(i<s[0])){var r=this.frameVertices,c=r[0].length,a=t.attachmentVertices;if(a.length!=c&&(t.attachmentVertices=a=new spine.Float32Array(c),n=1),i>=s[s.length-1]){var h=r[s.length-1];if(n<1)for(var u=0;u<c;u++)a[u]+=(h[u]-a[u])*n;else for(u=0;u<c;u++)a[u]=h[u]}else{var t=spine.Animation.binarySearch1(s,i),l=s[t],d=1-(i-l)/(s[t-1]-l),d=this.curves.getCurvePercent(t-1,d<0?0:1<d?1:d),p=r[t-1],F=r[t];if(n<1)for(u=0;u<c;u++){var j=p[u];a[u]+=(j+(F[u]-j)*d-a[u])*n}else for(u=0;u<c;u++){j=p[u];a[u]=j+(F[u]-j)*d}}}}}},spine.IkConstraintTimeline=function(t){this.curves=new spine.Curves(t),this.frames=new spine.Float32Array(3*t),this.frames.length=3*t},spine.IkConstraintTimeline.prototype={ikConstraintIndex:0,getFrameCount:function(){return this.frames.length/3},setFrame:function(t,e,i,o){this.frames[t*=3]=e,this.frames[t+1]=i,this.frames[t+2]=o},apply:function(t,e,i,o,n){var s=this.frames;if(!(i<s[0])){t=t.ikConstraints[this.ikConstraintIndex];if(i>=s[s.length-3])return t.mix+=(s[s.length-2]-t.mix)*n,void(t.bendDirection=s[s.length-1]);var r=spine.Animation.binarySearch(s,i,3),c=s[r+-2],a=s[r],i=1-(i-a)/(s[r+-3]-a),i=this.curves.getCurvePercent(r/3-1,i),a=c+(s[r+1]-c)*i;t.mix+=(a-t.mix)*n,t.bendDirection=s[r+-1]}}},spine.SkeletonData=function(){this.bones=[],this.slots=[],this.skins=[],this.events=[],this.animations=[],this.ikConstraints=[],this.transformConstraints=[]},spine.SkeletonData.prototype={name:null,defaultSkin:null,width:0,height:0,version:null,hash:null,findBone:function(t){for(var e=this.bones,i=0,o=e.length;i<o;i++)if(e[i].name==t)return e[i];return null},findBoneIndex:function(t){for(var e=this.bones,i=0,o=e.length;i<o;i++)if(e[i].name==t)return i;return-1},findSlot:function(t){for(var e=this.slots,i=0,o=e.length;i<o;i++)if(e[i].name==t)return slot[i];return null},findSlotIndex:function(t){for(var e=this.slots,i=0,o=e.length;i<o;i++)if(e[i].name==t)return i;return-1},findSkin:function(t){for(var e=this.skins,i=0,o=e.length;i<o;i++)if(e[i].name==t)return e[i];return null},findEvent:function(t){for(var e=this.events,i=0,o=e.length;i<o;i++)if(e[i].name==t)return e[i];return null},findAnimation:function(t){for(var e=this.animations,i=0,o=e.length;i<o;i++)if(e[i].name==t)return e[i];return null},findIkConstraint:function(t){for(var e=this.ikConstraints,i=0,o=e.length;i<o;i++)if(e[i].name==t)return e[i];return null},findTransformConstraints:function(t){for(var e=this.transformConstraints,i=0,o=e.length;i<o;i++)if(e[i].name==t)return e[i];return null}},spine.Skeleton=function(t){this.data=t,this.bones=[];for(var e=0,i=t.bones.length;e<i;e++){var o=t.bones[e],n=o.parent?this.bones[t.bones.indexOf(o.parent)]:null;this.bones[e]=new spine.Bone(o,this,n)}this.slots=[],this.drawOrder=[];for(e=0,i=t.slots.length;e<i;e++){var s=t.slots[e],r=this.bones[t.bones.indexOf(s.boneData)],s=new spine.Slot(s,r);this.slots[e]=s,this.drawOrder[e]=s}this.ikConstraints=[];for(e=0,i=t.ikConstraints.length;e<i;e++)this.ikConstraints[e]=new spine.IkConstraint(t.ikConstraints[e],this);this.transformConstraints=[];for(e=0,i=t.transformConstraints.length;e<i;e++)this.transformConstraints[e]=new spine.TransformConstraint(t.transformConstraints[e],this);this.cache=[],this.updateCache()},spine.Skeleton.prototype={x:0,y:0,skin:null,r:1,g:1,b:1,a:1,time:0,flipX:!1,flipY:!1,updateCache:function(){for(var t=this.bones,e=this.cache,i=this.ikConstraints,o=this.transformConstraints,n=i.length,s=o.length,r=e.length=0,c=t.length;r<c;r++){var a=t[r];e[e.length]=a;for(var h=0;h<n;h++){var u=i[h];if(a==u.bones[u.bones.length-1]){e[e.length]=u;break}}}for(r=0;r<s;r++)for(var l=o[r],h=e.length-1;0<=h;h--){var d=e[h];if(d==l.bone||d==l.target){e.splice(h+1,0,l);break}}},updateWorldTransform:function(){for(var t=this.cache,e=0,i=t.length;e<i;e++)t[e].update()},setToSetupPose:function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()},setBonesToSetupPose:function(){for(var t=this.bones,e=0,i=t.length;e<i;e++)t[e].setToSetupPose();for(var o=this.ikConstraints,e=0,i=o.length;e<i;e++)(n=o[e]).bendDirection=n.data.bendDirection,n.mix=n.data.mix;for(var n,s=this.transformConstraints,e=0,i=s.length;e<i;e++)(n=s[e]).translateMix=n.data.translateMix,n.x=n.data.x,n.y=n.data.y},setSlotsToSetupPose:function(){for(var t=this.slots,e=this.drawOrder,i=0,o=t.length;i<o;i++)e[i]=t[i],t[i].setToSetupPose(i)},getRootBone:function(){return this.bones.length?this.bones[0]:null},findBone:function(t){for(var e=this.bones,i=0,o=e.length;i<o;i++)if(e[i].data.name==t)return e[i];return null},findBoneIndex:function(t){for(var e=this.bones,i=0,o=e.length;i<o;i++)if(e[i].data.name==t)return i;return-1},findSlot:function(t){for(var e=this.slots,i=0,o=e.length;i<o;i++)if(e[i].data.name==t)return e[i];return null},findSlotIndex:function(t){for(var e=this.slots,i=0,o=e.length;i<o;i++)if(e[i].data.name==t)return i;return-1},setSkinByName:function(t){var e=this.data.findSkin(t);if(!e)throw"Skin not found: "+t;this.setSkin(e)},setSkin:function(t){if(t)if(this.skin)t._attachAll(this,this.skin);else for(var e=this.slots,i=0,o=e.length;i<o;i++){var n=e[i],s=n.data.attachmentName;!s||(s=t.getAttachment(i,s))&&n.setAttachment(s)}this.skin=t},getAttachmentBySlotName:function(t,e){return this.getAttachmentBySlotIndex(this.data.findSlotIndex(t),e)},getAttachmentBySlotIndex:function(t,e){if(this.skin){var i=this.skin.getAttachment(t,e);if(i)return i}return this.data.defaultSkin?this.data.defaultSkin.getAttachment(t,e):null},setAttachment:function(t,e){for(var i=this.slots,o=0,n=i.length;o<n;o++){var s=i[o];if(s.data.name==t){var r=null;if(e&&!(r=this.getAttachmentBySlotIndex(o,e)))throw"Attachment not found: "+e+", for slot: "+t;return void s.setAttachment(r)}}throw"Slot not found: "+t},findIkConstraint:function(t){for(var e=this.ikConstraints,i=0,o=e.length;i<o;i++)if(e[i].data.name==t)return e[i];return null},findTransformConstraint:function(t){for(var e=this.transformConstraints,i=0,o=e.length;i<o;i++)if(e[i].data.name==t)return e[i];return null},update:function(t){this.time+=t}},spine.EventData=function(t){this.name=t},spine.EventData.prototype={intValue:0,floatValue:0,stringValue:null},spine.Event=function(t,e){this.time=t,this.data=e},spine.Event.prototype={intValue:0,floatValue:0,stringValue:null},spine.AttachmentType={region:0,boundingbox:1,mesh:2,weightedmesh:3,linkedmesh:4,weightedlinkedmesh:5},spine.RegionAttachment=function(t){this.name=t,this.offset=new spine.Float32Array(8),this.offset.length=8,this.uvs=new spine.Float32Array(8),this.uvs.length=8},spine.RegionAttachment.prototype={type:spine.AttachmentType.region,x:0,y:0,rotation:0,scaleX:1,scaleY:1,width:0,height:0,r:1,g:1,b:1,a:1,path:null,rendererObject:null,regionOffsetX:0,regionOffsetY:0,regionWidth:0,regionHeight:0,regionOriginalWidth:0,regionOriginalHeight:0,setUVs:function(t,e,i,o,n){var s=this.uvs;n?(s[2]=t,s[3]=o,s[4]=t,s[5]=e,s[6]=i,s[7]=e,s[0]=i,s[1]=o):(s[0]=t,s[1]=o,s[2]=t,s[3]=e,s[4]=i,s[5]=e,s[6]=i,s[7]=o)},updateOffset:function(){var t=this.width/this.regionOriginalWidth*this.scaleX,e=this.height/this.regionOriginalHeight*this.scaleY,i=-this.width/2*this.scaleX+this.regionOffsetX*t,o=-this.height/2*this.scaleY+this.regionOffsetY*e,t=i+this.regionWidth*t,e=o+this.regionHeight*e,n=this.rotation*spine.degRad,s=Math.cos(n),n=Math.sin(n),r=i*s+this.x,i=i*n,c=o*s+this.y,o=o*n,a=t*s+this.x,t=t*n,s=e*s+this.y,e=e*n,n=this.offset;n[0]=r-o,n[1]=c+i,n[2]=r-e,n[3]=s+i,n[4]=a-e,n[5]=s+t,n[6]=a-o,n[7]=c+t},computeVertices:function(t,e,i,o){t+=i.worldX,e+=i.worldY;var n=i.a,s=i.b,r=i.c,i=i.d,c=this.offset;o[0]=c[0]*n+c[1]*s+t,o[1]=c[0]*r+c[1]*i+e,o[2]=c[2]*n+c[3]*s+t,o[3]=c[2]*r+c[3]*i+e,o[4]=c[4]*n+c[5]*s+t,o[5]=c[4]*r+c[5]*i+e,o[6]=c[6]*n+c[7]*s+t,o[7]=c[6]*r+c[7]*i+e}},spine.MeshAttachment=function(t){this.name=t},spine.MeshAttachment.prototype={type:spine.AttachmentType.mesh,vertices:null,uvs:null,regionUVs:null,triangles:null,hullLength:0,r:1,g:1,b:1,a:1,path:null,inheritFFD:!0,parentMesh:null,rendererObject:null,regionU:0,regionV:0,regionU2:0,regionV2:0,regionRotate:!1,regionOffsetX:0,regionOffsetY:0,regionWidth:0,regionHeight:0,regionOriginalWidth:0,regionOriginalHeight:0,edges:null,width:0,height:0,updateUVs:function(){var t=this.regionU2-this.regionU,e=this.regionV2-this.regionV,i=this.regionUVs.length;if(this.uvs&&this.uvs.length==i||(this.uvs=new spine.Float32Array(i)),this.regionRotate)for(var o=0;o<i;o+=2)this.uvs[o]=this.regionU+this.regionUVs[o+1]*t,this.uvs[o+1]=this.regionV+e-this.regionUVs[o]*e;else for(o=0;o<i;o+=2)this.uvs[o]=this.regionU+this.regionUVs[o]*t,this.uvs[o+1]=this.regionV+this.regionUVs[o+1]*e},computeWorldVertices:function(t,e,i,o){var n=i.bone,s=(t+=n.worldX,e+=n.worldY,n.a),r=n.b,c=n.c,a=n.d,h=this.vertices,u=h.length;i.attachmentVertices.length==u&&(h=i.attachmentVertices);for(var l=0;l<u;l+=2){var d=h[l],p=h[l+1];o[l]=d*s+p*r+t,o[l+1]=d*c+p*a+e}},setParentMesh:function(t){(this.parentMesh=t)&&(this.vertices=t.vertices,this.regionUVs=t.regionUVs,this.triangles=t.triangles,this.hullLength=t.hullLength,this.edges=t.edges,this.width=t.width,this.height=t.height)}},spine.WeightedMeshAttachment=function(t){this.name=t},spine.WeightedMeshAttachment.prototype={type:spine.AttachmentType.weightedmesh,bones:null,weights:null,uvs:null,regionUVs:null,triangles:null,hullLength:0,r:1,g:1,b:1,a:1,path:null,inheritFFD:!0,parentMesh:null,rendererObject:null,regionU:0,regionV:0,regionU2:0,regionV2:0,regionRotate:!1,regionOffsetX:0,regionOffsetY:0,regionWidth:0,regionHeight:0,regionOriginalWidth:0,regionOriginalHeight:0,edges:null,width:0,height:0,updateUVs:function(t,e,i,o,n){var s=this.regionU2-this.regionU,r=this.regionV2-this.regionV,c=this.regionUVs.length;if(this.uvs&&this.uvs.length==c||(this.uvs=new spine.Float32Array(c)),this.regionRotate)for(var a=0;a<c;a+=2)this.uvs[a]=this.regionU+this.regionUVs[a+1]*s,this.uvs[a+1]=this.regionV+r-this.regionUVs[a]*r;else for(a=0;a<c;a+=2)this.uvs[a]=this.regionU+this.regionUVs[a]*s,this.uvs[a+1]=this.regionV+this.regionUVs[a+1]*r},computeWorldVertices:function(t,e,i,o){var n,s,r,c,a,h,u,l=i.bone.skeleton.bones,d=this.weights,p=this.bones,F=0,j=0,Y=0,f=0,b=p.length;if(i.attachmentVertices.length)for(var g=i.attachmentVertices;j<b;F+=2){for(r=s=0,n=p[j++]+j;j<n;j++,Y+=3,f+=2)c=l[p[j]],a=d[Y]+g[f],h=d[Y+1]+g[f+1],u=d[Y+2],s+=(a*c.a+h*c.b+c.worldX)*u,r+=(a*c.c+h*c.d+c.worldY)*u;o[F]=s+t,o[F+1]=r+e}else for(;j<b;F+=2){for(r=s=0,n=p[j++]+j;j<n;j++,Y+=3)c=l[p[j]],a=d[Y],h=d[Y+1],u=d[Y+2],s+=(a*c.a+h*c.b+c.worldX)*u,r+=(a*c.c+h*c.d+c.worldY)*u;o[F]=s+t,o[F+1]=r+e}},setParentMesh:function(t){(this.parentMesh=t)&&(this.bones=t.bones,this.weights=t.weights,this.regionUVs=t.regionUVs,this.triangles=t.triangles,this.hullLength=t.hullLength,this.edges=t.edges,this.width=t.width,this.height=t.height)}},spine.BoundingBoxAttachment=function(t){this.name=t,this.vertices=new spine.Float32Array},spine.BoundingBoxAttachment.prototype={type:spine.AttachmentType.boundingbox,computeWorldVertices:function(t,e,i,o){t+=i.worldX,e+=i.worldY;for(var n=i.a,s=i.b,r=i.c,c=i.d,a=this.vertices,h=0,u=a.length;h<u;h+=2){var l=a[h],d=a[h+1];o[h]=l*n+d*s+t,o[h+1]=l*r+d*c+e}}},spine.AnimationStateData=function(t){this.skeletonData=t,this.animationToMixTime={}},spine.AnimationStateData.prototype={defaultMix:0,setMixByName:function(t,e,i){var o=this.skeletonData.findAnimation(t);if(!o)throw"Animation not found: "+t;t=this.skeletonData.findAnimation(e);if(!t)throw"Animation not found: "+e;this.setMix(o,t,i)},setMix:function(t,e,i){this.animationToMixTime[t.name+":"+e.name]=i},getMix:function(t,e){t=t.name+":"+e.name;return this.animationToMixTime.hasOwnProperty(t)?this.animationToMixTime[t]:this.defaultMix}},spine.TrackEntry=function(){},spine.TrackEntry.prototype={next:null,previous:null,animation:null,loop:!1,delay:0,time:0,lastTime:-1,endTime:0,timeScale:1,mixTime:0,mixDuration:0,mix:1,onStart:null,onEnd:null,onComplete:null,onEvent:null},spine.AnimationState=function(t){this.data=t,this.tracks=[],this.events=[]},spine.AnimationState.prototype={onStart:null,onEnd:null,onComplete:null,onEvent:null,timeScale:1,update:function(t){t*=this.timeScale;for(var e=0;e<this.tracks.length;e++){var i,o=this.tracks[e];o&&(o.time+=t*o.timeScale,o.previous&&(i=t*o.previous.timeScale,o.previous.time+=i,o.mixTime+=i),(i=o.next)?(i.time=o.lastTime-i.delay,0<=i.time&&this.setCurrent(e,i)):!o.loop&&o.lastTime>=o.endTime&&this.clearTrack(e))}},apply:function(t){for(var e=0;e<this.tracks.length;e++){var i=this.tracks[e];if(i){this.events.length=0;var o,n=i.time,s=i.lastTime,r=i.endTime,c=i.loop,a=(!c&&r<n&&(n=r),i.previous);a?(o=a.time,!a.loop&&o>a.endTime&&(o=a.endTime),a.animation.apply(t,o,o,a.loop,null),1<=(o=i.mixTime/i.mixDuration*i.mix)&&(o=1,i.previous=null),i.animation.mix(t,i.lastTime,n,c,this.events,o)):1==i.mix?i.animation.apply(t,i.lastTime,n,c,this.events):i.animation.mix(t,i.lastTime,n,c,this.events,i.mix);for(var h=0,u=this.events.length;h<u;h++){var l=this.events[h];i.onEvent&&i.onEvent(e,l),this.onEvent&&this.onEvent(e,l)}(c?n%r<s%r:s<r&&r<=n)&&(a=Math.floor(n/r),i.onComplete&&i.onComplete(e,a),this.onComplete&&this.onComplete(e,a)),i.lastTime=i.time}}},clearTracks:function(){for(var t=0,e=this.tracks.length;t<e;t++)this.clearTrack(t);this.tracks.length=0},clearTrack:function(t){var e;t>=this.tracks.length||(e=this.tracks[t])&&(e.onEnd&&e.onEnd(t),this.onEnd&&this.onEnd(t),this.tracks[t]=null)},_expandToIndex:function(t){if(t<this.tracks.length)return this.tracks[t];for(;t>=this.tracks.length;)this.tracks[this.tracks.length]=null;return null},setCurrent:function(t,e){var i,o=this._expandToIndex(t);o&&(i=o.previous,o.previous=null,o.onEnd&&o.onEnd(t),this.onEnd&&this.onEnd(t),e.mixDuration=this.data.getMix(o.animation,e.animation),0<e.mixDuration&&(e.mixTime=0,i&&o.mixTime/o.mixDuration<.5?e.previous=i:e.previous=o)),(this.tracks[t]=e).onStart&&e.onStart(t),this.onStart&&this.onStart(t)},setAnimationByName:function(t,e,i){var o=this.data.skeletonData.findAnimation(e);if(o)return this.setAnimation(t,o,i);throw"Animation not found: "+e},setAnimation:function(t,e,i){var o=new spine.TrackEntry;return o.animation=e,o.loop=i,o.endTime=e.duration,this.setCurrent(t,o),o},addAnimationByName:function(t,e,i,o){var n=this.data.skeletonData.findAnimation(e);if(n)return this.addAnimation(t,n,i,o);throw"Animation not found: "+e},addAnimation:function(t,e,i,o){var n=new spine.TrackEntry,s=(n.animation=e,n.loop=i,n.endTime=e.duration,this._expandToIndex(t));if(s){for(;s.next;)s=s.next;s.next=n}else this.tracks[t]=n;return o<=0&&(s?o+=s.endTime-this.data.getMix(s.animation,e):o=0),n.delay=o,n},getCurrent:function(t){return t>=this.tracks.length?null:this.tracks[t]}},spine.SkeletonJson=function(t){this.attachmentLoader=t,this.linkedMeshes=[]},spine.SkeletonJson.prototype={scale:1,readSkeletonData:function(t,e){var i=new spine.SkeletonData,e=(i.name=e,t.skeleton);e&&(i.hash=e.hash,i.version=e.spine,i.width=e.width||0,i.height=e.height||0);for(var o=0,n=(a=t.bones).length;o<n;o++){var s=a[o],r=null;if(s.parent&&!(r=i.findBone(s.parent)))throw"Parent bone not found: "+s.parent;(f=new spine.BoneData(s.name,r)).length=(s.length||0)*this.scale,f.x=(s.x||0)*this.scale,f.y=(s.y||0)*this.scale,f.rotation=s.rotation||0,f.scaleX=s.hasOwnProperty("scaleX")?s.scaleX:1,f.scaleY=s.hasOwnProperty("scaleY")?s.scaleY:1,f.inheritScale=!s.hasOwnProperty("inheritScale")||s.inheritScale,f.inheritRotation=!s.hasOwnProperty("inheritRotation")||s.inheritRotation,i.bones[o]=f}var c=t.ik;if(c)for(o=0,n=c.length;o<n;o++){for(var a,h=c[o],u=new spine.IkConstraintData(h.name),l=0,M=(a=h.bones).length;l<M;l++){var d=i.findBone(a[l]);if(!d)throw"IK bone not found: "+a[l];u.bones[l]=d}if(u.target=i.findBone(h.target),!u.target)throw"Target bone not found: "+h.target;u.bendDirection=!h.hasOwnProperty("bendPositive")||h.bendPositive?1:-1,u.mix=h.hasOwnProperty("mix")?h.mix:1,i.ikConstraints[o]=u}var p=t.transform;if(p)for(o=0,n=p.length;o<n;o++){var F=p[o],j=new spine.TransformConstraintData(F.name);if(j.bone=i.findBone(F.bone),!j.bone)throw"Bone not found: "+F.bone;if(j.target=i.findBone(F.target),!j.target)throw"Target bone not found: "+F.target;j.mix=F.hasOwnProperty("translateMix")?h.translateMix:1,j.x=(F.x||0)*this.scale,j.y=(F.y||0)*this.scale,i.transformConstraints[o]=j}for(var Y=t.slots,o=0,n=Y.length;o<n;o++){var f,b=Y[o];if(!(f=i.findBone(b.bone)))throw"Slot bone not found: "+b.bone;var g=new spine.SlotData(b.name,f),y=b.color;y&&(g.r=this.toColor(y,0),g.g=this.toColor(y,1),g.b=this.toColor(y,2),g.a=this.toColor(y,3)),g.attachmentName=b.attachment,g.blendMode=spine.BlendMode[b.blend||"normal"],i.slots[o]=g}var m,x=t.skins;for(m in x)if(x.hasOwnProperty(m)){var v,w=x[m],_=new spine.Skin(m);for(v in w)if(w.hasOwnProperty(v)){var E,S,R=i.findSlotIndex(v),C=w[v];for(E in C)C.hasOwnProperty(E)&&((S=this.readAttachment(_,R,E,C[E]))&&_.addAttachment(R,E,S))}"default"==(i.skins[i.skins.length]=_).name&&(i.defaultSkin=_)}for(o=0,n=this.linkedMeshes.length;o<n;o++){var P=this.linkedMeshes[o];if(!(_=P.skin?i.findSkin(P.skin):i.defaultSkin))throw"Skin not found: "+P.skin;if(!(r=_.getAttachment(P.slotIndex,P.parent)))throw"Parent mesh not found: "+P.parent;P.mesh.setParentMesh(r),P.mesh.updateUVs()}this.linkedMeshes.length=0;var A,T,I,q=t.events;for(A in q)q.hasOwnProperty(A)&&(T=q[A],(I=new spine.EventData(A)).intValue=T.int||0,I.floatValue=T.float||0,I.stringValue=T.string||null,i.events[i.events.length]=I);var B,J=t.animations;for(B in J)J.hasOwnProperty(B)&&this.readAnimation(B,J[B],i);return i},readAttachment:function(t,e,i,o){i=o.name||i;var n,s=o.type||"region",r=(s=spine.AttachmentType[s="skinnedmesh"==s?"weightedmesh":s],o.path||i),c=this.scale;switch(s){case spine.AttachmentType.region:var a=this.attachmentLoader.newRegionAttachment(t,i,r);if(!a)return null;a.path=r,a.x=(o.x||0)*c,a.y=(o.y||0)*c,a.scaleX=o.hasOwnProperty("scaleX")?o.scaleX:1,a.scaleY=o.hasOwnProperty("scaleY")?o.scaleY:1,a.rotation=o.rotation||0,a.width=(o.width||0)*c,a.height=(o.height||0)*c;var h=o.color;return h&&(a.r=this.toColor(h,0),a.g=this.toColor(h,1),a.b=this.toColor(h,2),a.a=this.toColor(h,3)),a.updateOffset(),a;case spine.AttachmentType.mesh:case spine.AttachmentType.linkedmesh:return(n=this.attachmentLoader.newMeshAttachment(t,i,r))?(n.path=r,(h=o.color)&&(n.r=this.toColor(h,0),n.g=this.toColor(h,1),n.b=this.toColor(h,2),n.a=this.toColor(h,3)),n.width=(o.width||0)*c,n.height=(o.height||0)*c,o.parent?(n.inheritFFD=!o.hasOwnProperty("ffd")||o.ffd,this.linkedMeshes[this.linkedMeshes.length]={mesh:n,skin:o.skin,slotIndex:e,parent:o.parent}):(n.vertices=this.getFloatArray(o,"vertices",c),n.triangles=this.getUint32Array(o,"triangles"),n.regionUVs=this.getFloatArray(o,"uvs",1),n.updateUVs(),n.hullLength=2*(o.hull||0),o.edges&&(n.edges=this.getUint16Array(o,"edges"))),n):null;case spine.AttachmentType.weightedmesh:case spine.AttachmentType.weightedlinkedmesh:if(!(n=this.attachmentLoader.newWeightedMeshAttachment(t,i,r)))return null;if(n.path=r,(h=o.color)&&(n.r=this.toColor(h,0),n.g=this.toColor(h,1),n.b=this.toColor(h,2),n.a=this.toColor(h,3)),n.width=(o.width||0)*c,n.height=(o.height||0)*c,o.parent)n.inheritFFD=!o.hasOwnProperty("ffd")||o.ffd,this.linkedMeshes[this.linkedMeshes.length]={mesh:n,skin:o.skin,slotIndex:e,parent:o.parent};else{for(var a=this.getFloatArray(o,"uvs",1),u=this.getFloatArray(o,"vertices",1),l=new spine.Float32Array(3*a.length*3),d=new spine.Uint32Array(3*a.length),p=0,F=0,j=0,Y=u.length;p<Y;)for(var f=0|u[p++],b=p+4*(d[F++]=f);p<b;)d[F++]=u[p],l[j++]=u[p+1]*c,l[j++]=u[p+2]*c,l[j++]=u[p+3],p+=4;n.bones=d,n.weights=l,n.triangles=this.getUint32Array(o,"triangles"),n.regionUVs=a,n.updateUVs(),n.hullLength=2*(o.hull||0),o.edges&&(n.edges=this.getUint16Array(o,"edges"))}return n;case spine.AttachmentType.boundingbox:var g=this.attachmentLoader.newBoundingBoxAttachment(t,i),u=o.vertices;g.vertices=new spine.Float32Array(u.length);for(p=0,Y=u.length;p<Y;p++)g.vertices[p]=u[p]*c;return g}throw"Unknown attachment type: "+s},readAnimation:function(M,t,e){var i,o=[],n=0,s=t.slots;for(i in s)if(s.hasOwnProperty(i)){var r=s[i],c=e.findSlotIndex(i);for(f in r)if(r.hasOwnProperty(f)){var a=r[f];if("color"==f){(y=new spine.ColorTimeline(a.length)).slotIndex=c;for(var h=0,u=0,l=a.length;u<l;u++){var d=(p=a[u]).color,R=this.toColor(d,0),L=this.toColor(d,1),k=this.toColor(d,2),d=this.toColor(d,3);y.setFrame(h,p.time,R,L,k,d),this.readCurve(y,h,p),h++}o[o.length]=y,n=Math.max(n,y.frames[5*y.getFrameCount()-5])}else{if("attachment"!=f)throw"Invalid timeline type for a slot: "+f+" ("+i+")";for(h=((y=new spine.AttachmentTimeline(a.length)).slotIndex=c,0),u=0,l=a.length;u<l;u++){var p=a[u];y.setFrame(h++,p.time,p.name)}o[o.length]=y,n=Math.max(n,y.frames[y.getFrameCount()-1])}}}var F,j=t.bones;for(F in j)if(j.hasOwnProperty(F)){var Y=e.findBoneIndex(F);if(-1==Y)throw"Bone not found: "+F;var f,D=j[F];for(f in D)if(D.hasOwnProperty(f)){a=D[f];if("rotate"==f){for(h=((y=new spine.RotateTimeline(a.length)).boneIndex=Y,0),u=0,l=a.length;u<l;u++){p=a[u];y.setFrame(h,p.time,p.angle),this.readCurve(y,h,p),h++}o[o.length]=y,n=Math.max(n,y.frames[2*y.getFrameCount()-2])}else{if("translate"!=f&&"scale"!=f)throw"Invalid timeline type for a bone: "+f+" ("+F+")";for(var O=1,h=("scale"==f?y=new spine.ScaleTimeline(a.length):(y=new spine.TranslateTimeline(a.length),O=this.scale),y.boneIndex=Y,0),u=0,l=a.length;u<l;u++){var G=((p=a[u]).x||0)*O,Q=(p.y||0)*O;y.setFrame(h,p.time,G,Q),this.readCurve(y,h,p),h++}o[o.length]=y,n=Math.max(n,y.frames[3*y.getFrameCount()-3])}}}var b,N=t.ik;for(b in N)if(N.hasOwnProperty(b)){for(var W=e.findIkConstraint(b),a=N[b],h=((y=new spine.IkConstraintTimeline(a.length)).ikConstraintIndex=e.ikConstraints.indexOf(W),0),u=0,l=a.length;u<l;u++){var U=(p=a[u]).hasOwnProperty("mix")?p.mix:1,X=!p.hasOwnProperty("bendPositive")||p.bendPositive?1:-1;y.setFrame(h,p.time,U,X),this.readCurve(y,h,p),h++}o[o.length]=y,n=Math.max(n,y.frames[3*y.getFrameCount()-3])}var V,H=t.ffd;for(V in H){var z=e.findSkin(V);for(i in r=H[V]){var g,c=e.findSlotIndex(i),K=r[i];for(g in K){var a=K[g],y=new spine.FfdTimeline(a.length),m=z.getAttachment(c,g);if(!m)throw"FFD attachment not found: "+g;y.slotIndex=c;for(var Z=(y.attachment=m).type==spine.AttachmentType.mesh,x=Z?m.vertices.length:m.weights.length/3*2,h=0,u=0,l=a.length;u<l;u++){if((p=a[u]).vertices){var v,$=p.vertices,tt=((v=new spine.Float32Array(x)).length=x,p.offset||0),w=$.length;if(1==this.scale)for(var _=0;_<w;_++)v[_+tt]=$[_];else for(_=0;_<w;_++)v[_+tt]=$[_]*this.scale;if(Z)for(var et=m.vertices,_=0,w=v.length;_<w;_++)v[_]+=et[_]}else Z?v=m.vertices:(v=new spine.Float32Array(x)).length=x;y.setFrame(h,p.time,v),this.readCurve(y,h,p),h++}o[o.length]=y,n=Math.max(n,y.frames[y.getFrameCount()-1])}}}var E=t.drawOrder;if(E=E||t.draworder){for(var y=new spine.DrawOrderTimeline(E.length),S=e.slots.length,h=0,u=0,l=E.length;u<l;u++){var it=E[u],C=null;if(it.offsets){for(_=((C=new spine.Uint32Array(S)).length=S)-1;0<=_;_--)C[_]=4294967295;for(var P=it.offsets,A=new spine.Uint32Array(S-P.length),T=(A.length=S-P.length,0),ot=0,_=0,w=P.length;_<w;_++){var nt=P[_];if(-1==(c=e.findSlotIndex(nt.slot)))throw"Slot not found: "+nt.slot;for(;T!=c;)A[ot++]=T++;C[T+nt.offset]=T++}for(;T<S;)A[ot++]=T++;for(_=S-1;0<=_;_--)4294967295==C[_]&&(C[_]=A[--ot])}y.setFrame(h++,it.time,C)}o[o.length]=y,n=Math.max(n,y.frames[y.getFrameCount()-1])}var I=t.events;if(I){for(y=new spine.EventTimeline(I.length),h=0,u=0,l=I.length;u<l;u++){var q=I[u],B=e.findEvent(q.name);if(!B)throw"Event not found: "+q.name;var J=new spine.Event(q.time,B);J.intValue=q.hasOwnProperty("int")?q.int:B.intValue,J.floatValue=q.hasOwnProperty("float")?q.float:B.floatValue,J.stringValue=q.hasOwnProperty("string")?q.string:B.stringValue,y.setFrame(h++,J)}o[o.length]=y,n=Math.max(n,y.frames[y.getFrameCount()-1])}e.animations[e.animations.length]=new spine.Animation(M,o,n)},readCurve:function(t,e,i){i=i.curve;i?"stepped"==i?t.curves.setStepped(e):i instanceof Array&&t.curves.setCurve(e,i[0],i[1],i[2],i[3]):t.curves.setLinear(e)},toColor:function(t,e){if(8!=t.length)throw"Color hexidecimal length must be 8, recieved: "+t;return parseInt(t.substring(2*e,2*e+2),16)/255},getFloatArray:function(t,e,i){var o=t[e],n=new spine.Float32Array(o.length),s=0,r=o.length;if(1==i)for(;s<r;s++)n[s]=o[s];else for(;s<r;s++)n[s]=o[s]*i;return n},getUint32Array:function(t,e){for(var i=t[e],o=new spine.Uint32Array(i.length),n=0,s=i.length;n<s;n++)o[n]=0|i[n];return o},getUint16Array:function(t,e){for(var i=t[e],o=new spine.Uint16Array(i.length),n=0,s=i.length;n<s;n++)o[n]=0|i[n];return o}},spine.Atlas=function(t,e){this.textureLoader=e,this.pages=[],this.regions=[];for(var i=new spine.AtlasReader(t),o=[],n=(o.length=4,null);;){var s,r,c,a,h,u=i.readLine();if(null===u)break;(u=i.trim(u)).length?n?((s=new spine.AtlasRegion).name=u,s.page=n,s.rotate="true"==i.readValue(),i.readTuple(o),h=parseInt(o[0]),r=parseInt(o[1]),i.readTuple(o),c=parseInt(o[0]),a=parseInt(o[1]),s.u=h/n.width,s.v=r/n.height,s.rotate?(s.u2=(h+a)/n.width,s.v2=(r+c)/n.height):(s.u2=(h+c)/n.width,s.v2=(r+a)/n.height),s.x=h,s.y=r,s.width=Math.abs(c),s.height=Math.abs(a),4==i.readTuple(o)&&(s.splits=[parseInt(o[0]),parseInt(o[1]),parseInt(o[2]),parseInt(o[3])],4==i.readTuple(o)&&(s.pads=[parseInt(o[0]),parseInt(o[1]),parseInt(o[2]),parseInt(o[3])],i.readTuple(o))),s.originalWidth=parseInt(o[0]),s.originalHeight=parseInt(o[1]),i.readTuple(o),s.offsetX=parseInt(o[0]),s.offsetY=parseInt(o[1]),s.index=parseInt(i.readValue()),this.regions[this.regions.length]=s):((n=new spine.AtlasPage).name=u,2==i.readTuple(o)&&(n.width=parseInt(o[0]),n.height=parseInt(o[1]),i.readTuple(o)),n.format=spine.Atlas.Format[o[0]],i.readTuple(o),n.minFilter=spine.Atlas.TextureFilter[o[0]],n.magFilter=spine.Atlas.TextureFilter[o[1]],h=i.readValue(),n.uWrap=spine.Atlas.TextureWrap.clampToEdge,n.vWrap=spine.Atlas.TextureWrap.clampToEdge,"x"==h?n.uWrap=spine.Atlas.TextureWrap.repeat:"y"==h?n.vWrap=spine.Atlas.TextureWrap.repeat:"xy"==h&&(n.uWrap=n.vWrap=spine.Atlas.TextureWrap.repeat),e.load(n,u,this),this.pages[this.pages.length]=n):n=null}},spine.Atlas.prototype={findRegion:function(t){for(var e=this.regions,i=0,o=e.length;i<o;i++)if(e[i].name==t)return e[i];return null},dispose:function(){for(var t=this.pages,e=0,i=t.length;e<i;e++)this.textureLoader.unload(t[e].rendererObject)},updateUVs:function(t){for(var e=this.regions,i=0,o=e.length;i<o;i++){var n=e[i];n.page==t&&(n.u=n.x/t.width,n.v=n.y/t.height,n.rotate?(n.u2=(n.x+n.height)/t.width,n.v2=(n.y+n.width)/t.height):(n.u2=(n.x+n.width)/t.width,n.v2=(n.y+n.height)/t.height))}}},spine.Atlas.Format={alpha:0,intensity:1,luminanceAlpha:2,rgb565:3,rgba4444:4,rgb888:5,rgba8888:6},spine.Atlas.TextureFilter={nearest:0,linear:1,mipMap:2,mipMapNearestNearest:3,mipMapLinearNearest:4,mipMapNearestLinear:5,mipMapLinearLinear:6},spine.Atlas.TextureWrap={mirroredRepeat:0,clampToEdge:1,repeat:2},spine.AtlasPage=function(){},spine.AtlasPage.prototype={name:null,format:null,minFilter:null,magFilter:null,uWrap:null,vWrap:null,rendererObject:null,width:0,height:0},spine.AtlasRegion=function(){},spine.AtlasRegion.prototype={page:null,name:null,x:0,y:0,width:0,height:0,u:0,v:0,u2:0,v2:0,offsetX:0,offsetY:0,originalWidth:0,originalHeight:0,index:0,rotate:!1,splits:null,pads:null},spine.AtlasReader=function(t){this.lines=t.split(/\r\n|\r|\n/)},spine.AtlasReader.prototype={index:0,trim:function(t){return t.replace(/^\s+|\s+$/g,"")},readLine:function(){return this.index>=this.lines.length?null:this.lines[this.index++]},readValue:function(){var t=this.readLine(),e=t.indexOf(":");if(-1==e)throw"Invalid line: "+t;return this.trim(t.substring(e+1))},readTuple:function(t){var e=this.readLine(),i=e.indexOf(":");if(-1==i)throw"Invalid line: "+e;for(var o=0,n=i+1;o<3;o++){var s=e.indexOf(",",n);if(-1==s)break;t[o]=this.trim(e.substr(n,s-n)),n=s+1}return t[o]=this.trim(e.substring(n)),o+1}},spine.AtlasAttachmentLoader=function(t){this.atlas=t},spine.AtlasAttachmentLoader.prototype={newRegionAttachment:function(t,e,i){var o=this.atlas.findRegion(i);if(!o)throw"Region not found in atlas: "+i+" (region attachment: "+e+")";i=new spine.RegionAttachment(e);return i.rendererObject=o,i.setUVs(o.u,o.v,o.u2,o.v2,o.rotate),i.regionOffsetX=o.offsetX,i.regionOffsetY=o.offsetY,i.regionWidth=o.width,i.regionHeight=o.height,i.regionOriginalWidth=o.originalWidth,i.regionOriginalHeight=o.originalHeight,i},newMeshAttachment:function(t,e,i){var o=this.atlas.findRegion(i);if(!o)throw"Region not found in atlas: "+i+" (mesh attachment: "+e+")";i=new spine.MeshAttachment(e);return i.rendererObject=o,i.regionU=o.u,i.regionV=o.v,i.regionU2=o.u2,i.regionV2=o.v2,i.regionRotate=o.rotate,i.regionOffsetX=o.offsetX,i.regionOffsetY=o.offsetY,i.regionWidth=o.width,i.regionHeight=o.height,i.regionOriginalWidth=o.originalWidth,i.regionOriginalHeight=o.originalHeight,i},newWeightedMeshAttachment:function(t,e,i){var o=this.atlas.findRegion(i);if(!o)throw"Region not found in atlas: "+i+" (weighted mesh attachment: "+e+")";i=new spine.WeightedMeshAttachment(e);return i.rendererObject=o,i.regionU=o.u,i.regionV=o.v,i.regionU2=o.u2,i.regionV2=o.v2,i.regionRotate=o.rotate,i.regionOffsetX=o.offsetX,i.regionOffsetY=o.offsetY,i.regionWidth=o.width,i.regionHeight=o.height,i.regionOriginalWidth=o.originalWidth,i.regionOriginalHeight=o.originalHeight,i},newBoundingBoxAttachment:function(t,e){return new spine.BoundingBoxAttachment(e)}},spine.SkeletonBounds=function(){this.polygonPool=[],this.polygons=[],this.boundingBoxes=[]},spine.SkeletonBounds.prototype={minX:0,minY:0,maxX:0,maxY:0,update:function(t,e){for(var i=t.slots,o=i.length,n=t.x,s=t.y,r=this.boundingBoxes,c=this.polygonPool,a=this.polygons,h=r.length=0,u=a.length;h<u;h++)c[c.length]=a[h];for(h=a.length=0;h<o;h++){var l,d,p=i[h],F=p.attachment;F.type==spine.AttachmentType.boundingbox&&(r[r.length]=F,0<(l=c.length)?(d=c[l-1],c.splice(l-1,1)):d=new spine.Float32Array,(a[a.length]=d).length=F.vertices.length,F.computeWorldVertices(n,s,p.bone,d))}e&&this.aabbCompute()},aabbCompute:function(){for(var t=this.polygons,e=Number.MAX_VALUE,i=Number.MAX_VALUE,o=-Number.MAX_VALUE,n=-Number.MAX_VALUE,s=0,r=t.length;s<r;s++)for(var c=t[s],a=0,h=c.length;a<h;a+=2)var u=c[a],l=c[a+1],e=Math.min(e,u),i=Math.min(i,l),o=Math.max(o,u),n=Math.max(n,l);this.minX=e,this.minY=i,this.maxX=o,this.maxY=n},aabbContainsPoint:function(t,e){return t>=this.minX&&t<=this.maxX&&e>=this.minY&&e<=this.maxY},aabbIntersectsSegment:function(t,e,i,o){var n=this.minX,s=this.minY,r=this.maxX,c=this.maxY;if(t<=n&&i<=n||e<=s&&o<=s||r<=t&&r<=i||c<=e&&c<=o)return!1;o=(o-e)/(i-t),i=o*(n-t)+e;if(s<i&&i<c)return!0;if(s<(i=o*(r-t)+e)&&i<c)return!0;i=(s-e)/o+t;return n<i&&i<r||n<(i=(c-e)/o+t)&&i<r},aabbIntersectsSkeleton:function(t){return this.minX<t.maxX&&this.maxX>t.minX&&this.minY<t.maxY&&this.maxY>t.minY},containsPoint:function(t,e){for(var i=this.polygons,o=0,n=i.length;o<n;o++)if(this.polygonContainsPoint(i[o],t,e))return this.boundingBoxes[o];return null},intersectsSegment:function(t,e,i,o){for(var n=this.polygons,s=0,r=n.length;s<r;s++)if(n[s].intersectsSegment(t,e,i,o))return this.boundingBoxes[s];return null},polygonContainsPoint:function(t,e,i){for(var o=t.length,n=o-2,s=!1,r=0;r<o;r+=2){var c,a=t[r+1],h=t[n+1];!(a<i&&i<=h||h<i&&i<=a)||(c=t[r])+(i-a)/(h-a)*(t[n]-c)<e&&(s=!s),n=r}return s},polygonIntersectsSegment:function(t,e,i,o,n){for(var s=t.length,r=e-o,c=i-n,a=e*n-i*o,h=t[s-2],u=t[s-1],l=0;l<s;l+=2){var d=t[l],p=t[l+1],F=h*p-u*d,j=h-d,Y=u-p,f=r*Y-c*j,j=(a*j-r*F)/f;if((h<=j&&j<=d||d<=j&&j<=h)&&(e<=j&&j<=o||o<=j&&j<=e)){j=(a*Y-c*F)/f;if((u<=j&&j<=p||p<=j&&j<=u)&&(i<=j&&j<=n||n<=j&&j<=i))return!0}h=d,u=p}return!1},getPolygon:function(t){t=this.boundingBoxes.indexOf(t);return-1==t?null:this.polygons[t]},getWidth:function(){return this.maxX-this.minX},getHeight:function(){return this.maxY-this.minY}},this&&this.__extends||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),StorageCommand=(!function(s){i=Phaser.Plugin,__extends(e,i),e.prototype.addSpineLoader=function(){Phaser.Loader.prototype.spine=function(t,e,i){var n=this,s=t+"Atlas",r={atlas:s,basePath:""===e.substring(0,e.lastIndexOf("/"))?".":e.substring(0,e.lastIndexOf("/")),variants:void 0};void 0===i?i=[""]:r.variants=i,i.forEach(function(o){n.onFileComplete.add(function(t,e){e===s&&new spine.Atlas(n.game.cache.getText(e),{load:function(t,e,i){n.image(e,r.basePath+"/"+e.substr(0,e.lastIndexOf("."))+o+".png")}})}),n.text(s,e.substr(0,e.lastIndexOf("."))+o+".atlas")}),this.json(t,e),this.game.cache.addSpine(t,r)}},e.prototype.addSpineFactory=function(){Phaser.GameObjectFactory.prototype.spine=function(t,e,i,o,n){void 0===n&&(n=this.world);i=new s.Spine(this.game,i,o);return i.setToSetupPose(),i.position.x=t,i.position.y=e,n.add(i)},Phaser.GameObjectCreator.prototype.spine=function(t,e,i,o,n){return new s.Spine(this.game,i,o)}},e.prototype.addSpineCache=function(){Phaser.Cache.prototype.spine={},Phaser.Cache.prototype.addSpine=function(t,e){this.spine[t]=e},Phaser.Cache.prototype.getSpine=function(t){return this.spine.hasOwnProperty(t),this.spine[t]}};var i,t=e;function e(t,e){t=i.call(this,t,e)||this;return t.addSpineCache(),t.addSpineFactory(),t.addSpineLoader(),t}t.RESOLUTION_REGEXP=/@(.+)x/,s.SpinePlugin=t}(PhaserSpine=PhaserSpine||{}),Phaser.Rope.prototype.postUpdate=function(){},spine.Bone.yDown=!0,!function(d){p=Phaser.Group,__extends(e,p),Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this.updateTransform===d.Spine.prototype.autoUpdateTransform},set:function(t){this.updateTransform=t?d.Spine.prototype.autoUpdateTransform:PIXI.DisplayObjectContainer.prototype.updateTransform},enumerable:!0,configurable:!0}),e.prototype.getScaleFromVariant=function(t){t=d.SpinePlugin.RESOLUTION_REGEXP.exec(t);return t?parseFloat(t[1]):1},e.prototype.setTint=function(t){this.globalTint=t;for(var e=this.skeleton.slots,i=0;i<e.length;i++){var o=e[i];o.currentSprite&&(o.currentSprite.tint=t)}},e.prototype.update=function(t){if(void 0!==t){this.state.update(t),this.state.apply(this.skeleton),this.skeleton.updateWorldTransform();for(var e=this.skeleton.drawOrder,i=this.skeleton.slots,o=0,n=e.length;o<n;o++)void 0!==e[o].currentSprite&&(this.children[o]=e[o].currentSprite.parent);for(o=0,n=i.length;o<n;o++){var s=i[o],r=s.attachment,c=this.slotContainers[o];if(r){var a=r.type;if(a===spine.AttachmentType.region){!r.rendererObject||s.currentSpriteName&&s.currentSpriteName===r.name||(h=r.rendererObject.name,void 0!==s.currentSprite&&(s.currentSprite.visible=!1),s.sprites=s.sprites||{},void 0!==s.sprites[h]?s.sprites[h].visible=!0:(u=this.createSprite(s,r),c.add(u)),s.currentSprite=s.sprites[h],s.currentSpriteName=h);var h,u=s.bone;c.position.x=r.x*u.a+r.y*u.b+u.worldX,c.position.y=r.x*u.c+r.y*u.d+u.worldY,c.scale.x=u.getWorldScaleX(),c.scale.y=u.getWorldScaleY(),c.rotation=(u.getWorldRotationX()-r.rotation)*Math.PI/180,u.getWorldScaleY()<0&&(c.scale.y=-c.scale.y),u.getWorldScaleX()<0&&(c.scale.x=-c.scale.x),(u.getWorldScaleY()<0||u.getWorldScaleX()<0)&&(c.rotation=-c.rotation),s.currentSprite.blendMode=s.blendMode,this.globalTint||(s.currentSprite.tint=s.currentSprite.tint=parseInt(Phaser.Color.componentToHex(255*s.r).substring(0,2)+Phaser.Color.componentToHex(255*s.g).substring(0,2)+Phaser.Color.componentToHex(255*s.b).substring(0,2),16))}else{if(a!==spine.AttachmentType.weightedmesh&&a!==spine.AttachmentType.weightedlinkedmesh){c.visible=!1;continue}s.currentMeshName&&s.currentMeshName===r.name||(h=r.name,void 0!==s.currentMesh&&(s.currentMesh.visible=!1),s.meshes=s.meshes||{},void 0!==s.meshes[h]?s.meshes[h].visible=!0:(a=this.createMesh(s,r),c.add(a)),s.currentMesh=s.meshes[h],s.currentMeshName=h),r.computeWorldVertices(s.bone.skeleton.x,s.bone.skeleton.y,s,s.currentMesh.vertices)}c.visible=!0,c.alpha=s.a}else c.visible=!1}}},e.prototype.destroy=function(t,e){p.prototype.destroy.call(this,!0,e)},e.prototype.autoUpdateTransform=function(){var t;e.globalAutoUpdate?(this.lastTime=this.lastTime||Date.now(),t=.001*(Date.now()-this.lastTime),this.lastTime=Date.now(),this.update(t)):this.lastTime=0,PIXI.DisplayObjectContainer.prototype.updateTransform.call(this)},e.prototype.createSprite=function(t,e){var i=e.rendererObject,o=i.page.rendererObject,n=new PIXI.Rectangle(i.x,i.y,i.rotate?i.height:i.width,i.rotate?i.width:i.height),o=new PIXI.Texture(o,n),n=new Phaser.Sprite(this.game,0,0,o),o=i.rotate?.5*Math.PI:0;return n.scale.x=i.width/i.originalWidth*e.scaleX/this.imageScale,n.scale.y=i.height/i.originalHeight*e.scaleY/this.imageScale,n.rotation=o,n.anchor.x=(.5*i.originalWidth-i.offsetX)/i.width,n.anchor.y=1-(.5*i.originalHeight-i.offsetY)/i.height,n.alpha=e.a,i.rotate&&(o=n.scale.x,n.scale.x=n.scale.y,n.scale.y=o),t.sprites=t.sprites||{},t.sprites[i.name]=n},e.prototype.createMesh=function(t,e){var i=e.rendererObject.page.rendererObject,i=new PIXI.Texture(i),i=new Phaser.Rope(this.game,0,0,i);return i.drawMode=1,i.canvasPadding=1.5,i.vertices=new spine.Float32Array(e.uvs.length),i.uvs=e.uvs,i.indices=e.triangles,i.alpha=e.a,t.meshes=t.meshes||{},t.meshes[e.name]=i},e.prototype.setMixByName=function(t,e,i){this.stateData.setMixByName(t,e,i)},e.prototype.setAnimationByName=function(t,e,i){void 0===i&&(i=!1);e=this.state.data.skeletonData.findAnimation(e);return e?this.state.setAnimation(t,e,i):null},e.prototype.addAnimationByName=function(t,e,i,o){void 0===i&&(i=!1),void 0===o&&(o=0);e=this.state.data.skeletonData.findAnimation(e);return e?this.state.addAnimation(t,e,i,o):null},e.prototype.getCurrentAnimationForTrack=function(t){return this.state.tracks[t].animation.name},e.prototype.setSkinByName=function(t){t=this.skeleton.data.findSkin(t);t&&this.skeleton.setSkin(t)},e.prototype.setSkin=function(t){this.skeleton.setSkin(t)},e.prototype.setToSetupPose=function(){this.skeleton.setToSetupPose()},e.prototype.createCombinedSkin=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(0!==e.length){for(var o=new spine.Skin(t),n=0;n<e.length;n++){var s,r=e[n],c=this.skeleton.data.findSkin(r);if(!c)return;for(s in c.attachments){var a=s.split(":"),h=a[0],a=a[1],u=c.attachments[s];if(void 0===h||void 0===a)return;void 0===o.getAttachment(h,a)&&o.addAttachment(h,a,u)}}return this.skeleton.data.skins.push(o),o}};var p,t=e;function e(t,e,i){var o=p.call(this,t)||this,n=(o.imageScale=1,o.game.cache.getSpine(e)),i=(void 0!==i&&-1!==n.variants.indexOf(i)?o.imageScale=o.getScaleFromVariant(i):n.variants&&1<=n.variants.length&&(o.imageScale=o.getScaleFromVariant(n.variants[0])),new d.SpineTextureLoader(t)),n=new spine.Atlas(t.cache.getText(n.atlas),i),i=new spine.AtlasAttachmentLoader(n),n=new spine.SkeletonJson(i);if(o.skeletonData=n.readSkeletonData(t.cache.getJSON(e)),!o.skeletonData)throw new Error("Spine data must be preloaded using Loader.spine");o.onEvent=new Phaser.Signal,o.onComplete=new Phaser.Signal,o.onEnd=new Phaser.Signal,o.skeleton=new spine.Skeleton(o.skeletonData),o.skeleton.updateWorldTransform(),o.stateData=new spine.AnimationStateData(o.skeletonData),o.state=new spine.AnimationState(o.stateData),o.state.onEvent=o.onEvent.dispatch.bind(o.onEvent),o.state.onComplete=o.onComplete.dispatch.bind(o.onComplete),o.state.onEnd=o.onEnd.dispatch.bind(o.onEnd),o.slotContainers=[];for(var s=0,r=o.skeleton.slots.length;s<r;s++){var c,a,h=o.skeleton.slots[s],u=h.attachment,l=new Phaser.Group(t);o.slotContainers.push(l),o.add(l),u instanceof spine.RegionAttachment?(a=u.rendererObject.name,c=o.createSprite(h,u),h.currentSprite=c,h.currentSpriteName=a,l.add(c)):u instanceof spine.WeightedMeshAttachment&&(a=o.createMesh(h,u),h.currentMesh=a,h.currentMeshName=u.name,l.add(a))}return o.autoUpdate=!0,o}t.globalAutoUpdate=!0,d.Spine=t}(PhaserSpine=PhaserSpine||{}),(PhaserSpine||(PhaserSpine={})).SpineTextureLoader=function(t){this.load=function(t,e,i){e=this.game.make.image(0,0,e);t.rendererObject=e.texture.baseTexture},this.unload=function(t){t.destroy()},this.game=t},!function(t){(e=t.StorageCommand||(t.StorageCommand={}))[e.init=0]="init",e[e.setItem=1]="setItem",e[e.getItem=2]="getItem",e[e.removeItem=3]="removeItem",e[e.clear=4]="clear",e[e.setNamespace=5]="setNamespace",e[e.length=6]="length",e[e.key=7]="key",e[e.error=8]="error",i.isLocalStorageSupport=function(){try{if("object"==typeof localStorage)return localStorage.setItem("testingLocalStorage","foo"),localStorage.removeItem("testingLocalStorage"),!0}catch(t){return!1}return!1},i.validateMessage=function(t){return t.hasOwnProperty("command")?t:null},i.nameSpaceKeyFilter=function(t,e){return t.filter(function(t){return t.substring(0,e.length)===e})};var e=i;function i(){}t.StorageUtils=e}(PhaserSuperStorage=PhaserSuperStorage||{}),!function(o){!function(t){function e(t){void 0===t&&(t=""),this.namespace="",this.forcePromises=!1,this.setNamespace(t)}Object.defineProperty(e.prototype,"length",{get:function(){var t=Object.keys(localStorage);return o.StorageUtils.nameSpaceKeyFilter(t,this.namespace).length},enumerable:!0,configurable:!0}),e.prototype.key=function(t){return this.forcePromises?this.promisefy(this._key,arguments):this._key(t)},e.prototype._key=function(t){var e=Object.keys(localStorage),e=o.StorageUtils.nameSpaceKeyFilter(e,this.namespace);return localStorage.getItem(e[t])},e.prototype.getItem=function(t){return this.forcePromises?this.promisefy(this._getItem,arguments):this._getItem(t)},e.prototype._getItem=function(t){return localStorage.getItem(this.namespace+t)},e.prototype.setItem=function(t,e){return this.forcePromises?this.promisefy(this._setItem,arguments):this._setItem(t,e)},e.prototype._setItem=function(t,e){return localStorage.setItem(this.namespace+t,e)},e.prototype.removeItem=function(t){return this.forcePromises?this.promisefy(this._removeItem,arguments):this._removeItem(t)},e.prototype._removeItem=function(t){return localStorage.removeItem(this.namespace+t)},e.prototype.clear=function(){return this.forcePromises?this.promisefy(this._clear,arguments):this._clear()},e.prototype._clear=function(){for(var t=Object.keys(localStorage),e=o.StorageUtils.nameSpaceKeyFilter(t,this.namespace),i=0;i<e.length;i++)localStorage.removeItem(e[i])},e.prototype.setNamespace=function(t){return this.forcePromises?this.promisefy(this._setNameSpace,arguments):this._setNameSpace(t)},e.prototype._setNameSpace=function(t){t&&(this.namespace=t+":")},e.prototype.promisefy=function(i,o){var n=this;return new Promise(function(t,e){t(i.apply(n,o))})},t.LocalStorage=e}(o.StorageAdapters||(o.StorageAdapters={}))}(PhaserSuperStorage=PhaserSuperStorage||{}),PhaserSuperStorage.StorageCommand),StorageUtils=PhaserSuperStorage.StorageUtils,LocalStorage=PhaserSuperStorage.StorageAdapters.LocalStorage,__extends=(!function(){var r=window.gameOrigin||"*",c=StorageUtils.isLocalStorageSupport(),a=c?new LocalStorage:null;window.addEventListener("message",function(t){if("*"===r||t.origin===r){var e=StorageUtils.validateMessage(t.data),i=t.ports[0];if(void 0!==i&&i){function o(t,e){i.postMessage({status:"error",command:t,value:e})}if(null!==e)switch(c||o(e.command,"localStorage not supported"),e.command){case StorageCommand.init:i.postMessage({status:"ok",command:e.command,length:a.length});break;case StorageCommand.getItem:try{var n=a.getItem(e.key);i.postMessage({status:"ok",command:e.command,value:n,length:a.length})}catch(t){o(e.command,t.message)}break;case StorageCommand.setItem:try{a.setItem(e.key,e.value),i.postMessage({status:"ok",command:e.command,length:a.length})}catch(t){o(e.command,t.message)}break;case StorageCommand.removeItem:try{a.removeItem(e.key),i.postMessage({status:"ok",command:e.command,length:a.length})}catch(t){o(e.command,t.message)}break;case StorageCommand.setNamespace:try{a.setNamespace(e.value),i.postMessage({status:"ok",command:e.command,value:e.value,length:a.length})}catch(t){o(e.command,t.message)}break;case StorageCommand.clear:try{a.clear(),i.postMessage({status:"ok",command:e.command,length:a.length})}catch(t){o(e.command,t.message)}break;case StorageCommand.length:try{i.postMessage({status:"ok",command:e.command,value:a.length,length:a.length})}catch(t){o(e.command,t.message)}break;case StorageCommand.key:try{var s=a.key(e.value);i.postMessage({status:"ok",command:e.command,value:s,length:a.length})}catch(t){o(e.command,t.message)}break;default:o(e.command,"Command not found")}else o(StorageCommand.error,"Empty message!")}}})}(),!function(){function M(t,e,i){return t.call.apply(t.bind,arguments)}function R(e,i,t){if(e)return 2<arguments.length?(o=Array.prototype.slice.call(arguments,2),function(){var t=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(t,o),e.apply(i,t)}):function(){return e.apply(i,arguments)};var o;throw Error()}function F(t,e,i){return(F=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?M:R).apply(null,arguments)}var c=Date.now||function(){return+new Date};function L(t,e){this.a=t,this.o=e||t,this.c=this.o.document}var k=!!window.FontFace;function a(t,e,i,o){if(e=t.c.createElement(e),i)for(var n in i)i.hasOwnProperty(n)&&("style"==n?e.style.cssText=i[n]:e.setAttribute(n,i[n]));return o&&e.appendChild(t.c.createTextNode(o)),e}function h(t,e,i){(t=(t=t.c.getElementsByTagName(e)[0])||document.documentElement).insertBefore(i,t.lastChild)}function i(t){t.parentNode&&t.parentNode.removeChild(t)}function j(t,e,i){e=e||[],i=i||[];for(var o=t.className.split(/\s+/),n=0;n<e.length;n+=1){for(var s=!1,r=0;r<o.length;r+=1)if(e[n]===o[r]){s=!0;break}s||o.push(e[n])}for(e=[],n=0;n<o.length;n+=1){for(s=!1,r=0;r<i.length;r+=1)if(o[n]===i[r]){s=!0;break}s||e.push(o[n])}t.className=e.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function s(t,e){for(var i=t.className.split(/\s+/),o=0,n=i.length;o<n;o++)if(i[o]==e)return!0;return!1}function w(t,e,i){function o(){r&&n&&(r(s),r=null)}e=a(t,"link",{rel:"stylesheet",href:e,media:"all"});var n=!1,s=null,r=i||null;k?(e.onload=function(){n=!0,o()},e.onerror=function(){n=!0,s=Error("Stylesheet failed to load"),o()}):setTimeout(function(){n=!0,o()},0),h(t,"head",e)}function o(t,e,i,o){var n,s,r=t.c.getElementsByTagName("head")[0];return r?(n=a(t,"script",{src:e}),s=!1,n.onload=n.onreadystatechange=function(){s||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(s=!0,i&&i(null),n.onload=n.onreadystatechange=null,"HEAD"==n.parentNode.tagName&&r.removeChild(n))},r.appendChild(n),setTimeout(function(){s||(s=!0,i&&i(Error("Script load timeout")))},o||5e3),n):null}function _(){this.a=0,this.c=null}function E(t){return t.a++,function(){t.a--,n(t)}}function S(t,e){t.c=e,n(t)}function n(t){0==t.a&&t.c&&(t.c(),t.c=null)}function r(t){this.a=t||"-"}function C(t,e){this.c=t,this.f=4,this.a="n";t=(e||"n4").match(/^([nio])([1-9])$/i);t&&(this.a=t[1],this.f=parseInt(t[2],10))}function u(t){var e=[];t=t.split(/,\s*/);for(var i=0;i<t.length;i++){var o=t[i].replace(/['"]/g,"");-1!=o.indexOf(" ")||/^\d/.test(o)?e.push("'"+o+"'"):e.push(o)}return e.join(",")}function Y(t){return t.a+t.f}function l(t){var e="normal";return"o"===t.a?e="oblique":"i"===t.a&&(e="italic"),e}function D(t,e){this.c=t,this.f=t.o.document.documentElement,this.h=e,this.a=new r("-"),this.j=!1!==e.events,this.g=!1!==e.classes}function f(t){var e,i,o;t.g&&(e=s(t.f,t.a.c("wf","active")),i=[],o=[t.a.c("wf","loading")],e||i.push(t.a.c("wf","inactive")),j(t.f,i,o)),b(t,"inactive")}function b(t,e,i){t.j&&t.h[e]&&(i?t.h[e](i.c,Y(i)):t.h[e]())}function O(){this.c={}}function d(t,e){this.c=t,this.f=e,this.a=a(this.c,"span",{"aria-hidden":"true"},this.f)}function p(t){h(t.c,"body",t.a)}function g(t){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+u(t.c)+";font-style:"+l(t)+";font-weight:"+t.f+"00;"}function y(t,e,i,o,n,s){this.g=t,this.j=e,this.a=o,this.c=i,this.f=n||3e3,this.h=s||void 0}function m(t,e,i,o,n,s,r){this.v=t,this.B=e,this.c=i,this.a=o,this.s=r||"BESbswy",this.f={},this.w=n||3e3,this.u=s||null,this.m=this.j=this.h=this.g=null,this.g=new d(this.c,this.s),this.h=new d(this.c,this.s),this.j=new d(this.c,this.s),this.m=new d(this.c,this.s),t=g(t=new C(this.a.c+",serif",Y(this.a))),this.g.a.style.cssText=t,t=g(t=new C(this.a.c+",sans-serif",Y(this.a))),this.h.a.style.cssText=t,t=g(t=new C("serif",Y(this.a))),this.j.a.style.cssText=t,t=g(t=new C("sans-serif",Y(this.a))),this.m.a.style.cssText=t,p(this.g),p(this.h),p(this.j),p(this.m)}r.prototype.c=function(t){for(var e=[],i=0;i<arguments.length;i++)e.push(arguments[i].replace(/[\W_]+/g,"").toLowerCase());return e.join(this.a)},y.prototype.start=function(){var n=this.c.o.document,s=this,r=c(),t=new Promise(function(i,o){!function e(){var t;c()-r>=s.f?o():n.fonts.load(l(t=s.a)+" "+t.f+"00 300px "+u(t.c),s.h).then(function(t){1<=t.length?i():setTimeout(e,25)},function(){o()})}()}),i=null,e=new Promise(function(t,e){i=setTimeout(e,s.f)});Promise.race([e,t]).then(function(){i&&(clearTimeout(i),i=null),s.g(s.a)},function(){s.j(s.a)})};var x={D:"serif",C:"sans-serif"},e=null;function v(){var t;return null===e&&(t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),e=!!t&&(parseInt(t[1],10)<536||536===parseInt(t[1],10)&&parseInt(t[2],10)<=11)),e}function P(t,e,i){for(var o in x)if(x.hasOwnProperty(o)&&e===t.f[x[o]]&&i===t.f[x[o]])return!0;return!1}function A(t){var e,i=t.g.a.offsetWidth,o=t.h.a.offsetWidth;(e=(e=i===t.f.serif&&o===t.f["sans-serif"])?e:v()&&P(t,i,o))?c()-t.A>=t.w?v()&&P(t,i,o)&&(null===t.u||t.u.hasOwnProperty(t.a.c))?T(t,t.v):T(t,t.B):setTimeout(F(function(){A(this)},t),50):T(t,t.v)}function T(t,e){setTimeout(F(function(){i(this.g.a),i(this.h.a),i(this.j.a),i(this.m.a),e(this.a)},t),0)}function I(t,e,i){this.c=t,this.a=e,this.f=0,this.m=this.j=!1,this.s=i}m.prototype.start=function(){this.f.serif=this.j.a.offsetWidth,this.f["sans-serif"]=this.m.a.offsetWidth,this.A=c(),A(this)};var q=null;function B(t){0==--t.f&&t.j&&(t.m?((t=t.a).g&&j(t.f,[t.a.c("wf","active")],[t.a.c("wf","loading"),t.a.c("wf","inactive")]),b(t,"active")):f(t.a))}function G(t){this.j=t,this.a=new O,this.h=0,this.f=this.g=!0}function Q(t,e){this.c=t,this.a=e}function N(t,e){this.c=t,this.a=e}function W(t,e){this.c=t||"https://fonts.googleapis.com/css",this.a=[],this.f=[],this.g=e||""}I.prototype.g=function(t){var e=this.a;e.g&&j(e.f,[e.a.c("wf",t.c,Y(t).toString(),"active")],[e.a.c("wf",t.c,Y(t).toString(),"loading"),e.a.c("wf",t.c,Y(t).toString(),"inactive")]),b(e,"fontactive",t),this.m=!0,B(this)},I.prototype.h=function(t){var e,i,o,n=this.a;n.g&&(e=s(n.f,n.a.c("wf",t.c,Y(t).toString(),"active")),i=[],o=[n.a.c("wf",t.c,Y(t).toString(),"loading")],e||i.push(n.a.c("wf",t.c,Y(t).toString(),"inactive")),j(n.f,i,o)),b(n,"fontinactive",t),B(this)},G.prototype.load=function(t){this.c=new L(this.j,t.context||this.j),this.g=!1!==t.events,this.f=!1!==t.classes;var o=this,e=new D(this.c,t),i=t,n=[],t=i.timeout,n=(function(t){t.g&&j(t.f,[t.a.c("wf","loading")]),b(t,"loading")}(e),function(t,e,i){var o,n,s=[];for(o in e)!e.hasOwnProperty(o)||(n=t.c[o])&&s.push(n(e[o],i));return s}(o.a,i,o.c)),s=new I(o.c,e,t);for(o.h=n.length,e=0,i=n.length;e<i;e++)n[e].load(function(t,e,i){var h,u,l,d,p;h=s,u=t,l=e,d=i,p=0==--(t=o).h,(t.f||t.g)&&setTimeout(function(){var t=d||null,e=l||{};if(0===u.length&&p)f(h.a);else{h.f+=u.length,p&&(h.j=p);for(var i=[],o=0;o<u.length;o++){var n,s=u[o],r=e[s.c],c=h.a,a=s;c.g&&j(c.f,[c.a.c("wf",a.c,Y(a).toString(),"loading")]),b(c,"fontloading",a),c=(q=(c=null)===q?!!window.FontFace&&(a=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent),n=/OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor),a?42<parseInt(a[1],10):!n):q)?new y(F(h.g,h),F(h.h,h),h.c,s,h.s,r):new m(F(h.g,h),F(h.h,h),h.c,s,h.s,t,r),i.push(c)}for(o=0;o<i.length;o++)i[o].start()}},0)})},Q.prototype.load=function(r){var c,e=this,a=e.a.projectId,t=e.a.version;a?(c=e.c.o,o(this.c,(e.a.api||"https://fast.fonts.net/jsapi")+"/"+a+".js"+(t?"?v="+t:""),function(t){t?r([]):(c["__MonotypeConfiguration__"+a]=function(){return e.a},function t(){if(c["__mti_fntLst"+a]){var e,i=c["__mti_fntLst"+a](),o=[];if(i)for(var n=0;n<i.length;n++){var s=i[n].fontfamily;null!=i[n].fontStyle&&null!=i[n].fontWeight?(e=i[n].fontStyle+i[n].fontWeight,o.push(new C(s,e))):o.push(new C(s))}r(o)}else setTimeout(function(){t()},50)}())}).id="__MonotypeAPIScript__"+a):r([])},N.prototype.load=function(t){for(var e=this.a.urls||[],i=this.a.families||[],o=this.a.testStrings||{},n=new _,s=0,r=e.length;s<r;s++)w(this.c,e[s],E(n));var c=[];for(s=0,r=i.length;s<r;s++)if((e=i[s].split(":"))[1])for(var a=e[1].split(","),h=0;h<a.length;h+=1)c.push(new C(e[0],a[h]));else c.push(new C(e[0]));S(n,function(){t(c,o)})};function U(t){this.f=t,this.a=[],this.c={}}var X={latin:"BESbswy","latin-ext":"",cyrillic:"",greek:"",khmer:"",Hanuman:""},V={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},H={i:"i",italic:"i",n:"n",normal:"n"},z=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;function K(t,e){this.c=t,this.a=e}var Z={Arimo:!0,Cousine:!0,Tinos:!0};function $(t,e){this.c=t,this.a=e}function tt(t,e){this.c=t,this.f=e,this.a=[]}K.prototype.load=function(t){for(var e=new _,i=this.c,o=new W(this.a.api,this.a.text),n=this.a.families,s=o,r=n,c=r.length,a=0;a<c;a++){var h=r[a].split(":"),u=(3==h.length&&s.f.push(h.pop()),"");2==h.length&&""!=h[1]&&(u=":"),s.a.push(h.join(u))}for(var l=new U(n),d=l,p=d.f.length,F=0;F<p;F++){var j=d.f[F].split(":"),Y=j[0].replace(/\+/g," "),f=["n4"];if(2<=j.length){var b,g,y=j[1],m=[];if(y)for(var x=(y=y.split(",")).length,v=0;v<x;v++)(g=!(g=y[v]).match(/^[\w-]+$/)||null==(b=z.exec(g.toLowerCase()))?"":[g=null==(g=b[2])||""==g?"n":H[g],b=null==(b=b[1])||""==b?"4":V[b]||(isNaN(b)?"4":b.substr(0,1))].join(""))&&m.push(g);0<m.length&&(f=m),3==j.length&&(m=[],0<(j=(j=j[2])?j.split(","):m).length&&(j=X[j[0]])&&(d.c[Y]=j))}for(d.c[Y]||(j=X[Y])&&(d.c[Y]=j),j=0;j<f.length;j+=1)d.a.push(new C(Y,f[j]))}w(i,function(t){if(0==t.a.length)throw Error("No fonts to load!");if(-1!=t.c.indexOf("kit="))return t.c;for(var e=t.a.length,i=[],o=0;o<e;o++)i.push(t.a[o].replace(/ /g,"+"));return e=t.c+"?family="+i.join("%7C"),0<t.f.length&&(e+="&subset="+t.f.join(",")),0<t.g.length&&(e+="&text="+encodeURIComponent(t.g)),e}(o),E(e)),S(e,function(){t(l.a,l.c,Z)})},$.prototype.load=function(r){var t=this.a.id,c=this.c.o;t?o(this.c,(this.a.api||"https://use.typekit.net")+"/"+t+".js",function(t){if(t)r([]);else if(c.Typekit&&c.Typekit.config&&c.Typekit.config.fn){t=c.Typekit.config.fn;for(var e=[],i=0;i<t.length;i+=2)for(var o=t[i],n=t[i+1],s=0;s<n.length;s++)e.push(new C(o,n[s]));try{c.Typekit.load({events:!1,classes:!1,async:!0})}catch(t){}r(e)}},2e3):r([])},tt.prototype.load=function(a){var t=this.f.id,e=this.c.o,h=this;t?(e.__webfontfontdeckmodule__||(e.__webfontfontdeckmodule__={}),e.__webfontfontdeckmodule__[t]=function(t,e){for(var i,o,n,s=0,r=e.fonts.length;s<r;++s){var c=e.fonts[s];h.a.push(new C(c.name,(c="font-weight:"+c.weight+";font-style:"+c.style,n=o=i=void 0,i=4,o="n",n=null,c&&((n=c.match(/(normal|oblique|italic)/i))&&n[1]&&(o=n[1].substr(0,1).toLowerCase()),(n=c.match(/([1-9]00|normal|bold)/i))&&n[1]&&(/bold/i.test(n[1])?i=7:/[1-9]00/.test(n[1])&&(i=parseInt(n[1].substr(0,1),10)))),o+i)))}a(h.a)},o(this.c,(this.f.api||"https://f.fontdeck.com/s/css/js/")+((e=this.c).o.location.hostname||e.a.location.hostname)+"/"+t+".js",function(t){t&&a([])})):a([])};var t=new G(window),J=(t.a.c.custom=function(t,e){return new N(e,t)},t.a.c.fontdeck=function(t,e){return new tt(e,t)},t.a.c.monotype=function(t,e){return new Q(e,t)},t.a.c.typekit=function(t,e){return new $(e,t)},t.a.c.google=function(t,e){return new K(e,t)},{load:F(t.load,t)});"function"==typeof define&&define.amd?define(function(){return J}):"undefined"!=typeof module&&module.exports?module.exports=J:(window.WebFont=J,window.WebFontConfig&&t.load(window.WebFontConfig))}(),!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.h5Analytics=t.h5Analytics||{})}(this,function(s){"use strict";var r,t;(t=s.AnalyticsTypes||(s.AnalyticsTypes={})).TAG_ANALYTICS="tag",t.GOOGLE_ANALYTICS="google",t.GAME_ANALYTICS="game",(t=s.GameEventType||(s.GameEventType={})).PROGRESSION="addProgressionEvent",t.DESIGN="addDesignEvent",t.ERROR="addErrorEvent",(t=s.GameEventName||(s.GameEventName={})).START="Start",t.FAIL="Fail",t.COMPLETE="Complete",t.DEBUG="Debug",t.ERROR="Error",(t=r=r||{}).NONE="none",t.TAG="tag",t.STANDARD="std",t.GOOGLE="gg",t.GAME="gme";class c{constructor(t,e){this.type=s.AnalyticsTypes.GAME_ANALYTICS,this.gKey=t,this.sKey=e}load(){{window;var i=document;window.GameAnalytics=window.GameAnalytics||function(){(window.GameAnalytics.q=window.GameAnalytics.q||[]).push(arguments)};let t,e=i.getElementsByTagName("script")[0];(t=i.createElement("script")).src="http://download.gameanalytics.com/js/GameAnalytics-4.1.0.min.js",e.parentNode&&e.parentNode.insertBefore(t,e)}try{window.GameAnalytics("setEnabledInfoLog",!1),window.GameAnalytics("initialize",this.gKey,this.sKey),window.GameAnalytics("setEnabledEventSubmission",!0)}catch(t){}}sendEvent(t,...e){try{window.GameAnalytics(t,...e)}catch(t){}}}class a{constructor(t,e){this.type=s.AnalyticsTypes.GOOGLE_ANALYTICS,this.version="prod",this.googleId=t,this.gameName=e,window._azerionIntegration.buildVersion&&(this.version=window._azerionIntegration.buildVersion)}load(){let t=document.createElement("script");var e=document.createTextNode(`window['ga-disable-${this.googleId}']=false;
            var gtag;`);t.appendChild(e),document.head.appendChild(t);let i=document.createElement("script");e="patch/js/null.js?https://www.googletagmanager.com/gtag/js?id="+this.googleId;i.setAttribute("src",e),i.async=!0,i.onload=()=>{this.create()},document.head.appendChild(i)}create(){window.hasOwnProperty("dataLayer")&&(window.dataLayer=window.dataLayer||[]),gtag=function(){window.hasOwnProperty("dataLayer")&&window.dataLayer.push(arguments)};try{let t=decodeURIComponent(document.referrer);var e=-1!==t.indexOf("?ref=")?t.substr(t.indexOf("?ref=")+5):t;gtag("js",new Date),gtag("set","user_properties",{app_name:this.gameName,app_version:this.version,referrer:e}),gtag("config",this.googleId,{sample_rate:100})}catch(t){}}sendEvent(t,e){try{var i=Object.assign(e,{send_to:this.googleId});gtag("event",t,i)}catch(t){}}}class h{constructor(t){this.type=s.AnalyticsTypes.TAG_ANALYTICS,this.googleId="GTM-K74X66",this.publisher="CONNECT2MEDIA",this.gameName=t}load(){let t=document.createElement("script");var i=document.createTextNode(`window['ga-disable-${this.googleId}']=false`);t.appendChild(i),document.head.appendChild(t);let e=document.createElement("script");i=document.createTextNode(`dataLayer = []; dataLayer.push({event:"pageLoad",publisher:"${this.publisher}",productKey:"${this.gameName}"})`);e.appendChild(i),document.head.appendChild(e);{i=document;var o="dataLayer",n=this.googleId;window[o]=window[o]||[],window[o].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});let t,e=i.getElementsByTagName("script")[0];(t=i.createElement("script")).src="https://www.googletagmanager.com/gtm.js?id="+n,e.parentNode&&e.parentNode.insertBefore(t,e)}let s=document.createElement("noscript"),r=document.createElement("iframe");r.src="https://www.googletagmanager.com/ns.html?id="+this.googleId,r.height="0",r.width="0",r.style.display="none",r.style.visibility="hidden",s.appendChild(r),document.body.appendChild(s)}sendEvent(t){try{window.hasOwnProperty("dataLayer")&&window.dataLayer.push({event:t,publisher:this.publisher,productKey:this.gameName})}catch(t){}}}class u{static create(t){var{aType:t,googleId:e,gaGameKey:i,gaSecretKey:o,gameName:n}=t,s=class{static getTagGameName(t){let e=t.split(" ");e[0]=e[0].replace(/^[A-Z]/gi,e[0].charAt(0).toLowerCase());for(let t=1;t<e.length;t++)e[t]=e[t].replace(/^[A-Z]/gi,e[t].charAt(0).toUpperCase());return e.join("")}}.getTagGameName(n);switch(t){case r.TAG:this.providers.push(new h(s));break;case r.GAME:this.providers.push(new c(i,o));break;case r.GOOGLE:this.providers.push(new a(e,s));break;case r.STANDARD:this.providers.push(new c(i,o)),this.providers.push(new a(e,s));break;case r.NONE:}}static load(t){this.create(t),this.providers.forEach(t=>t.load.apply(t))}static sendDesignEvent(t,e){u.sendEvent(s.AnalyticsTypes.GAME_ANALYTICS,s.GameEventType.DESIGN,t,e)}static sendProgressionEvent(t,e,i,o,n){u.sendEvent(s.AnalyticsTypes.GAME_ANALYTICS,s.GameEventType.PROGRESSION,t,e,i,o,n)}static sendErrorEvent(t,e){u.sendEvent(s.AnalyticsTypes.GAME_ANALYTICS,s.GameEventType.ERROR,t,e)}static sendScreenView(t){u.sendEvent(s.AnalyticsTypes.GOOGLE_ANALYTICS,"screen_view",{screen_name:t})}static sendOrangeTagEvent(t){u.sendEvent(s.AnalyticsTypes.TAG_ANALYTICS,t)}static sendEvent(e,...i){var o=this.providers.filter(t=>t.type===e);if(o&&0<o.length){let t=o[0];t.sendEvent.apply(t,i)}}}u.providers=[],s.AnalyticsWrapper=u,Object.defineProperty(s,"__esModule",{value:!0})}),!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).i18next=e()}(this,function(){"use strict";function C(t){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function P(o){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},e=Object.keys(n);(e="function"==typeof Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})):e).forEach(function(t){var e,i;e=o,i=n[t=t],t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i})}return o}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function t(t,e,i){e&&o(t.prototype,e),i&&o(t,i)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a(t,e){return!e||"object"!==C(e)&&"function"!=typeof e?c(t):e}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function e(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}var n={type:"logger",log:function(t){this.output("log",t)},warn:function(t){this.output("warn",t)},error:function(t){this.output("error",t)},output:function(t,e){console&&console[t]}},u=(t(d,[{key:"init",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.prefix=e.prefix||"i18next:",this.logger=t||n,this.options=e,this.debug=e.debug}},{key:"setDebug",value:function(t){this.debug=t}},{key:"log",value:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return this.forward(e,"log","",!0)}},{key:"warn",value:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return this.forward(e,"warn","",!0)}},{key:"error",value:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return this.forward(e,"error","")}},{key:"deprecate",value:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(t,e,i,o){return o&&!this.debug?null:("string"==typeof t[0]&&(t[0]="".concat(i).concat(this.prefix," ").concat(t[0])),this.logger[e](t))}},{key:"create",value:function(t){return new d(this.logger,P({},{prefix:"".concat(this.prefix,":").concat(t,":")},this.options))}}]),new d),l=(t(s,[{key:"on",value:function(t,e){var i=this;return t.split(" ").forEach(function(t){i.observers[t]=i.observers[t]||[],i.observers[t].push(e)}),this}},{key:"off",value:function(t,e){this.observers[t]&&(e?this.observers[t]=this.observers[t].filter(function(t){return t!==e}):delete this.observers[t])}},{key:"emit",value:function(e){for(var t=arguments.length,i=new Array(1<t?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];this.observers[e]&&[].concat(this.observers[e]).forEach(function(t){t.apply(void 0,i)}),this.observers["*"]&&[].concat(this.observers["*"]).forEach(function(t){t.apply(t,[e].concat(i))})}}]),s);function s(){r(this,s),this.observers={}}function d(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};r(this,d),this.init(t,e)}function p(){var i,o,t=new Promise(function(t,e){i=t,o=e});return t.resolve=i,t.reject=o,t}function F(t){return null==t?"":""+t}function j(t,e,i){function o(t){return t&&-1<t.indexOf("###")?t.replace(/###/g,"."):t}function n(){return!t||"string"==typeof t}for(var s="string"!=typeof e?[].concat(e):e.split(".");1<s.length;){if(n())return{};var r=o(s.shift());!t[r]&&i&&(t[r]=new i),t=Object.prototype.hasOwnProperty.call(t,r)?t[r]:{}}return n()?{}:{obj:t,k:o(s.shift())}}function Y(t,e,i){t=j(t,e,Object);t.obj[t.k]=i}function f(t,e){t=j(t,e),e=t.obj,t=t.k;if(e)return e[t]}function b(t,e,i){t=f(t,i);return void 0!==t?t:f(e,i)}function g(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var M={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function R(t){return"string"==typeof t?t.replace(/[&<>"'\/]/g,function(t){return M[t]}):t}var y="undefined"!=typeof window&&window.navigator&&window.navigator.userAgent&&-1<window.navigator.userAgent.indexOf("MSIE"),L=(e(w,l),t(w,[{key:"addNamespaces",value:function(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}},{key:"removeNamespaces",value:function(t){t=this.options.ns.indexOf(t);-1<t&&this.options.ns.splice(t,1)}},{key:"getResource",value:function(t,e,i){var o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},n=(void 0!==o.keySeparator?o:this.options).keySeparator,o=(void 0!==o.ignoreJSONStructure?o:this.options).ignoreJSONStructure,s=[t,e],s=(i&&"string"!=typeof i&&(s=s.concat(i)),i&&"string"==typeof i&&(s=s.concat(n?i.split(n):i)),-1<t.indexOf(".")&&(s=t.split(".")),f(this.data,s));return s||!o||"string"!=typeof i?s:function t(e,i){var o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:".";if(e){if(e[i])return e[i];for(var n=i.split(o),s=e,r=0;r<n.length;++r){if(!s)return;if("string"==typeof s[n[r]]&&r+1<n.length)return;if(void 0===s[n[r]]){for(var c=2,a=n.slice(r,r+c).join(o),h=s[a];void 0===h&&n.length>r+c;)c++,h=s[a=n.slice(r,r+c).join(o)];if(void 0===h)return;if("string"==typeof h)return h;if(a&&"string"==typeof h[a])return h[a];var u=n.slice(r+c).join(o);return u?t(h,u,o):void 0}s=s[n[r]]}return s}}(this.data&&this.data[t]&&this.data[t][e],i,n)}},{key:"addResource",value:function(t,e,i,o){var n=4<arguments.length&&void 0!==arguments[4]?arguments[4]:{silent:!1},s=this.options.keySeparator,r=(void 0===s&&(s="."),[t,e]);i&&(r=r.concat(s?i.split(s):i)),-1<t.indexOf(".")&&(o=e,e=(r=t.split("."))[1]),this.addNamespaces(e),Y(this.data,r,o),n.silent||this.emit("added",t,e,i,o)}},{key:"addResources",value:function(t,e,i){var o,n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(o in i)"string"!=typeof i[o]&&"[object Array]"!==Object.prototype.toString.apply(i[o])||this.addResource(t,e,o,i[o],{silent:!0});n.silent||this.emit("added",t,e,i)}},{key:"addResourceBundle",value:function(t,e,i,o,n){var s=5<arguments.length&&void 0!==arguments[5]?arguments[5]:{silent:!1},r=[t,e],c=(-1<t.indexOf(".")&&(o=i,i=e,e=(r=t.split("."))[1]),this.addNamespaces(e),f(this.data,r)||{});o?function t(e,i,o){for(var n in i)"__proto__"!==n&&"constructor"!==n&&(n in e?"string"==typeof e[n]||e[n]instanceof String||"string"==typeof i[n]||i[n]instanceof String?o&&(e[n]=i[n]):t(e[n],i[n],o):e[n]=i[n])}(c,i,n):c=P({},c,i),Y(this.data,r,c),s.silent||this.emit("added",t,e,i)}},{key:"removeResourceBundle",value:function(t,e){this.hasResourceBundle(t,e)&&delete this.data[t][e],this.removeNamespaces(e),this.emit("removed",t,e)}},{key:"hasResourceBundle",value:function(t,e){return void 0!==this.getResource(t,e)}},{key:"getResourceBundle",value:function(t,e){return e=e||this.options.defaultNS,"v1"===this.options.compatibilityAPI?P({},{},this.getResource(t,e)):this.getResource(t,e)}},{key:"getDataByLanguage",value:function(t){return this.data[t]}},{key:"toJSON",value:function(){return this.data}}]),w),m={processors:{},addPostProcessor:function(t){this.processors[t.name]=t},handle:function(t,e,i,o,n){var s=this;return t.forEach(function(t){s.processors[t]&&(e=s.processors[t].process(e,i,o,n))}),e}},x={},v=(e(A,l),t(A,[{key:"changeLanguage",value:function(t){t&&(this.language=t)}},{key:"exists",value:function(t){if(null==t)return!1;t=this.resolve(t,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{interpolation:{}});return t&&void 0!==t.res}},{key:"extractFromKey",value:function(t,e){var i=(void 0!==e.nsSeparator?e:this.options).nsSeparator,o=(void 0!==e.keySeparator?e:this.options).keySeparator,e=e.ns||this.options.defaultNS;if((i=void 0===i?":":i)&&-1<t.indexOf(i)){var n=t.match(this.interpolator.nestingRegexp);if(n&&0<n.length)return{key:t,namespaces:e};n=t.split(i);(i!==o||i===o&&-1<this.options.ns.indexOf(n[0]))&&(e=n.shift()),t=n.join(o)}return{key:t,namespaces:e="string"==typeof e?[e]:e}}},{key:"translate",value:function(t,o,e){var n=this;if(o=(o="object"!==C(o)&&this.options.overloadTranslationOptionHandler?this.options.overloadTranslationOptionHandler(arguments):o)||{},null==t)return"";Array.isArray(t)||(t=[String(t)]);var i=(void 0!==o.keySeparator?o:this.options).keySeparator,s=this.extractFromKey(t[t.length-1],o),r=s.key,c=s.namespaces,a=c[c.length-1],s=o.lng||this.language,h=o.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(s&&"cimode"===s.toLowerCase())return h?(h=o.nsSeparator||this.options.nsSeparator,a+h+r):r;var h=this.resolve(t,o),u=h&&h.res,l=h&&h.usedKey||r,d=h&&h.exactUsedKey||r,p=Object.prototype.toString.apply(u),F=(void 0!==o.joinArrays?o:this.options).joinArrays,j=!this.i18nFormat||this.i18nFormat.handleAsObject;if(j&&u&&"string"!=typeof u&&"boolean"!=typeof u&&"number"!=typeof u&&["[object Number]","[object Function]","[object RegExp]"].indexOf(p)<0&&("string"!=typeof F||"[object Array]"!==p)){if(!o.returnObjects&&!this.options.returnObjects)return this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(l,u,P({},o,{ns:c})):"key '".concat(r," (").concat(this.language,")' returned an object instead of string.");if(i){var Y,f,b="[object Array]"===p,g=b?[]:{},y=b?d:l;for(Y in u)Object.prototype.hasOwnProperty.call(u,Y)&&(f="".concat(y).concat(i).concat(Y),g[Y]=this.translate(f,P({},o,{joinArrays:!1,ns:c})),g[Y]===f&&(g[Y]=u[Y]));u=g}}else if(j&&"string"==typeof F&&"[object Array]"===p)(u=u.join(F))&&(u=this.extendTranslation(u,t,o,e));else{var b=!1,d=!1,l=void 0!==o.count&&"string"!=typeof o.count,j=A.hasDefaultValue(o),p=l?this.pluralResolver.getSuffix(s,o.count):"",m=o["defaultValue".concat(p)]||o.defaultValue,x=(!this.isValidLookup(u)&&j&&(b=!0,u=m),this.isValidLookup(u)||(d=!0,u=r),(o.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&d?void 0:u),v=j&&m!==u&&this.options.updateMissing;if(d||b||v){this.logger.log(v?"updateKey":"missingKey",s,a,r,v?m:u),i&&(F=this.resolve(r,P({},o,{keySeparator:!1})))&&F.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.");var w=[],_=this.languageUtils.getFallbackCodes(this.options.fallbackLng,o.lng||this.language);if("fallback"===this.options.saveMissingTo&&_&&_[0])for(var E=0;E<_.length;E++)w.push(_[E]);else"all"===this.options.saveMissingTo?w=this.languageUtils.toResolveHierarchy(o.lng||this.language):w.push(o.lng||this.language);var S=function(t,e,i){n.options.missingKeyHandler?n.options.missingKeyHandler(t,a,e,v?i:x,v,o):n.backendConnector&&n.backendConnector.saveMissing&&n.backendConnector.saveMissing(t,a,e,v?i:x,v,o),n.emit("missingKey",t,a,e,u)};this.options.saveMissing&&(this.options.saveMissingPlurals&&l?w.forEach(function(e){n.pluralResolver.getSuffixes(e).forEach(function(t){S([e],r+t,o["defaultValue".concat(t)]||m)})}):S(w,r,m))}u=this.extendTranslation(u,t,o,h,e),d&&u===r&&this.options.appendNamespaceToMissingKey&&(u="".concat(a,":").concat(r)),(d||b)&&this.options.parseMissingKeyHandler&&(u=this.options.parseMissingKeyHandler(u))}return u}},{key:"extendTranslation",value:function(t,o,n,e,s){var i,r=this,c=(this.i18nFormat&&this.i18nFormat.parse?t=this.i18nFormat.parse(t,n,e.usedLng,e.usedNS,e.usedKey,{resolved:e}):n.skipInterpolation||(n.interpolation&&this.interpolator.init(P({},n,{interpolation:P({},this.options.interpolation,n.interpolation)})),(c=n.interpolation&&n.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables)&&(a=(a=t.match(this.interpolator.nestingRegexp))&&a.length),i=n.replace&&"string"!=typeof n.replace?n.replace:n,this.options.interpolation.defaultVariables&&(i=P({},this.options.interpolation.defaultVariables,i)),t=this.interpolator.interpolate(t,i,n.lng||this.language,n),c&&a<((i=t.match(this.interpolator.nestingRegexp))&&i.length)&&(n.nest=!1),!1!==n.nest&&(t=this.interpolator.nest(t,function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return s&&s[0]===e[0]&&!n.context?(r.logger.warn("It seems you are nesting recursively key: ".concat(e[0]," in key: ").concat(o[0])),null):r.translate.apply(r,e.concat([o]))},n)),n.interpolation&&this.interpolator.reset()),n.postProcess||this.options.postProcess),a="string"==typeof c?[c]:c;return t=null!=t&&a&&a.length&&!1!==n.applyPostProcessor?m.handle(a,t,o,this.options&&this.options.postProcessPassResolved?P({i18nResolved:e},n):n,this):t}},{key:"resolve",value:function(t){var h,i,u,l,o,d=this,p=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return(t="string"==typeof t?[t]:t).forEach(function(t){var r,c,a,e;d.isValidLookup(h)||(t=d.extractFromKey(t,p),r=t.key,i=r,t=t.namespaces,d.options.fallbackNS&&(t=t.concat(d.options.fallbackNS)),c=void 0!==p.count&&"string"!=typeof p.count,a=void 0!==p.context&&("string"==typeof p.context||"number"==typeof p.context)&&""!==p.context,e=p.lngs||d.languageUtils.toResolveHierarchy(p.lng||d.language,p.fallbackLng),t.forEach(function(s){d.isValidLookup(h)||(o=s,!x["".concat(e[0],"-").concat(s)]&&d.utils&&d.utils.hasLoadedNamespace&&!d.utils.hasLoadedNamespace(o)&&(x["".concat(e[0],"-").concat(s)]=!0,d.logger.warn('key "'.concat(i,'" for languages "').concat(e.join(", "),'" won\'t get resolved as namespace "').concat(o,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),e.forEach(function(t){if(!d.isValidLookup(h)){l=t;var e,i,o=r,n=[o];for(d.i18nFormat&&d.i18nFormat.addLookupKeys?d.i18nFormat.addLookupKeys(n,r,t,s,p):(c&&(e=d.pluralResolver.getSuffix(t,p.count)),c&&a&&n.push(o+e),a&&n.push(o+="".concat(d.options.contextSeparator).concat(p.context)),c&&n.push(o+=e));i=n.pop();)d.isValidLookup(h)||(u=i,h=d.getResource(t,s,i,p))}}))}))}),{res:h,usedKey:i,exactUsedKey:u,usedLng:l,usedNS:o}}},{key:"isValidLookup",value:function(t){return!(void 0===t||!this.options.returnNull&&null===t||!this.options.returnEmptyString&&""===t)}},{key:"getResource",value:function(t,e,i){var o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};return(this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat:this.resourceStore).getResource(t,e,i,o)}}],[{key:"hasDefaultValue",value:function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e)&&"defaultValue"===e.substring(0,"defaultValue".length)&&void 0!==t[e])return!0;return!1}}]),A);function A(t){var e,i,o,n,s=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return r(this,A),e=a(this,h(A).call(this)),y&&l.call(c(e)),i=["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],o=t,n=c(e),i.forEach(function(t){o[t]&&(n[t]=o[t])}),e.options=s,void 0===e.options.keySeparator&&(e.options.keySeparator="."),e.logger=u.create("translator"),e}function w(t){var e,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return r(this,w),e=a(this,h(w).call(this)),y&&l.call(c(e)),e.data=t||{},e.options=i,void 0===e.options.keySeparator&&(e.options.keySeparator="."),void 0===e.options.ignoreJSONStructure&&(e.options.ignoreJSONStructure=!0),e}function _(t){return t.charAt(0).toUpperCase()+t.slice(1)}t(E,[{key:"getScriptPartFromCode",value:function(t){if(!t||t.indexOf("-")<0)return null;t=t.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}},{key:"getLanguagePartFromCode",value:function(t){if(!t||t.indexOf("-")<0)return t;t=t.split("-");return this.formatLanguageCode(t[0])}},{key:"formatLanguageCode",value:function(t){var e,i;return"string"==typeof t&&-1<t.indexOf("-")?(e=["hans","hant","latn","cyrl","cans","mong","arab"],i=t.split("-"),this.options.lowerCaseLng?i=i.map(function(t){return t.toLowerCase()}):2===i.length?(i[0]=i[0].toLowerCase(),i[1]=i[1].toUpperCase(),-1<e.indexOf(i[1].toLowerCase())&&(i[1]=_(i[1].toLowerCase()))):3===i.length&&(i[0]=i[0].toLowerCase(),2===i[1].length&&(i[1]=i[1].toUpperCase()),"sgn"!==i[0]&&2===i[2].length&&(i[2]=i[2].toUpperCase()),-1<e.indexOf(i[1].toLowerCase())&&(i[1]=_(i[1].toLowerCase())),-1<e.indexOf(i[2].toLowerCase())&&(i[2]=_(i[2].toLowerCase()))),i.join("-")):this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}},{key:"isWhitelisted",value:function(t){return this.logger.deprecate("languageUtils.isWhitelisted",'function "isWhitelisted" will be renamed to "isSupportedCode" in the next major - please make sure to rename it\'s usage asap.'),this.isSupportedCode(t)}},{key:"isSupportedCode",value:function(t){return"languageOnly"!==this.options.load&&!this.options.nonExplicitSupportedLngs||(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||-1<this.supportedLngs.indexOf(t)}},{key:"getBestMatchFromCodes",value:function(t){var i,o=this;return t?(t.forEach(function(t){i||(t=o.formatLanguageCode(t),o.options.supportedLngs&&!o.isSupportedCode(t)||(i=t))}),!i&&this.options.supportedLngs&&t.forEach(function(t){if(!i){var e=o.getLanguagePartFromCode(t);if(o.isSupportedCode(e))return i=e;i=o.options.supportedLngs.find(function(t){if(0===t.indexOf(e))return t})}}),i=i||this.getFallbackCodes(this.options.fallbackLng)[0]):null}},{key:"getFallbackCodes",value:function(t,e){if(!t)return[];if("string"==typeof(t="function"==typeof t?t(e):t)&&(t=[t]),"[object Array]"===Object.prototype.toString.apply(t))return t;if(!e)return t.default||[];var i=t[e];return(i=(i=(i=(i=i||t[this.getScriptPartFromCode(e)])||t[this.formatLanguageCode(e)])||t[this.getLanguagePartFromCode(e)])||t.default)||[]}},{key:"toResolveHierarchy",value:function(t,e){function i(t){t&&(o.isSupportedCode(t)?n.push(t):o.logger.warn("rejecting language code not found in supportedLngs: ".concat(t)))}var o=this,e=this.getFallbackCodes(e||this.options.fallbackLng||[],t),n=[];return"string"==typeof t&&-1<t.indexOf("-")?("languageOnly"!==this.options.load&&i(this.formatLanguageCode(t)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&i(this.getScriptPartFromCode(t)),"currentOnly"!==this.options.load&&i(this.getLanguagePartFromCode(t))):"string"==typeof t&&i(this.formatLanguageCode(t)),e.forEach(function(t){n.indexOf(t)<0&&i(o.formatLanguageCode(t))}),n}}]);var k=E,D=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],O={1:function(t){return Number(1<t)},2:function(t){return Number(1!=t)},3:function(t){return 0},4:function(t){return Number(t%10==1&&t%100!=11?0:2<=t%10&&t%10<=4&&(t%100<10||20<=t%100)?1:2)},5:function(t){return Number(0==t?0:1==t?1:2==t?2:3<=t%100&&t%100<=10?3:11<=t%100?4:5)},6:function(t){return Number(1==t?0:2<=t&&t<=4?1:2)},7:function(t){return Number(1==t?0:2<=t%10&&t%10<=4&&(t%100<10||20<=t%100)?1:2)},8:function(t){return Number(1==t?0:2==t?1:8!=t&&11!=t?2:3)},9:function(t){return Number(2<=t)},10:function(t){return Number(1==t?0:2==t?1:t<7?2:t<11?3:4)},11:function(t){return Number(1==t||11==t?0:2==t||12==t?1:2<t&&t<20?2:3)},12:function(t){return Number(t%10!=1||t%100==11)},13:function(t){return Number(0!==t)},14:function(t){return Number(1==t?0:2==t?1:3==t?2:3)},15:function(t){return Number(t%10==1&&t%100!=11?0:2<=t%10&&(t%100<10||20<=t%100)?1:2)},16:function(t){return Number(t%10==1&&t%100!=11?0:0!==t?1:2)},17:function(t){return Number(1==t||t%10==1&&t%100!=11?0:1)},18:function(t){return Number(0==t?0:1==t?1:2)},19:function(t){return Number(1==t?0:0==t||1<t%100&&t%100<11?1:10<t%100&&t%100<20?2:3)},20:function(t){return Number(1==t?0:0==t||0<t%100&&t%100<20?1:2)},21:function(t){return Number(t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0)},22:function(t){return Number(1==t?0:2==t?1:(t<0||10<t)&&t%10==0?2:3)}};function E(t){r(this,E),this.options=t,this.whitelist=this.options.supportedLngs||!1,this.supportedLngs=this.options.supportedLngs||!1,this.logger=u.create("languageUtils")}t(T,[{key:"addRule",value:function(t,e){this.rules[t]=e}},{key:"getRule",value:function(t){return this.rules[t]||this.rules[this.languageUtils.getLanguagePartFromCode(t)]}},{key:"needsPlural",value:function(t){t=this.getRule(t);return t&&1<t.numbers.length}},{key:"getPluralFormsOfKey",value:function(t,e){return this.getSuffixes(t).map(function(t){return e+t})}},{key:"getSuffixes",value:function(e){var i=this,t=this.getRule(e);return t?t.numbers.map(function(t){return i.getSuffix(e,t)}):[]}},{key:"getSuffix",value:function(t,e){var i,o,n=this,s=this.getRule(t);return s?(e=s.noAbs?s.plurals(e):s.plurals(Math.abs(e)),i=s.numbers[e],this.options.simplifyPluralSuffix&&2===s.numbers.length&&1===s.numbers[0]&&(2===i?i="plural":1===i&&(i="")),o=function(){return n.options.prepend&&i.toString()?n.options.prepend+i.toString():i.toString()},"v1"===this.options.compatibilityJSON?1===i?"":"number"==typeof i?"_plural_".concat(i.toString()):o():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===s.numbers.length&&1===s.numbers[0]?o():this.options.prepend&&e.toString()?this.options.prepend+e.toString():e.toString()):(this.logger.warn("no plural rule found for: ".concat(t)),"")}}]);var G=T,Q=(t(S,[{key:"init",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=(t.interpolation||(t.interpolation={escapeValue:!0}),t.interpolation);this.escape=void 0!==t.escape?t.escape:R,this.escapeValue=void 0===t.escapeValue||t.escapeValue,this.useRawValueToEscape=void 0!==t.useRawValueToEscape&&t.useRawValueToEscape,this.prefix=t.prefix?g(t.prefix):t.prefixEscaped||"{{",this.suffix=t.suffix?g(t.suffix):t.suffixEscaped||"}}",this.formatSeparator=t.formatSeparator||t.formatSeparator||",",this.unescapePrefix=t.unescapeSuffix?"":t.unescapePrefix||"-",this.unescapeSuffix=!this.unescapePrefix&&t.unescapeSuffix||"",this.nestingPrefix=t.nestingPrefix?g(t.nestingPrefix):t.nestingPrefixEscaped||g("$t("),this.nestingSuffix=t.nestingSuffix?g(t.nestingSuffix):t.nestingSuffixEscaped||g(")"),this.nestingOptionsSeparator=t.nestingOptionsSeparator||t.nestingOptionsSeparator||",",this.maxReplaces=t.maxReplaces||1e3,this.alwaysFormat=void 0!==t.alwaysFormat&&t.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var t="".concat(this.prefix,"(.+?)").concat(this.suffix),t=(this.regexp=new RegExp(t,"g"),"".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix)),t=(this.regexpUnescape=new RegExp(t,"g"),"".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix));this.nestingRegexp=new RegExp(t,"g")}},{key:"interpolate",value:function(i,o,n,s){var r,c,a,h=this,u=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function e(t){return t.replace(/\$/g,"$$$$")}this.resetRegExp();var l=s&&s.missingInterpolationHandler||this.options.missingInterpolationHandler,d=s&&s.interpolation&&s.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:e},{regex:this.regexp,safeValue:function(t){return h.escapeValue?e(h.escape(t)):e(t)}}].forEach(function(t){for(a=0;r=t.regex.exec(i);){if(void 0===(c=function(t){if(t.indexOf(h.formatSeparator)<0)return e=b(o,u,t),h.alwaysFormat?h.format(e,void 0,n,P({},s,o,{interpolationkey:t})):e;var e=t.split(h.formatSeparator),t=e.shift().trim(),e=e.join(h.formatSeparator).trim();return h.format(b(o,u,t),e,n,P({},s,o,{interpolationkey:t}))}(r[1].trim())))if("function"==typeof l){var e=l(i,r,s);c="string"==typeof e?e:""}else{if(d){c=r[0];continue}h.logger.warn("missed to pass in variable ".concat(r[1]," for interpolating ").concat(i)),c=""}else"string"==typeof c||h.useRawValueToEscape||(c=F(c));e=t.safeValue(c);if(i=i.replace(r[0],e),d?(t.regex.lastIndex+=e.length,t.regex.lastIndex-=r[0].length):t.regex.lastIndex=0,++a>=h.maxReplaces)break}}),i}},{key:"nest",value:function(t,e){var i,o=this,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},s=P({},n);function r(t,e){var i=this.nestingOptionsSeparator;if(t.indexOf(i)<0)return t;var o=t.split(new RegExp("".concat(i,"[ ]*{"))),n="{".concat(o[1]);t=o[0],n=(n=this.interpolate(n,s)).replace(/'/g,'"');try{s=JSON.parse(n),e&&(s=P({},e,s))}catch(e){return this.logger.warn("failed parsing options string in nesting for key ".concat(t),e),"".concat(t).concat(i).concat(n)}return delete s.defaultValue,t}for(s.applyPostProcessor=!1,delete s.defaultValue;i=this.nestingRegexp.exec(t);){var c,a=[],h=!1;if(-1===i[0].indexOf(this.formatSeparator)||/{.*}/.test(i[1])||(c=i[1].split(this.formatSeparator).map(function(t){return t.trim()}),i[1]=c.shift(),a=c,h=!0),(c=e(r.call(this,i[1].trim(),s),s))&&i[0]===t&&"string"!=typeof c)return c;(c="string"!=typeof c?F(c):c)||(this.logger.warn("missed to resolve ".concat(i[1]," for nesting ").concat(t)),c=""),h&&(c=a.reduce(function(t,e){return o.format(t,e,n.lng,P({},n,{interpolationkey:i[1].trim()}))},c.trim())),t=t.replace(i[0],c),this.regexp.lastIndex=0}return t}}]),S);function S(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};r(this,S),this.logger=u.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||function(t){return t},this.init(t)}function T(t){var i,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};r(this,T),this.languageUtils=t,this.options=e,this.logger=u.create("pluralResolver"),this.rules=(i={},D.forEach(function(e){e.lngs.forEach(function(t){i[t]={numbers:e.nr,plurals:O[e.fc]}})}),i)}e(I,l),t(I,[{key:"queueLoad",value:function(t,e,n,i){var s=this,r=[],c=[],a=[],h=[];return t.forEach(function(i){var o=!0;e.forEach(function(t){var e="".concat(i,"|").concat(t);!n.reload&&s.store.hasResourceBundle(i,t)?s.state[e]=2:s.state[e]<0||(1===s.state[e]?c.indexOf(e)<0&&c.push(e):(s.state[e]=1,o=!1,c.indexOf(e)<0&&c.push(e),r.indexOf(e)<0&&r.push(e),h.indexOf(t)<0&&h.push(t)))}),o||a.push(i)}),(r.length||c.length)&&this.queue.push({pending:c,loaded:{},errors:[],callback:i}),{toLoad:r,pending:c,toLoadLanguages:a,toLoadNamespaces:h}}},{key:"loaded",value:function(c,a,t){var e=c.split("|"),h=e[0],u=e[1],l=(a&&this.emit("failedLoading",h,u,a),t&&this.store.addResourceBundle(h,u,t),this.state[c]=a?-1:2,{});this.queue.forEach(function(t){var e=t.loaded,i=u,e=j(e,[h],Object),o=e.obj,e=e.k;o[e]=o[e]||[],o[e].push(i);for(var n=t.pending,s=c,r=n.indexOf(s);-1!==r;)n.splice(r,1),r=n.indexOf(s);a&&t.errors.push(a),0!==t.pending.length||t.done||(Object.keys(t.loaded).forEach(function(e){l[e]||(l[e]=[]),t.loaded[e].length&&t.loaded[e].forEach(function(t){l[e].indexOf(t)<0&&l[e].push(t)})}),t.done=!0,t.errors.length?t.callback(t.errors):t.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(function(t){return!t.done})}},{key:"read",value:function(i,o,n){var s=this,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,c=4<arguments.length&&void 0!==arguments[4]?arguments[4]:350,a=5<arguments.length?arguments[5]:void 0;return i.length?this.backend[n](i,o,function(t,e){t&&e&&r<5?setTimeout(function(){s.read.call(s,i,o,n,r+1,2*c,a)},c):a(t,e)}):a(null,{})}},{key:"prepareLoading",value:function(t,e){var i=this,o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},n=3<arguments.length?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),n&&n();"string"==typeof t&&(t=this.languageUtils.toResolveHierarchy(t));t=this.queueLoad(t,e="string"==typeof e?[e]:e,o,n);if(!t.toLoad.length)return t.pending.length||n(),null;t.toLoad.forEach(function(t){i.loadOne(t)})}},{key:"load",value:function(t,e,i){this.prepareLoading(t,e,{},i)}},{key:"reload",value:function(t,e,i){this.prepareLoading(t,e,{reload:!0},i)}},{key:"loadOne",value:function(i){var o=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",t=i.split("|"),s=t[0],r=t[1];this.read(s,r,"read",void 0,void 0,function(t,e){t&&o.logger.warn("".concat(n,"loading namespace ").concat(r," for language ").concat(s," failed"),t),!t&&e&&o.logger.log("".concat(n,"loaded namespace ").concat(r," for language ").concat(s),e),o.loaded(i,t,e)})}},{key:"saveMissing",value:function(t,e,i,o,n){var s=5<arguments.length&&void 0!==arguments[5]?arguments[5]:{};this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(e)?this.logger.warn('did not save key "'.concat(i,'" as the namespace "').concat(e,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!"):null!=i&&""!==i&&(this.backend&&this.backend.create&&this.backend.create(t,e,i,o,null,P({},s,{isUpdate:n})),t&&t[0]&&this.store.addResource(t[0],e,i,o))}}]);var N=I;function I(t,e,i){var o,n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};return r(this,I),o=a(this,h(I).call(this)),y&&l.call(c(o)),o.backend=t,o.store=e,o.services=i,o.languageUtils=i.languageUtils,o.options=n,o.logger=u.create("backendConnector"),o.state={},o.queue=[],o.backend&&o.backend.init&&o.backend.init(i,n.backend,n),o}function q(t){return"string"==typeof t.ns&&(t.ns=[t.ns]),"string"==typeof t.fallbackLng&&(t.fallbackLng=[t.fallbackLng]),"string"==typeof t.fallbackNS&&(t.fallbackNS=[t.fallbackNS]),t.whitelist&&(t.whitelist&&t.whitelist.indexOf("cimode")<0&&(t.whitelist=t.whitelist.concat(["cimode"])),t.supportedLngs=t.whitelist),t.nonExplicitWhitelist&&(t.nonExplicitSupportedLngs=t.nonExplicitWhitelist),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t}function B(){}return e(J,l),t(J,[{key:"init",value:function(){var t,n=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},i=1<arguments.length?arguments[1]:void 0;function o(t){return t?"function"==typeof t?new t:t:null}"function"==typeof e&&(i=e,e={}),e.whitelist&&!e.supportedLngs&&this.logger.deprecate("whitelist",'option "whitelist" will be renamed to "supportedLngs" in the next major - please make sure to rename this option asap.'),e.nonExplicitWhitelist&&!e.nonExplicitSupportedLngs&&this.logger.deprecate("whitelist",'options "nonExplicitWhitelist" will be renamed to "nonExplicitSupportedLngs" in the next major - please make sure to rename this option asap.'),this.options=P({},{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,whitelist:!1,nonExplicitWhitelist:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(t){var e,i={};return"object"===C(t[1])&&(i=t[1]),"string"==typeof t[1]&&(i.defaultValue=t[1]),"string"==typeof t[2]&&(i.tDescription=t[2]),"object"!==C(t[2])&&"object"!==C(t[3])||(e=t[3]||t[2],Object.keys(e).forEach(function(t){i[t]=e[t]})),i},interpolation:{escapeValue:!0,format:function(t,e,i,o){return t},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!1}},this.options,q(e)),this.format=this.options.interpolation.format,i=i||B,this.options.isClone||(this.modules.logger?u.init(o(this.modules.logger),this.options):u.init(null,this.options),e=new k(this.options),this.store=new L(this.options.resources,this.options),(t=this.services).logger=u,t.resourceStore=this.store,t.languageUtils=e,t.pluralResolver=new G(e,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),t.interpolator=new Q(this.options),t.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},t.backendConnector=new N(o(this.modules.backend),t.resourceStore,t,this.options),t.backendConnector.on("*",function(t){for(var e=arguments.length,i=new Array(1<e?e-1:0),o=1;o<e;o++)i[o-1]=arguments[o];n.emit.apply(n,[t].concat(i))}),this.modules.languageDetector&&(t.languageDetector=o(this.modules.languageDetector),t.languageDetector.init(t,this.options.detection,this.options)),this.modules.i18nFormat&&(t.i18nFormat=o(this.modules.i18nFormat),t.i18nFormat.init&&t.i18nFormat.init(this)),this.translator=new v(this.services,this.options),this.translator.on("*",function(t){for(var e=arguments.length,i=new Array(1<e?e-1:0),o=1;o<e;o++)i[o-1]=arguments[o];n.emit.apply(n,[t].concat(i))}),this.modules.external.forEach(function(t){t.init&&t.init(n)})),!this.options.fallbackLng||this.services.languageDetector||this.options.lng||0<(e=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng)).length&&"dev"!==e[0]&&(this.options.lng=e[0]),this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(function(e){n[e]=function(){var t;return(t=n.store)[e].apply(t,arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(function(e){n[e]=function(){var t;return(t=n.store)[e].apply(t,arguments),n}});function s(){function t(t,e){n.isInitialized&&!n.initializedStoreOnce&&n.logger.warn("init: i18next is already initialized. You should call init just once!"),n.isInitialized=!0,n.options.isClone||n.logger.log("initialized",n.options),n.emit("initialized",n.options),r.resolve(e),i(t,e)}if(n.languages&&"v1"!==n.options.compatibilityAPI&&!n.isInitialized)return t(null,n.t.bind(n));n.changeLanguage(n.options.lng,t)}var r=p();return this.options.resources||!this.options.initImmediate?s():setTimeout(s,0),r}},{key:"loadResources",value:function(t){var e=this,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:B,o="string"==typeof t?t:this.language;if("function"==typeof t&&(i=t),!this.options.resources||this.options.partialBundledLanguages){if(o&&"cimode"===o.toLowerCase())return i();var n=[],t=function(t){t&&e.services.languageUtils.toResolveHierarchy(t).forEach(function(t){n.indexOf(t)<0&&n.push(t)})};o?t(o):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(t),this.options.preload&&this.options.preload.forEach(t),this.services.backendConnector.load(n,this.options.ns,i)}else i(null)}},{key:"reloadResources",value:function(t,e,i){var o=p();return t=t||this.languages,e=e||this.options.ns,i=i||B,this.services.backendConnector.reload(t,e,function(t){o.resolve(),i(t)}),o}},{key:"use",value:function(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(t.type)return"backend"===t.type&&(this.modules.backend=t),("logger"===t.type||t.log&&t.warn&&t.error)&&(this.modules.logger=t),"languageDetector"===t.type&&(this.modules.languageDetector=t),"i18nFormat"===t.type&&(this.modules.i18nFormat=t),"postProcessor"===t.type&&m.addPostProcessor(t),"3rdParty"===t.type&&this.modules.external.push(t),this;throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()")}},{key:"changeLanguage",value:function(e,o){function t(t){var i="string"==typeof(t=e||t||!n.services.languageDetector?t:[])?t:n.services.languageUtils.getBestMatchFromCodes(t);i&&(n.language||(n.language=i,n.languages=n.services.languageUtils.toResolveHierarchy(i)),n.translator.language||n.translator.changeLanguage(i),n.services.languageDetector&&n.services.languageDetector.cacheUserLanguage(i)),n.loadResources(i,function(t){var e;t=t,(e=i)?(n.language=e,n.languages=n.services.languageUtils.toResolveHierarchy(e),n.translator.changeLanguage(e),n.isLanguageChangingTo=void 0,n.emit("languageChanged",e),n.logger.log("languageChanged",e)):n.isLanguageChangingTo=void 0,s.resolve(function(){return n.t.apply(n,arguments)}),o&&o(t,function(){return n.t.apply(n,arguments)})})}var n=this,s=(this.isLanguageChangingTo=e,p());this.emit("languageChanging",e);return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(t):t(e):t(this.services.languageDetector.detect()),s}},{key:"getFixedT",value:function(t,e,r){function c(t,e){var i;if("object"!==C(e)){for(var o=arguments.length,n=new Array(2<o?o-2:0),s=2;s<o;s++)n[s-2]=arguments[s];i=a.options.overloadTranslationOptionHandler([t,e].concat(n))}else i=P({},e);return i.lng=i.lng||c.lng,i.lngs=i.lngs||c.lngs,i.ns=i.ns||c.ns,e=a.options.keySeparator||".",e=r?"".concat(r).concat(e).concat(t):t,a.t(e,i)}var a=this;return"string"==typeof t?c.lng=t:c.lngs=t,c.ns=e,c.keyPrefix=r,c}},{key:"t",value:function(){var t;return this.translator&&(t=this.translator).translate.apply(t,arguments)}},{key:"exists",value:function(){var t;return this.translator&&(t=this.translator).exists.apply(t,arguments)}},{key:"setDefaultNamespace",value:function(t){this.options.defaultNS=t}},{key:"hasLoadedNamespace",value:function(t){var i=this,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var o=this.languages[0],n=!!this.options&&this.options.fallbackLng,s=this.languages[this.languages.length-1];if("cimode"===o.toLowerCase())return!0;function r(t,e){return-1===(t=i.services.backendConnector.state["".concat(t,"|").concat(e)])||2===t}if(e.precheck){e=e.precheck(this,r);if(void 0!==e)return e}return!!this.hasResourceBundle(o,t)||!this.services.backendConnector.backend||!(!r(o,t)||n&&!r(s,t))}},{key:"loadNamespaces",value:function(t,e){var i=this,o=p();return this.options.ns?((t="string"==typeof t?[t]:t).forEach(function(t){i.options.ns.indexOf(t)<0&&i.options.ns.push(t)}),this.loadResources(function(t){o.resolve(),e&&e(t)}),o):(e&&e(),Promise.resolve())}},{key:"loadLanguages",value:function(t,e){var i=p(),o=this.options.preload||[],t=(t="string"==typeof t?[t]:t).filter(function(t){return o.indexOf(t)<0});return t.length?(this.options.preload=o.concat(t),this.loadResources(function(t){i.resolve(),e&&e(t)}),i):(e&&e(),Promise.resolve())}},{key:"dir",value:function(t){return!(t=t||(this.languages&&0<this.languages.length?this.languages[0]:this.language))||0<=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam"].indexOf(this.services.languageUtils.getLanguagePartFromCode(t))?"rtl":"ltr"}},{key:"createInstance",value:function(){return new J(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},1<arguments.length?arguments[1]:void 0)}},{key:"cloneInstance",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:B,t=P({},this.options,t,{isClone:!0}),n=new J(t);return["store","services","language"].forEach(function(t){n[t]=e[t]}),n.services=P({},this.services),n.services.utils={hasLoadedNamespace:n.hasLoadedNamespace.bind(n)},n.translator=new v(n.services,n.options),n.translator.on("*",function(t){for(var e=arguments.length,i=new Array(1<e?e-1:0),o=1;o<e;o++)i[o-1]=arguments[o];n.emit.apply(n,[t].concat(i))}),n.init(t,i),n.translator.options=n.options,n.translator.backendConnector.services.utils={hasLoadedNamespace:n.hasLoadedNamespace.bind(n)},n}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages}}}]),new J;function J(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},i=1<arguments.length?arguments[1]:void 0;if(r(this,J),t=a(this,h(J).call(this)),y&&l.call(c(t)),t.options=q(e),t.services={},t.logger=u,t.modules={external:[]},i&&!t.isInitialized&&!e.isClone){if(!t.options.initImmediate)return t.init(e,i),a(t,c(t));setTimeout(function(){t.init(e,i)},0)}return t}}),!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).i18nextBrowserLanguageDetector=e()}(this,function(){"use strict";function o(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var t=[],s=t.forEach,r=t.slice;function i(){if(null!==e)return e;try{e="undefined"!==window&&null!==window.localStorage;var t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch(t){e=!1}return e}function n(){if(null!==p)return p;try{p="undefined"!==window&&null!==window.sessionStorage;var t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch(t){p=!1}return p}var c=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,a=function(t,e,i,o){var n=4<arguments.length&&void 0!==arguments[4]?arguments[4]:{path:"/",sameSite:"strict"};i&&(n.expires=new Date,n.expires.setTime(n.expires.getTime()+60*i*1e3)),o&&(n.domain=o),document.cookie=function(t,e,i){i=i||{};i.path=i.path||"/";var o=t+"="+encodeURIComponent(e);if(0<i.maxAge){t=+i.maxAge;if(isNaN(t))throw new Error("maxAge should be a Number");o+="; Max-Age="+Math.floor(t)}if(i.domain){if(!c.test(i.domain))throw new TypeError("option domain is invalid");o+="; Domain="+i.domain}if(i.path){if(!c.test(i.path))throw new TypeError("option path is invalid");o+="; Path="+i.path}if(i.expires){if("function"!=typeof i.expires.toUTCString)throw new TypeError("option expires is invalid");o+="; Expires="+i.expires.toUTCString()}if(i.httpOnly&&(o+="; HttpOnly"),i.secure&&(o+="; Secure"),i.sameSite)switch("string"==typeof i.sameSite?i.sameSite.toLowerCase():i.sameSite){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return o}(t,encodeURIComponent(e),n)},h=function(t){for(var e=t+"=",i=document.cookie.split(";"),o=0;o<i.length;o++){for(var n=i[o];" "===n.charAt(0);)n=n.substring(1,n.length);if(0===n.indexOf(e))return n.substring(e.length,n.length)}return null},u={name:"cookie",lookup:function(t){var e;return e=t.lookupCookie&&"undefined"!=typeof document&&(t=h(t.lookupCookie))?t:e},cacheUserLanguage:function(t,e){e.lookupCookie&&"undefined"!=typeof document&&a(e.lookupCookie,t,e.cookieMinutes,e.cookieDomain,e.cookieOptions)}},l={name:"querystring",lookup:function(t){var e;if("undefined"!=typeof window)for(var i=window.location.search,o=(i=!window.location.search&&window.location.hash&&-1<window.location.hash.indexOf("?")?window.location.hash.substring(window.location.hash.indexOf("?")):i).substring(1).split("&"),n=0;n<o.length;n++){var s=o[n].indexOf("=");0<s&&o[n].substring(0,s)===t.lookupQuerystring&&(e=o[n].substring(s+1))}return e}},e=null,d={name:"localStorage",lookup:function(t){var e;return t.lookupLocalStorage&&i()&&((t=window.localStorage.getItem(t.lookupLocalStorage))&&(e=t)),e},cacheUserLanguage:function(t,e){e.lookupLocalStorage&&i()&&window.localStorage.setItem(e.lookupLocalStorage,t)}},p=null,F={name:"sessionStorage",lookup:function(t){var e;return t.lookupSessionStorage&&n()&&((t=window.sessionStorage.getItem(t.lookupSessionStorage))&&(e=t)),e},cacheUserLanguage:function(t,e){e.lookupSessionStorage&&n()&&window.sessionStorage.setItem(e.lookupSessionStorage,t)}},j={name:"navigator",lookup:function(t){var e=[];if("undefined"!=typeof navigator){if(navigator.languages)for(var i=0;i<navigator.languages.length;i++)e.push(navigator.languages[i]);navigator.userLanguage&&e.push(navigator.userLanguage),navigator.language&&e.push(navigator.language)}return 0<e.length?e:void 0}},Y={name:"htmlTag",lookup:function(t){var e,t=t.htmlTag||("undefined"!=typeof document?document.documentElement:null);return e=t&&"function"==typeof t.getAttribute?t.getAttribute("lang"):e}},f={name:"path",lookup:function(t){var e;if("undefined"!=typeof window){var i=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(i instanceof Array)if("number"==typeof t.lookupFromPathIndex){if("string"!=typeof i[t.lookupFromPathIndex])return;e=i[t.lookupFromPathIndex].replace("/","")}else e=i[0].replace("/","")}return e}},b={name:"subdomain",lookup:function(t){var e,i;return e="undefined"!=typeof window&&(i=window.location.href.match(/(?:http[s]*\:\/\/)*(.*?)\.(?=[^\/]*\..{2,5})/gi))instanceof Array?("number"==typeof t.lookupFromSubdomainIndex?i[t.lookupFromSubdomainIndex]:i[0]).replace("http://","").replace("https://","").replace(".",""):e}};t=function(){function n(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=this,o=n;if(!(i instanceof o))throw new TypeError("Cannot call a class as a function");this.type="languageDetector",this.detectors={},this.init(t,e)}var t,e,i;return t=n,(e=[{key:"init",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};this.services=t,this.options=function(i){return s.call(r.call(arguments,1),function(t){if(t)for(var e in t)void 0===i[e]&&(i[e]=t[e])}),i}(e,this.options||{},{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"]}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=i,this.addDetector(u),this.addDetector(l),this.addDetector(d),this.addDetector(F),this.addDetector(j),this.addDetector(Y),this.addDetector(f),this.addDetector(b)}},{key:"addDetector",value:function(t){this.detectors[t.name]=t}},{key:"detect",value:function(t){var e=this,i=(t=t||this.options.order,[]);return t.forEach(function(t){e.detectors[t]&&(t=(t=e.detectors[t].lookup(e.options))&&"string"==typeof t?[t]:t)&&(i=i.concat(t))}),this.services.languageUtils.getBestMatchFromCodes?i:0<i.length?i[0]:null}},{key:"cacheUserLanguage",value:function(e,t){var i=this;!(t=t||this.options.caches)||this.options.excludeCacheFor&&-1<this.options.excludeCacheFor.indexOf(e)||t.forEach(function(t){i.detectors[t]&&i.detectors[t].cacheUserLanguage(e,i.options)})}}])&&o(t.prototype,e),i&&o(t,i),Object.defineProperty(t,"prototype",{writable:!1}),n}();return t.type="languageDetector",t}),this&&this.__extends||function(){var o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};return function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}());!function(i){o=Phaser.Game,__extends(e,o),e.prototype.statePreloader=function(){var e=this;libs.forEach(function(t){e.load.script(t,t)})},e.prototype.stateCreator=function(){function t(){e.recursiveUpdateText(e.stage)}var e=this;this.plugins.add(PhaserSuperStorage.StoragePlugin),this.plugins.add(PhaserCachebuster.CacheBuster),this.plugins.add(PhaserSpine.SpinePlugin),this.storage.forcePromises=!0,this.state.add(i.Boot.Name,i.Boot,!1),this.state.add(i.Menu.Name,i.Menu,!1),this.state.add(i.MenuLevel.Name,i.MenuLevel,!1),this.state.add(i.Gameplay.Name,i.Gameplay,!1),this.state.add(i.Final.Name,i.Final,!1),this.state.add(i.Movie.Name,i.Movie,!1);WebFont.load({custom:{families:["Aller Display","Underdog-Regular"],urls:["assets/css/AllerDisplay.css","assets/css/Underdog-Regular.css"]},active:t,inactive:t}),this.state.start(i.Boot.Name),this.state.remove("game")},e.prototype.recursiveUpdateText=function(t){var e=this;t instanceof Phaser.Text&&(t.dirty=!0),t.children&&0<t.children.length&&t.children.forEach(function(t){e.recursiveUpdateText(t)})};var o,t=e;function e(){var t,e=o.call(this,{enableDebug:!0,width:i.Constants.GAME_WIDTH,height:i.Constants.GAME_HEIGHT,renderer:Phaser.AUTO,parent:"content",transparent:!0,antialias:!0,preserveDrawingBuffer:!1,physicsConfig:null,seed:"",state:null,forceSetTimeOut:!1})||this;return e.clearBeforeRender=!1,Phaser.Device.whenReady(function(){e.stage.disableVisibilityChange=!0;var t=e.device.desktop?"click":"touchstart";document.getElementById("content").addEventListener(t,function(t){e.gameResumed(t)})}),null!=(t=window._azerionIntegration)&&t.sa&&(h5branding.Utils.ASSET_LOCATION="assets/"),h5branding.Branding.analyticsEnabled=enableAnalytics,h5branding.SplashLoader.getInstance({gameId:i.Constants.GAMEDISTRIBUTION_ID,gameName:i.Constants.GAME_TITLE,gameTitle:i.Constants.GAME_TITLE,libs:[],version:version}).create().then(function(){var t;null!=(t=window._azerionIntegration)&&t.alxType&&(window._azerionIntegration.alxType,h5Analytics.AnalyticsWrapper.load({aType:window._azerionIntegration.alxType,gameName:i.Constants.GAME_TITLE,gaGameKey:i.Constants.GAME_KEY,gaSecretKey:i.Constants.SECRET_KEY,googleId:i.Constants.GOOGLE_ID})),Fabrique.LocalizationHandler.getInstance(e).initBrowserDetect(),e.state.add("game",{create:e.stateCreator.bind(e),preload:e.statePreloader.bind(e)},!0)}),e}i.Game=t}(Transmorpher3=Transmorpher3||{}),function(c){function t(t,e){void 0===e&&(e=0),this.game=t,this.queue=[],this.isStop=!1,this.completeDelay=e}t.loopTween=function(t,e,i,o,n,s,r){var c=t.time.create(),a=t.add.tween(i).to(o,n,s,!1,0,0,r);return c.loop(e,function(){a.start()},this),c.start(),a},t.loopAnimation=function(t,e,i,o){t=t.time.create();return t.loop(e,function(){i.animations.play(o)},this),t.start(),t},t.loopRandom=function(t,e,i,o,n){this.restartAnimation(t,e,i,o,n)},t.restartAnimation=function(t,e,i,o,n){var s=this,r=t.time.create();r.add(c.Utils.getRandomInt(o,n),e,i),r.onComplete.add(function(){return s.restartAnimation(t,e,i,o,n)},this),r.start()},t.prototype.push=function(t,e,i){var o=this,i=new a(function(){o.isStop||t.call(e)},this,i=void 0===i?0:i);return this.queue.push(i),this},t.prototype.pushTween=function(t,e,i,o,n,s,r){var c=this,t=new a(function(){c.isStop||c.game.add.tween(e).to(i,o,n,!0,0,s,r)},this,t);return this.queue.push(t),this},t.prototype.pushAnimation=function(t,e,i){var o=this,t=new a(function(){o.isStop||e.animations.play(i)},this,t);return this.queue.push(t),this},t.prototype.stop=function(){this.isStop=!0},t.prototype.start=function(){this.isStop=!1,this.startFunction()},t.prototype.startFunction=function(){var t,e,i=this;this.isStop||this.queue[0]&&((t=this.queue.shift()).delay?(e=void 0,t.delay&&(e=this.game.time.create()),t.timer=e,t.timer.add(t.delay,t.callback,t.context),t.timer.onComplete.add(function(){return i.startFunction()},this),t.timer.start()):(t.callback.call(t.context),this.startFunction()))},t.prototype.loop=function(t){var e;this.counter=0,this.isStop=!1,t?((e=this.game.time.create()).add(t,this.loopFunction,this),e.start()):this.loopFunction()},t.prototype.loopFunction=function(){var t,e,i=this;this.isStop||(t=this.queue[this.counter],this.counter===this.queue.length&&(this.completeDelay?(this.completeTimer=this.game.time.create(),this.completeTimer.add(this.completeDelay,function(){i.counter=0,i.loopFunction()},this),this.completeTimer.start()):(this.counter=0,this.loopFunction())),t&&(this.counter++,t.delay?(e=void 0,e=this.game.time.create(),t.timer=e,t.timer.add(t.delay,t.callback,t.context),t.timer.onComplete.addOnce(function(){return i.loopFunction()},this),t.timer.start()):(t.callback.call(t.context),this.loopFunction())))},t.prototype.startNonDestroy=function(){this.counter=0,this.isStop=!1,this.nonDestroyFunction()},t.prototype.nonDestroyFunction=function(){var t,e,i=this;this.isStop||(t=this.queue[this.counter])&&(this.counter++,t.delay?(e=void 0,t.delay&&(e=this.game.time.create()),t.timer=e,t.timer.add(t.delay,t.callback,t.context),t.timer.onComplete.add(function(){return i.nonDestroyFunction()},this),t.timer.start()):(t.callback.call(t.context),this.nonDestroyFunction()))},c.ActionQueue=t;var a=function(t,e,i){void 0===i&&(i=0),this.callback=t,this.context=e,this.delay=i}}(Transmorpher3=Transmorpher3||{}),function(t){c=Phaser.Physics.Box2D.Body,__extends(i,c),i.prototype.setHexagon=function(t,e){return this.setPolygon([0,0,t,t/(e=void 0===e?1:e),t/e,t,-t/e,t,-t,t/e,-t,-t/e,-t/e,-t,t/e,-t,t,-t/e,t,t/e])},i.prototype.setUserData=function(t){this.data.SetUserData(t)},i.prototype.getUserData=function(){return this.data.GetUserData()},i.prototype.setGroupIndex=function(t,e){void 0===t&&(t=0);for(var i=this.data.GetFixtureList();i;i=i.GetNext())this.setFixtureFilter(i,t,void 0,e)},i.prototype.setTag=function(t){this.tag=t},i.prototype.setName=function(t){this.name=t},i.prototype.isSameTag=function(t){return this.tag===t},i.prototype.setFixtureFilter=function(t,e,i,o){var n=t.GetFilterData();n.groupIndex=void 0!==e?e:n.groupIndex,n.maskBits=void 0!==i?i:n.maskBits,n.categoryBits=void 0!==o?o:n.categoryBits,t.SetFilterData(n)},i.prototype.setDencity=function(t){if(void 0===t){for(var e=this.data.GetFixtureList();e;e=e.GetNext())e.SetDensity(t);this.data.ResetMassData()}},i.prototype.set=function(t,e){this.x=t,e&&(this.y=e)},i.prototype.postUpdate=function(){this.target&&(this.target.position.set(this.x,this.y),this.target.rotation=this.data.GetAngle())},i.METER_TO_PIXEL=-50;var c,e=i;function i(t,e,i,o,n,s,r){t=c.call(this,t,void 0,i,o,s,r)||this;return t.target=e,t.tag=n||"",t.name="",t.target&&t.setRectangle(t.target.width,t.target.height),t}t.Body=e}(Transmorpher3=Transmorpher3||{}),function(t){function e(t,e){this.game=t,this.target=e,this.points=new n,this.mode=u.Linear}e.prototype.push=function(t,e){return this.points.x.push(t),this.points.y.push(e),this},e.prototype.plot=function(t,e,i){void 0===t&&(t=u.Linear),void 0===e&&(e=0),void 0===i&&(i=1),this.mode=t,this.angle=Phaser.Math.degToRad(e),this.pointer=0,this.path=[];for(var o=1/this.game.width*i,n=0,s=0,r=0,c=0;r<=1;r+=o,c++){var a=new h;this.mode===u.Linear?(n=Phaser.Math.linearInterpolation(this.points.x,r),s=Phaser.Math.linearInterpolation(this.points.y,r)):this.mode===u.Bezier?(n=Phaser.Math.bezierInterpolation(this.points.x,r),s=Phaser.Math.bezierInterpolation(this.points.y,r)):this.mode===u.CatmullRom&&(n=Phaser.Math.catmullRomInterpolation(this.points.x,r),s=Phaser.Math.catmullRomInterpolation(this.points.y,r)),a.x=n,a.y=s,0<c&&(a.rotation=Phaser.Math.angleBetweenPoints(this.path[c-1],a)),this.path.push(a)}},e.prototype.move=function(){var t;this.pointer>=this.path.length||(t=this.path[this.pointer],this.target.position.set(t.x,t.y),0!==t.rotation&&(this.target.rotation=t.rotation+this.angle),this.pointer++)},t.MotionPaths=e;o=Phaser.Point,__extends(i,o);var o,h=i;function i(t,e,i){void 0===i&&(i=0);t=o.call(this,t=void 0===t?0:t,e=void 0===e?0:e)||this;return t.rotation=i,t}var u,n=function(t,e){void 0===e&&(e=[]),this.x=t=void 0===t?[]:t,this.y=e};(t=u=t.PathsMode||(t.PathsMode={}))[t.Linear=0]="Linear",t[t.Bezier=1]="Bezier",t[t.CatmullRom=2]="CatmullRom"}(Transmorpher3=Transmorpher3||{}),function(t){function h(t){this.game=t,this.setScale();t=/Macintosh/.test(navigator.userAgent)&&"ontouchend"in document;h.desktop=this.game.device.desktop&&!t,this.all_keys=[],this.load_keys=[],this.error_keys=[]}h.prototype.isContaing=function(t){return-1!==this.load_keys.indexOf(t)},h.getAnglePoint=function(t,e,i,o,n){if(0===n)return new Phaser.Point(t,e);var s=Math.cos(n),n=Math.sin(n);return new Phaser.Point(i+(t-i)*s-(e-o)*n,o+(e-o)*s+(t-i)*n)},h.roundedImage=function(t,e,i,o,n,s){t.beginPath(),this.rounded(t,e,i,o,n,s),t.closePath()},h.angleToPoint=function(t,e,i,o){return 180*Math.atan2(o-e,i-t)/Math.PI},h.angleBetweenVectors=function(t,e,i,o,n){t=(t*i+e*o)/(Math.sqrt(t*t+e*e)*Math.sqrt(i*i+o*o)),e=Math.acos(t);return o<0&&(e=-e),n?180*e/Math.PI:e},h.decimalToRGBA=function(t){t=h.decimalToHexString(t);return h.hexToRGBA(t)},h.decimalToHexString=function(t){var e=(t=(t=Math.floor(t))<0?4294967295+t+1:t).toString(16).toUpperCase();if(e.length<6){for(var i="",o=0;o<6-e.length;o++)i+="0";e=i+e}return"#"+e},h.getFadeMiddleColor=function(t,e,i,o,n){var e=e/t,t=1-e,s=Math.floor(("0x"+i[0])*t+("0x"+o[0])*e),r=Math.floor(("0x"+i[1])*t+("0x"+o[1])*e),i=Math.floor(("0x"+i[2])*t+("0x"+o[2])*e);return n?"rgba("+s+","+r+","+i+",1)":"0x"+s.toString(16)+r.toString(16)+i.toString(16)},h.hexToRGBA=function(t){if(/^#([A-Fa-f0-9]{3}){1,2}$/.test(t))return"rgba("+[+(t="0x"+(t=3===(t=t.substring(1).split("")).length?[t[0],t[0],t[1],t[1],t[2],t[2]]:t).join(""))>>16&255,+t>>8&255,255&+t].join(",")+",1)";throw new Error("Bad Hex")},h.rounded=function(t,e,i,o,n,s){t.moveTo(e+s,i),t.lineTo(e+o-s,i),t.quadraticCurveTo(e+o,i,e+o,i+s),t.lineTo(e+o,i+n-s),t.quadraticCurveTo(e+o,i+n,e+o-s,i+n),t.lineTo(e+s,i+n),t.quadraticCurveTo(e,i+n,e,i+n-s),t.lineTo(e,i+s),t.quadraticCurveTo(e,i,e+s,i)},h.loadIframe=function(t,e,i){var o=document.createElement("iframe");return o.id=e,o.width="100%",o.height="100%",o.style.zIndex="15",o.style.position="absolute",o.style.top="0",o.style.left="0",o.src=t,o.name=i,document.body.appendChild(o),o},h.getCursorScale=function(t,e){return e<=.5?t+"_min":e<=.75?t+"_med":t+"_max"},h.setPoligons=function(t,e,i){void 0===i&&(i="poligons"),t.body.clearFixtures(),t.body.loadPolygon(i,e,t)},h.prototype.isImagesLoads=function(){return this.all_keys.length===this.load_keys.length+this.error_keys.length},h.getInstance=function(t){if(null==h.instance){if(!t)throw new Error("Cant create a new instance without a game");h.instance=new h(t)}return h.instance},h.sign=function(t){return 0<t?1:t<0?-1:0},h.setUrlParams=function(t,e){void 0===t&&(t=window.location.href),void 0===e&&(e=h.url_params);var i="",o="",n=0,s=t.indexOf("&"),r=t.indexOf("?"),c=t.indexOf("&"),a=t.indexOf("=");for((a<s&&-1!==a||-1===s&&-1!==a)&&(i=-1===r?t.slice(0,a):t.slice(r+1,a),o=-1!==s?t.slice(a+1,s):t.slice(a+1),e[i]=decodeURIComponent(o));-1!==c;)s=t.indexOf("&",n),a=t.indexOf("=",s),c=t.indexOf("&",a),i=t.slice(s+1,a),o=-1!==c?t.slice(a+1,c):t.slice(a+1),e[i]=decodeURIComponent(o),n=a+1;return e},h.getParameter=function(t,e){var i,o="",e=t.indexOf(e);return-1!==e&&(i=t.indexOf("=",e),e=t.indexOf("&",e),-1!==i&&(o=-1!==e?t.slice(i+1,e):t.slice(i+1))),o},h.getLanguage=function(){var t=(navigator.browserLanguage||navigator.language||navigator.userLanguage).slice(0,2);return"ru"===t||"Ru"===t||"uk"===t||"Uk"===t||"be"===t||"Be"===t?"rus":"eng"},h.swap=function(t,e){},h.getLength=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},h.prototype.setScale=function(){h.width=this.game.width>this.game.height?this.game.width:this.game.height,h.height=this.game.width<this.game.height?this.game.width:this.game.height,h.SCALE=h.height/t.Constants.GAME_HEIGHT>h.width/t.Constants.GAME_WIDTH?h.height/t.Constants.GAME_HEIGHT:h.width/t.Constants.GAME_WIDTH},h.prototype.getScale=function(t,e){return this.game.width/t<this.game.height/(e=void 0===e?t:e)?this.game.height/e:this.game.width/t},h.prototype.loadImageFromURL=function(t,e,i,o){var n=this;if(this.game.cache.checkImageKey(t)||""===t||-1!==this.error_keys.indexOf(t)||this.isContaing(t))return!1;this.all_keys.push(t);var s={type:"image",key:t,url:e,data:new Image,error:!1,loaded:!1};return s.data.name=s.key,s.data.onload=function(){s.loaded=!0,n.game.cache.addImage(s.key,s.url,s.data),n.load_keys.push(t),void 0!==i&&i.call(o)}.bind(this),s.data.onerror=function(){n.error_keys.push(t),s.error=!0,void 0!==i&&i.call(o)},s.data.crossOrigin="anonymous",s.data.src=s.url,!0},h.shuffleNumArray=function(t){for(var e,i,o=t.length;o;)e=Math.floor(Math.random()*o),i=t[--o],t[o]=t[e],t[e]=i;return t},h.startTween=function(t,e,i,o,n,s,r){return void 0===s&&(s=0),void 0===r&&(r=!0),t.isRunning&&t.stop(!0),t.target=e,t.timeline=[],t.to(i,o,n,!1,s,0,!1),r&&t.start(),t},h.addTestSprite=function(t,e,i){void 0===i&&(i=!0),t.inputEnabled=!0,t.input.enableDrag(),t.events.onDragUpdate.add(function(){i&&(Math.round(1e3*t.x),Math.round(1e3*t.y))},this)},Object.defineProperty(h.prototype,"isDesktop",{get:function(){return this.game.device.desktop},enumerable:!1,configurable:!0}),h.prototype.isPortrait=function(){return this.game.world.height>=this.game.world.width},h.getNameArray=function(t,e,i,o,n){void 0===o&&(o="");var s=n=void 0===n?[]:n;if((i=void 0===i?0:i)<=e)for(var r=i;r<=e;++r)s.push(t+r+o);else for(r=i;e<=r;--r)s.push(t+r+o);return s},h.getRandomInt=function(t,e){e=t-.5+Math.random()*(e-t+1);return Math.round(e)},h.getDecimal=function(t){return t-Math.floor(t)},h.instance=null,t.Utils=h}(Transmorpher3=Transmorpher3||{}),function(t){function e(){}e.Interface="interface",e.Decor="decor",e.Chars="chars",e.Menu="menu",e.Art="art",e.list=[e.Interface,e.Decor,e.Chars,e.Menu,e.Movie="movie",e.Art],t.Atlases=e}(Transmorpher3=Transmorpher3||{}),function(t){function e(){}e.GAME_SCALE=1,e.CALCULATED_WIDTH=0,e.CALCULATED_HEIGHT=0,e.LANDSCAPE_LOCKED=!0,e.PORTRAIT_LOCKED=!1,e.STORAGE_KEY="tr_3.0",e.GAMEPLAY_SCALE=1,e.SCANERS_ACTIVE=0,e.STAR_COUNT=3,e.SCANERS_COUNT=0,e.OPEN_LEVEL=1,e.ALL_LEVELS=30,e.GAME_WIDTH=1280,e.GAME_HEIGHT=960,e.GAME_KEY="61275d37a59bf0003d384b9811b348ae",e.SECRET_KEY="b8262b2bbd42d759a6390c4f3a5be9f1c8b98407",e.GOOGLE_ID="UA-114327842-42",e.GOOGLE_APP_NAME="transmorphers_3",e.GAME_TITLE="Transmorphers 3",e.GAMEDISTRIBUTION_ID="755d0010904641b2b733e79b570fdcc2",e.GAMEDISTRIBUTION_USER="ABD36C6C-E74B-4BA7-BE87-0AB01F98D30D-s1",e.TAG_PUBLISHER="CONNECT2MEDIA",e.TAG_GAME_NAME="transmorphers3",e.TAG_ID="GTM-K74X66",e.SUPPORTED_LANGUAGES=["en","ru"],t.Constants=e}(Transmorpher3=Transmorpher3||{}),function(t){function e(){}e.Score="Score",e.BlueShadow="BlueShadow",e.Blue="Blue",e.Grey="Grey",e.Green="Green",e.Red="Red",e.Hints="Hints",e.Start="Start",e.list=[e.BlueShadow,e.Blue,e.Grey,e.Underdog="Underdog",e.Green,e.Red,e.Hints,e.Start,e.Score],t.Fonts=e}(Transmorpher3=Transmorpher3||{}),function(t){function e(){}e.BkgGame="BkgGame",e.BkgMenu="BkgMenu",e.BkgMenuLevel="BkgMenuLevel",e.Sky="sky",e.Final="final",e.Hammer="hammer",e.Border="Border",e.BkgMovie="BkgMovie",e.ThirdMovieBkg="ThirdMovieBkg",e.Planet="planet",e.Munes="munes",e.list=[e.Plants="plants",e.Munes,e.Planet,e.ThirdMovieBkg,e.BkgMenu,e.BkgGame,e.Sky,e.Hammer,e.Border,e.BkgMovie,e.Final,e.BkgMenuLevel],t.Images=e}(Transmorpher3=Transmorpher3||{}),function(t){function e(){}e.list=[e.Levels="levels"],t.JsonData=e}(Transmorpher3=Transmorpher3||{}),function(t){function e(){}e.MenuMusic="12_Menu_snd",e.GameMusic="13_Level_snd",e.ToggleHandler="1_Toggle_handler_snd",e.ToggleButton="2_Toggle_buton_snd",e.Teleport="3_Teleport_snd",e.Statuya="4_Statuya_snd",e.StarGui="5_Star_gui_snd",e.StarCollect="6_Star_collect_snd",e.PressHit="7_Press_hit_snd",e.NewGlass="8_New_glass_snd",e.JumpSound="14_Jump_snd",e.Glass="15_Glass_snd",e.Exit="16_Exit_snd",e.Enter="17_Enter_snd",e.DoorSmall="18_Door_small_snd",e.DoorOpen="19_Door_open_snd",e.DoorClose="20_Door_close_snd",e.DoorBig="21_Door_big_snd",e.DiePress="22_Die_press_snd",e.DieLaser="23_Die_laser_snd",e.ElectroSound="24_Die_electro_snd",e.AcidSound="25_Die_acid_snd",e.ButtonOver="26_Button_over_snd",e.ButtonDown="27_Button_down_snd",e.BodyHit="28_Body_hit_snd",e.BarrelExplode="29_Barrel_explode_snd",e.AbsorbSticky="30_Absorb_sticky_snd",e.AbsorbRocky="31_Absorb_rocky_snd",e.ToggleSensor="32_Toggle_sensor_snd",e.MutateSound="Mutate",e.list=[e.MenuMusic,e.GameMusic,e.ToggleHandler,e.ToggleButton,e.Teleport,e.Statuya,e.StarGui,e.StarCollect,e.PressHit,e.NewGlass,e.JumpSound,e.Glass,e.Exit,e.Enter,e.DoorSmall,e.DoorOpen,e.DoorClose,e.DoorBig,e.DiePress,e.DieLaser,e.ElectroSound,e.AcidSound,e.ButtonOver,e.ButtonDown,e.BodyHit,e.BarrelExplode,e.AbsorbSticky,e.AbsorbRocky,e.MutateSound0="Mutate0",e.MutateSound1="Mutate1",e.MutateSound2="Mutate2",e.ToggleSensor],t.Sounds=e}(Transmorpher3=Transmorpher3||{}),function(n){(t=s=s||{}).PAUSED="Paused",t.RESUMED="Resumed",e.getInstance=function(){return e.instance=e.instance?e.instance:new e},e.prototype.init=function(){azAdWrapper=new window.h5ads.AdWrapper(window._azerionIntegration.advType,window._azerionIntegration.gdId)},e.prototype.showAd=function(t,e,i){var o=this;n.LoaderHelper.show(),azAdWrapper.once(h5ads.AdEvents.CONTENT_PAUSED,function(){n.LoaderHelper.hide(),h5Analytics.AnalyticsWrapper.sendScreenView("advertisement_"+t),i&&i.call(o),o.contentStatus=s.PAUSED,n.PauseHandler.getInstance().pause()}),azAdWrapper.once(h5ads.AdEvents.CONTENT_RESUMED,function(){n.LoaderHelper.hide(),azAdWrapper.removeAllListeners(h5ads.AdEvents.CONTENT_PAUSED),azAdWrapper.removeAllListeners(h5ads.AdEvents.CONTENT_RESUMED),o.contentStatus=s.RESUMED,n.PauseHandler.getInstance().resume(),e&&e.call(o)}),azAdWrapper.showAd(h5ads.AdType.interstitial)},e.prototype.isAdPlaying=function(){return this.contentStatus===s.PAUSED};var s,t=e;function e(){this.contentStatus=s.RESUMED}n.AdHandler=t}(Fabrique=Fabrique||{}),function(t){!function(t){function e(t){this.game=t}e.getInstance=function(t){if(null==e.instance){if(!t)throw new Error("Cant create a new instance without a game");e.instance=new e(t)}return e.instance},e.prototype.createRect=function(){var t=this;void 0===this.rect&&(this.rect=this.game.add.graphics(0,0),this.rect.events.onDestroy.add(function(){return t.rect=void 0},this))},e.prototype.from=function(t,e,i,o){var n=this;void 0===e&&(e=null),void 0===i&&(i=1e3),void 0===o&&(o=0),this.createRect(),this.rect.clear(),this.rect.beginFill(t,1),this.rect.drawRect(0,0,this.game.width,this.game.height),this.rect.inputEnabled=!0,this.rect.alpha=1;this.game.add.group(this,"white",!0).add(this.rect);t=this.game.add.tween(this.rect);return t.to({alpha:0},i,Phaser.Easing.Linear.None,!1,o),t.onComplete.add(function(){n.rect.inputEnabled=!1,null!==e&&e()}),t.start(),this.rect},e.prototype.to=function(t,e,i,o){var n=this,t=(void 0===i&&(i=100),this.createRect(),this.rect.clear(),this.rect.beginFill(t,1),this.rect.drawRect(0,0,this.game.width,this.game.height),this.rect.alpha=0,this.rect.inputEnabled=!0,this.game.add.existing(this.rect),this.game.add.tween(this.rect));return t.to({alpha:1},i),t.onComplete.add(function(){n.rect.inputEnabled=!1,n.game.state.start(e,!0,!1,o)}),t.start(),this.rect},e.instance=null,t.Fade=e}(t.Effects||(t.Effects={}))}(Fabrique=Fabrique||{}),function(t){var s;function e(t,e,i,o){void 0===i&&(i=null),void 0===o&&(o=1e3);var n=s.call(this,t)||this;n.beginFill(e,1),n.drawRect(0,0,n.game.width,n.game.height),n.inputEnabled=!0;t.add.group(n,"white",!0).add(n);e=n.game.add.tween(n);return e.to({alpha:0},o),e.onComplete.add(function(){n.inputEnabled=!1,null!==i&&i()}),e.start(),n}t=t.Effects||(t.Effects={}),s=Phaser.Graphics,__extends(e,s),t.FadeFromColor=e}(Fabrique=Fabrique||{}),function(t){var r;function e(t,e,i,o,n){void 0===o&&(o=100);var s=r.call(this,t)||this,e=(s.alpha=0,s.beginFill(e,1),s.drawRect(0,0,s.game.width,s.game.height),t.add.existing(s),s.game.add.tween(s));return e.to({alpha:1},o),e.onComplete.add(function(){t.state.start(i,!0,!1,n)}),e.start(),s}t=t.Effects||(t.Effects={}),r=Phaser.Graphics,__extends(e,r),t.FadeToColor=e}(Fabrique=Fabrique||{}),function(t){!function(t){function i(){}i.fromTop=function(t,e){i.boundsSet||i.setBounds(t),t.world.cacheAsBitmap=!0,t.add.tween(t.camera).from({y:t.height},i.SlideTime,i.EaseIn,!0).onComplete.add(function(){void 0!==e&&e(),t.world.cacheAsBitmap=!1})},i.toRight=function(t,e){i.boundsSet||i.setBounds(t),t.world.cacheAsBitmap=!0,t.add.tween(t.camera).to({x:-t.width},i.SlideTime,i.EaseOut,!0).onComplete.add(function(){void 0!==e&&e(),t.world.cacheAsBitmap=!1})},i.fromRight=function(t,e){i.boundsSet||i.setBounds(t),t.world.cacheAsBitmap=!0,t.add.tween(t.camera).from({x:-t.width},i.SlideTime,i.EaseIn,!0).onComplete.add(function(){void 0!==e&&e(),t.world.cacheAsBitmap=!1})},i.toLeft=function(t,e){i.boundsSet||i.setBounds(t),t.world.cacheAsBitmap=!0,t.add.tween(t.camera).to({x:t.width},i.SlideTime,i.EaseOut,!0).onComplete.add(function(){void 0!==e&&e(),t.world.cacheAsBitmap=!1})},i.fromLeft=function(t,e){i.boundsSet||i.setBounds(t),t.world.cacheAsBitmap=!0,t.add.tween(t.camera).from({x:t.width},i.SlideTime,i.EaseIn,!0).onComplete.add(function(){void 0!==e&&e(),t.world.cacheAsBitmap=!1})},i.setBounds=function(t){t.world.setBounds(-t.width,-t.height,3*t.width,3*t.height),i.boundsSet=!0},i.SlideTime=250,i.EaseIn=Phaser.Easing.Quartic.Out,i.EaseOut=Phaser.Easing.Quartic.In,i.boundsSet=!1,t.SlideState=i}(t.Effects||(t.Effects={}))}(Fabrique=Fabrique||{}),function(t){function e(){}e.show=function(){var t=document.getElementById("loader");t&&(t.style.display="block")},e.hide=function(){var t=document.getElementById("loader");t&&(t.style.display="none")},t.LoaderHelper=e}(Fabrique=Fabrique||{}),function(t){(e=i=t.LocalizationType||(t.LocalizationType={})).English="en",e.Russian="ru",o.getInstance=function(t){return o.instance=o.instance?o.instance:new o(t)},o.prototype.initBrowserDetect=function(){languageDetector=new i18nextBrowserLanguageDetector(null,{order:["navigator","querystring","cookie","localStorage","sessionStorage","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"]})},o.prototype.initI18Next=function(){var e=this;i18next.use(languageDetector).init({fallbackLng:"en",debug:!1,resources:{en:{translation:this.game.cache.getJSON(i.English)},ru:{translation:this.game.cache.getJSON(i.Russian)}}}).then(function(t){i18next.changeLanguage("none"!==h5branding.Utils.LANGUAGE?h5branding.Utils.LANGUAGE:e.getDefaultLanguage())})},o.prototype.getDefaultLanguage=function(){var t=i18next.language;return-1!==t.indexOf("-")&&(t=t.split("-")[0]),t=-1===Transmorpher3.Constants.SUPPORTED_LANGUAGES.indexOf(t)?i.English:t},o.prototype.getValue=function(t){return i18next.t(t)},o.prototype.getInterpolatedValue=function(t,e){return i18next.t(t,e)};var i,e=o;function o(t){this.game=t}t.LocalizationHandler=e}(Fabrique=Fabrique||{}),function(o){function e(t){this.music=null,this.audioInstances={},this.sound=t.sound}e.getInstance=function(t){if(null===e.instance){if(!t)throw new Error("Cant create a new instance without a game");e.instance=new e(t)}return e.instance},e.prototype.play=function(t,e,i){return void 0===e&&(e=1),void 0===i&&(i=!1),o.SaveGame.getInstance().sfx?(this.audioInstances.hasOwnProperty(t)||(this.audioInstances[t]=this.sound.add(t)),this.audioInstances[t].play(void 0,void 0,e,i,!0),this.audioInstances[t]):null},e.prototype.playRandom=function(t,e,i){return void 0===i&&(i=1),o.SaveGame.getInstance().sfx?this.play(t+o.Utils.getRandomInt(0,e),i):null},e.prototype.stop=function(t){this.audioInstances.hasOwnProperty(t)&&this.audioInstances[t].stop()},e.prototype.playMusic=function(t){if(!o.SaveGame.getInstance().music)return this.music=this.sound.play(t,1,!0),void this.music.stop();null!==this.music&&this.music.name===t||(null!==this.music&&this.music.name!==t&&this.music.stop(),this.music=this.sound.play(t,1,!0)),!this.music.isPlaying&&o.SaveGame.getInstance().music&&this.music.play()},e.prototype.fadeMusicVolume=function(t,e){this.music&&this.music.fadeTo(t,e)},e.prototype.stopMusic=function(){null!==this.music&&this.music.isPlaying&&this.music.stop()},e.prototype.toggleSfx=function(){o.SaveGame.getInstance().sfx=!o.SaveGame.getInstance().sfx},e.prototype.toggleMusic=function(){o.SaveGame.getInstance().music=!o.SaveGame.getInstance().music,o.SaveGame.getInstance().music?this.music&&this.music.play(void 0,void 0,1,!0):this.music&&this.music.isPlaying&&this.stopMusic()},e.instance=null,o.SoundManager=e}(Transmorpher3=Transmorpher3||{}),function(e){o=Phaser.Group,__extends(i,o),i.prototype.setRegion=function(){this.air=this.game.add.tileSprite(this.params.x,this.params.y,this.params.width,this.params.height,e.Atlases.Art,"cooler/CoolerRegion"),this.air.anchor.set(.5,.5),this.air.angle=this.params.rotation,this.air.autoScroll(0,-500),this.airBody=new e.Body(this.game,null,this.params.x,this.params.y,"Air");var t=this.airBody.setRectangle(this.params.width,this.params.height,0,0);this.airBody.sensor=!0,this.airBody.static=!0,this.airBody.angle=this.params.rotation,this.airBody.setFixtureContactCallback(t,this.move,this),this.x_scale=Math.round(1e3*Math.sin(this.air.rotation))/1e3,this.y_scale=Math.round(1e3*Math.cos(this.air.rotation))/1e3,this.pauseAir=0,(this.isAir=0)===this.id?this.start():this.stop()},i.prototype.move=function(t,e,i,o,n){"Player"===e.tag&&(this.isStop?this.pauseAir+=n?1:-1:this.isAir+=n?1:-1)},i.prototype.stop=function(){this.isStop=!0,this.air.visible=!1,this.pauseAir=this.isAir,this.isAir=0},i.prototype.start=function(){this.isStop=!1,this.air.visible=!0,this.isAir+=this.pauseAir,this.pauseAir=0},i.prototype.update=function(){this.isAir&&this.player.setVelocity(this.x_scale,this.y_scale)};var o,t=i;function i(t,e,i){t=o.call(this,t)||this;return t.position.set(e.x,e.y),t.id=e.id,t.params=e,t.player=i,t.setRegion(),t.game.add.existing(t),t}e.Air=t}(Transmorpher3=Transmorpher3||{}),function(o){n=Phaser.Image,__extends(e,n),e.prototype.start=function(){this.animations.play("cache")},e.prototype.stop=function(){};var n,t=e;function e(t,e){var i=n.call(this,t,e.x,e.y,o.Atlases.Art,"cache/0")||this;return i.anchor.set(.5,.5),i.name="CacheBox",i.id=e.id,i.typeName="statues",i.onComplete=i.animations.add("cache",o.Utils.getNameArray("cache/",20),15,!1).onComplete,i.animations.add("close",o.Utils.getNameArray("cache/",50,20),15,!1),i.onComplete.add(function(){return i.animations.play("close")},i),i}o.CacheBox=t}(Transmorpher3=Transmorpher3||{}),function(r){c=Phaser.Group,__extends(e,c),e.prototype.createBody=function(t,e,i,o){this.body=new r.Body(this.game,null,this.x,this.y),this.body.setRectangle(t,e,i,o),this.body.angle=this.angle,this.body.static=!0},e.prototype.start=function(){for(var t=0;t<this.lights.length;t++){var e=this.lights[t];this.game.add.tween(e).to({alpha:0},500,Phaser.Easing.Linear.None,!0)}this.body.sensor=!0,this.cage.frameName="cage/1"},e.prototype.stop=function(){};var c,t=e;function e(t,e,i){var o=c.call(this,t)||this;o.position.set(e.x,e.y),o.angle=e.rotation,o.star=i,o.lights=[];for(var n=0;n<6;n++){var s=o.game.add.image(12*n-29,-47.368,r.Atlases.Art,"cage/grid/0",o);s.animations.add("idle",r.Utils.getNameArray("cage/grid/",5),30,!0).play(),s.anchor.set(.5),s.alpha=1,o.lights.push(s)}return o.cage=o.game.add.image(0,0,r.Atlases.Art,"cage/0",o),o.cage.anchor.set(.5,1),o.id=e.id,o.createBody(75,80,0,-47),o}r.Cage=t}(Transmorpher3=Transmorpher3||{}),function(s){r=Phaser.Sprite,__extends(e,r),e.prototype.stop=function(){this.aerator.animations.stop("idle");for(var t=0;t<this.lentas.length;t++)this.lentas[t].visible=!1},e.prototype.start=function(){this.aerator.animations.play("idle");for(var t=0;t<this.lentas.length;t++)this.lentas[t].visible=!0};var r,t=e;function e(t,e){var i=r.call(this,t,e.x,e.y,s.Atlases.Art,"cooler/CoolerPlane")||this;i.anchor.set(.5,.8),i.angle=e.rotation,i.isStop=!1,i.aerator=i.game.add.sprite(0,7,s.Atlases.Art,"cooler/aerator/0"),i.aerator.anchor.set(.5),i.addChild(i.aerator),i.aerator.animations.add("idle",s.Utils.getNameArray("cooler/aerator/",2),30,!0).play(),i.id=e.id,i.lentas=[];for(var o=0;o<4;o++){var n=i.game.add.image(-i.width/3+i.width/4*o,3,s.Atlases.Art,"cooler/lenta0");n.animations.add("idle",s.Utils.getNameArray("cooler/lenta",1),12,!0).play(),n.scale.set(s.Utils.getRandomInt(6,10)/10),n.anchor.set(.5,0),i.lentas.push(n),i.addChild(n)}return i.game.add.existing(i),0!==i.id&&i.stop(),i}s.CoolerPlane=t}(Transmorpher3=Transmorpher3||{}),function(n){o=Phaser.Group,__extends(e,o),e.prototype.createBody=function(t,e,i,o){this.topBody=new n.Body(this.game,null,this.x,this.y),this.topBody.setRectangle(t,e/2,i,o-e/4),this.topBody.kinematic=!0,this.topBody.angle=this.angle,this.downBody=new n.Body(this.game,null,this.x,this.y),this.downBody.setRectangle(t,e/2,i,o+e/4),this.downBody.kinematic=!0,this.downBody.angle=this.angle},e.prototype.stopTweens=function(){this.tweens.forEach(function(t){return t.stop()},this)},e.prototype.start=function(){this.isOpen||(this.stopTweens(),this.isOpen=!0,n.SoundManager.getInstance(this.game).play(n.Sounds.DoorOpen,1,!1),this.tweens[0]=this.game.add.tween(this.topBody).to({y:this.topBody.y-this.params.height/2},600,Phaser.Easing.Exponential.In,!0,0,0,!1),this.tweens[1]=this.game.add.tween(this.downBody).to({y:this.downBody.y+this.params.height/2},600,Phaser.Easing.Exponential.In,!0,0,0,!1),this.barrier.animations.play("use"))},e.prototype.stop=function(){this.isOpen&&(this.stopTweens(),this.isOpen=!1,n.SoundManager.getInstance(this.game).play(n.Sounds.DoorClose,1,!1),this.tweens[0]=this.game.add.tween(this.topBody).to({y:this.y},600,Phaser.Easing.Exponential.Out,!0,0,0,!1),this.tweens[1]=this.game.add.tween(this.downBody).to({y:this.y},600,Phaser.Easing.Exponential.Out,!0,0,0,!1),this.barrier.animations.play("close"))};var o,t=e;function e(t,e){var i=o.call(this,t)||this;return i.params=e,i.tweens=[],i.isOpen=!1,i.barrier=new Phaser.Image(t,0,0,n.Atlases.Art,"barrier/0"),i.barrier.animations.add("use",n.Utils.getNameArray("barrier/",16),30),i.barrier.animations.add("close",n.Utils.getNameArray("barrier/",0,16),30),i.add(i.barrier),i.barrier.anchor.set(.5),i.angle=e.rotation,i.position.set(e.x,e.y),i.id=e.id,i.createBody(e.width,e.height,0,0),i}n.Door=t}(Transmorpher3=Transmorpher3||{}),function(t){i=Phaser.Group,__extends(o,i),o.prototype.setBody=function(t){this.movedBody=t},o.prototype.addTrajectory=function(t){this.trajectory=t,this.path=t.path,this.startTime=1e3*t.params.startTime||0,this.sideWait=1e3*t.params.sideWait||0,t.params.speed&&(this.speed=t.params.speed/48),this.trajectory.params.cycle&&this.path.push(t.path[0])},o.prototype.start=function(){this.startTime?(this.pauseTimer=this.game.time.create(),this.pauseTimer.add(this.startTime,this.resume,this),this.pauseTimer.start()):this.resume()},o.prototype.postUpdate=function(){var t,e,i,o,n,s;!this.isStart||void 0===this.movedBody||void 0===this.path||this.path.length<2||(t=this.path[this.count-1],e=this.path[this.count],i=new box2d.b2Vec2(e.x-t.x,e.y-t.y).SelfNormalize().SelfMul(-this.speed),o=new box2d.b2Vec2,s=n=!1,t.x<e.x&&this.movedBody.x<e.x||t.x>e.x&&this.movedBody.x>e.x?o.x=i.x:n=!0,t.y<e.y&&this.movedBody.y<e.y||t.y>e.y&&this.movedBody.y>e.y?o.y=i.y:s=!0,this.movedBody.data.SetLinearVelocity(o),s&&n&&(this.count++,this.onSide.dispatch(),this.count===this.path.length&&(this.trajectory.params.stopOnEnd?(this.isStart=!1,this.count=1,this.path=this.path.reverse(),this.onStop.dispatch()):(this.count=1,this.trajectory.params.cycle||(this.path=this.path.reverse()),void 0!==this.sideWait&&NaN!==this.sideWait&&0!==this.sideWait&&(this.isStart=!1,this.onStop.dispatch(),this.pauseTimer=this.game.time.create(),this.pauseTimer.add(this.sideWait,this.resume,this),this.pauseTimer.start())))),this.onUpdate.dispatch(),this.isSetPosition&&this.position.set(this.movedBody.x,this.movedBody.y))},o.prototype.resume=function(){this.isStart=!0,this.onResume.dispatch()},o.prototype.stop=function(){this.isStart=!1,this.pauseTimer&&this.pauseTimer.stop(),this.movedBody.setZeroVelocity(),this.onStop.dispatch()};var i,e=o;function o(t,e){t=i.call(this,t)||this;return t.onStart=new Phaser.Signal,t.onResume=new Phaser.Signal,t.onStop=new Phaser.Signal,t.onSide=new Phaser.Signal,t.onUpdate=new Phaser.Signal,t.params=e,t.isStart=!1,t.isSetPosition=!0,t.startTime=0,t.sideWait=0,t.speed=1,t.path=[],t.count=1,t}t.MovedObject=e}(Transmorpher3=Transmorpher3||{}),function(o){n=o.MovedObject,__extends(e,n),e.prototype.addCircle=function(t){this.circle=t,this.circle.position&&(this.circleAngle=Phaser.Math.degToRad(this.circle.position)),this.setCircle()},e.prototype.startCircle=function(){this.isCircle=!0},e.prototype.stopCircle=function(){this.isCircle=!1},e.prototype.setCircle=function(){this.body.x=this.circle.x+this.circle.radius*Math.cos(this.circleAngle),this.body.y=this.circle.y+this.circle.radius*Math.sin(this.circleAngle)},e.prototype.createBody=function(){this.body=new o.Body(this.game,null,this.x,this.y,"Droid"),this.body.setCircle(30),this.body.angle=this.angle,this.body.sensor=!0,this.body.kinematic=!0,this.body.setCollisionCategory(3),this.body.postUpdate=this.postUpdate,this.setBody(this.body)},e.prototype.update=function(){this.isCircle&&(this.setCircle(),this.circleAngle+=this.circle.speed/4e3),this.position.set(this.body.x,this.body.y)};var n,t=e;function e(t,e){var i=n.call(this,t,e)||this;return i.isStart=!1,i.isCircle=!1,i.circleAngle=0,i.droid=new Phaser.Image(t,0,0,o.Atlases.Art,"droid/0"),i.add(i.droid),i.droid.anchor.set(.5,.5),i.electro=new Phaser.Image(t,0,0,o.Atlases.Art,"droid/electro/0"),i.electro.animations.add("idle",o.Utils.getNameArray("droid/electro/",2),15,!0).play(),i.add(i.electro),i.electro.anchor.set(.5,.5),i.blow=new Phaser.Image(t,0,0,o.Atlases.Art,"droid/blow/0"),i.blow.animations.add("idle",o.Utils.getNameArray("droid/blow/",11),25,!0).play(),i.add(i.blow),i.blow.anchor.set(.5,.5),i.params=e,i.angle=e.rotation,i.position.set(e.x,e.y),i.createBody(),i}o.Droid=t}(Transmorpher3=Transmorpher3||{}),function(i){o=Phaser.Group,__extends(s,o),s.prototype.isollide=function(t,e,i,o,n){o.IsSensor()&&(o=this.isDown,this.isDown+=n?1:-1,1===this.isDown&&0===o&&(this.path=this.path.reverse(),this.start()),0===this.isDown&&(this.path=this.path.reverse(),this.start()))},s.prototype.setPlayer=function(t){this.player=t},s.prototype.start=function(){this.isStart=!0},s.prototype.addTrajectory=function(){this.movedBody=new i.Body(this.game,null,this.front.x,this.front.y,"FallPlane"),this.blockWeidth=Math.round(1e3*Math.sin(this.angleTraectory))/1e3!=0?this.front.height:this.front.width,this.blockHeight=Math.round(1e3*Math.sin(this.angleTraectory))/1e3!=0?this.front.width:this.front.height,this.movedBody.setRectangle(this.blockWeidth,this.blockHeight,0,0),this.movedBody.kinematic=!0,this.angle=this.angleTraectory,this.movedBody.friction=1,(this.movedBody.bodyDef.userData=this).movedBody.postUpdate=this.postUpdate,this.movedBody.setCategoryContactCallback(20,this.isollide,this)},s.prototype.postUpdate=function(){var t,e,i,o,n;this.isStart&&(t=this.path[this.count-1],e=this.path[this.count],i=new box2d.b2Vec2(e.x-t.x,e.y-t.y).SelfNormalize().SelfMul(-s.SPEED),o=new box2d.b2Vec2,n=!1,t.y<e.y&&this.movedBody.y<e.y||t.y>e.y&&this.movedBody.y>e.y?o.y=i.y:n=!0,this.movedBody.data.SetLinearVelocity(o),n&&(this.count++,this.count===this.path.length&&(this.count=1,this.stop())),this.player&&this.isDown&&this.player.SetPlaneVelocity(this.movedBody.data.GetLinearVelocity()),this.front.position.set(this.movedBody.x,this.movedBody.y))},s.prototype.stop=function(){this.isStart=!1},s.SPEED=.5;var o,t=s;function s(t,e){t=o.call(this,t)||this;return t.params=e,t.isStart=!1,t.id=e.id,t.tag=e.tag,t.count=1,t.angleTraectory=e.rotation,t.path=[],t.path.push(new Phaser.Point(e.x,e.y)),t.isDown=0,t.topT=t.game.add.image(e.x,e.y,i.Atlases.Art,"fall/trail/0",t),t.topT.anchor.set(.5,0),t.trajectory=t.game.add.tileSprite(e.x,e.y+t.topT.height,8,83,i.Atlases.Art,"fall/trail/1",t),t.trajectory.anchor.set(.5,0),t.bottomT=t.game.add.image(e.x,e.y+t.topT.height+t.trajectory.height,i.Atlases.Art,"fall/trail/2",t),t.bottomT.anchor.set(.5,0),t.path.push(new Phaser.Point(e.x,e.y+t.trajectory.height+2*t.topT.height)),t.front=t.game.add.image(e.x,e.y,i.Atlases.Art,"fall/0",t),t.front.anchor.set(.5),t.addChild(t.front),t.name="FallPlane",t.blockHeight=0,t.blockWeidth=0,t.addTrajectory(),t.path=t.path.reverse(),t.game.add.existing(t),t}i.FallPlane=t}(Transmorpher3=Transmorpher3||{}),function(n){o=n.MovedObject,__extends(s,o),s.prototype.addTrajectory=function(t){o.prototype.addTrajectory.call(this,t),this.sideAngle=t.params.sideAngle||0},s.prototype.addCircle=function(t){this.circle=t,this.setCircle()},s.prototype.startCircle=function(){this.isCircle=!0},s.prototype.stopCircle=function(){this.isCircle=!1},s.prototype.setCircle=function(){this.body.x=this.circle.x+this.circle.radius*Math.cos(this.circleAngle),this.body.y=this.circle.y+this.circle.radius*Math.sin(this.circleAngle),this.rayRotation=Phaser.Math.angleBetweenPoints(new Phaser.Point(this.params.x,this.params.y),new Phaser.Point(this.body.x,this.body.y)),this.rayRotation=Phaser.Math.radToDeg(this.rayRotation)+120},s.prototype.createBody=function(){this.body=new n.Body(this.game,null,this.x,this.y,"Guard"),this.body.setCircle(32),this.body.sensor=!0,this.body.kinematic=!0,this.body.setCollisionCategory(3),this.body.postUpdate=this.postUpdate,this.setBody(this.body)},s.prototype.update=function(){this.isStop||(this.isCircle&&(this.setCircle(),this.circleAngle+=this.circle.speed/4e3),this.position.set(this.body.x,this.body.y),this.createRays())},s.prototype.createRays=function(){if(this.isPlayer=!1,this.isClearRay)this.maskGraphics.clear();else{var t=Phaser.Math.degToRad(180+this.rayRotation),e=+n.Utils.getFadeMiddleColor(this.maxCount,this.countNumber,this.aRGBStart,this.aRGBFinish);this.maskGraphics.clear(),this.maskGraphics.lineStyle(2,16777215,0),this.maskGraphics.beginFill(e,.3),this.maskGraphics.moveTo(this.x,this.y);for(var i=0;i<s.NumberOfRays;i++){var o=t-this.lightAngle/2+this.lightAngle/s.NumberOfRays*i;this.createBox2dRay(o)}this.maskGraphics.endFill()}this.isPlayer?(this.isStart&&this.stop(),void 0!==this.hideTween&&this.hideTween.isRunning&&(this.hideTween.stop(),this.hideTween=void 0),void 0!==this.appearTween&&this.appearTween.isRunning||(this.appearTween=this.game.add.tween(this).to({countNumber:this.maxCount},this.chargeTime*(1-this.countNumber/this.maxCount),Phaser.Easing.Linear.None,!1),this.appearTween.onComplete.add(this.destroyPlayer,this),this.appearTween.start())):(void 0!==this.appearTween&&this.appearTween.isRunning&&(this.appearTween.stop(),this.appearTween=void 0),void 0!==this.hideTween&&this.hideTween.isRunning||(this.hideTween=this.game.add.tween(this).to({countNumber:0},this.chargeTime*this.countNumber/this.maxCount,Phaser.Easing.Linear.None,!0)),this.isStart||void 0!==this.rotateTween&&this.rotateTween.isRunning||this.resume())},s.prototype.createBox2dRay=function(t){this.isAllowPlayer=!1;var e=this.x+this.rayLength*Math.cos(t+Math.PI),t=this.y+this.rayLength*Math.sin(t+Math.PI);this.raycastOutput=this.game.physics.box2d.raycast(this.x,this.y,e,t,!0,this.filterRaycastHit.bind(this)),this.isAllowPlayer&&0===this.raycastOutput.length&&(this.isPlayer=!0);for(var i=0;i<this.raycastOutput.length;i++){var o=this.raycastOutput[i];return this.maskGraphics.lineTo(o.point.x,o.point.y),!1}if(0===this.raycastOutput.length)return this.maskGraphics.lineTo(e,t),!1},s.prototype.filterRaycastHit=function(t){return t.isSameTag("Player")?(t.getUserData().isHide||(this.isAllowPlayer=!0),!1):!!(t.isSameTag("Wall")||t.isSameTag("Stone")||t.isSameTag("Droid")||t.isSameTag("Platform")||t.isSameTag("MetalBox"))},s.prototype.setSide=function(){this.sideAngle&&(this.rayRotation===this.params.rotation?this.rotateTween=this.game.add.tween(this).to({rayRotation:this.rayRotation+this.sideAngle},this.sideWait,Phaser.Easing.Linear.None,!0):this.rotateTween=this.game.add.tween(this).to({rayRotation:this.rayRotation-this.sideAngle},this.sideWait,Phaser.Easing.Linear.None,!0))},s.prototype.destroyPlayer=function(){var t=this,e=(this.isStop=!0,this.stop(),this.game.state.getCurrentState()),e=(e.generation.player.electricShock(),this.electricity.visible=!0,e.generation.player.position),e=(this.electricity.rotation=Phaser.Math.angleBetween(e.x,e.y,this.x,this.y)+Math.PI,this.electricity.width=n.Utils.getLength(new Phaser.Point(e.x-this.x,e.y-this.y)),this.game.time.create());e.add(700,function(){return t.electricity.visible=!1},this),e.start()},s.MaxRays=100,s.NumberOfRays=50;var o,t=s;function s(t,e){var i=o.call(this,t,e)||this;return i.lightAngle=Phaser.Math.degToRad(80),i.chargeTime=1e3,i.sideAngle=0,i.rayRotation=0,i.rayLength=100,i.firstCollor="#4ACE54",i.lastCollor="#EE3C40",i.maxCount=80,i.raycastOutput=[],i.position.set(e.x,e.y),i.isClearRay=!1,i.isAllowPlayer=!1,i.isPlayer=!1,i.isStart=!0,i.isStop=!1,i.countNumber=0,i.circleAngle=0,i.sideAngle=0,i.chargeTime=1e3*e.chargeTime,13===n.Constants.OPEN_LEVEL&&(i.chargeTime+=1e3),i.lightAngle=Phaser.Math.degToRad(e.angle),i.rayLength=e.radius,i.rayRotation=e.rotation,i.aRGBStart=i.firstCollor.replace("#","").match(/.{2}/g),i.aRGBFinish=i.lastCollor.replace("#","").match(/.{2}/g),i.blow=new Phaser.Image(t,0,0,n.Atlases.Art,"guard/glow/0"),i.blow.animations.add("idle",n.Utils.getNameArray("guard/glow/",11),25,!0).play(),i.add(i.blow),i.blow.anchor.set(.5,.5),i.electro=new Phaser.Image(t,0,0,n.Atlases.Art,"guard/splashes/0"),i.electro.animations.add("idle",n.Utils.getNameArray("guard/splashes/",25),20,!0).play(),i.add(i.electro),i.electro.anchor.set(.5,.5),i.game.time.events.loop(500,function(){return i.electro.visible=!i.electro.visible},i),i.droid=new Phaser.Image(t,0,0,n.Atlases.Art,"guard/0"),i.add(i.droid),i.droid.anchor.set(.5,.5),i.electricity=i.game.add.sprite(0,0,n.Atlases.Art,"electro/0",i),i.electricity.anchor.set(0,.5),i.electricity.visible=!1,i.electricity.animations.add("idle",n.Utils.getNameArray("electro/",19),30,!0),i.electricity.animations.play("idle"),i.droid.addChild(i.electricity),i.maskGraphics=i.game.add.graphics(0,0),i.createBody(),i.onSide.add(i.setSide,i),0!=+i.params.fireTime&&0!=+i.params.reloadTime&&(i.winking=new n.ActionQueue(i.game),i.winking.push(function(){return i.isClearRay=!0},i,1e3*i.params.fireTime),i.winking.push(function(){return i.isClearRay=!1},i,1e3*i.params.reloadTime),i.winking.loop()),i}n.Guard=t}(Transmorpher3=Transmorpher3||{}),function(o){i=Phaser.Group,__extends(e,i),e.prototype.isCollidePlayer=function(t,e,i,o,n){this.isCollide+=n?1:-1},e.prototype.setPlayer=function(t){this.player=t},e.prototype.addSymbol=function(t,e,i){t=this.game.add.image(t,e,o.Atlases.Art,"hideplane/symbols/"+i,this);t.anchor.set(.5),this.add(t),this.symbols.push(t)},e.prototype.start=function(){this.params.startTime?this.game.time.events.add(1e3*this.params.startTime,this.use,this):this.use()},e.prototype.use=function(){if(0===this.count){this.body.sensor=!1;for(var t=0;t<this.symbols.length;t++)this.symbols[t].alpha=1}var e;this.count<3?(this.tween=this.game.add.tween(this.symbols[this.count]),e=1e3*this.params.activeTime/6,this.tween.to({alpha:0},e,Phaser.Easing.Linear.None,!1,e),this.tween.onComplete.add(this.use,this),this.tween.start(),this.count++):(this.isCollide&&this.player&&this.player.fall(),this.body.sensor=!0,this.hide.play(),this.count=0,this.game.time.events.add(1e3*this.params.hiddenTime,this.appear.play,this.appear))};var i,t=e;function e(t,e){t=i.call(this,t)||this;return t.count=0,t.tween=void 0,t.symbols=[],t.position.set(e.x,e.y),t.angle=e.rotation,t.params=e,t.isCollide=0,t.platform=t.game.add.sprite(0,0,o.Atlases.Art,"hideplane/0",t),t.platform.anchor.set(.5,.5),t.hide=t.platform.animations.add("hide",o.Utils.getNameArray("hideplane/",8),30,!1),t.appear=t.platform.animations.add("appear",o.Utils.getNameArray("hideplane/",0,8),30,!1),t.appear.onComplete.add(t.use,t),t.body=new o.Body(t.game,t,e.x,e.y,"HidePlane"),t.body.setRectangle(e.width,e.height,0,0),t.body.static=!0,t.body.setCollisionCategory(7),t.body.setCategoryContactCallback(20,t.isCollidePlayer,t),t.body.angle=t.angle,(t.body.data.m_userData=t).addSymbol(-50,3,"0"),t.addSymbol(-2,5,"1"),t.addSymbol(51,5,"2"),t.game.add.existing(t),t.start(),t}o.HidePlane=t}(Transmorpher3=Transmorpher3||{}),function(n){s=Phaser.Group,__extends(e,s),e.prototype.createBody=function(t,e,i,o){this.body=new n.Body(this.game,null,this.x,this.y),this.body.setRectangle(t,e,i,o),this.body.angle=this.angle,this.body.sensor=!0,this.body.static=!0,this.body.setCategoryContactCallback(20,this.isollide,this)},e.prototype.isollide=function(t,e,i,o,n){this.isDown+=n?1:-1,this.player||(this.player=e.getUserData()),0===this.isDown?(this.player.isHide=!1,this.player.playerGroup.add(this.player)):this.player.parent!==this.hidingGroup&&(this.player.isHide=!0,this.hidingGroup.add(this.player),this.hidingGroup.sendToBack(this.player))};var s,t=e;function e(t,e,i){var o=s.call(this,t)||this;return o.hidingGroup=i,o.back=new Phaser.Image(t,0,0,n.Atlases.Art,"hidingdoor/1"),o.add(o.back),o.back.anchor.set(.5,.95),o.door=new Phaser.Image(t,0,0,n.Atlases.Art,"hidingdoor/0"),o.add(o.door),o.door.anchor.set(.5,.95),o.angle=e.rotation,o.position.set(e.x,e.y),o.isDown=0,o.createBody(e.width-120,e.height-50,0,-e.height/2+25),o}n.HidingDoor=t}(Transmorpher3=Transmorpher3||{}),function(r){s=r.MovedObject,__extends(e,s),e.prototype.startRotate=function(){this.down.angle=+this.params.rotation-+this.params.deltaAngle/2,this.game.add.tween(this.down).to({angle:this.down.angle+ +this.params.deltaAngle},200*+this.params.angularVel,Phaser.Easing.Linear.None,!0,0,-1,!0)},e.prototype.isollide=function(t,e,i,o,n){o.IsSensor()||"Player"!==e.tag||this.isStop||e.getUserData().LaserDestroy()},e.prototype.hideLaser=function(){this.hideLasers(),this.lengthLaser[0]=this.maxLaser,this.lasers[0].frameName="laser/0",this.isStop=!1,this.isHide=!0},e.prototype.addCircle=function(t){this.circle=t,this.circle.position&&(this.circleAngle=Phaser.Math.degToRad(this.circle.position)),this.speed=this.circle.speed/(10*this.circle.length)},e.prototype.startCircle=function(){this.isCircle=!0},e.prototype.stopCircle=function(){this.isCircle=!1},e.prototype.stopLaser=function(){this.setLasers(0),this.hideLasers(),this.isStop=!0},e.prototype.hideLasers=function(){this.lasers.forEach(function(t){return t.width=0},this)},e.prototype.startLaser=function(){this.hideLasers(),this.lengthLaser[0]=this.maxLaser,this.isHide=!1,this.lasers[0].frameName="laser/1",this.isStop=!1},e.prototype.setLasers=function(t){void 0===t&&(t=0);for(var e=0;e<this.lengthLaser.length;e++)this.lengthLaser[e]=t},e.prototype.start=function(){this.path&&s.prototype.start.call(this),void 0!==this.params.to?this.game.add.tween(this.down).to({angle:this.params.to},100*this.params.angularVel,Phaser.Easing.Linear.None,!0):this.isStop&&this.hide_timer.loop(1e3*+this.params.startTime)},e.prototype.update=function(){this.isCircle&&(this.body.x=this.circle.x+this.circle.radius*Math.cos(this.circleAngle),this.body.y=this.circle.y+this.circle.radius*Math.sin(this.circleAngle),this.circleAngle+=this.speed,this.down.rotation=Phaser.Math.angleBetweenPoints(new Phaser.Point(this.params.x,this.params.y),new Phaser.Point(this.body.x,this.body.y))),this.lasers[0].position.set(this.body.x,this.body.y),this.down.position.set(this.body.x,this.body.y),this.createRaycasts()},e.prototype.createRaycasts=function(){for(var t=0;t<this.lasers.length;t++)this.lasers[t].width=0;for(var e=this.lengthLaser[0],i=this.down.angle*(Math.PI/180),o=(this.from=new Phaser.Point(this.down.x,this.down.y),this.to=new Phaser.Point(this.from.x+e*Math.cos(i),this.from.y+e*Math.sin(i)),0);this.createRaycast(o);)this.lengthLaser[++o]=this.maxLaser},e.prototype.createRaycast=function(t){if(t>=this.lasers.length)return!1;var e=this.lengthLaser[t];this.raycastOutput=this.game.physics.box2d.raycast(this.from.x,this.from.y,this.to.x,this.to.y,!0,this.filterRaycastHit);for(var i=0;i<this.raycastOutput.length;i++){var o=this.raycastOutput[i],n=o.body,s=(this.lasers[t].position.set(this.from.x,this.from.y),r.Utils.angleBetweenVectors(1,0,this.to.x-this.from.x,this.to.y-this.from.y,!0));if(this.lasers[t].angle=s,this.lasers[t].width=this.from.distance(o.point),this.lengthLaser[t]=this.maxLaser,"Mirror"===n.tag&&!this.isHide&&o.fixture.IsSensor())return this.from=new Phaser.Point(o.point.x-4,o.point.y),s-=90,29===r.Constants.OPEN_LEVEL&&-180===s&&(s+=180),29===r.Constants.OPEN_LEVEL&&-135===o.body.angle&&(s-=180),s=Phaser.Math.degToRad(s),this.to=new Phaser.Point(this.from.x+e*Math.cos(s),this.from.y+e*Math.sin(s)),!0;this.isHide||(this.light.visible=!0,this.light.position.set(o.point.x,o.point.y),s=r.Utils.angleBetweenVectors(1,0,o.normal.x,o.normal.y,!1),this.light.rotation=s),"Player"!==n.tag||this.isHide||n.getUserData().LaserDestroy(),"LaseredPlane"===n.tag&&n.getUserData().melting()}return 0===this.raycastOutput.length&&(this.lasers[t].width=(this.isStop,e),this.light.visible=!1),!1},e.prototype.filterRaycastHit=function(t,e,i,o){return"Unstick"===t.tag||"MovedPlane"===t.tag||"MetalBox"===t.tag||("Mirror"===t.tag||("Droid"===t.tag||!("LaserIgnore"===t.tag||t.sensor&&"Player"!==t.tag)&&("Player"!==t.tag||!t.getUserData().isHide)))};var s,t=e;function e(t,e){var i=s.call(this,t,e)||this;i.params=e,i.isSetPosition=!1,i.id=e.id,i.isCircle=!1,i.circleAngle=0,i.maxLaser=1280,i.lengthLaser=[i.maxLaser,0,0],i.timeHide=2e3,i.isStartTime=!1,i.isHide=!1,i.raycastOutput=[],i.lasers=[];for(var o=0;o<4;o++){var n=i.game.add.sprite(e.x,e.y,r.Atlases.Art,"laser/1",i);n.anchor.set(0,.5),n.angle=e.rotation,n.width=0,i.add(n),i.lasers.push(n)}return i.down=i.game.add.sprite(0,0,r.Atlases.Art,"laser/punch/0",i),i.down.animations.add("laser",r.Utils.getNameArray("laser/punch/",10),30,!1),i.down.anchor.set(.6,.46),i.down.angle=e.rotation,i.light=i.game.add.sprite(0,0,r.Atlases.Art,"laser/sparkles/0",i),i.light.animations.add("idle",r.Utils.getNameArray("laser/sparkles/",5),30,!0).play(),i.light.anchor.set(.1,.5),i.light.visible=!1,i.game.add.existing(i),i.body=new r.Body(i.game,i,e.x,e.y,"Laser"),i.body.clearFixtures(),i.body.setCircle(23),i.body.sensor=!0,i.body.kinematic=!0,i.body.setCategoryContactCallback(20,i.isollide,i),i.setBody(i.body),0!==e.id&&i.stopLaser(),0!=+i.params.reloadTime&&(i.hide_timer=new r.ActionQueue(i.game,1e3*+i.params.reloadTime),i.hide_timer.push(i.hideLaser,i,0),i.hide_timer.push(i.startLaser,i,1e3*+i.params.reloadTime),i.hide_timer.push(function(){return i.down.play("laser")},i,0),i.hide_timer.push(i.stopLaser,i,1e3*+i.params.fireTime),0===e.id&&(i.stopLaser(),i.hide_timer.loop(1e3*+i.params.startTime))),0!=+i.params.deltaAngle&&i.startRotate(),e.active&&i.startLaser(),i}r.Laser=t}(Transmorpher3=Transmorpher3||{}),function(r){o=Phaser.Sprite,__extends(e,o),e.prototype.isDownBound=function(t,e,i,o,n){this.isDown+=n?1:-1,this.isDown<0&&(this.isDown=0)},e.prototype.createRect=function(t,e){t=this.body.addRectangle(5,5,t,e);t.SetSensor(!0),this.body.setFixtureContactCallback(t,this.createSmoke,this)},e.prototype.createSmoke=function(t,e,i,o,n,s){e.isSameTag("Wall")&&n&&.5<=Math.abs(this.body.data.GetLinearVelocity().y)&&(r.SoundManager.getInstance(this.game).play(r.Sounds.BodyHit),e=new box2d.b2Vec2,n=i.GetShape(),t.data.GetWorldPoint(n.m_vertices[0],e),new r.Smoke(this.game,e.x*r.Body.METER_TO_PIXEL,e.y*r.Body.METER_TO_PIXEL).start())};var o,t=e;function e(t,e){var t=o.call(this,t,e.x,e.y,r.Atlases.Art,"box/MetalBox")||this,i=(t.isDown=0,t.anchor.set(.5),t.body=new r.Body(t.game,t,e.x,e.y,"MetalBox"),t.body.setUserData(t),t.body.clearFixtures(),t.body.setHexagon(e.width/2,1.2),(e.width-5)/2),e=(e.height-5)/2;return t.createRect(i,e),t.createRect(-i,e),t.createRect(i,-e),t.createRect(-i,-e),t.body.mass=20,t.body.restitution=0,t.body.friction=1.5,t.body.setDencity(1.2),t.body.data.SetAngularDamping(2*Math.PI),t.body.setCategoryContactCallback(15,t.isDownBound,t),t.name="MetalBox",t}r.MetalBox=t}(Transmorpher3=Transmorpher3||{}),function(i){o=i.MovedObject,__extends(e,o),e.prototype.isollide=function(t,e,i,o,n){o.IsSensor()&&(this.isDown+=n?1:-1)},e.prototype.createBody=function(){this.body=new i.Body(this.game,null,this.x,this.y,"Mirror"),this.body.setRectangle(this.width,this.height-20,0,20),this.body.addRectangle(this.width,this.height-50,0,-1.5).SetSensor(!0),this.body.kinematic=!0,this.body.angle=this.params.rotation,this.angle=this.body.angle,this.body.friction=1,(this.body.bodyDef.userData=this).body.postUpdate=this.postUpdate,this.body.setCategoryContactCallback(20,this.isollide,this),this.setBody(this.body)},e.prototype.addCircle=function(t){this.circle=t,this.setCircle(),this.prev.set(this.body.x,this.body.y)},e.prototype.startCircle=function(){this.isCircle=!0},e.prototype.stopCircle=function(){this.isCircle=!1},e.prototype.update=function(){this.isCircle&&(this.setCircle(),this.circleAngle+=this.circle.speed/4e3,this.isDown&&this.player.addXY(this.body.x-this.prev.x,this.body.y-this.prev.y),this.prev.set(this.body.x,this.body.y))},e.prototype.setCircle=function(){this.body.x=this.circle.x+this.circle.radius*Math.cos(this.circleAngle),this.body.y=this.circle.y+this.circle.radius*Math.sin(this.circleAngle),this.position.set(this.body.x,this.body.y)};var o,t=e;function e(t,e){t=o.call(this,t,e)||this;return t.position.set(e.x,e.y),t.mirror=t.game.add.image(0,0,i.Atlases.Art,"mirror/0",t),t.mirror.anchor.set(.5,.2),t.prev=new Phaser.Point,t.isCircle=!1,t.pauseTimer=t.game.time.create(),t.id=void 0===e.id?-10:e.id,t.tag=e.tag,t.count=1,t.name="Mirror",t.isDown=0,t.circleAngle=0,t.createBody(),t.game.add.existing(t),t}i.Mirror=t}(Transmorpher3=Transmorpher3||{}),function(s){i=s.MovedObject,__extends(e,i),e.prototype.isollide=function(t,e,i,o,n){o.IsSensor()&&(this.isDown+=n?1:-1)},e.prototype.createBody=function(){this.body=new s.Body(this.game,null,this.x,this.y,"MovedPlane"),this.blockWeidth=Math.round(1e3*Math.sin(this.angleTraectory))/1e3!=0?this.front.height:this.front.width,this.blockHeight=Math.round(1e3*Math.sin(this.angleTraectory))/1e3!=0?this.front.width:this.front.height,this.body.setRectangle(this.blockWeidth,this.blockHeight,0,0),this.body.kinematic=!0,this.angle=this.angleTraectory,this.body.friction=1,(this.body.bodyDef.userData=this).body.postUpdate=this.postUpdate,this.body.setCategoryContactCallback(20,this.isollide,this),this.setBody(this.body);var t=this.body.addRectangle(this.blockWeidth,6,0,this.blockHeight/2);t.SetSensor(!0),this.body.setFixtureContactCallback(t,this.reversePath,this)},e.prototype.reversePath=function(t,e,i,o,n){"MetalBox"===e.tag&&!o.IsSensor()&&this.isStart&&n&&0!==e.getUserData().isDown&&(this.path=this.path.reverse(),this.count=this.path.length-this.count,this.count<=0&&(this.count=1))},e.prototype.addCircle=function(t){this.circle=t,this.setCircle(),this.prev.set(this.body.x,this.body.y)},e.prototype.startCircle=function(){this.isCircle=!0,this.resumeTweens()},e.prototype.stopCircle=function(){this.isCircle=!1,this.pauseTweens()},e.prototype.update=function(){this.isCircle&&(this.setCircle(),this.circleAngle+=this.speed,this.isDown&&this.player.addXY(this.body.x-this.prev.x,this.body.y-this.prev.y),this.prev.set(this.body.x,this.body.y))},e.prototype.setCircle=function(){this.body.x=this.circle.x+this.circle.radius*Math.cos(this.circleAngle),this.body.y=this.circle.y+this.circle.radius*Math.sin(this.circleAngle),this.position.set(this.body.x,this.body.y),this.speed=this.circle.speed/(20*this.circle.length)},e.prototype.pauseTweens=function(){this.tweens.forEach(function(t){return t.pause()},this)},e.prototype.resumeTweens=function(){this.tweens.forEach(function(t){return t.resume()},this)},e.prototype.updatePlayer=function(){this.player&&this.isDown&&this.player.SetPlaneVelocity(this.body.data.GetLinearVelocity())},e.prototype.addGear=function(t,e,i,o,n){void 0===o&&(o=360),void 0===n&&(n=3500);t=this.game.add.image(t,e,s.Atlases.Decor,"moved/gear_0"+i);t.anchor.set(.5),this.tweens.push(this.game.add.tween(t).to({angle:o},n,Phaser.Easing.Linear.None,!0,0,-1,!1)),this.gears.addChild(t)};var i,t=e;function e(t,e){t=i.call(this,t,e)||this;return t.position.set(e.x,e.y),t.params=e,t.tweens=[],t.prev=new Phaser.Point,t.isCircle=!1,t.id=e.id,t.tag=e.tag,t.typeNumber=1,t.blockHeight=0,t.blockWeidth=0,t.isDown=0,t.circleAngle=0,t.name="MovedPlane",t.back=t.game.add.image(0,0,s.Atlases.Decor,"moved/back"),t.back.anchor.set(.5,.57),t.add(t.back),t.angleTraectory=e.rotation,t.gears=t.game.add.group(),t.add(t.gears),t.front=t.game.add.image(0,0,s.Atlases.Decor,"moved/front"+t.typeNumber),t.front.anchor.set(.5),t.add(t.front),t.addGear(-29.253,7.253,"1"),t.addGear(-7.903,-9.712,"2",-360),t.addGear(-24.637,-18.073,"3",-360),t.addGear(33.061,-9.112,"1",-360),t.addGear(21.862,11.052,"2"),t.addGear(9.398,-9.493,"3",-360),t.pauseTweens(),1!==t.typeNumber&&(t.gears.scale.set(-1,1),t.front.frameName="movedplane/frontupdown"),t.createBody(),t.onUpdate.add(t.updatePlayer,t),t.onStart.add(t.resumeTweens,t),t.onStop.add(t.pauseTweens,t),t.onResume.add(t.resumeTweens,t),t.game.add.existing(t),t}s.MovedPlane=t}(Transmorpher3=Transmorpher3||{}),function(o){n=Phaser.Group,__extends(s,n),s.prototype.createBody=function(){this.blockWeidth=91,this.staticBody=new o.Body(this.game,null,this.x,this.params.y-this.params.height/2,"Press"),this.staticBody.setRectangle(this.blockWeidth,60,0,27.5),this.staticBody.static=!0,this.movedBody=new o.Body(this.game,null,this.x,this.params.y-this.params.height/2,"Press"),this.blockHeight=this.params.height-60,this.movedBody.setRectangle(this.blockWeidth,this.blockHeight,0,-this.blockHeight/2+55),this.movedBody.kinematic=!0,this.movedBody.friction=1,this.movedBody.bodyDef.userData=this},s.MAX=239,s.SHIFT=24,s.TOP=32;var n,t=s;function s(t,e){var i=n.call(this,t)||this;return i.position.set(e.x,e.y),i.params=e,i.id=e.id,i.tag=e.tag,i.hammer=i.game.add.tileSprite(0,-e.height/2+s.SHIFT,91,s.MAX,o.Images.Hammer),i.hammer.anchor.set(.5,0),i.add(i.hammer),i.min=s.MAX-(e.height-s.SHIFT),i.max=s.MAX-s.TOP,i.hammer.tilePosition.y=-i.max,i.topImage=i.game.add.image(0,-e.height/2,o.Atlases.Art,"press/top",i),i.topImage.anchor.set(.5,.4),i.smoke=new o.Smoke(i.game),i.add(i.smoke),i.smoke.position.set(0,e.height/2),i.name="Press",i.createBody(),i.action=new o.ActionQueue(i.game,3100),i.action.pushTween(0,i.hammer.tilePosition,{y:-i.min},1e3,Phaser.Easing.Linear.None),i.action.pushTween(0,i.movedBody,{y:i.params.y-i.params.height/2+i.blockHeight},1e3,Phaser.Easing.Linear.None),i.action.pushTween(1e3,i.hammer.tilePosition,{y:-i.max},2e3,Phaser.Easing.Linear.None),i.action.pushTween(0,i.movedBody,{y:i.params.y-i.params.height/2},2e3,Phaser.Easing.Linear.None),i.action.push(function(){return o.SoundManager.getInstance(i.game).play(o.Sounds.PressHit,1,!1)},i,0),i.action.push(i.smoke.start,i.smoke,0),i.action.loop(1e3*e.startTime),i.game.add.existing(i),i}o.Press=t}(Transmorpher3=Transmorpher3||{}),function(n){o=Phaser.Group,__extends(e,o),e.prototype.createBody=function(t,e,i,o){this.body=new n.Body(this.game,null,this.x,this.y),this.body.setRectangle(t,e,i,o),this.body.angle=this.angle,this.body.kinematic=!0},e.prototype.start=function(){var t,e=this;this.isStart||(this.isStart=!0,this.tween&&this.tween.isRunning&&this.tween.stop(!1),n.SoundManager.getInstance(this.game).play(n.Sounds.DoorBig,1,!1),t=2e3*Math.abs(this.params.rotation+90-this.body.angle)/90,this.tween=this.game.add.tween(this.body).to({angle:this.params.rotation+90},t,Phaser.Easing.Linear.None,!0,0,0,!1),this.tween.onComplete.addOnce(function(){return n.SoundManager.getInstance(e.game).stop(n.Sounds.DoorBig)},this))},e.prototype.stop=function(){var t=this,e=(this.tween&&this.tween.isRunning&&this.tween.stop(!1),n.SoundManager.getInstance(this.game).play(n.Sounds.DoorBig,1,!1),this.isStart=!1,2e3*Math.abs(this.params.rotation-this.body.angle)/90);this.tween=this.game.add.tween(this.body).to({angle:this.params.rotation},e,Phaser.Easing.Linear.None,!0,0,0,!1),this.tween.onComplete.addOnce(function(){return n.SoundManager.getInstance(t.game).stop(n.Sounds.DoorBig)},this)},e.prototype.update=function(){this.angle=this.body.angle};var o,t=e;function e(t,e){var i=o.call(this,t)||this;return i.isStart=!1,i.params=e,i.position.set(e.x,e.y),i.gears=new Phaser.Image(t,0,0,n.Atlases.Art,"rotated/gears"),i.gears.anchor.set(.5),i.add(i.gears),i.door_up=new Phaser.Image(t,0,0,n.Atlases.Art,"rotated/door"),i.door_up.anchor.set(.5,1.06),i.add(i.door_up),i.door_down=new Phaser.Image(t,0,0,n.Atlases.Art,"rotated/door"),i.door_down.scale.set(1,-1),i.door_down.anchor.set(.5,1.06),i.add(i.door_down),i.cube=new Phaser.Image(t,0,0,n.Atlases.Art,"rotated/cube"),i.cube.anchor.set(.5),i.add(i.cube),i.angle=e.rotation,i.tween=void 0,i.id=e.id,i.createBody(51,e.height-6,0,0),i}n.RotatedDoor=t}(Transmorpher3=Transmorpher3||{}),function(n){s=Phaser.Image,__extends(e,s),e.prototype.createLight=function(t,e,i){e=this.game.add.image(e=void 0===e?0:e,i=void 0===i?0:i,n.Atlases.Decor,"rune/B/parts/"+t);e.alpha=0,this.addChild(e),this.lights.push(e)},e.prototype.start=function(){this.light&&this.game.add.tween(this.light).to({alpha:1},1e3,Phaser.Easing.Linear.None,!0)},e.prototype.stop=function(){};var s,t=e;function e(t,e,i){var o=s.call(this,t,i.x,i.y,n.Atlases.Decor,"rune/"+e+"/0")||this;return o.anchor.set(.5),o.angle=i.rotation,o.lights=[],"E"===e?(o.light=o.game.add.image(0,0,n.Atlases.Decor,"rune/"+e+"/1"),o.light.anchor.set(.5),o.light.alpha=0,o.addChild(o.light)):(o.createLight(0,-3.756,-13.768),o.createLight(1,-93.888,-68.84),o.createLight(2,-45.066,-65.085),o.createLight(3,7.511,-70.091),o.createLight(4,-91.384,-25.033),o.createLight(5,21.281,-68.84),o.createLight(6,-90.132,-10.013),o.createLight(7,20.029,-50.065),o.createLight(8,-71.355,-67.588),o.createLight(9,-20.029,3.755),o.light=o.game.add.image(2.504,-3.755,n.Atlases.Art,"rune/0"),(t=o.light.animations.add("play",n.Utils.getNameArray("rune/",67),40,!1)).onStart.add(function(){return o.light.visible=!0},o),t.onComplete.add(function(){return o.light.visible=!1},o),o.light.anchor.set(.5),o.light.visible=!1,o.addChild(o.light),o.action=new n.ActionQueue(o.game,2400),o.action.pushTween(0,o.lights[0],{alpha:1},500,Phaser.Easing.Linear.None),o.action.pushTween(250,o.lights[1],{alpha:1},500,Phaser.Easing.Linear.None),o.action.pushTween(250,o.lights[0],{alpha:0},600,Phaser.Easing.Linear.None),o.action.pushTween(350,o.lights[1],{alpha:0},600,Phaser.Easing.Linear.None),o.action.push(function(){return o.lights[2].alpha=1},o,300),o.action.pushTween(200,o.lights[3],{alpha:1},700,Phaser.Easing.Linear.None),o.action.pushTween(1200,o.lights[2],{alpha:0},500,Phaser.Easing.Linear.None),o.action.pushTween(100,o.lights[4],{alpha:1},500,Phaser.Easing.Linear.None),o.action.pushTween(200,o.lights[3],{alpha:0},500,Phaser.Easing.Linear.None),o.action.pushTween(200,o.lights[5],{alpha:1},500,Phaser.Easing.Linear.None),o.action.pushTween(1e3,o.lights[6],{alpha:1},800,Phaser.Easing.Linear.None),o.action.pushTween(200,o.lights[4],{alpha:0},800,Phaser.Easing.Linear.None),o.action.pushTween(100,o.lights[5],{alpha:0},500,Phaser.Easing.Linear.None),o.action.pushTween(500,o.lights[7],{alpha:1},400,Phaser.Easing.Linear.None),o.action.pushTween(200,o.lights[8],{alpha:1},400,Phaser.Easing.Linear.None),o.action.pushTween(800,o.lights[6],{alpha:0},600,Phaser.Easing.Linear.None),o.action.pushTween(1e3,o.lights[7],{alpha:0},600,Phaser.Easing.Linear.None),o.action.pushTween(200,o.lights[8],{alpha:0},600,Phaser.Easing.Linear.None),o.action.pushTween(100,o.lights[9],{alpha:1},600,Phaser.Easing.Linear.None),o.action.pushTween(1e3,o.lights[9],{alpha:0},600,Phaser.Easing.Linear.None),o.action.pushAnimation(300,o.light,"play"),o.action.loop()),o.id=i.id,o.stype=e,o}n.Rune=t}(Transmorpher3=Transmorpher3||{}),function(i){o=Phaser.Image,__extends(e,o),e.prototype.createBody=function(){this.body=new i.Body(this.game,null,this.x,this.y),this.body.setCircle(40,0,83),this.body.angle=this.angle,this.body.static=!0},e.prototype.start=function(){this.star.setActive(!0),this.game.add.tween(this.shield).to({alpha:0},500,Phaser.Easing.Linear.None,!0),this.game.add.tween(this.blow).to({alpha:0},500,Phaser.Easing.Linear.None,!0),this.game.add.tween(this.field).to({alpha:0},500,Phaser.Easing.Linear.None,!0),this.body.destroy()},e.prototype.setStar=function(t){this.star=t,this.star.setActive(!1,!1)},e.prototype.stop=function(){};var o,t=e;function e(t,e){t=o.call(this,t,e.x,e.y,i.Atlases.Art,"shield/top")||this;return t.anchor.set(.5,0),t.name="Shield",t.id=e.id,t.field=t.game.add.image(0,12.025,i.Atlases.Art,"shield/field"),t.field.anchor.set(.5,0),t.addChild(t.field),t.blow=t.game.add.image(0,88,i.Atlases.Art,"shield/blow/0"),t.blow.animations.add("idle",i.Utils.getNameArray("shield/blow/",28),30,!0).play(),t.blow.anchor.set(.5),t.addChild(t.blow),t.shield=t.game.add.image(0,88,i.Atlases.Art,"shield/shield"),t.shield.anchor.set(.5),t.addChild(t.shield),t.angle=e.rotation,t.createBody(),t}i.Shield=t}(Transmorpher3=Transmorpher3||{}),function(n){o=Phaser.Group,__extends(e,o),e.prototype.createBody=function(t,e,i,o){this.body=new n.Body(this.game,null,this.params.x-this.shift*Math.sin(this.rotation),this.params.y-this.shift*-Math.cos(this.rotation)),this.body.setRectangle(t,e,i,o),this.body.angle=this.angle,this.body.kinematic=!0},e.prototype.start=function(){this.isStart||(this.stopTweens(),n.SoundManager.getInstance(this.game).play(n.Sounds.DoorSmall,1,!1),this.isStart=!0)},e.prototype.stopTweens=function(){this.tweens.forEach(function(t){return t.stop()},this)},e.prototype.stop=function(){this.isStart&&(this.stopTweens(),n.SoundManager.getInstance(this.game).play(n.Sounds.DoorSmall,1,!1),this.isStart=!1)},e.prototype.update=function(){this.angle=this.body.angle,this.position.set(this.body.x,this.body.y)},e.prototype.postUpdate=function(){var t,e=this.isStart?(t=(e=this.close.clone()).subtract(this.body.x,this.body.y).normalize(),this.close.clone()):(t=(e=this.open.clone()).subtract(this.body.x,this.body.y).normalize(),this.open.clone());2<e.distance(new Phaser.Point(this.body.x,this.body.y))?(t=t.multiply(this.speed,this.speed),this.body.data.SetLinearVelocity(new box2d.b2Vec2(t.x,t.y))):(this.body.setZeroVelocity(),n.SoundManager.getInstance(this.game).stop(n.Sounds.DoorSmall))};var o,t=e;function e(t,e){var i=o.call(this,t)||this;return i.speed=-3,i.tweens=[],i.isStart=!1,i.params=e,i.params.x+=Math.cos(Phaser.Math.degToRad(i.params.rotation))*i.params.width/2.4,i.params.y+=Math.sin(Phaser.Math.degToRad(i.params.rotation))*i.params.width/2.4,i.position.set(e.x,e.y),i.door=new Phaser.Image(t,0,0,n.Atlases.Art,"smalldoor/0"),i.door.anchor.set(.5,1),i.add(i.door),i.cube=new Phaser.Image(t,e.x,e.y,n.Atlases.Art,"smalldoor/1"),i.cube.anchor.set(.5),i.cube.angle=e.rotation,i.cube_body=new n.Body(i.game,i.cube,e.x,e.y,"SmallDoor"),i.cube_body.static=!0,i.cube_body.clearFixtures(),i.cube_body.setRectangle(i.cube.width,i.cube.height-10),i.angle=e.rotation,i.shift=i.door.height,i.id=e.id,i.createBody(e.width-10,i.door.height,0,.5*-i.door.height),i.open=new Phaser.Point(i.params.x-i.shift*Math.sin(i.rotation),i.params.y-i.shift*-Math.cos(i.rotation)),i.close=new Phaser.Point(i.params.x,i.params.y),i}n.SmallDoor=t}(Transmorpher3=Transmorpher3||{}),function(n){s=Phaser.Group,__extends(e,s),e.prototype.start=function(){this.leftSmoke.play("idle"),this.rightSmoke.play("idle")};var s,t=e;function e(t,e,i){void 0===e&&(e=0),void 0===i&&(i=0);var o=s.call(this,t)||this;return o.position.set(e,i),o.leftSmoke=o.game.add.image(0,0,n.Atlases.Art,"box/smoke/0",o),o.leftSmoke.anchor.set(0,1),o.leftSmoke.scale.set(-1,1),o.leftSmoke.animations.add("idle",n.Utils.getNameArray("box/smoke/",11),30,!1),o.leftSmoke.visible=!1,o.rightSmoke=o.game.add.image(0,0,n.Atlases.Art,"box/smoke/0",o),o.rightSmoke.animations.add("idle",n.Utils.getNameArray("box/smoke/",11),30,!1),o.rightSmoke.anchor.set(0,1),o.rightSmoke.visible=!1,o.leftSmoke.animations.getAnimation("idle").onStart.add(function(){return o.leftSmoke.visible=!0},o),o.rightSmoke.animations.getAnimation("idle").onStart.add(function(){return o.rightSmoke.visible=!0},o),o.leftSmoke.animations.getAnimation("idle").onComplete.add(function(){return o.leftSmoke.visible=!1},o),o.rightSmoke.animations.getAnimation("idle").onComplete.add(function(){return o.rightSmoke.visible=!1},o),o.name="Smoke",o}n.Smoke=t}(Transmorpher3=Transmorpher3||{}),function(i){o=i.MovedObject,__extends(e,o),e.prototype.stopIdle=function(){this.star.animations.stop("star",!0)},e.prototype.addCircle=function(t){this.circle=t,this.speed=this.circle.speed/(20*this.circle.length)},e.prototype.startCircle=function(){this.isCircle=!0},e.prototype.stopCircle=function(){this.isCircle=!1},e.prototype.setActive=function(t,e){void 0===e&&(e=!0),this.isActive=t,this.isActive?(this.star.animations.play("star"),this.visible=!0):(this.star.animations.stop("star"),e&&(this.visible=!1))},e.prototype.getStar=function(){void 0!==this.body&&this.isActive&&(this.isStart=!1,i.SoundManager.getInstance(this.game).play(i.Sounds.StarCollect),this.body.destroy(),this.body=void 0,this.star.animations.getAnimation("star").loop=!1,this.game.state.getCurrentState().setStar(this))},e.prototype.update=function(){this.isCircle&&(this.body.x=this.circle.x+this.circle.radius*Math.cos(this.circleAngle),this.body.y=this.circle.y+this.circle.radius*Math.sin(this.circleAngle),this.circleAngle+=this.speed),this.position.set(this.body.x,this.body.y)};var o,t=e;function e(t,e){t=o.call(this,t,e)||this;return t.position.set(e.x,e.y),t.star=t.game.add.image(0,0,i.Atlases.Decor,"star/0",t),t.star.anchor.set(.5),t.star.animations.add("star",i.Utils.getNameArray("star/",61),30,!0),t.star.animations.play("star"),t.isActive=!0,t.isCircle=!1,t.circleAngle=0,t.name="Star",t.body=new i.Body(t.game,null,t.x,t.y,"Star"),t.body.setCircle(30),t.body.kinematic=!0,t.body.sensor=!0,t.body.setCategoryContactCallback(20,t.getStar,t),t.setBody(t.body),t}i.Star=t}(Transmorpher3=Transmorpher3||{}),function(n){s=Phaser.Image,__extends(e,s),e.prototype.start=function(){n.SoundManager.getInstance(this.game).play(n.Sounds.Statuya),"morphygod"===this.name?this.hands.animations.play(this.name):"stickystatue"!==this.name&&"rockystatue"!==this.name||this.hands.animations.play(this.name,30)},e.prototype.stop=function(){};var s,t=e;function e(t,e,i,o){t=s.call(this,t,o.x,o.y,n.Atlases.Art,"statues/"+e+"/0")||this;return t.anchor.set(.5,.98),t.name=e,t.id=o.id,t.typeName="statues",t.hands=t.game.add.image(0,0,n.Atlases.Art,"statues/"+e+"/hands/0"),t.onComplete=t.hands.animations.add(e,n.Utils.getNameArray("statues/"+e+"/hands/",i),15,!1).onComplete,"morphygod"===e?t.hands.position.set(-28.691,-99.481):"stickystatue"===e?t.hands.position.set(-18.016,-155.78):"rockystatue"===e&&t.hands.position.set(-48.522,-142.748),t.addChild(t.hands),t}n.Statue=t}(Transmorpher3=Transmorpher3||{}),function(n){o=Phaser.Group,__extends(e,o),e.prototype.createBody=function(t,e,i,o){this.body=new n.Body(this.game,null,this.x,this.y),this.body.setRectangle(t,e,i,o),this.body.angle=this.angle,this.body.kinematic=!0},e.prototype.start=function(){this.isStart||(this.stopTweens(),n.SoundManager.getInstance(this.game).play(n.Sounds.DoorBig,1,!1),this.isStart=!0,this.tweens[1]=this.game.add.tween(this.light_cube).to({alpha:1},200,Phaser.Easing.Linear.None,!0,0,0,!1),this.tweens[2]=this.game.add.tween(this.light_door).to({alpha:1},200,Phaser.Easing.Linear.None,!0,0,0,!1))},e.prototype.stopTweens=function(){this.tweens.forEach(function(t){return t.stop()},this)},e.prototype.stop=function(){this.isStart&&(this.stopTweens(),n.SoundManager.getInstance(this.game).play(n.Sounds.DoorBig,1,!1),this.isStart=!1,this.tweens[1]=this.game.add.tween(this.light_cube).to({alpha:0},200,Phaser.Easing.Linear.None,!0,0,0,!1),this.tweens[2]=this.game.add.tween(this.light_door).to({alpha:0},200,Phaser.Easing.Linear.None,!0,0,0,!1))},e.prototype.update=function(){this.angle=this.body.angle,this.position.set(this.body.x,this.body.y)},e.prototype.postUpdate=function(){var t,e=this.isStart?(t=(e=this.open.clone()).subtract(this.body.x,this.body.y).normalize(),this.open.clone()):(t=(e=this.close.clone()).subtract(this.body.x,this.body.y).normalize(),this.close.clone());2<e.distance(new Phaser.Point(this.body.x,this.body.y))?(t=t.multiply(this.speed,this.speed),this.body.data.SetLinearVelocity(new box2d.b2Vec2(t.x,t.y))):(this.body.setZeroVelocity(),n.SoundManager.getInstance(this.game).stop(n.Sounds.DoorBig))};var o,t=e;function e(t,e){var i=o.call(this,t)||this;return i.speed=-3,i.tweens=[],i.isStart=!1,i.params=e,i.position.set(e.x,e.y),i.door=new Phaser.Image(t,0,0,n.Atlases.Art,"swapdoor/door"),i.door.anchor.set(.5,1.15),i.add(i.door),i.cube=new Phaser.Image(t,e.x,e.y,n.Atlases.Art,"swapdoor/doorcube"),i.cube.anchor.set(.5),i.cube_body=new n.Body(i.game,i.cube,e.x,e.y,"SwapDoor"),i.cube_body.static=!0,i.cube_body.clearFixtures(),i.cube_body.setHexagon(i.cube.width/2,1.4),i.light_cube=new Phaser.Image(t,0,0,n.Atlases.Art,"swapdoor/lightcube"),i.light_cube.anchor.set(.5,.5),i.light_cube.alpha=0,i.cube.addChild(i.light_cube),i.light_door=new Phaser.Image(t,5,.65*-i.door.height+3,n.Atlases.Art,"swapdoor/lightdoor"),i.light_door.anchor.set(.5,.5),i.light_door.alpha=0,i.door.addChild(i.light_door),i.angle=e.rotation,i.shift=1.3*i.door.height,i.id=e.id,i.createBody(e.width-10,i.door.height,0,.65*-i.door.height),i.open=new Phaser.Point(i.params.x-i.shift*Math.sin(i.rotation),i.params.y-i.shift*-Math.cos(i.rotation)),i.close=new Phaser.Point(i.params.x,i.params.y),i}n.SwapDoor=t}(Transmorpher3=Transmorpher3||{}),function(n){o=Phaser.Group,__extends(e,o),e.prototype.movePlayer=function(t){var e=this,i=(n.SoundManager.getInstance(this.game).play(n.Sounds.DieLaser),this.isActive=!0,this.player||(this.player=t),-90===this.angle?5:20),o=-90===this.angle?20:5;this.game.time.events.add(1,function(){return e.player.body.set(e.body.x-i,e.body.y-o)},this)},e.prototype.isCollidePlayer=function(t,e,i,o,n){e.isSameTag("Player")&&(this.isCollide+=n?1:-1,this.player||(this.player=e.getUserData())),this.isCollide&&!this.isActive&&(this.isActive=!0,this.splash.play(),this.teleport&&this.teleport.movePlayer(this.player)),this.isCollide||(this.isActive=!1)};var o,t=e;function e(t,e){var i=o.call(this,t)||this;return i.position.set(e.x,e.y),i.angle=e.rotation,i.params=e,i.id=e.id,i.isCollide=0,i.isActive=!1,i.base=i.game.add.image(0,0,n.Atlases.Art,"teleport/0",i),i.base.anchor.set(.9,.5),i.twirl=i.game.add.image(-6.793,-4.853,n.Atlases.Art,"teleport/twirl/0",i),i.twirl.animations.add("hide",n.Utils.getNameArray("teleport/twirl/",19),30,!0).play(),i.twirl.anchor.set(.5,.5),i.anim=i.game.add.image(-1.941,-11.648,n.Atlases.Art,"teleport/anim/10",i),i.anim.visible=!1,i.splash=i.anim.animations.add("hide",n.Utils.getNameArray("teleport/anim/",20),30,!1),i.splash.onStart.add(function(){return i.anim.visible=!0},i),i.splash.onComplete.add(function(){return i.anim.visible=!1},i),i.anim.anchor.set(.9,.5),i.body=new n.Body(i.game,i,e.x,e.y),i.body.setRectangle(45,20,-30,-5),i.body.setCategoryContactCallback(20,i.isCollidePlayer,i),i.body.sensor=!0,i.body.static=!0,i.body.angle=i.angle,(i.body.data.m_userData=i).game.add.existing(i),i}n.Teleport=t}(Transmorpher3=Transmorpher3||{}),function(s){n=Phaser.Group,__extends(e,n),e.prototype.createBody=function(t,e,i,o){this.body=new s.Body(this.game,null,this.x,this.y);t=this.body.setRectangle(t,e,i,o);this.body.angle=this.angle,this.body.static=!0,this.body.sensor=!0,5===this.type?this.body.setFixtureContactCallback(t,this.press,this):0!==this.type||this.params.once?this.body.setCategoryContactCallback(20,this.use,this):this.body.setFixtureContactCallback(t,this.pressToggle,this)},e.prototype.use=function(){void 0!==this.body&&(this.body.destroy(),this.body=void 0,4===this.type?(this.light.frameName="toggles/"+this.type+"/2",s.SoundManager.getInstance(this.game).play(s.Sounds.ToggleSensor)):0===this.type&&(s.SoundManager.getInstance(this.game).play(s.Sounds.ToggleHandler),this.toggle.animations.play("use")),this.onComplete.dispatch())},e.prototype.pressToggle=function(t,e,i,o,n){!o.IsSensor()&&e.isSameTag("Player")&&(this.isStand+=n?1:-1,1===this.isStand&&n&&(this.isOut?(this.toggle.animations.play("use"),s.SoundManager.getInstance(this.game).play(s.Sounds.ToggleHandler),this.onComplete.dispatch()):(this.toggle.animations.play("unuse"),s.SoundManager.getInstance(this.game).play(s.Sounds.ToggleHandler),this.onOut.dispatch())),0===this.isStand&&(this.isOut=!this.isOut))},e.prototype.press=function(t,e,i,o,n){o.IsSensor()||(this.isStand+=n?1:-1,o="",this.params.color&&5===this.type&&(o="/4"),1===this.isStand&&n?(s.SoundManager.getInstance(this.game).play(s.Sounds.ToggleButton),this.light.frameName="toggles/"+this.type+o+"/2",this.onComplete.dispatch()):0!==this.isStand||n||(s.SoundManager.getInstance(this.game).play(s.Sounds.ToggleButton),this.light.frameName="toggles/"+this.type+o+"/1",this.onOut.dispatch()))};var n,t=e;function e(t,e,i){var o=n.call(this,t)||this;return(4===e||0===e||5===e&&0===i.color)&&(o.toggle=new Phaser.Image(t,0,0,s.Atlases.Decor,"toggles/"+e+"/0"),o.add(o.toggle),o.toggle.anchor.set(.5),o.angle=i.rotation),o.position.set(i.x,i.y),o.isOut=!0,o.params=i,o.isStand=0,o.id=i.id,o.out_id=i.id,o.type=e,o.onComplete=new Phaser.Signal,o.onOut=new Phaser.Signal,4===e?(o.light=o.game.add.image(0,10,s.Atlases.Decor,"toggles/"+e+"/1"),o.light.anchor.set(.5,0),o.addChild(o.light),o.createBody(80,25,0,20)):0===e?(o.toggle.anchor.set(.5,.65),i.once?o.toggle.animations.add("use",s.Utils.getNameArray("toggles/"+e+"/crash/",18),30):(o.toggle.animations.add("use",s.Utils.getNameArray("toggles/"+e+"/",5),20),o.toggle.animations.add("unuse",s.Utils.getNameArray("toggles/"+e+"/",5),20).reverse()),o.createBody(80,35,0,-20)):5===e?(o.light=o.game.add.image(0,5,s.Atlases.Decor,"toggles/"+e+"/1"),o.light.anchor.set(.5,.5),o.addChild(o.light),t=0,4===o.params.color?(o.light.frameName="toggles/5/4/1",o.light.angle=o.params.rotation,o.createBody(i.width-40,i.height,0,t)):(o.toggle.y=o.toggle.height/2-4,t=-o.toggle.height/2+6,o.createBody(i.width,i.height,0,t))):o.createBody(i.width,i.height,0,0),o}s.Toggle=t}(Transmorpher3=Transmorpher3||{}),function(r){c=Phaser.Group,__extends(e,c);var c,t=e;function e(t,e,i,o,n,s){t=c.call(this,t)||this;return t.electricity=t.game.add.sprite(o.x,o.y,r.Atlases.Art,"electro/0",t),t.electricity.angle=s,t.electricity.anchor.set(.5),t.electricity.width=(n-20)*r.Constants.GAMEPLAY_SCALE,t.electricity.height=74,t.electricity.animations.add("idle",r.Utils.getNameArray("electro/",19),30,!0),t.electricity.animations.play("idle"),t.leftEl=t.game.add.sprite(0,0,r.Atlases.Art,"laser/punch/0",t),t.leftEl.anchor.set(.6,.46),t.leftEl.scale.set(1.2*r.Constants.GAMEPLAY_SCALE),t.leftEl.body=new r.Body(t.game,t.leftEl,e.x,e.y,"TrapPlane"),t.leftEl.body.clearFixtures(),t.leftEl.body.setCircle(23),t.leftEl.body.sensor=!0,t.leftEl.body.angle=e.rotation,t.leftEl.body.kinematic=!0,t.rightEl=t.game.add.sprite(0,0,r.Atlases.Art,"laser/punch/0",t),t.rightEl.anchor.set(.6,.46),t.rightEl.scale.set(r.Constants.GAMEPLAY_SCALE,r.Constants.GAMEPLAY_SCALE),t.rightEl.body=new r.Body(t.game,t.rightEl,i.x,i.y,"TrapPlane"),t.rightEl.body.clearFixtures(),t.rightEl.body.setCircle(23),t.rightEl.body.angle=i.rotation,t.rightEl.body.sensor=!0,t.rightEl.body.kinematic=!0,t.body=new r.Body(t.game,null,o.x,o.y,"TrapPlane"),t.body.clearFixtures(),t.body.setRectangle(.9*n*r.Constants.GAMEPLAY_SCALE,59.2*r.Constants.GAMEPLAY_SCALE),t.body.sensor=!0,t.body.static=!0,t.body.setCollisionCategory(3),t.body.angle=s,t.game.add.existing(t),t}r.TrapPlane=t}(Transmorpher3=Transmorpher3||{}),function(i){u=Phaser.Button,__extends(e,u),e.prototype.removeSound=function(){this.onInputUp.remove(this.clickSound,this)},e.prototype.clickSound=function(){i.SoundManager.getInstance(this.game).play(i.Sounds.ButtonDown)},e.prototype.reverseSprite=function(t,e){var i=1,o=1;this.setScale(this.scalex*(i=t?-1:i),this.scaley*(o=e?-1:o))},e.prototype.menuButton=function(t,e){void 0===e&&(e=1),this.addButtonText(t),this.textButton.position.set(0,55),this.image=this.game.add.image(5,-40,i.Atlases.Interface,"buttons/Next1"),this.image.scale.set(1.3*e,1.3),this.image.anchor.set(.5),this.addChild(this.image),this.changeSpriteOver()},e.prototype.addRadiusBorder=function(){this.border=this.game.add.graphics(0,0),this.border.beginFill(0,.7),this.border.drawCircle(-3,-3,97),this.border.endFill(),this.addChild(this.border)},e.prototype.showGrey=function(t,e){this.btnTween&&this.btnTween.isRunning&&this.btnTween.stop(),this.btnTween2&&this.btnTween2.isRunning&&this.btnTween2.stop(),e&&(this.btnTween=this.game.add.tween(this.border).to({alpha:0},200,Phaser.Easing.Linear.None,!0,0,0,!1)),this.btnTween2=this.game.add.tween(this.scale).to({x:+t,y:+t},200,Phaser.Easing.Linear.None,!0,0,0,!1)},e.prototype.hideGrey=function(t,e){this.btnTween&&this.btnTween.isRunning&&this.btnTween.stop(),this.btnTween2&&this.btnTween2.isRunning&&this.btnTween2.stop(),e&&(this.btnTween=this.game.add.tween(this.border).to({alpha:.7},200,Phaser.Easing.Linear.None,!0,0,0,!1)),this.btnTween2=this.game.add.tween(this.scale).to({x:.8*t,y:.8*t},200,Phaser.Easing.Linear.None,!0,0,0,!1)},e.prototype.addButtonText=function(t,e){void 0===e&&(e=0),this.textButton=new Phaser.Text(this.game,0,-6,t,{font:"Underdog-Regular",fontSize:75,fill:"#43bbc2",stroke:"#122a40",strokeThickness:6}),this.textButton.anchor.set(.5),this.textButton.align="center",0!==e&&(this.textButton.tint=e,this.textButton.cacheAsBitmap=!0),this.addChild(this.textButton)},e.prototype.addBorder=function(t,e){void 0===t&&(t=6),void 0===e&&(e=6),this.border=this.game.add.graphics(0,0),this.border.lineStyle(t,16777215,1),i.Utils.rounded(this.border,-this.gWidth/2-t/2,-this.gHeight/2-t/2,this.gWidth+t,this.gHeight+t,e),this.border.endFill(),this.border.visible=!1,this.addChild(this.border),this.events.onInputOver.add(this.overBorder,this),this.events.onInputOut.add(this.outBorder,this)},e.prototype.overBorder=function(){this.border.visible=!0},e.prototype.outBorder=function(){this.border.visible=!1},e.prototype.setButtonScale=function(){this.textButton.scale.set(1,1);var t=(this.width-50)/this.textButton.width;this.textButton.scale.set(t,t)},e.prototype.setTextPosition=function(t,e){this.textButton.position.set(t,e)},e.prototype.changeText=function(t){this.textButton.setText(t)},e.prototype.changeTextFont=function(t){this.textButton.font=t},e.prototype.changeFrames=function(t){this.setFrames(t,t,t,t)},e.prototype.deactivate=function(t){void 0===t&&(t=.5),this.inputEnabled=!1,void 0!==this.textButton&&(this.textButton.visible=!1),this.alpha=t},e.prototype.activate=function(t){void 0===t&&(t=1),this.inputEnabled=!0,void 0!==this.textButton&&(this.textButton.visible=!0),this.alpha=t},e.prototype.setAnimation=function(){this.events.onInputOver.add(this.overBtnFunc,this),this.events.onInputOut.add(this.outBynFunc,this)},e.prototype.changeSpriteOver=function(){this.events.onInputOver.add(this.overFrame,this),this.events.onInputOut.add(this.outFrame,this)},e.prototype.overFrame=function(){this.image.frameName="buttons/Next2"},e.prototype.outFrame=function(){this.image.frameName="buttons/Next1"},e.prototype.setScale=function(t,e){this.scalex=t,this.scaley=void 0===e?t:e,this.scale.set(this.scalex,this.scaley),this.gHeight=this.height,this.gWidth=this.width},e.prototype.overBtnFunc=function(t){this.btnTween=this.game.add.tween(t.scale).to({x:1.1*this.scalex,y:1.1*this.scaley},100,Phaser.Easing.Linear.None,!0,0,0,!1)},e.prototype.outBynFunc=function(t){this.btnTween=this.game.add.tween(t.scale).to({x:this.scalex,y:this.scaley},100,Phaser.Easing.Linear.None,!0,0,0,!1)};var u,t=e;function e(t,e,i,o,n,s,r,c,a,h){e=u.call(this,t,e,i,o,n,s,r,c,a,h)||this;return e.overText="2.png",e.outText="1.png",e.gHeight=e.height,e.gWidth=e.width,e.scalex=1,e.scaley=1,e.anchor.set(.5),t.world.addChild(e),e.input.useHandCursor=!1,e.onInputUp.add(e.clickSound,e),e}i.Button=t}(Transmorpher3=Transmorpher3||{}),function(o){i=Phaser.Group,__extends(e,i),e.prototype.change=function(t,e){o.Gameplay.isArrows=t,o.Gameplay.isArrows?(this.mouse.setFrames(t="buttons/SettingMouseClip2",t,t,t),this.keyboard.setFrames(t="buttons/SettingsKeyboardClip1",t,t,t)):(this.mouse.setFrames(t="buttons/SettingMouseClip1",t,t,t),this.keyboard.setFrames(t="buttons/SettingsKeyboardClip2",t,t,t)),this.game.state.getCurrentState().clearArrows(),e||(this.visible=!1,this.shadow.alpha=0)},e.prototype.createBkgButton=function(t,e,i){void 0===i&&(i=.6);t=this.game.add.image(t,e,o.Atlases.Interface,"buttons/button_back",this);return t.scale.set(i),t.anchor.set(.5),t},e.prototype.resize=function(){this.shadow.width=this.game.width,this.shadow.height=this.game.height,this.position.set(this.game.width/2,this.game.height/2)};var i,t=e;function e(t){t=i.call(this,t)||this;t.shadow=t.game.add.graphics(0,0,t.game.world),t.shadow.beginFill(0,.7),t.shadow.drawRect(0,0,20,20),t.shadow.endFill(),t.bkg=t.game.add.sprite(0,0,o.Atlases.Interface,"GamePopUp",t),t.bkg.anchor.set(.5),t.label=new Phaser.Text(t.game,0,-300.527,Fabrique.LocalizationHandler.getInstance().getValue("select_controls"),{font:"Underdog-Regular",fontSize:90,fill:"#43bbc2",stroke:"#122a40",strokeThickness:6}),t.label.anchor.set(.5),t.add(t.label),t.createBkgButton(-145.432,266,1),t.createBkgButton(132.482,266,1);t.game.add.image(0,-80,o.Atlases.Interface,"chars",t).anchor.set(.5);var e="buttons/SettingMouseClip1";return t.mouse=new o.Button(t.game,142.443,262.017,o.Atlases.Interface,t.change.bind(t,!1,!1),t,e,e,e,e),t.add(t.mouse),t.keyboard=new o.Button(t.game,-134.475,262.017,o.Atlases.Interface,t.change.bind(t,!0,!(e="buttons/SettingsKeyboardClip1")),t,e,e,e,e),t.add(t.keyboard),t.change(o.Gameplay.isArrows,!0),t.shadow.alpha=1,t}o.ControllPopUp=t}(Transmorpher3=Transmorpher3||{}),function(s){i=Phaser.Group,__extends(e,i),e.prototype.change=function(t){s.Gameplay.isArrows=t,s.Gameplay.isArrows?(this.mouse.setFrames(t="buttons/SettingMouseClip2",t,t,t),this.keyboard.setFrames(t="buttons/SettingsKeyboardClip1",t,t,t)):(this.mouse.setFrames(t="buttons/SettingMouseClip1",t,t,t),this.keyboard.setFrames(t="buttons/SettingsKeyboardClip2",t,t,t)),this.game.state.getCurrentState().clearArrows()},e.prototype.createBkgButton=function(t,e,i){void 0===i&&(i=.6);t=this.game.add.image(t,e,s.Atlases.Interface,"buttons/button_back",this);return t.scale.set(i),t.anchor.set(.5),t},e.prototype.hide=function(){this.tween&&this.tween.isRunning&&this.tween.stop(),this.shadow.alpha=0,this.y=this.game.height/2,this.tween=this.game.add.tween(this).to({y:-this.height/2},1e3,Phaser.Easing.Exponential.Out,!0),this.onHide.dispatch()},e.prototype.show=function(){s.Utils.desktop&&this.change(s.Gameplay.isArrows),this.tween&&this.tween.isRunning&&this.tween.stop(),this.y=-this.height/2,this.tween=this.game.add.tween(this).to({y:this.game.height/2},1e3,Phaser.Easing.Exponential.Out,!0),this.shadow.alpha=1},e.prototype.win=function(){var t=180-(this.game.time.totalElapsedSeconds()-this.startTime);t<0&&(t=0),this.brand.visible=!1,this.stars=[],this.label.setText(Fabrique.LocalizationHandler.getInstance().getValue("scores")+(Math.floor(16.6*t)+1e3*s.Constants.STAR_COUNT)),this.label.fontSize=70,this.label.y=-100.382,this.chars=this.game.add.image(0,80,s.Atlases.Interface,"chars",this),this.chars.anchor.set(.5),this.addStar(-201.214,-279.834,-10,.9),this.addStar(0,-299.751,0,1),this.addStar(196.233,-284.813,10,.9),s.Utils.desktop&&(this.mouse.visible=!1,this.keyboard.visible=!1,this.bkg1.visible=!1,this.bkg2.visible=!1);for(var e=0;e<s.Constants.STAR_COUNT;e++)this.stars[e].visible=!0},e.prototype.addStar=function(t,e,i,o){var n=this.game.add.image(t,e,s.Atlases.Decor,"star/back_star",this),n=(n.scale.set(o),n.angle=i,n.anchor.set(.5),this.game.add.image(t,e,s.Atlases.Decor,"star/star_big",this));n.scale.set(o),n.angle=i,n.anchor.set(.5),n.visible=!1,this.stars.push(n)},e.prototype.resize=function(){this.shadow.width=this.game.width,this.shadow.height=this.game.height,1===this.shadow.alpha?this.position.set(this.game.width/2,this.game.height/2):this.position.set(this.game.width/2,-this.height/2)};var i,t=e;function e(t){var e,t=i.call(this,t)||this;return t.onHide=new Phaser.Signal,t.shadow=t.game.add.graphics(0,0,t.game.world),t.shadow.beginFill(0,.7),t.shadow.drawRect(0,0,20,20),t.shadow.endFill(),t.bkg=t.game.add.sprite(0,0,s.Atlases.Interface,"GamePopUp",t),t.bkg.anchor.set(.5),t.startTime=t.game.time.totalElapsedSeconds(),t.label=new Phaser.Text(t.game,0,-337.527,Fabrique.LocalizationHandler.getInstance().getValue("pause"),{font:"Underdog-Regular",fontSize:90,fill:"#43bbc2",stroke:"#122a40",strokeThickness:6}),t.label.anchor.set(.5),t.add(t.label),t.createBkgButton(181.292,302.739),t.createBkgButton(-1.992,302.739),t.createBkgButton(-185.276,302.739),t.resumeButton=new s.Button(t.game,181.292,302.739,s.Atlases.Interface,t.hide,t,"buttons/Next2","buttons/Next1","buttons/Next1","buttons/Next1"),t.restartButton=new s.Button(t.game,-1.992,302.739,s.Atlases.Interface,void 0,void 0,"buttons/Restart2","buttons/Restart1","buttons/Restart1","buttons/Restart1"),t.menuButton=new s.Button(t.game,-185.276,302.739,s.Atlases.Interface,void 0,void 0,"buttons/LevelSelect2","buttons/LevelSelect1","buttons/LevelSelect1","buttons/LevelSelect1"),t.add(t.restartButton),t.add(t.resumeButton),t.add(t.menuButton),t.brand=t.game.add.image(0,-197,"branding_logo"),t.brand.anchor.set(.5),t.brand.scale.set(.9),h5branding.Branding.outGoingLinksAllowed()?(t.brand.inputEnabled=!0,t.brand.events.onInputUp.add(function(){h5branding.Branding.openCampaignLink("transmorpher-3",h5branding.UtmTargets.logo)})):t.brand.visible=!1,s.Utils.desktop&&(t.bkg1=t.createBkgButton(-145.432,66,1),t.bkg2=t.createBkgButton(132.482,66,1),t.mouse=new s.Button(t.game,142.443,62.017,s.Atlases.Interface,t.change.bind(t,!(e="buttons/SettingMouseClip1")),t,e,e,e,e),t.add(t.mouse),e="buttons/SettingsKeyboardClip1",t.keyboard=new s.Button(t.game,-134.475,62.017,s.Atlases.Interface,t.change.bind(t,!0),t,e,e,e,e),t.add(t.keyboard),t.change(s.Gameplay.isArrows)),t.shadow.alpha=0,t}s.GamePopUp=t}(Transmorpher3=Transmorpher3||{}),function(i){o=Phaser.Group,__extends(e,o),e.prototype.setActive=function(t,e,i,o){this.levelText.visible=!0,this.bkg.frameName="levelButton/"+(t+2),e&&(this.bkg.frameName="levelButton/1"),this.bkg.inputEnabled=!0,this.bkg.events.onInputUp.add(i.bind(o,this.level-1))},e.prototype.clickSound=function(){};var o,t=e;function e(t,e){t=o.call(this,t)||this;return t.level=e,t.isOver=!1,t.bkg=t.game.add.sprite(0,0,i.Atlases.Interface,"levelButton/0",t),t.bkg.anchor.set(.5),t.bkg.hitArea=new Phaser.Circle(-6,-6,106),t.levelText=t.game.add.bitmapText(0,-4,i.Fonts.Underdog,e.toString(),36,t),t.levelText.anchor.set(.5),t.levelText.visible=!1,t.bkg.events.onInputDown.add(t.clickSound,t),t}i.LevelButton=t}(Transmorpher3=Transmorpher3||{}),function(e){i=Phaser.Group,__extends(o,i);var i,t=o;function o(t){t=i.call(this,t)||this;return t.smallship=t.game.add.sprite(0,0,e.Atlases.Movie,"fallship/ship",t),t.smallship.anchor.set(.5,.5),t.light=t.game.add.sprite(-197.79,-216.533,e.Atlases.Movie,"fallship/smoke/0",t),t.light.animations.add("play",e.Utils.getNameArray("fallship/smoke/",32),30,!0).play(),t.light.anchor.set(.5),t.light1=t.game.add.sprite(-245.36,-221.539,e.Atlases.Movie,"fallship/flame1/0",t),t.light1.animations.add("play",e.Utils.getNameArray("fallship/flame1/",21),30,!0).play(),t.light2=t.game.add.sprite(-271.648,-287.876,e.Atlases.Movie,"fallship/flame2/0",t),t.light2.animations.add("play",e.Utils.getNameArray("fallship/flame2/",21),30,!0).play(),t.makafo=t.game.add.sprite(-150.22,-156.455,e.Atlases.Movie,"fallship/makafo/0",t),t.makafo.animations.add("play",e.Utils.getNameArray("fallship/makafo/",11),30,!0).play(),t}e.FallShip=t}(Transmorpher3=Transmorpher3||{}),function(i){o=Phaser.Group,__extends(e,o),e.prototype.start=function(){this.action.start()};var o,t=e;function e(t){var e=o.call(this,t)||this,t=(e.background=e.game.add.image(0,0,i.Images.Border),e.background.anchor.set(.5),e.movieBkg=e.game.add.tileSprite(0,0,1280,960,i.Images.BkgMovie),e.movieBkg.anchor.set(.5,.5),e.add(e.movieBkg),e.maxGroup=e.game.add.group(e),e.add(e.background),e.maxGroup.position.set(-150,-150),e.background.width=1280,e.background.height=960,e.shuttle=new i.Shuttle(e.game),e.shuttle.position.set(-550,80),e.shuttle.scale.set(.8),e.maxGroup.add(e.shuttle),e.smallShip=new i.SmallShip(e.game),e.maxGroup.add(e.smallShip),e.rocket=e.game.add.image(115.169,58.827,i.Atlases.Movie,"shuttle/rocket",e.maxGroup),e.rocket.anchor.set(.5),e.rocket.visible=!1,e.game.width<=1280?0:(e.game.width-1280)/2);return e.action=new i.ActionQueue(e.game),e.action.pushTween(100,e.smallShip,{x:500,y:330},2e3,Phaser.Easing.Linear.None),e.action.pushTween(100,e.shuttle,{x:100},2e3,Phaser.Easing.Linear.None),e.action.pushTween(3e3,e.maxGroup.scale,{x:2,y:2},1500,Phaser.Easing.Linear.None),e.action.pushTween(0,e.movieBkg.tileScale,{x:2,y:2},1500,Phaser.Easing.Linear.None),e.action.pushTween(0,e.movieBkg.tilePosition,{x:-150,y:-150},1500,Phaser.Easing.Linear.None),e.action.push(function(){return e.smallShip.visible=!1},e,2e3),e.action.push(e.shuttle.stopMove,e.shuttle,0),e.action.push(e.shuttle.showText,e.shuttle,0),e.action.push(e.shuttle.hideText,e.shuttle,1500),e.action.push(e.shuttle.startRocket,e.shuttle,100),e.action.push(function(){return e.rocket.visible=!0},e,900),e.action.pushTween(0,e.rocket,{x:500.291,y:252.699},1500,Phaser.Easing.Circular.In),e.action.pushTween(0,e.rocket.scale,{x:1.8,y:1.8},1e3,Phaser.Easing.Linear.None),e.action.push(e.shuttle.hideRocket,e.shuttle,300),e.action.push(function(){return e.rocket.visible=!1},e,1500),e.action.pushTween(1e3,e.scale,{x:.4,y:.4},1500,Phaser.Easing.Linear.None),e.action.pushTween(0,e,{x:350+t,y:e.y+300},1500,Phaser.Easing.Linear.None),e.position.set(e.game.width/2,e.game.height/2),e}i.FirstScene=t}(Transmorpher3=Transmorpher3||{}),function(i){o=Phaser.Group,__extends(e,o),e.prototype.start=function(){this.action.start()};var o,t=e;function e(t){var e=o.call(this,t)||this,t=(e.background=e.game.add.image(0,0,i.Images.Border),e.background.anchor.set(.5),e.movieBkg=e.game.add.tileSprite(0,0,1280,960,i.Images.BkgMovie),e.movieBkg.anchor.set(.5,.5),e.movieBkg.tileScale.set(3,3),e.add(e.movieBkg),e.maxGroup=e.game.add.group(e),e.add(e.background),e.maxGroup.position.set(-150,-150),e.background.width=1280,e.background.height=960,e.planet=e.game.add.tileSprite(650.509,520.207,8.54,8.53,i.Images.Planet),e.planet.anchor.set(.8,.8),e.planet.tileScale.set(.01,.01),e.maxGroup.add(e.planet),e.fall=new i.FallShip(e.game),e.fall.position.set(150,150),e.maxGroup.add(e.fall),e.game.width<=1280?e.game.width:e.game.width-(e.game.width-1280)/2);return e.position.set(t,0),e.scale.set(0),e.kaboom=e.game.add.image(369.291,296.636,i.Atlases.Movie,"secondscene/kaboom"),e.kaboom.anchor.set(1),e.kaboom.scale.set(0),e.maxGroup.add(e.kaboom),e.boom=e.game.add.image(270.396,336.688,i.Atlases.Movie,"secondscene/boom/13"),e.boom.animations.add("play",i.Utils.getNameArray("secondscene/boom/",17),30,!1),e.boom.visible=!1,e.boom.anchor.set(.5,1),e.maxGroup.add(e.boom),e.action=new i.ActionQueue(e.game),e.action.pushTween(100,e,{x:e.game.width/2,y:e.game.height/2},1e3,Phaser.Easing.Linear.None),e.action.pushTween(0,e.scale,{x:.8,y:.8},1e3,Phaser.Easing.Linear.None),e.action.push(function(){return e.movieBkg.autoScroll(-90,-90)},e,0),e.action.pushTween(2e3,e.fall,{x:-150,y:-75},1e3,Phaser.Easing.Linear.None),e.action.pushTween(0,e.movieBkg.tileScale,{x:2,y:2},1e3,Phaser.Easing.Linear.None),e.action.pushTween(0,e.fall.scale,{x:.6,y:.6},1e3,Phaser.Easing.Linear.None),e.action.pushTween(0,e.planet.tileScale,{x:.6,y:.6},1e3,Phaser.Easing.Linear.None),e.action.pushTween(0,e.planet,{height:512,width:512},1e3,Phaser.Easing.Linear.None),e.action.pushTween(0,e.planet.tilePosition,{x:e.planet.x-660,y:e.planet.y-530},1e3,Phaser.Easing.Linear.None),e.action.push(function(){return e.movieBkg.autoScroll(-40,-40)},e,0),e.action.push(function(){return e.fall.makafo.visible=!1},e,0),e.action.pushTween(1e3,e.fall.scale,{x:.05,y:.05},1500,Phaser.Easing.Linear.None),e.action.pushTween(0,e.fall,{x:400,y:280},1500,Phaser.Easing.Linear.None),e.action.push(function(){return e.boom.visible=!0},e,1500),e.action.push(function(){return e.boom.play("play")},e,0),e.action.push(function(){return e.fall.visible=!1},e,0),e.action.pushTween(0,e.kaboom.scale,{x:2,y:2},700,Phaser.Easing.Bounce.Out,0,!1),e.action.push(function(){return e.boom.visible=!1},e,700),e.action.push(function(){return e.kaboom.visible=!1},e,0),e.action.pushTween(700,e.planet.tileScale,{x:2.5,y:2.5},1e3,Phaser.Easing.Linear.None),e.action.pushTween(0,e.planet,{x:e.planet.x-120,y:e.planet.y-100},500,Phaser.Easing.Linear.None),e.action.pushTween(0,e.planet,{height:930,width:1240},500,Phaser.Easing.Linear.None),e.action.pushTween(500,e.planet.tilePosition,{x:e.planet.tilePosition.x-150,y:e.planet.tilePosition.y-150},500,Phaser.Easing.Linear.None),e.action.pushTween(1e3,e.scale,{x:.4,y:.4},1500,Phaser.Easing.Linear.None),e.action.pushTween(0,e,{x:e.x-350,y:e.y+300},1500,Phaser.Easing.Linear.None),e}i.SecondScene=t}(Transmorpher3=Transmorpher3||{}),function(e){i=Phaser.Group,__extends(o,i),o.prototype.stopMove=function(){this.moveTween.stop()},o.prototype.showText=function(){this.game.add.tween(this.text.scale).to({x:1,y:1},1e3,Phaser.Easing.Linear.None,!0,0,0)},o.prototype.hideText=function(){this.game.add.tween(this.text.scale).to({x:0,y:0},1e3,Phaser.Easing.Linear.None,!0,0,0)},o.prototype.startRocket=function(){this.game.add.tween(this.hand).to({angle:-20},300,Phaser.Easing.Linear.None,!0,0,0,!0),this.game.add.tween(this.button).to({y:this.button.y+6},300,Phaser.Easing.Linear.None,!0,300,0),this.game.add.tween(this.puzo.scale).to({x:0,y:0},300,Phaser.Easing.Linear.None,!0,600,0)},o.prototype.hideRocket=function(){this.game.add.tween(this.puzo.scale).to({x:.7,y:.7},300,Phaser.Easing.Linear.None,!0,0,0)};var i,t=o;function o(t){t=i.call(this,t)||this;return t.shuttleGroup=t.game.add.group(t),t.preglass=t.game.add.sprite(-5.008,21.278,e.Atlases.Movie,"shuttle/preglass",t.shuttleGroup),t.preglass.anchor.set(.5),t.glass=t.game.add.sprite(-1.252,18.775,e.Atlases.Movie,"shuttle/glass",t.shuttleGroup),t.glass.anchor.set(.5),t.scientist=t.game.add.sprite(0,0,e.Atlases.Movie,"shuttle/scientist",t.shuttleGroup),t.scientist.anchor.set(.5),t.button=t.game.add.sprite(11.267,40.052,e.Atlases.Movie,"shuttle/button",t.shuttleGroup),t.button.anchor.set(0,.5),t.hand=t.game.add.sprite(-6.259,36.297,e.Atlases.Movie,"shuttle/hand",t.shuttleGroup),t.hand.anchor.set(0,.5),t.light1=t.game.add.sprite(-45.066,76.349,e.Atlases.Movie,"shuttle/energyblow/0",t.shuttleGroup),t.light1.animations.add("play",e.Utils.getNameArray("shuttle/energyblow/",23),30,!0).play(),t.light2=t.game.add.sprite(-75.11,76.349,e.Atlases.Movie,"shuttle/energyblow/0",t.shuttleGroup),t.light2.animations.add("play",e.Utils.getNameArray("shuttle/energyblow/",23),30,!0).play(),t.body=t.game.add.sprite(-40.059,41.304,e.Atlases.Movie,"shuttle/body",t.shuttleGroup),t.body.anchor.set(.5),t.puzo=t.game.add.sprite(36.303,50.066,e.Atlases.Movie,"shuttle/puzo",t.shuttleGroup),t.puzo.scale.set(.7),t.puzo.anchor.set(1,0),t.shuttle_ford=t.game.add.sprite(-20.029,36.297,e.Atlases.Movie,"shuttle/shuttle_ford",t.shuttleGroup),t.shuttle_ford.anchor.set(.5),t.light=t.game.add.sprite(-52.577,21.277,e.Atlases.Movie,"shuttle/light/0",t.shuttleGroup),t.light.animations.add("play",e.Utils.getNameArray("shuttle/light/",29),30,!0).play(),t.light.anchor.set(.5),t.smoke1=t.game.add.sprite(-101.398,-15.02,e.Atlases.Movie,"shuttle/smoke1/0",t.shuttleGroup),t.smoke1.animations.add("play",e.Utils.getNameArray("shuttle/smoke1/",27),30,!0).play(),t.smoke1.anchor.set(.5),t.smoke2=t.game.add.sprite(-128.938,33.793,e.Atlases.Movie,"shuttle/smoke2/0",t.shuttleGroup),t.smoke2.animations.add("play",e.Utils.getNameArray("shuttle/smoke2/",32),30,!0).play(),t.smoke2.anchor.set(.5),t.tween=t.game.add.sprite(-33.799,86.362,e.Atlases.Movie,"shuttle/tween",t.shuttleGroup),t.tween.anchor.set(.5),t.text=t.game.add.sprite(47.57,-1.252,e.Atlases.Movie,"shuttle/text",t.shuttleGroup),t.text.anchor.set(0,1),t.text.scale.set(0),t.moveTween=t.game.add.tween(t).to({y:t.y+10},500,Phaser.Easing.Bounce.InOut,!0,0,-1,!0),t}e.Shuttle=t}(Transmorpher3=Transmorpher3||{}),function(e){i=Phaser.Group,__extends(o,i),o.prototype.update=function(){this.position.x=this.x+.8*Math.cos(this.circleAngle),this.position.y=this.y+.8*Math.sin(this.circleAngle),this.circleAngle+=.05};var i,t=o;function o(t){t=i.call(this,t)||this;return t.circleAngle=0,t.smallship=t.game.add.sprite(0,0,e.Atlases.Movie,"smallship/smallship",t),t.smallship.anchor.set(.5,.5),t.light1=t.game.add.sprite(-152.724,-18.775,e.Atlases.Movie,"smallship/energyblow/0",t),t.light1.animations.add("play",e.Utils.getNameArray("smallship/energyblow/",23),30,!0).play(),t.light2=t.game.add.sprite(-168.998,-20.027,e.Atlases.Movie,"smallship/energyblow/0",t),t.light2.animations.add("play",e.Utils.getNameArray("smallship/energyblow/",23),30,!0).play(),t.light=t.game.add.sprite(-148.968,6.257,e.Atlases.Movie,"smallship/light/0",t),t.light.animations.add("play",e.Utils.getNameArray("smallship/light/",19),30,!0).play(),t.light.anchor.set(.5),t}e.SmallShip=t}(Transmorpher3=Transmorpher3||{}),function(i){o=Phaser.Group,__extends(e,o),e.prototype.start=function(){this.action.start()};var o,t=e;function e(t){var e=o.call(this,t)||this,t=e.game.width<=1280?0:(e.game.width-1280)/2;return e.position.set(e.game.width,e.game.height),e.background=e.game.add.image(640,0,i.Images.Border),e.background.anchor.set(.5),e.maxGroup=e.game.add.group(e),e.add(e.background),e.map=e.game.add.tileSprite(0,0,1280,960,i.Images.ThirdMovieBkg),e.map.anchor.set(0,.5),e.maxGroup.add(e.map),e.shipGroup=e.game.add.group(e.maxGroup),e.plants=e.game.add.tileSprite(0,480,1280,440,i.Images.Plants),e.plants.anchor.set(0,1),e.plants.tilePosition.set(-45,0),e.background.width=1280,e.background.height=960,e.scale.set(0),e.details=e.game.add.image(256.626,116.402,i.Atlases.Movie,"thirdscene/details",e.shipGroup),e.details.anchor.set(.5),e.smoke1=e.game.add.image(150.22,-7.013,i.Atlases.Movie,"thirdscene/smoke1/0",e.shipGroup),e.smoke1.animations.add("play",i.Utils.getNameArray("thirdscene/smoke1/",27),30,!0).play(),e.smoke1.anchor.set(.5),e.fire1=e.game.add.image(148.968,10.51,i.Atlases.Movie,"thirdscene/fire1/0",e.shipGroup),e.fire1.animations.add("play",i.Utils.getNameArray("thirdscene/fire1/",21),30,!0).play(),e.fire1.anchor.set(.5),e.smoke2=e.game.add.image(131.442,62.582,i.Atlases.Movie,"thirdscene/smoke2/0",e.shipGroup),e.smoke2.animations.add("play",i.Utils.getNameArray("thirdscene/smoke2/",32),30,!0).play(),e.smoke2.anchor.set(.5),e.fire2=e.game.add.image(130.19,72.595,i.Atlases.Movie,"thirdscene/fire2/0",e.shipGroup),e.fire2.animations.add("play",i.Utils.getNameArray("thirdscene/fire2/",21),30,!0).play(),e.fire2.anchor.set(.5),e.smoke3=e.game.add.image(327.98,73.846,i.Atlases.Movie,"thirdscene/smoke3/0",e.shipGroup),e.smoke3.animations.add("play",i.Utils.getNameArray("thirdscene/smoke3/",27),30,!0).play(),e.smoke3.anchor.set(.5),e.planet=e.game.add.sprite(1144.176,-291.63,i.Images.Munes),e.planet.anchor.set(.5,.5),e.maxGroup.add(e.planet),i.Utils.addTestSprite(e.planet),e.slime=e.game.add.image(736.078,232.803,i.Atlases.Movie,"thirdscene/slime/0",e.maxGroup),e.slime.animations.add("play",i.Utils.getNameArray("thirdscene/slime/",250),30,!1),e.slime.anchor.set(.9),e.map.fixedToCamera=!1,e.map.tileScaleOffset.set(.748,.34),e.maxGroup.add(e.plants),e.action=new i.ActionQueue(e.game),e.action.pushTween(0,e,{x:t,y:e.game.height/2},1e3,Phaser.Easing.Linear.None),e.action.pushTween(0,e.scale,{x:1,y:1},1e3,Phaser.Easing.Linear.None),e.action.push(function(){return e.slime.play("play")},e,1e3),e.action.pushTween(3e3,e.map.tilePosition,{x:-720},3e3,Phaser.Easing.Linear.None),e.action.pushTween(0,e.planet,{x:480.704,y:-312.908},3e3,Phaser.Easing.Linear.None),e.action.pushTween(0,e.plants.tilePosition,{x:-720},3e3,Phaser.Easing.Linear.None),e.action.pushTween(0,e.shipGroup,{x:-720},3e3,Phaser.Easing.Linear.None),e.action.pushTween(3e3,e.slime,{x:890.054,y:105.137},700,Phaser.Easing.Linear.None),e.action.pushTween(0,e.slime.scale,{x:.66,y:.66},700,Phaser.Easing.Linear.None),e.action.pushTween(500,e.slime,{x:724.812,y:20.026},700,Phaser.Easing.Linear.None),e.action.pushTween(0,e.slime.scale,{x:-.66},200,Phaser.Easing.Linear.None),e.action.pushTween(200,e.slime.scale,{x:-.4,y:.4},500,Phaser.Easing.Linear.None),e.action.pushTween(500,e.slime,{x:875.032,y:-18.775},700,Phaser.Easing.Linear.None),e.action.pushTween(0,e.slime.scale,{x:.4},100,Phaser.Easing.Linear.None),e.action.pushTween(200,e.slime.scale,{x:.2,y:.2},500,Phaser.Easing.Linear.None),e.action.pushTween(500,e.slime,{x:777.389,y:-81.356},500,Phaser.Easing.Linear.None),e.action.pushTween(0,e.slime.scale,{x:-.2},100,Phaser.Easing.Linear.None),e.action.pushTween(200,e.slime.scale,{x:-.1,y:.1},500,Phaser.Easing.Linear.None),e.action.pushTween(500,e.slime,{x:823.707,y:-138.931},500,Phaser.Easing.Linear.None),e.action.pushTween(0,e.slime.scale,{x:.1},100,Phaser.Easing.Linear.None),e.action.pushTween(500,e.slime,{x:738.582,y:-138.931},500,Phaser.Easing.Linear.None),e.action.pushTween(0,e.slime.scale,{x:-.1},200,Phaser.Easing.Linear.None),e.action.pushTween(500,e.slime.scale,{x:.1,y:.1},200,Phaser.Easing.Linear.None),e.action.pushTween(1e3,e.plants,{y:2200},300,Phaser.Easing.Linear.None),e.action.pushTween(0,e.map.tilePosition,{x:e.map.tilePosition.x-1120,y:e.map.tilePosition.y-100},400,Phaser.Easing.Linear.None),e.action.pushTween(0,e.map.tileScale,{x:1.5,y:1.5},400,Phaser.Easing.Linear.None),e.action.pushTween(0,e.planet,{x:91.384,y:-326.676},400,Phaser.Easing.Linear.None),e.action.pushTween(0,e.planet.scale,{x:1.5,y:1.5},400,Phaser.Easing.Linear.None),e.action.pushTween(0,e.slime,{x:680.985,y:-113},200,Phaser.Easing.Linear.None),e.action.pushTween(0,e.slime.scale,{x:.25,y:.25},400,Phaser.Easing.Linear.None),e.action.pushTween(200,e.slime,{x:501.985},200,Phaser.Easing.Linear.None),e}i.ThirdScene=t}(Transmorpher3=Transmorpher3||{}),function(s){r=Phaser.Group,__extends(e,r),e.prototype.setPlayer=function(t){this.player=t},e.prototype.createBody=function(t,e,i,o,n){void 0===n&&(n=!0),this.body=new s.Body(this.game,null,this.x,this.y,"Absorb"),this.body.setRectangle(t,e,i,o),this.body.angle=this.angle,this.body.kinematic=!0,this.body.sensor=n,this.body.postUpdate=this.postUpdate,this.body.setCategoryContactCallback(20,this.mutate,this)},e.prototype.start=function(){var t,e=this;1===this.type||this.isEnd||(t=this.game.add.tween(this.body).to({x:this.body.x-250},2e3,Phaser.Easing.Linear.None,!0,0,0,!1),this.isEnd=!0,t.onComplete.addOnce(function(){e.big.scale.set(1),e.game.add.tween(e.body).to({x:e.body.x+20},500,Phaser.Easing.Linear.None,!0,0,0,!1),e.body.sensor=!0,e.onDo.dispatch()},this))},e.prototype.stop=function(){},e.prototype.mutate=function(){var t,e,i=this;void 0!==this.body&&this.player.isSameType(s.PlayerType.Slime)&&(e=1===this.type?this.params.x-10:this.x-35,t=1===this.type?this.params.y:this.y-70,1===this.type?s.SoundManager.getInstance(this.game).play(s.Sounds.AbsorbSticky):s.SoundManager.getInstance(this.game).play(s.Sounds.AbsorbRocky),this.body.destroy(),this.body=void 0,this.player.isStopPosition=!0,(e=this.game.add.tween(this.player).to({x:e,y:t},200,Phaser.Easing.Linear.None,!1,0,0,!1)).onComplete.addOnce(function(){i.animation.play(),i.player.visible=!1},this),e.start())},e.prototype.postUpdate=function(){void 0!==this.body&&(this.position.set(this.body.x,this.body.y),1!==this.type&&(this.big.position.set(this.body.x,this.body.y),this.createRay()))},e.prototype.createRay=function(){for(var t=new Phaser.Point(this.body.x,this.body.y),e=new PIXI.Point(-60,0),i=this.game.physics.box2d.raycast(t.x,t.y,t.x+e.x,t.y+e.y,!0),o=0;o<i.length;o++){var n=i[o].body;"Stone"===n.tag&&n.getUserData().useAbsorb(n,this.body)}};var r,t=e;function e(t,e,i){var o=r.call(this,t)||this,n=(o.params=i,o.id=i.id,o.type=e,o.isEnd=!1,o.position.set(i.x,i.y),1===e?(o.absorb=new Phaser.Image(t,0,0,s.Atlases.Chars,"absorb/velcro/0"),o.animation=o.absorb.animations.add("action",s.Utils.getNameArray("absorb/velcro/",6),15,!1),o.absorb.anchor.set(.625,.465),o.createBody(40,40,0,0,!0),o.velcro=new s.Velcro(o.game,o.x,o.y,o.body),o.velcro.visible=!0,o.onComplete=o.animation.onComplete):(o.absorb=new Phaser.Image(t,0,0,s.Atlases.Chars,"absorb/big/0"),o.animation=o.absorb.animations.add("action",s.Utils.getNameArray("absorb/big/",16),30,!1),o.add(o.absorb),o.absorb.anchor.set(.58,.78),o.createBody(70,81,-10,-20,!1),o.big=new s.Big(o.game,o.x,o.y,o.body,void 0),o.big.visible=!0,o.big.scale.set(-1,1),o.onComplete=new Phaser.Signal),o.absorb.visible=!1,o.animation.onStart.add(function(){o.absorb.visible=!0,1===o.type?o.velcro.visible=!1:o.big.visible=!1},o),o.add(o.absorb),1===o.type?s.PlayerType.Velcro:s.PlayerType.Big);return o.animation.onComplete.addOnce(function(){o.absorb.visible=!1,o.player.visible=!0,o.player.moveTo(o.x,o.y,n),1!==e&&o.onComplete.dispatch()},o),o.onDo=new Phaser.Signal,o.angle=i.rotation,o}s.Absorb=t}(Transmorpher3=Transmorpher3||{}),function(n){s=Phaser.Group,__extends(e,s),e.prototype.isGrouded=function(){return 0!==this.isDown},e.prototype.isDownBound=function(t,e,i,o,n){e.sensor&&"HidePlane"!==e.tag&&"MovedPlane"!==e.tag&&"MetalBox"!==e.tag||"HidePlane"===e.tag&&0===this.isDown&&e.sensor||(this.isDown+=n?1:-1,this.isDown<0&&(this.isDown=0),this.onSensor.dispatch(e,n))},e.prototype.updateBody=function(){s.prototype.update.call(this);var t=this.max_velocity,e=this.speed,i=this.body.data.GetPosition(),o=this.body.data.GetLinearVelocity();Math.abs(o.x)>t&&(o.x=n.Utils.sign(o.x)*t,this.body.data.SetLinearVelocity(o)),this.direction=new box2d.b2Vec2(0,0),this.cursors.left?(this.direction.SetXY(e,0),this.body.data.ApplyLinearImpulse(this.direction,i),this.scale.x!==-n.Constants.GAMEPLAY_SCALE&&this.scale.set(-n.Constants.GAMEPLAY_SCALE,n.Constants.GAMEPLAY_SCALE)):this.cursors.right&&(this.direction.SetXY(-e,0),this.body.data.ApplyLinearImpulse(this.direction,i),this.scale.x!==n.Constants.GAMEPLAY_SCALE&&this.scale.set(n.Constants.GAMEPLAY_SCALE,n.Constants.GAMEPLAY_SCALE))};var s,t=e;function e(t,e,i){t=s.call(this,t)||this;return t.max_velocity=0,t.speed=0,t.body=e,t.cursors=i,t.isDown=0,t.onSensor=new Phaser.Signal,t.game.add.existing(t),t}n.Runner=t}(Transmorpher3=Transmorpher3||{}),function(s){r=s.Runner,__extends(e,r),e.prototype.playAnimation=function(t){switch(t){case"action":this.back_big.position.set(2.504,25.033);break;case"electro":this.back_big.position.set(13.77,67.588);break;case"land":this.back_big.position.set(-8.763,23.781);break;case"laser":this.back_big.position.set(20.029,96.375);break;case"move":this.back_big.position.set(-9.021,25.052);break;case"press":this.back_big.position.set(-8.763,26.054);break;default:this.back_big.position.set(0,0)}return this.back_big.animations.play(t)},e.prototype.isPlaying=function(t){return this.back_big.animations.getAnimation(t).isPlaying},e.prototype.isPlayerDown=function(){return 0!==this.isDown},e.prototype.createBody=function(){this.isDown=0,this.body.clearFixtures();this.center=this.body.setPolygon([-30.5,-29,14.5,-29,14.5,9,4.5,19,-20.5,19,-30.5,9]),this.body.fixedRotation=!0,this.center.SetFriction(.1);var t=this.body.addRectangle(45,6,-8,19),e=(t.SetSensor(!0),this.body.addRectangle(6,38,12.5,-5)),i=(e.SetSensor(!0),this.body.addRectangle(6,38,-28.5,-5)),o=(i.SetSensor(!0),this.body.addRectangle(40,6,-8,-25));return o.SetSensor(!0),this.body.setFixtureContactCallback(t,this.isDownBig,this),this.body.setFixtureContactCallback(e,this.isSide,this),this.body.setFixtureContactCallback(i,this.isSide,this),this.body.mass=this.mass,this.setSprites(-10),o},e.prototype.isSide=function(t,e){e=e.data.GetUserData();e&&"IcePlane"===e.name&&e.destroyIce()},e.prototype.isDownBig=function(t,e){2<Math.abs(this.body.data.GetLinearVelocity().y)&&this.isSide(t,e)},e.prototype.onOutBonds=function(t,e){this.back_big.checkWorldBounds=!0,this.back_big.events.onOutOfBounds.add(t,e)},e.prototype.updateBody=function(){r.prototype.updateBody.call(this),!this.cursors.left&&!this.cursors.right||this.isPlaying("move")||this.isPlaying("action")||this.playAnimation("move"),this.cursors.left?this.setSprites(6):this.cursors.right&&this.setSprites(-10)},e.prototype.setSprites=function(t){this.back_big.x=t};var r,t=e;function e(t,e,i,o,n){t=r.call(this,t,o,n)||this;return t.mass=100,t.position.set(e,i),t.max_velocity=5,t.speed=25,t.back_big=t.game.add.sprite(-10,25,s.Atlases.Chars,"big/idle/0",t),t.back_big.anchor.set(.66,1),t.back_big.animations.add("action",s.Utils.getNameArray("big/action/",14),30,!1),t.back_big.animations.add("electro",s.Utils.getNameArray("big/electro/",51),30,!1),t.back_big.animations.add("land",s.Utils.getNameArray("big/land/",6),30,!1),t.back_big.animations.add("laser",s.Utils.getNameArray("big/laser/",38),30,!1),t.back_big.animations.add("move",s.Utils.getNameArray("big/move/",69),30,!1),t.back_big.animations.add("press",s.Utils.getNameArray("big/press/",6),30,!1),t.game.add.existing(t),t}s.Big=t}(Transmorpher3=Transmorpher3||{}),function(t){Object.defineProperty(i.prototype,"left",{get:function(){return(this.cursors.left.isDown||this.game.input.keyboard.isDown(Phaser.Keyboard.A)&&t.Gameplay.isArrows||this.isLeftButton)&&!this.isStop},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"right",{get:function(){return(this.cursors.right.isDown||this.game.input.keyboard.isDown(Phaser.Keyboard.D)&&t.Gameplay.isArrows||this.isRightButton)&&!this.isStop},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"down",{get:function(){return(this.cursors.down.isDown||this.game.input.keyboard.isDown(Phaser.Keyboard.S)&&t.Gameplay.isArrows||this.isDownButton)&&!this.isStop},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"up",{get:function(){return(this.cursors.up.isDown||this.game.input.keyboard.isDown(Phaser.Keyboard.W)&&t.Gameplay.isArrows||this.isUpButton)&&!this.isStop},enumerable:!1,configurable:!0});var e=i;function i(t){this.game=t,this.cursors=this.game.input.keyboard.createCursorKeys(),this.isLeftButton=!1,this.isRightButton=!1,this.isDownButton=!1,this.isUpButton=!1,this.isStop=!1}t.Cursor=e}(Transmorpher3=Transmorpher3||{}),function(c){n=Phaser.Group,__extends(e,n),Object.defineProperty(e.prototype,"isStopPosition",{get:function(){return this._stopPosition},set:function(t){this._stopPosition=t,this.cursors.isStop=t},enumerable:!1,configurable:!0}),e.prototype.moveTo=function(t,e,i){var o=this;this.isStopPosition=!1,this.body.setZeroVelocity(),this.body.x=t,this.body.y=e,void 0!==i&&this.game.time.events.add(1,function(){return o.changeType(i,!1)},this)},e.prototype.onOut=function(t,e){this.slime.onOutBonds(t,e),this.velcro.onOutBonds(t,e),this.big.onOutBonds(t,e)},e.prototype.SetPlaneVelocity=function(t){this.impulse=t},e.prototype.addXY=function(t,e){this.body.x+=t,this.body.y+=e},e.prototype.show=function(){var t=this;this.body.dynamic=!0,this.game.add.tween(this.scale).to({y:1,x:1},200,Phaser.Easing.Linear.None,!0,0,0,!1).onComplete.add(function(){return t.isStop=!1},this)},e.prototype.hide=function(){this.game.add.tween(this.scale).to({y:0,x:0},200,Phaser.Easing.Linear.None,!0,0,0,!1)},e.prototype.fall=function(){this.isSameType(s.Velcro)&&this.velcro.setZero()},e.prototype.setVelocity=function(t,e,i){var o;void 0===i&&(i=0),this.isStop||(o=this.isSameType(s.Velcro)?40:16,this.playerType!==s.Big&&(0!==t&&(this.body.velocity.x+=o*t),0!==e&&(this.body.velocity.y+=-o*e),0!==Math.abs(i)&&Math.abs(this.body.velocity.y)>Math.abs(i)&&(this.body.velocity.y=i)))},e.prototype.clear=function(){this.slime.visible=!1,this.velcro.visible=!1,this.big.visible=!1},e.prototype.acid=function(t,e){var i,o,n,s,r;this.isDestroy||(c.SoundManager.getInstance(this.game).play(c.Sounds.AcidSound),s=this.x,i=this.y,e=e.data.m_userData,o=20*c.Constants.GAMEPLAY_SCALE,(s=(s=(n=e.toLocal(this.position,this.game.world)).x)-(r=100*c.Constants.GAMEPLAY_SCALE)/2<-e.gWidth/2?-e.gWidth/2+r/2:s)+r/2>e.gWidth/2&&(s=e.gWidth/2-r/2),i=-e.gHeight/2-o,this.isDestroy=!0,this.body.destroy(),this.clear(),(r=this.game.time.create()).add(4e3,this.onDestroy.dispatch,this.onDestroy),r.start(),this.createAcid(s,i,0,e,n))},e.prototype.createAcid=function(t,e,i,o,n){this.acidGroup=this.game.add.group(o),this.acidGroup.angle=i,this.acidGroup.position.set(n.x,n.y),this.acidGroup.add(this.mutation);i=this.game.add.sprite(0,0,c.Atlases.Decor,"smoke/0",this.acidGroup),i.anchor.set(.7,.55),i.animations.add("smoke",c.Utils.getNameArray("smoke/",38),35,!0),i.animations.play("smoke"),i.tint=65280,(i=this.game.add.sprite(0,0,c.Atlases.Decor,"smoke/0",this.acidGroup)).anchor.set(.3,.55),i.animations.add("smoke",c.Utils.getNameArray("smoke/",38),35,!0),i.animations.play("smoke"),i.tint=65280,n=this.game.add.sprite(0,27,c.Atlases.Interface,"bubblesDeath/0",this.acidGroup),n.anchor.set(.5,1),n.animations.add("bubblesDeath",c.Utils.getNameArray("bubblesDeath/",7),35,!0),n.animations.play("bubblesDeath"),i=this.game.add.graphics(this.x,this.y-35),o.add(i),i.beginFill(16777215,.5),n=120*c.Constants.GAMEPLAY_SCALE;i.drawRect(-n,-n/2,2*n,n),i.endFill(),this.game.add.tween(this.acidGroup).to({x:t,y:e},100,Phaser.Easing.Linear.None,!0,0,0,!1),this.game.add.tween(i).to({x:t,y:e-35*c.Constants.GAMEPLAY_SCALE},100,Phaser.Easing.Linear.None,!0,0,0,!1),this.acidGroup.mask=i,this.acidGroup.scale.set(c.Constants.GAMEPLAY_SCALE,c.Constants.GAMEPLAY_SCALE),this.mutation.animations.play("mutation",35,!0),this.game.add.tween(this.mutation).to({y:60},4e3,Phaser.Easing.Linear.None,!0,0,0,!1)},e.prototype.electricShock=function(){var t;if(!(this.isDestroy||this.isHide||this.isWin))return c.SoundManager.getInstance(this.game).play(c.Sounds.ElectroSound),this.isDestroy=!0,this.body.destroy(),t=this.game.time.create(),t.add(1e3,this.onDestroy.dispatch,this.onDestroy),t.start(),this.player.playAnimation("electro")},e.prototype.press=function(t,e){this.isDestroy||this.isHide||!this.player.isPlayerDown||"Press"!==e.tag&&"MovedPlane"!==e.tag||"MovedPlane"===e.tag&&this.mutation.visible||(c.SoundManager.getInstance(this.game).play(c.Sounds.DiePress),this.player.playAnimation("press"),this.isDestroy=!0,this.body.destroy(),(e=this.game.time.create()).add(1e3,this.onDestroy.dispatch,this.onDestroy),e.start())},e.prototype.createMutation=function(){var t=this,e=(this.mutation=this.game.add.sprite(0,0,c.Atlases.Chars,"mutation/0",this),this.mutation.anchor.set(.5),this.mutation.animations.add("mutation",c.Utils.getNameArray("mutation/",13),30,!1));this.mutation.visible=!1,e.onStart.add(function(){t.mutation.visible=!0,t.slime.blockJump=!0},this),e.onComplete.add(function(){t.mutation.visible=!1,t.slime.blockJump=!1},this),this.mutation.scale.set(.5)},e.prototype.LaserDestroy=function(){var t;this.isDestroy||this.isWin||(c.SoundManager.getInstance(this.game).play(c.Sounds.DieLaser),this.player.playAnimation("laser"),this.isDestroy=!0,this.body.destroy(),(t=this.game.time.create()).add(1e3,this.onDestroy.dispatch,this.onDestroy),t.start())},e.prototype.isSameType=function(t){return this.playerType===t},e.prototype.changeType=function(t,e){if(void 0===e&&(e=!0),!(this.isStop||this.isDestroy||this.isSameType(t))){switch(this.clear(),this.stopTween(),this.playerType=t,this.body.gravityScale=1,this.cursors.isUpButton=!1,this.cursors.isDownButton=!1,this.mutation&&e&&(this.mutation.animations.play("mutation"),this.mutation.position.set(0,0),this.mutation.scale.set(.8*c.Constants.GAMEPLAY_SCALE),c.SoundManager.getInstance(this.game).playRandom(c.Sounds.MutateSound,2)),t){case s.Slime:this.player=this.slime;break;case s.Velcro:this.player=this.velcro;break;case s.Big:this.big.last=this.player,this.player=this.big,this.mutation&&this.mutation.scale.set(c.Constants.GAMEPLAY_SCALE);break;default:this.mutation&&(this.mutation.position.set(0,-30*c.Constants.GAMEPLAY_SCALE),this.mutation.scale.set(c.Constants.GAMEPLAY_SCALE))}this.player.visible=!0,this.onChangeType.dispatch();e=this.isHide,t=this.player.createBody();this.body.setCollisionCategory(20),this.body.setCategoryContactCallback(3,this.electricShock,this),this.body.setCategoryContactCallback(4,this.acid,this),t&&this.body.setFixtureContactCallback(t,this.press,this),this.body.data.SetUserData(this),this.isHide=e}},e.prototype.stopTween=function(){this.scale.set(1)},e.prototype.postUpdate=function(){var t=this.body.data.GetLinearVelocity(),e=this.body.data.GetPosition(),i=new box2d.b2Vec2(.1,0);this.body.data.ApplyLinearImpulse(i,e),this.cursors.left||this.cursors.right||(t.x=.9*t.x,this.body.data.SetLinearVelocity(t)),this.playerType!==s.Velcro||this.cursors.up||this.cursors.down||0!==this.body.gravityScale||(t.y=.9*t.y,this.body.data.SetLinearVelocity(t)),7<Math.abs(t.y)&&(t.y=7*c.Utils.sign(t.y),this.body.data.SetLinearVelocity(t)),this.isStop||this.isDestroy?this.isStopPosition||this.position.set(this.body.x,this.body.y):(this.player.updateBody(),this.isSameType(s.Velcro)&&!this.velcro.isInAir()&&this.impulse&&(i=this.body.data.GetLinearVelocity(),0===this.player.direction.x&&(i.x=this.impulse.x,this.body.data.SetLinearVelocity(i)),0===this.player.direction.y&&(i.y=this.impulse.y,this.body.data.SetLinearVelocity(i))),this.isStopPosition||this.position.set(this.body.x,this.body.y),this.impulse=void 0)};var n,s,t=e;function e(t,e,i,o){t=n.call(this,t)||this;return t.isDestroy=!1,t.isStop=!1,t.isWin=!1,t.isHide=!1,t.cursors=new c.Cursor(t.game),t.onDestroy=new Phaser.Signal,t.onChangeType=new Phaser.Signal,t.position.set(e,i),t.isDestroy=!1,t.isHide=!1,t.isStop=!1,t.isStopPosition=!1,t.isWin=!1,t.impulse=void 0,t.playerType=0,t.playerGroup=o,t.body=new c.Body(t.game,null,e,i,"Player"),t.body.data.SetUserData(t),t.body.postUpdate=t.update,t.name="Player",t.slime=new c.Slime(t.game,0,27*c.Constants.GAMEPLAY_SCALE,t.body,t.cursors),t.velcro=new c.Velcro(t.game,0,0,t.body,t.cursors),t.big=new c.Big(t.game,0,0,t.body,t.cursors),t.add(t.slime),t.add(t.velcro),t.add(t.big),t.player=t.slime,t.changeType(s.Slime),t.createMutation(),t.scale.set(0),t.isStop=!0,t.body.kinematic=!0,t.game.add.existing(t),t}c.Player=t,(t=s=c.PlayerType||(c.PlayerType={}))[t.Slime=1]="Slime",t[t.Velcro=2]="Velcro",t[t.Big=3]="Big"}(Transmorpher3=Transmorpher3||{}),function(r){c=r.Runner,__extends(e,c),e.prototype.playAnimation=function(t){switch(t){case"action":this.slice.position.set(0,0);break;case"electro":this.slice.position.set(10.023,130.271);break;case"land":this.slice.position.set(0,0);break;case"laser":this.slice.position.set(0,5.01);break;case"move":this.slice.position.set(0,0);break;case"press":this.slice.position.set(5.012,7.015);break;default:this.slice.position.set(0,0)}return this.slice.animations.play(t)},e.prototype.isPlaying=function(t){return this.slice.animations.getAnimation(t).isPlaying},e.prototype.isPlayerDown=function(){return 0!==this.isDown},e.prototype.createBody=function(){this.isDown=0,this.body.clearFixtures();var t=-3*r.Constants.GAMEPLAY_SCALE,e=0*r.Constants.GAMEPLAY_SCALE,i=12*r.Constants.GAMEPLAY_SCALE,o=50*r.Constants.GAMEPLAY_SCALE,n=40*r.Constants.GAMEPLAY_SCALE,e=(this.center=this.body.setPolygon([-o/2+t,-n/2+e,o/2+t,-n/2+e,o/2+t,n/2+e-i/2,o/2+t-i,n/2+e,-o/2+t+i,n/2+e,-o/2+t,n/2+e-i/2]),this.leftBound=this.body.addRectangle(5*r.Constants.GAMEPLAY_SCALE,35*r.Constants.GAMEPLAY_SCALE,-27*r.Constants.GAMEPLAY_SCALE,-2*r.Constants.GAMEPLAY_SCALE),this.leftBound.SetFriction(0),this.rightBound=this.body.addRectangle(5*r.Constants.GAMEPLAY_SCALE,35*r.Constants.GAMEPLAY_SCALE,25*r.Constants.GAMEPLAY_SCALE,-2*r.Constants.GAMEPLAY_SCALE),this.rightBound.SetFriction(0),this.topBound=this.body.addRectangle(48*r.Constants.GAMEPLAY_SCALE,5*r.Constants.GAMEPLAY_SCALE,0,-20*r.Constants.GAMEPLAY_SCALE),this.topBound.SetFriction(0),this.downBound=this.body.addRectangle(48*r.Constants.GAMEPLAY_SCALE,6*r.Constants.GAMEPLAY_SCALE,0,20*r.Constants.GAMEPLAY_SCALE),this.downBound.SetSensor(!0),this.body.addRectangle(o-5,6,t,-n/2+6));return e.SetSensor(!0),this.body.setFixtureContactCallback(this.downBound,this.isDownBound,this),this.body.fixedRotation=!0,this.center.SetFriction(2),this.downBound.SetFriction(2),this.body.mass=this.mass,e},e.prototype.onOutBonds=function(t,e){this.slice.checkWorldBounds=!0,this.slice.events.onOutOfBounds.add(t,e)},e.prototype.updateBody=function(){c.prototype.updateBody.call(this);var t=this.body.data.GetPosition(),e=this.body.data.GetLinearVelocity();!this.cursors.left&&!this.cursors.right||this.isPlaying("move")||this.isPlaying("action")||this.playAnimation("move"),this.cursors.up&&this.isDown&&!this.blockJump&&(r.SoundManager.getInstance(this.game).play(r.Sounds.JumpSound),this.body.data.SetLinearVelocity(new box2d.b2Vec2(e.x,0)),e=new box2d.b2Vec2(0,this.jump_impulse),this.body.data.ApplyLinearImpulse(e,t),this.playAnimation("action"))};var c,t=e;function e(t,e,i,o,n){var s=c.call(this,t,o,n)||this;return s.mass=1.052,s.jump_impulse=12,s.position.set(e,i),s.blockJump=!1,s.jump_impulse=10*r.Constants.GAMEPLAY_SCALE,s.max_velocity=4*r.Constants.GAMEPLAY_SCALE,s.speed=+r.Constants.GAMEPLAY_SCALE,s.slice=s.game.add.sprite(0,0,r.Atlases.Chars,"green/idle/0",s),s.slice.anchor.set(.5,1),s.scale.set(r.Constants.GAMEPLAY_SCALE),s.slice.animations.add("action",r.Utils.getNameArray("green/action/",14),30,!1),s.slice.animations.add("electro",r.Utils.getNameArray("green/electro/",33),30,!1),s.slice.animations.add("land",r.Utils.getNameArray("green/land/",6),30,!1),s.slice.animations.add("laser",r.Utils.getNameArray("green/laser/",46),30,!1),s.slice.animations.add("move",r.Utils.getNameArray("green/move/",53),30,!1),s.slice.animations.add("press",r.Utils.getNameArray("green/press/",16),30,!1),s.splash=s.game.add.image(6.259,-1.252,r.Atlases.Chars,"green/splash/1",s),s.splash.animations.add("idle",r.Utils.getNameArray("green/splash/",5),30,!1),s.splash.anchor.set(.5),s.splash.animations.getAnimation("idle").onStart.add(function(){return s.splash.visible=!0},s),s.splash.animations.getAnimation("idle").onComplete.add(function(){return s.splash.visible=!1},s),s.splash.visible=!1,s.game.add.existing(s),s}r.Slime=t}(Transmorpher3=Transmorpher3||{}),function(r){c=Phaser.Group,__extends(e,c),e.prototype.playAnimation=function(t){switch(this.back_velcro.angle=0,t){case"electro":this.back_velcro.position.set(0,0);break;case"laser":this.back_velcro.position.set(7.016,-1.002);break;case"press":this.back_velcro.position.set(-3.007,-17.035)}return this.back_velcro.animations.play(t)},e.prototype.isPlaying=function(t){return this.back_velcro.animations.getAnimation(t).isPlaying},e.prototype.createBody=function(){this.sides=new a,this.usides=new a,this.body.clearFixtures();var t=13*r.Constants.GAMEPLAY_SCALE,e=10.2*r.Constants.GAMEPLAY_SCALE,e=(this.body.setPolygon([0,0,t,t/e,t/e,t,-t/e,t,-t,t/e,-t,-t/e,-t/e,-t,t/e,-t,t,-t/e,t,t/e]).SetFriction(0),42*r.Constants.GAMEPLAY_SCALE),i=34*r.Constants.GAMEPLAY_SCALE,o=5*r.Constants.GAMEPLAY_SCALE,n=0*r.Constants.GAMEPLAY_SCALE,e=(this.leftBound=this.body.addRectangle(i,e,-o,n),this.leftBound.SetSensor(!0),this.rightBound=this.body.addRectangle(i,e,o,n),this.rightBound.SetSensor(!0),this.topBound=this.body.addRectangle(e,i,n,-o),this.topBound.SetSensor(!0),this.downBound=this.body.addRectangle(e,i,n,o),this.downBound.SetSensor(!0),this.body.addRectangle(t-4,6,0,-t/2+6));return e.SetSensor(!0),this.body.setFixtureContactCallback(this.downBound,this.isDownBound,this),this.body.setFixtureContactCallback(this.leftBound,this.isLeftBound,this),this.body.setFixtureContactCallback(this.rightBound,this.isRightBound,this),this.body.setFixtureContactCallback(this.topBound,this.isUpBound,this),this.body.fixedRotation=!0,this.body.friction=0,this.body.mass=this.mass,e},e.prototype.onOutBonds=function(t,e){this.back_velcro.checkWorldBounds=!0,this.velcro.checkWorldBounds=!0,this.back_velcro.events.onOutOfBounds.add(t,e),this.velcro.events.onOutOfBounds.add(t,e)},e.prototype.isInAir=function(){return!(this.sides.isRight||this.sides.isLeft||this.sides.isUp||this.sides.isDown)},e.prototype.isGrouded=function(){return 0!==this.sides.isRight||0!==this.sides.isLeft||0!==this.sides.isUp||0!==this.sides.isDown},e.prototype.isDownGrounded=function(){return 0!==this.sides.isDown},e.prototype.isPlayerDown=function(){return 0!==this.sides.isDown},e.prototype.setZero=function(){this.sides.isDown=0,this.sides.isLeft=0,this.sides.isRight=0,this.sides.isUp=0,this.setGravity()},e.prototype.setGravity=function(){this.sides.isDown&&!this.usides.isDown||this.sides.isUp&&!this.usides.isUp||this.sides.isLeft&&!this.usides.isLeft||this.sides.isRight&&!this.usides.isRight?this.body.gravityScale=0:this.body.gravityScale=1},e.prototype.updateBody=function(){c.prototype.update.call(this);var t=this.max_velocity,e=this.speed,i=this.body.data.GetPosition(),o=this.body.data.GetLinearVelocity(),n=new box2d.b2Vec2(0,0);this.direction=new box2d.b2Vec2(0,0),this.isCorner||(this.vector.y<0&&!this.sides.isDown&&(this.isCorner=!0),0<this.vector.y&&!this.sides.isUp&&(this.isCorner=!0),0<this.vector.x&&!this.sides.isLeft&&(this.isCorner=!0),this.vector.x<0&&!this.sides.isRight&&(this.isCorner=!0)),this.isCorner&&(0===this.vector.y&&0===this.vector.x&&(this.isCorner=!1),(0<this.vector.y||this.vector.y<0)&&(!this.sides.isRight||this.sides.isDown&&this.sides.isUp||this.sides.isLeft?!this.sides.isLeft||this.sides.isDown&&this.sides.isUp||this.sides.isRight?this.isCorner=!1:(n.x=e,this.direction.x=e,this.body.velocity.y=0,this.body.data.ApplyLinearImpulse(n,i)):(n.x=-e,this.direction.x=-e,this.body.velocity.y=0,this.body.data.ApplyLinearImpulse(n,i))),(0<this.vector.x||this.vector.x<0)&&(!this.sides.isUp||this.sides.isLeft&&this.sides.isRight||this.sides.isDown?!this.sides.isDown||this.sides.isLeft&&this.sides.isRight||this.sides.isUp?this.isCorner=!1:(n.y=-e,this.direction.y=-e,this.body.velocity.x=0,this.body.data.ApplyLinearImpulse(n,i)):(n.y=e,this.direction.y=e,this.body.velocity.x=0,this.body.data.ApplyLinearImpulse(n,i)))),!this.cursors.left||this.usides.isLeft||!this.sides.isLeft&&0===this.body.gravityScale||this.isCorner?this.body.velocity.x<0&&0===this.body.gravityScale&&!this.isCorner&&(this.body.velocity.x=0):(n.x=e,this.direction.x=e,this.body.data.ApplyLinearImpulse(n,i)),!this.cursors.right||this.usides.isRight||!this.sides.isRight&&0===this.body.gravityScale||this.isCorner?0<this.body.velocity.x&&0===this.body.gravityScale&&!this.isCorner&&(this.body.velocity.x=0):(n.x=-e,this.direction.x=-e,this.body.data.ApplyLinearImpulse(n,i)),0===this.body.gravityScale&&(this.cursors.up&&!this.usides.isUp&&this.sides.isUp&&!this.isCorner?(n.SetXY(0,e),this.direction.y=e,this.body.data.ApplyLinearImpulse(n,i)):this.body.velocity.y<0&&!this.isCorner&&(this.body.velocity.y=0),this.cursors.down&&!this.usides.isDown&&this.sides.isDown&&!this.isCorner?(this.direction.y=-e,n.SetXY(0,-e),this.body.data.ApplyLinearImpulse(n,i)):0<this.body.velocity.y&&!this.isCorner&&(this.body.velocity.y=0)),this.isCorner||(this.vector=n),(this.usides.isRight&&!this.sides.isLeft||this.usides.isLeft&&!this.sides.isRight)&&(this.body.gravityScale=1),Math.abs(o.y)>t&&(this.cursors.up||this.cursors.down)&&(o.y=r.Utils.sign(o.y)*t,this.body.data.SetLinearVelocity(o)),Math.abs(o.x)>t&&(o.x=r.Utils.sign(o.x)*t,this.body.data.SetLinearVelocity(o)),(this.sides.isLeft||this.sides.isRight||this.sides.isDown||this.sides.isUp)&&(e=4,e=Math.abs(this.body.velocity.x)>Math.abs(this.body.velocity.y)?4*this.body.velocity.x/125:4*this.body.velocity.y/125,this.back_velcro.angle+=e)},e.prototype.isDownBound=function(t,e,i,o,n){e.isSameTag("Unstick")&&(this.usides.isDown+=n?1:-1),o.IsSensor()||e.isSameTag("Unstick")||(this.sides.isDown+=n?1:-1,this.onSensor.dispatch(e))},e.prototype.isUpBound=function(t,e,i,o,n){e.isSameTag("Unstick")&&(this.usides.isUp+=n?1:-1),o.IsSensor()||e.isSameTag("Unstick")||(this.sides.isUp+=n?1:-1,this.onSensor.dispatch(e))},e.prototype.isLeftBound=function(t,e,i,o,n){e.isSameTag("Unstick")&&(this.usides.isLeft+=n?1:-1),o.IsSensor()||e.isSameTag("Unstick")||(this.sides.isLeft+=n?1:-1,this.onSensor.dispatch(e))},e.prototype.isRightBound=function(t,e,i,o,n){e.isSameTag("Unstick")&&(this.usides.isRight+=n?1:-1),o.IsSensor()||(this.sides.isRight+=n?1:-1,this.onSensor.dispatch(e))};var c,t=e;function e(t,e,i,o,n){var s=c.call(this,t)||this;return s.mass=1.052,s.body=o,s.position.set(e,i),s.max_velocity=4*r.Constants.GAMEPLAY_SCALE,s.speed=.8*r.Constants.GAMEPLAY_SCALE,s.cursors=n,s.onSensor=new Phaser.Signal,s.sides=new a,s.usides=new a,s.isCorner=!1,s.vector=new box2d.b2Vec2(0,0),s.back_velcro=s.game.add.sprite(0,0,r.Atlases.Chars,"velcro/0",s),s.back_velcro.anchor.set(.5,.5),s.velcro=s.game.add.sprite(0,0,r.Atlases.Chars,"velcro/1",s),s.velcro.anchor.set(.5,.5),s.eye=s.game.add.image(6.793,-3.883,r.Atlases.Chars,"velcro/eye/0",s),s.eye.animations.add("action",r.Utils.getNameArray("velcro/eye/",49),30,!0).play(),s.eye.anchor.set(.5,.5),s.visible=!1,s.scale.set(r.Constants.GAMEPLAY_SCALE),s.back_velcro.animations.add("electro",r.Utils.getNameArray("velcro/electro/",52),30,!1),s.back_velcro.animations.add("laser",r.Utils.getNameArray("velcro/laser/",37),30,!1).onStart.add(function(){s.eye.visible=!1,s.velcro.visible=!1},s),s.back_velcro.animations.add("press",r.Utils.getNameArray("velcro/press/",6),30,!1).onStart.add(function(){s.eye.visible=!1,s.velcro.visible=!1},s),s.onSensor.add(s.setGravity,s),s.game.add.existing(s),s}r.Velcro=t;Object.defineProperty(i.prototype,"isDown",{get:function(){return this._down},set:function(t){this._down=t,this._down<0&&(this._down=0)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isUp",{get:function(){return this._up},set:function(t){this._up=t,this._up<0&&(this._up=0)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isLeft",{get:function(){return this._left},set:function(t){this._left=t,this._left<0&&(this._left=0)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isRight",{get:function(){return this._right},set:function(t){this._right=t,this._right<0&&(this._right=0)},enumerable:!1,configurable:!0});var a=i;function i(){this.isDown=0,this.isUp=0,this.isLeft=0,this.isRight=0}}(Transmorpher3=Transmorpher3||{}),function(n){s=Phaser.Group,__extends(e,s);var s,t=e;function e(t,i){for(var t=s.call(this,t)||this,o=(t.position.set(i.x,i.y),t.angle=i.rotation,t.acids=[],t.gWidth=i.width,t.gHeight=i.height,t.leftPlatform=t.game.add.image(-i.width/2+27,5,n.Atlases.Art,"acid/0",t),t.leftPlatform.anchor.set(1,.5),t.rightPlatform=t.game.add.image(i.width/2-26,5,n.Atlases.Art,"acid/2",t),t.rightPlatform.anchor.set(0,.5),t.platform=t.game.add.tileSprite(0,5,i.width-52,i.height,n.Atlases.Art,"acid/1",t),t.platform.anchor.set(.5,.5),t.body=new n.Body(t.game,null,i.x,i.y),t.body.setRectangle(i.width-10,5,0,-i.height/2+10),t.body.static=!0,t.body.sensor=!0,t.body.setCollisionCategory(4),t.body.angle=t.angle,t.body.data.m_userData=t,this),e=0;e<i.width/200;e++)!function(){var t=o.game.add.image(n.Utils.getRandomInt(0,i.width)-i.width/2,16-i.height,n.Atlases.Art,"acid/buble/0",o),e=(t.anchor.set(.5),t.animations.add("idle",n.Utils.getNameArray("acid/buble/",10),30,!1));e.onStart.add(function(t){t.visible=!0,t.x=n.Utils.getRandomInt(0,i.width)-i.width/2},o),e.onComplete.add(function(t){return t.visible=!1},o),t.visible=!1,o.acids.push(t),n.ActionQueue.loopRandom(o.game,function(){return t.animations.play("idle")},o,500,1500)}();return t.game.add.existing(t),t}n.AcidPlane=t}(Transmorpher3=Transmorpher3||{}),function(tt){i=Phaser.Group,__extends(e,i),e.prototype.generate=function(){var t=this,e=(this.groups=[],this.boxes=[],this.guards=[],this.moved=[],this.moverCircles=[],this.movedObjects=[],this.startObjects=[],this.runes=[],this.toggles=[],this.trajectories=[],this.wallPoints=[],this.planes=[],this.stars=[],this.teleports=[],this.lines=[],this.arts=[],this.electros=[],this.absorb=void 0,this.game.add.group()),M=(this.player=new tt.Player(this.game,0,0,e),0<this.game.width-tt.Constants.GAME_WIDTH?(this.game.width-tt.Constants.GAME_WIDTH)/2:0),R=0<this.game.height-tt.Constants.GAME_HEIGHT?(this.game.height-tt.Constants.GAME_HEIGHT)/2:0,i=void 0,o=void 0,L=this.game.add.group(),k=(this.rockWall=new tt.RockWall(this.game),this.game.add.group()),n=this.game.add.group(),s=this.game.add.group(),D=this.game.add.group(),r=this.game.add.group(),c=this.game.add.group();this.groups.push(L),this.groups.push(this.rockWall),this.groups.push(s),this.groups.push(D),this.groups.push(e),this.groups.push(r),this.groups.push(c),this.add(L),this.add(this.rockWall),this.add(s),this.add(D),this.add(r),this.add(e),this.add(c);for(var a=0;a<tt.Constants.LEVEL.layers.length;a++){var O=tt.Constants.LEVEL.layers[a];if(O)for(var h=0;h<O.length;h++){var u=O[h];if(null!==u){var l,d,p,F,j,Y,f,b,g,y,G,Q,N,W,m,x=u.params,v=u.params;if(this.setSizes(x,M,R),"tm2.editor::StaticBodyShaper"===u.className){void 0===o&&(o=x.vertices[0].x+u.params.x),void 0===i&&(i=x.vertices[0].y+u.params.y);for(var U=[],w=0;w<x.vertices.length;w++){var X=x.vertices[w];U.push(new Phaser.Point(X.x+u.params.x,X.y+u.params.y)),o=Math.min(o,X.x+u.params.x),i=Math.min(i,X.y+u.params.y)}this.wallPoints.push(U)}else"MetalBox"===u.className?(l=new tt.MetalBox(this.game,v),this.boxes.push(l),D.add(l)):"MoverCircle"===u.className?((C=u.params).radius=+C.radius,this.moverCircles.push(C)):"ElectroE"===u.className?(v.temp=s,this.electros.push(v)):"StonesE"===u.className?(l=new tt.Stones(this.game,v),s.add(l)):"Dec"===u.className.slice(0,3)?this.addDecor("plants/"+u.className,v,n):"Toggle"===u.className.slice(0,6)?(q=new tt.Toggle(this.game,+u.className.slice(6),v),s.add(q),this.toggles.push(q)):"Rune"===u.className.slice(0,4)?(p=new tt.Rune(this.game,u.className.slice(4),v),s.add(p),this.runes.push(p),this.arts.push(p)):"Cache6"===u.className?(j={x:v.x,y:v.y-47,speed:0},Y=this.createStar(j),s.add(Y),Y.stopIdle(),F=new tt.Cage(this.game,v,Y),s.add(F),this.arts.push(F)):"Door"===u.className?(f=new tt.Door(this.game,v),s.add(f),this.arts.push(f)):"HidingE"===u.className?(f=new tt.HidingDoor(this.game,v,r),r.add(f)):"Droid"===u.className?(d=new tt.Droid(this.game,v),c.add(d),this.moved.push(d),this.movedObjects.push(d)):"Guard"===u.className?(d=new tt.Guard(this.game,v),c.add(d),this.guards.push(d),this.moved.push(d),this.movedObjects.push(d)):"VecDec6"===u.className?this.addAnimationDecor("bat",v,199,n,.5,0):"VecDec5"===u.className?this.addAnimationDecor("spider",v,189,n):"VecDec0"===u.className?this.addHead("pink",v,3,n):"VecDec3"===u.className?this.addHead("green",v,5,n):"VecDec2"===u.className?this.addHead("blue",v,7,n,.5,1,!1):"VecDec1"===u.className?this.addHead("orange",v,10,n,.5,.5,!1):"VecDec8"===u.className?this.addArt("vecdec/"+u.className,v,n,0,0):"ShadowDec0"===u.className?this.addArt("vecdec/"+u.className,v,this.rockWall,1,0):"VecDec7"===u.className?(p=new tt.Rune(this.game,"B",v),this.rockWall.add(p)):"Hint0"===u.className?(F=tt.Gameplay.isArrows?"Hint2":"Hint1",this.addArt("hints/"+F,v,n,0,0)):"Hint1"===u.className?(this.hint1=this.addArt("hints/AbsorbHint",v,n,.5,.5,tt.Atlases.Decor,!1),this.hint1.visible=!1):"Hint3"===u.className?(this.hint1=this.addArt("hints/AbsorbHint1",v,n,.5,.5,tt.Atlases.Decor,!1),this.hint1.visible=!1):"Hint2"===u.className?(this.hint2=this.addArt("hints/MutateHint",v,n,.5,.5,tt.Atlases.Decor,!1),this.hint2.visible=!1):"Cache2"===u.className?(b=new tt.Statue(this.game,"morphygod",57,v),s.add(b),this.arts.push(b)):"Cache5"===u.className?(b=new tt.Shield(this.game,v),j={x:(B=this.game.world.toLocal(b.shield.position,b)).x,y:B.y},this.starGroup=s,Y=this.createStar(j),b.setStar(Y),s.add(b),this.arts.push(b)):"RotatorE"!==u.className&&("Cache1"===u.className?(b=new tt.Statue(this.game,"stickystatue",53,v),s.add(b),this.arts.push(b)):"RotDoorE"===u.className?(f=new tt.RotatedDoor(this.game,v),s.add(f),this.arts.push(f)):"SwapDoorE"===u.className?(f=new tt.SwapDoor(this.game,v),s.add(f),s.add(f.cube),this.arts.push(f)):"DoorSmall"===u.className?(f=new tt.SmallDoor(this.game,v),L.add(f),s.add(f.cube),this.arts.push(f)):"LaserGun"===u.className?(g=new tt.Laser(this.game,v),c.add(g),this.movedObjects.push(g),this.moved.push(g),this.arts.push(g)):"Cache0"===u.className?(b=new tt.Statue(this.game,"rockystatue",50,v),s.add(b),this.arts.push(b)):"Cache4"===u.className?(b=new tt.CacheBox(this.game,v),s.add(b),this.arts.push(b)):"Star"===u.className?(this.starGroup=s,this.createStar(v)):"MovedPlaneVert"===u.className?((P=new tt.MovedPlane(this.game,v)).player=this.player,s.add(P),this.moved.push(P),this.movedObjects.push(P),this.arts.push(P),this.planes.push(P)):"Mirrow"===u.className?((P=new tt.Mirror(this.game,v)).player=this.player,s.add(P),this.moved.push(P),this.movedObjects.push(P),this.arts.push(P)):"FallPlaneE1"===u.className?((P=new tt.FallPlane(this.game,v)).setPlayer(this.player),s.add(P)):"EnterPoint"===u.className?(this.enter=new tt.LevelDoor(this.game,u.params.x,u.params.y,!1),s.add(this.enter)):"ExitPoint"===u.className?(this.exit=new tt.LevelDoor(this.game,u.params.x,u.params.y,!0),s.add(this.exit)):"Air"===u.className?(g=new tt.Air(this.game,v,this.player),s.add(g),this.arts.push(g)):"Cooler"===u.className?(y=new tt.CoolerPlane(this.game,v),s.add(y),this.arts.push(y)):"Sticky"===u.className?(this.absorb=new tt.Absorb(this.game,1,v),s.add(this.absorb)):"Press"===u.className?(y=new tt.Press(this.game,v),s.add(y)):"Power"===u.className?(this.absorb=new tt.Absorb(this.game,2,v),s.add(this.absorb),this.arts.push(this.absorb)):"AcidPlane"===u.className?(G=new tt.AcidPlane(this.game,v),s.add(G)):"Glass"===u.className||"Glass"===u.className?(G=new tt.IcePlane(this.game,v),s.add(G)):"LaseredPlane"===u.className?(Q=new tt.LaseredPlane(this.game,v),s.add(Q)):"GBPlane"===u.className?(Q=new tt.Platform(this.game,v),s.add(Q)):"UnstickPlane"===u.className?(N=new tt.UnstickPlane(this.game,v),s.add(N)):"TimePlaneE"===u.className?((N=new tt.HidePlane(this.game,v)).setPlayer(this.player),s.add(N)):"Teleport"===u.className?(J=new tt.Teleport(this.game,v),s.add(J),this.teleports.push(J)):"tm2.editor::WiringPather"===u.className?this.setSpriteLine(x,x.out_id,n):"tm2.editor::MoverPather"===u.className?(T=new tt.Trajectory(this.game,x),n.add(T),this.arts.push(T),this.trajectories.push(T)):"tm2.editor::DecorPather"===u.className?this.setLine(x,k):u.className&&(W=tt.Utils.getRandomInt(0,16777215),(m=this.game.add.graphics(u.params.x,u.params.y)).beginFill(W),m.drawRect(-u.params.width/2,-u.params.height/2,u.params.width,u.params.height),m.angle=u.params.rotation,m.endFill(),s.add(m),this.game.add.bitmapText(u.params.x,u.params.y,tt.Fonts.Underdog,u.className,30,s).anchor.set(.5)))}}}0!==this.guards.length&&(tt.Guard.NumberOfRays=Math.floor(tt.Guard.MaxRays/this.guards.length)),this.player.moveTo(this.enter.x,this.enter.y),e.add(this.player),this.queueApear=new tt.ActionQueue(this.game,3e3),this.queueApear.push(this.enter.open,this.enter,1e3).push(this.player.show,this.player,600).push(this.enter.close,this.enter,300),this.queueApear.start(),this.absorb&&this.absorb.setPlayer(this.player);for(a=0;a<this.electros.length;a+=2){var _=this.electros[a],E=this.electros[a+1],S=new Phaser.Point(_.x-E.x,_.y-E.y),V=tt.Utils.angleBetweenVectors(1,0,S.x,S.y,!0),H=tt.Utils.getLength(S),E=(S.set((_.x+E.x)/2,(_.y+E.y)/2),new tt.TrapPlane(this.game,_,E,S,H,V));_.temp.add(E)}for(w=0;w<this.moverCircles.length;w++)for(var C=this.moverCircles[w],h=0;h<this.moved.length;h++){var P=this.moved[h];if((-1===C.tag||C.tag===P.params.tag)&&(C.x===P.params.x&&C.y===P.params.y)){if(this.moved.splice(h,1),P.addCircle(C),-1===C.id)P.startCircle();else for(var z=0;z<this.lines.length;z++){var A=this.lines[z];C.id===A.out_id&&(A.onComplete.add(P.startCircle,P),A.onCancel.add(P.stopCircle,P))}break}}for(w=0;w<this.trajectories.length;w++)for(var T=this.trajectories[w],h=0;h<this.movedObjects.length;h++){var I=this.movedObjects[h];if(T.params.x===I.params.x&&T.params.y===I.params.y||T.params.tag===I.params.tag&&-1!==I.params.tag){(T.moved=I).startTime=T.params.startTime,I.addTrajectory(T),-1===T.id&&this.startObjects.push(I);break}}for(a=0;a<this.toggles.length;a++)for(var q=this.toggles[a],K=this,h=0;h<this.lines.length;h++)if("break"===function(t){var e=K.lines[t];if(q.id===e.id)return q.onComplete.add(function(){e.start()},K),q.onOut.add(function(){e.stop()},K),"break"}(h))break;for(a=0;a<this.lines.length;a++)for(var A=this.lines[a],Z=this,h=0;h<this.trajectories.length;h++)if("break"===function(t){var e=Z.trajectories[t];if(e.id===A.out_id)return A.onComplete.add(function(){e.moved&&e.moved.start()},Z),"break"}(h))break;for(a=0;a<this.toggles.length;a++)for(q=this.toggles[a],h=0;h<this.arts.length;h++)(B=this.arts[h]).id===q.out_id&&(q.onComplete.add(B.start,B),"stickystatue"===B.name||"rockystatue"===B.name?(v={x:B.x+8,y:B.y-20},this.setStatue(B,v)):"morphygod"===B.name?(v={x:B.x+6,y:B.y-20},this.setStatue(B,v)):"CacheBox"===B.name&&(v={x:B.x,y:B.y},this.setStatue(B,v)));for(a=0;a<this.lines.length;a++)for(var B,A=this.lines[a],h=0;h<this.arts.length;h++)(B=this.arts[h]).id===A.out_id&&(A.onComplete.add(B.start,B),A.onCancel.add(B.stop,B));for(a=0;a<this.teleports.length;a++){var J=this.teleports[a];if(!J.teleport)for(h=0;h<this.teleports.length;h++){var $=this.teleports[h];J.id===$.id&&((J.teleport=$).teleport=J)}}this.rockWall.fill(M,R,o,i,this.wallPoints),this.rockWall.add(k),this.rockWall.add(n),2===tt.Constants.OPEN_LEVEL?(this.toggles[0].onComplete.addOnce(function(){return t.hint1.visible=!0},this),this.absorb.onComplete.addOnce(function(){t.hint1.visible=!1,t.hint2.visible=!0,t.game.state.getCurrentState().setActiveButton(1)},this)):3===tt.Constants.OPEN_LEVEL&&(this.absorb.onDo.addOnce(function(){return t.hint1.visible=!0},this),this.absorb.onComplete.addOnce(function(){t.hint1.visible=!1,t.game.state.getCurrentState().setActiveButton(2)},this));e=this.game.time.create();e.add(tt.Gameplay.START_DELAY,this.startMove,this),e.start()},e.prototype.startMove=function(){for(var t=0;t<this.startObjects.length;t++)this.startObjects[t].start()},e.prototype.setStatue=function(t,e){var i=this.createStar(e);i.setActive(!1),t.onComplete.add(function(){return i.setActive(!0)},i)},e.prototype.createStar=function(t){t=new tt.Star(this.game,t);return this.starGroup.add(t),this.stars.push(t),this.movedObjects.push(t),this.moved.push(t),t},e.prototype.setSpriteLine=function(t,e,i){var o=new tt.Line(this.game,t.id,t.out_id),n=-1===e?"WiringFr":"WiringBg",s=t.vertices,r=this.game.add.group(i);r.position.set(0,0);for(var c=1;c<s.length;c++){var a,h,u=this.game.add.image(0,0,tt.Atlases.Decor,"lines/"+n,r),l=(u.anchor.set(1,.5),new Phaser.Point(s[c-1].x+t.x,s[c-1].y+t.y)),d=new Phaser.Point(s[c].x+t.x,s[c].y+t.y),p=l.distance(d);u.angle=l.angle(d,!0)+180,u.width=p+2,u.position.set(l.x,l.y),i.add(u),-1===e&&1===c&&((a=this.game.add.image(l.x,l.y,tt.Atlases.Decor,"lines/WiringFrPoint",r)).anchor.set(.9,.5),a.angle=u.angle+180,i.add(a)),-1!==e&&((h=this.game.add.image(l.x,l.y,tt.Atlases.Decor,"lines/"+t.color_id+"/0",r)).angle=u.angle,h.anchor.set(1,.5),i.add(h),o.push(h,p)),c===s.length-1&&((a=this.game.add.image(d.x,d.y,tt.Atlases.Decor,"lines/WiringBgPoint",r)).anchor.set(.45,.5),a.angle=d.angle(l,!0),i.add(a),-1===e?(a.frameName="lines/WiringFrPoint",a.anchor.set(.9,.5)):((h=this.game.add.image(d.x,d.y,tt.Atlases.Decor,"lines/"+t.color_id+"/1",r)).anchor.set(.45,.5),h.angle=a.angle,h.visible=!1,i.add(h),o.lastPoint=h))}this.lines.push(o)},e.prototype.setLine=function(t,e){var i=t.vertices,o=this.game.add.group(e);o.position.set(0,0);for(var n=1;n<i.length;n++){var s=new Phaser.Point(i[n-1].x+t.x,i[n-1].y+t.y),r=new Phaser.Point(i[n].x+t.x,i[n].y+t.y),c=s.distance(r),c=this.game.add.tileSprite(s.x,s.y,c,29,tt.Atlases.Decor,"decfill/1",o);c.anchor.set(1,.5),c.angle=s.angle(r,!0)+180,e.add(c)}},e.prototype.setDrawLine=function(t,e,i,o){var n=t.vertices,s=this.game.add.graphics(t.x,t.y);s.lineStyle(i,e),s.moveTo(n[0].x,n[0].y);for(var r=1;r<n.length;r++){var c=n[r];s.lineTo(c.x,c.y)}s.endFill(),o.add(s)},e.prototype.setSizes=function(t,e,i){t.width&&(t.width*=tt.Constants.GAMEPLAY_SCALE),t.height&&(t.height*=tt.Constants.GAMEPLAY_SCALE),t.x+=e,t.y+=i,t.x*=tt.Constants.GAMEPLAY_SCALE,t.y*=tt.Constants.GAMEPLAY_SCALE},e.prototype.addArt=function(t,e,i,o,n,s,r){void 0===o&&(o=.5),void 0===n&&(n=.5),void 0===s&&(s=tt.Atlases.Decor),void 0===r&&(r=!0);s=this.game.add.image(e.x,e.y,s,t,i);return s.anchor.set(o,n),r&&(s.width=e.width*tt.Utils.sign(e.scaleX),s.height=e.height*tt.Utils.sign(e.scaleY)),s.angle=e.rotation,s},e.prototype.addDecor=function(t,e,i,o,n){e=this.addArt(t,e,i,o=void 0===o?.5:o,n=void 0===n?.5:n);return 22<+t.substr(10)?e.anchor.set(.5,.5):"plants/Dec14"===t||18<+t.substr(10)?e.anchor.set(0):"plants/Dec0"===t&&e.anchor.set(.5,1),e},e.prototype.addAnimationDecor=function(t,e,i,o,n,s){e=this.addArt(t+"/0",e,o,n=void 0===n?.5:n,s=void 0===s?.5:s);return e.animations.add(t,tt.Utils.getNameArray(t+"/",i),30,!0),e.animations.play(t),e},e.prototype.addHead=function(t,e,i,o,n,s,r){n=this.addArt("heads/"+t+"/0",e,o,n=void 0===n?.5:n,s=void 0===s?.5:s,tt.Atlases.Decor,r=void 0===r?!0:r),s=this.game.add.image(0,0,tt.Atlases.Decor,"heads/"+t+"/smoke/0",o);return s.animations.add(t,tt.Utils.getNameArray("heads/"+t+"/smoke/",i),15,!0),s.animations.play(t),n.addChild(s),"pink"===t?s.position.set(-18.987,-53.859):"green"===t?s.position.set(-17.468,-3.883):"blue"===t?s.position.set(-35.51,-141.169):"orange"===t&&(s.position.set(e.x,e.y-40),s.anchor.set(.5),n.position.set(0,40),n.parent.addChild(s),s.addChild(n)),n};var i,t=e;function e(t,e){t=i.call(this,t)||this;return t.level=e,t.rockWall=void 0,t.generate(),t}tt.Generation=t}(Transmorpher3=Transmorpher3||{}),function(i){o=Phaser.Group,__extends(e,o),e.prototype.destroyIce=function(){i.SoundManager.getInstance(this.game).play(i.Sounds.Glass),this.createParticles(),this.platform.body.destroy(),this.platform.visible=!1,this.leftPlatform.frameName="glass/top/1",this.rightPlatform.frameName="glass/top/1"},e.prototype.createParticles=function(){var t=this.game.add.emitter(this.x,this.y,5);t.makeParticles(i.Atlases.Art,i.Utils.getNameArray("glass/parts/",3)),t.width=0===Math.sin(this.rotation)?1:Math.abs(this.height*Math.sin(this.rotation)),t.height=0===Math.cos(this.rotation)?1:Math.abs(this.height*Math.cos(this.rotation)),t.gravity=400,t.start(!0,2e3,null,5)};var o,t=e;function e(t,e){t=o.call(this,t)||this,t.position.set(e.x,e.y),t.angle=e.rotation,e=51*e.tileHeight;return t.platform=t.game.add.tileSprite(0,5,51,e,i.Atlases.Art,"glass/0",t),t.platform.anchor.set(.5,.5),t.leftPlatform=t.game.add.image(0,-e/2+5,i.Atlases.Art,"glass/top/0",t),t.leftPlatform.anchor.set(.5,.5),t.rightPlatform=t.game.add.image(0,e/2+5,i.Atlases.Art,"glass/top/0",t),t.rightPlatform.anchor.set(.5,.5),t.rightPlatform.scale.set(1,-1),t.name="IcePlane",t.platform.body=new i.Body(t.game,t,t.x,t.y,"IcePlane"),t.platform.body.static=!0,t.platform.body.angle=t.angle,t.platform.body.friction=.1,t.platform.body.data.SetUserData(t),t.game.add.existing(t),t}i.IcePlane=t}(Transmorpher3=Transmorpher3||{}),function(r){c=Phaser.Group,__extends(e,c),e.prototype.setFrames=function(t){for(var e=0;e<this.sprites.length;e++)this.sprites[e].frameName=t},e.prototype.melting=function(){var t;this.isActive&&(this.count>this.max&&(this.isActive=!1,r.SoundManager.getInstance(this.game).play(r.Sounds.BarrelExplode),this.setFrames("plavblock/8"),this.body.destroy(),this.visible=!1,this.createParticles()),t=Math.floor(8*this.count/this.max),this.count+=.05,this.setFrames("plavblock/"+t))},e.prototype.createParticles=function(){var t=this.game.add.emitter(this.x,this.y,5);t.makeParticles(r.Atlases.Art,r.Utils.getNameArray("plavblock/parts/",6)),t.width=0===Math.cos(this.rotation)?1:Math.abs(this.width*Math.cos(this.rotation)),t.height=0===Math.sin(this.rotation)?1:Math.abs(this.width*Math.sin(this.rotation)),t.gravity=400,t.start(!0,2e3,null,5)};var c,t=e;function e(t,e){for(var i=c.call(this,t)||this,o=(i.isActive=!0,i.max=1|+e.liveTime,i.count=0,i.position.set(e.x,e.y),i.sprites=[],i.angle=e.rotation,51*e.tileWidth),n=0;n<e.tileWidth;n++){var s=i.game.add.sprite(-o/2+51*n+26.5,0,r.Atlases.Art,"plavblock/0",i);s.anchor.set(.4,.5),i.sprites.push(s)}return i.body=new r.Body(i.game,null,i.x,i.y,"LaseredPlane"),i.body.setRectangle(o,51),i.body.static=!0,i.body.angle=i.angle,i.body.friction=.1,i.body.setUserData(i),i.game.add.existing(i),i}r.LaseredPlane=t}(Transmorpher3=Transmorpher3||{}),function(n){s=Phaser.Sprite,__extends(e,s),e.prototype.open=function(){this.isStartOpen||(n.SoundManager.getInstance(this.game).play(n.Sounds.Enter),this.light1&&this.light2&&(this.light1.visible=!1,this.light2.visible=!1),this.animations.play("open"),this.isStartOpen=!0,this.onOpen.dispatch())},e.prototype.close=function(){this.isStartOpen&&(this.animations.play("close"),this.isStartOpen=!1,this.onClose.dispatch())},e.prototype.removeAccess=function(){this.isAccess=!1},e.prototype.addAccess=function(){this.isAccess=!0},e.prototype.exitCallback=function(){this.isAccess&&(this.isAccess=!1,this.isOpen&&this.onExit.dispatch())};var s,t=e;function e(t,e,i,o){void 0===o&&(o=!0);t=s.call(this,t,e,i,n.Atlases.Decor,"door/0")||this;return t.anchor.set(.5),t.animations.add("open",n.Utils.getNameArray("door/",18),30,!1),t.animations.add("close",n.Utils.getNameArray("door/",36,18),30,!1),t.addChild(t),t.isStartOpen=!1,t.onOpen=new Phaser.Signal,t.onClose=new Phaser.Signal,t.onExit=new Phaser.Signal,t.isAccess=!0,t.isOpen=!0,t.light1=void 0,t.light2=void 0,o&&(t.frameName="door/18",t.light2=t.game.add.sprite(4.852,.971,n.Atlases.Decor,"door/light2/0"),t.light2.scale.set(.95),t.light2.anchor.set(.5),t.light2.animations.add("light",n.Utils.getNameArray("door/light2/",3),30,!0).play(),t.addChild(t.light2),t.light1=t.game.add.sprite(4.852,.97,n.Atlases.Decor,"door/light1/0"),t.light1.anchor.set(.5),t.light1.scale.set(1.2),t.light1.animations.add("light",n.Utils.getNameArray("door/light1/",39),30,!0).play(),t.addChild(t.light1),t.collider=new n.Body(t.game,null,e,i,"Door"),t.collider.setCircle(55*n.Constants.GAMEPLAY_SCALE),t.collider.static=!0,t.collider.sensor=!0,t.collider.setCategoryContactCallback(20,t.exitCallback,t)),t.game.add.existing(t),t}n.LevelDoor=t}(Transmorpher3=Transmorpher3||{}),function(t){function e(t,e,i){this.game=t,this.sprites=[],this.id=e,this.out_id=i,this.onComplete=new Phaser.Signal,this.onCancel=new Phaser.Signal,this.lastPoint=void 0,this.count=0,this.tween=void 0}e.prototype.push=function(t,e){t.visible=!1,t.width=0,this.sprites.push(new i(t,e))},e.prototype.start=function(){this.tween&&this.tween.isRunning&&this.tween.stop(!1),this.fillLine()},e.prototype.stop=function(){this.tween&&this.tween.isRunning&&this.tween.stop(!1),this.lastPoint&&(this.lastPoint.visible=!1),this.clearLine()},e.prototype.fillLine=function(){var t;this.count!==this.sprites.length&&(t=this.sprites[this.count],this.count++,t.sprite.visible=!0,this.tween=this.game.add.tween(t.sprite).to({width:t.length},(t.length-t.sprite.width)/1e3*2e3,Phaser.Easing.Linear.None,!1),this.tween.onComplete.addOnce(this.fillLine,this),this.count===this.sprites.length&&this.tween.onComplete.addOnce(this.onCompliteLine,this),this.tween.start())},e.prototype.clearLine=function(){var t;this.count===this.sprites.length&&this.onCancel.dispatch(),0!==this.count&&(this.count--,(t=this.sprites[this.count]).sprite.visible=!0,this.tween=this.game.add.tween(t.sprite).to({width:0},t.sprite.width/1e3*2e3,Phaser.Easing.Linear.None,!1),this.tween.onComplete.add(this.clearLine,this),this.tween.start())},e.prototype.onCompliteLine=function(){this.lastPoint&&(this.lastPoint.visible=!0),this.onComplete.dispatch()},t.Line=e;var i=function(t,e){this.sprite=t,this.length=e};t.LineObject=i}(Transmorpher3=Transmorpher3||{}),function(i){o=Phaser.Group,__extends(e,o);var o,t=e;function e(t,e){t=o.call(this,t)||this;return t.position.set(e.x,e.y),t.angle=e.rotation,t.leftPlatform=t.game.add.image(-e.width/2+26,5,i.Atlases.Art,"platform/0",t),t.leftPlatform.anchor.set(1,.5),t.rightPlatform=t.game.add.image(e.width/2-26,5,i.Atlases.Art,"platform/2",t),t.rightPlatform.anchor.set(0,.5),t.platform=t.game.add.tileSprite(0,5,e.width-52,e.height,i.Atlases.Art,"platform/1",t),t.platform.anchor.set(.5,.5),t.body=new i.Body(t.game,null,e.x,e.y,"Platform"),t.body.setRectangle(e.width,e.height-9,0,2),t.body.static=!0,t.body.angle=t.angle,t.game.add.existing(t),t}i.Platform=t}(Transmorpher3=Transmorpher3||{}),function(y){e=Phaser.Group,__extends(i,e),i.prototype.fill=function(t,e,i,o,n){this.bodies=[];for(var s=this.game.add.graphics(0,0),r=this.game.add.sprite(0,0,y.Atlases.Interface,"Line"),c=(r.anchor.set(1,0),this.game.add.image(0,0,y.Atlases.Interface,"rockWall")),a=this.game.add.bitmapData(this.game.width,this.game.height),h=0,u=0,l=0;l<this.game.height/51;l++){for(var d=0;d<this.game.width/51;d++)a.draw(c,h,u),h+=51;h=0,u+=51}for(d=0;d<n.length;d++){for(var p=n[d],F=(s.beginFill(0),s.lineStyle(1,0),s.moveTo(p[0].x,p[0].y),new y.Body(this.game,null,0,0)),j=[p[0].x,p[0].y],Y=1;Y<p.length;Y++){var f=p[Y-1],b=p[Y],g=(s.lineTo(b.x,b.y),f.distance(b));r.rotation=f.angle(b),a.draw(r,b.x,b.y,g),j.push(b.x,b.y)}s.endFill(),F.addPolygon(j),F.setTag("Wall"),F.setCollisionCategory(15),F.static=!0,this.bodies.push(F)}i=this.game.add.sprite(i,o,s.generateTexture());this.wallData=this.game.add.bitmapData(this.game.width,this.game.height),this.wallData.alphaMask(a,i),this.wallImage=this.game.add.image(0,0,this.wallData),this.add(this.wallImage),c.destroy(),r.destroy(),s.destroy(),a.destroy(),i.destroy()};var e,t=i;function i(t){return e.call(this,t)||this}y.RockWall=t}(Transmorpher3=Transmorpher3||{}),function(s){r=Phaser.Group,__extends(e,r),e.prototype.setRotation=function(){var t=this.stones[0].body,e=this.stones[1];this.setStoneRotation(t,e),t=this.stones[2].body,this.setStoneRotation(t,e)},e.prototype.setStoneRotation=function(t,e){e=s.Utils.getAnglePoint(t.x,t.y,e.body.x,e.body.y,Phaser.Math.degToRad(e.body.angle));t.x=e.x,t.y=e.y},e.prototype.use=function(t,e){this.isEnd||"Player"===e.tag&&e.getUserData().isSameType(s.PlayerType.Big)&&this.destroyStones()},e.prototype.useAbsorb=function(t,e){this.isEnd||"Absorb"===e.tag&&this.destroyStones()},e.prototype.destroyStones=function(){var i=this;s.SoundManager.getInstance(this.game).play(s.Sounds.NewGlass),this.isEnd=!0,this.game.time.events.add(50,function(){for(var t=0;t<i.stones.length;t++){var e=i.stones[t];e.body.dynamic=!0,e.body.applyForce(1e3*(s.Utils.getRandomInt(0,10)-5),-1e3*s.Utils.getRandomInt(0,10)),e.body.sensor=!0}},this)};var r,t=e;function e(t,e){var i=r.call(this,t)||this;i.stones=[],i.isEnd=!1;for(var o=1;o<4;o++){var n=new Phaser.Sprite(i.game,0,0,s.Atlases.Art,"box/stones/"+(o-1));n.anchor.set(.5),n.body=new s.Body(i.game,n,e.x,e.y-e.height/2+e.height/3*o-26,"Stone"),n.body.setRectangle(n.width-5,n.height-5),n.body.data.SetUserData(i),n.body.mass=40,n.body.restitution=0,n.body.kinematic=!0,n.body.angle=e.rotation,i.stones.push(n),n.body.setCategoryContactCallback(20,i.use,i),i.add(n)}return i.setRotation(),i}s.Stones=t}(Transmorpher3=Transmorpher3||{}),function(c){o=Phaser.Group,__extends(e,o),e.prototype.setSpriteLine=function(t){this.path=[];var e=t.vertices;this.path.push(new Phaser.Point(e[0].x+t.x,e[0].y+t.y));for(var i=1;i<e.length;i++){var o,n=new Phaser.Point(e[i-1].x+t.x,e[i-1].y+t.y),s=new Phaser.Point(e[i].x+t.x,e[i].y+t.y),r=n.distance(s);this.path.push(s.clone()),t.showTrack&&((o=this.game.add.tileSprite(0,0,r,16,c.Atlases.Decor,"moved/MoverLine",this)).anchor.set(1,.5),o.angle=n.angle(s,!0)+180,o.width=r+6,o.position.set(n.x,n.y))}},e.prototype.start=function(){this.moved&&this.moved.start()},e.prototype.stop=function(){this.moved&&this.moved.stop()};var o,t=e;function e(t,e){var i=o.call(this,t)||this;return i.name="Trajectory",i.game=t,i.params=e,i.id=e.id,i.out_id=e.out_id,i.tag=e.tag,i.onComplete=new Phaser.Signal,i.setSpriteLine(e),i}c.Trajectory=t}(Transmorpher3=Transmorpher3||{}),function(i){o=Phaser.Group,__extends(e,o);var o,t=e;function e(t,e){t=o.call(this,t)||this;return t.position.set(e.x,e.y),t.angle=e.rotation,t.gWidth=e.width,t.gHeight=e.height,t.leftPlatform=t.game.add.image(-e.width/2+26,5,i.Atlases.Art,"unstick/0",t),t.leftPlatform.anchor.set(1,.5),t.rightPlatform=t.game.add.image(e.width/2-26,5,i.Atlases.Art,"unstick/2",t),t.rightPlatform.anchor.set(0,.5),t.platform=t.game.add.tileSprite(0,5,e.width-52,e.height,i.Atlases.Art,"unstick/1",t),t.platform.anchor.set(.5,.5),t.body=new i.Body(t.game,null,e.x,e.y,"Unstick"),t.body.setRectangle(e.width,5,0,5),t.body.static=!0,t.body.sensor=!0,t.body.setCollisionCategory(22),t.body.angle=t.angle,(t.body.data.m_userData=t).game.add.existing(t),t}i.UnstickPlane=t}(Transmorpher3=Transmorpher3||{}),function(t){function e(t){this.game=t,this.focused=!0}e.getInstance=function(t){return e.instance=e.instance?e.instance:new e(t)},e.prototype.init=function(){var t=this;this.game.stage.disableVisibilityChange=!0,this.onPauseCallback=new Phaser.Signal,h5branding.Utils.isOnDevice()&&(this.game.device.iOS?(window.addEventListener("blur",function(){return t.onBlur()}),window.addEventListener("focus",function(){return t.onFocus()})):(document.addEventListener("pause",function(){return t.onPause()}),document.addEventListener("resume",function(){return t.onResume()}))),this.game.onBlur.add(this.onBlur,this),this.game.onFocus.add(this.onFocus,this),this.game.onPause.add(this.onPause,this),this.game.onResume.add(this.onResume,this)},e.prototype.onBlur=function(){this.focused=!1,this.game.onPause.dispatch()},e.prototype.onFocus=function(){this.focused=!0,t.AdHandler.getInstance().isAdPlaying()||this.game.onResume.dispatch()},e.prototype.onPause=function(){this.game.device.iOS?this.game.sound.context.suspend():this.game.sound.setMute(),this.onPauseCallback&&this.onPauseCallback.dispatch()},e.prototype.onResume=function(){this.game.device.iOS?this.game.sound.context.resume():this.game.sound.unsetMute()},e.prototype.pause=function(){this.game.onPause.dispatch()},e.prototype.resume=function(){this.hasFocus&&this.game.onResume.dispatch()},Object.defineProperty(e.prototype,"hasFocus",{get:function(){return this.focused},enumerable:!1,configurable:!0}),t.PauseHandler=e}(Fabrique=Fabrique||{}),function(s){function o(t,e,i){var o=this;this.musicOn=!0,this.sfxOn=!0,this._last=0,this.stars=[],this.game=t,this.callback=e,this.callbackContext=i,this.game.storage.getItem(s.Constants.STORAGE_KEY).then(function(t){null==t?(o.setDefault(),o.callback&&o.callbackContext&&o.callback.call(o.callbackContext)):o.restore()})}o.prototype.setDefault=function(){this.sfxOn=!0,this.musicOn=!0,this._last=0,this.stars=[];for(var t=0;t<30;t++)this.stars.push(0);this.save()},o.getInstance=function(t,e,i){return o.instance=o.instance?o.instance:new o(t,e,i)},o.prototype.setStars=function(t,e){this.stars||(this.stars=[]),this.stars[t]=e,this.save()},o.prototype.getStars=function(t){return this.stars&&this.stars[t]?this.stars[t]:0},Object.defineProperty(o.prototype,"lastLevel",{get:function(){return this._last},set:function(t){this._last=t,this.save()},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"music",{get:function(){return this.musicOn},set:function(t){this.musicOn=t,this.save()},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"sfx",{get:function(){return this.sfxOn},set:function(t){this.sfxOn=t,this.save()},enumerable:!1,configurable:!0}),o.prototype.save=function(){var t=JSON.stringify({m:this.musicOn,stars:this.stars,last:this._last,sf:this.sfxOn}),e=this.hash(t);this.game.storage.setItem(s.Constants.STORAGE_KEY,t),this.game.storage.setItem(s.Constants.STORAGE_KEY+"h",e)},o.prototype.restore=function(){var i,o,n=this,t=this.game.storage.getItem(s.Constants.STORAGE_KEY),e=this.game.storage.getItem(s.Constants.STORAGE_KEY+"h");Promise.all([t,e]).then(function(t){if(i=t[0]||"",o=t[1]||"0",""!==i&&o===n.hash(i)){if(i&&""!==i)try{var e=JSON.parse(i);n.musicOn=e.m,n.sfxOn=e.sf,n._last=e.last,n.stars=e.stars}catch(t){}n.callback&&n.callbackContext&&n.callback.call(n.callbackContext)}})},o.prototype.hash=function(t){var e,i,o=0;if(0===t.length)return o.toString();for(e=0,i=t.length;e<i;e++)o=(o<<5)-o+t.charCodeAt(e),o|=0;return o.toString()},s.SaveGame=o}(Transmorpher3=Transmorpher3||{}),function(r){e=Phaser.State,__extends(c,e),c.prototype.init=function(){var t=this;r.SaveGame.getInstance(this.game),Fabrique.Effects.Fade.getInstance(this.game),Fabrique.AdHandler.getInstance().init(),Fabrique.PauseHandler.getInstance(this.game).init(),this.game.input.maxPointers=2,this.game.canvas.oncontextmenu=function(t){t.preventDefault()},this.game.device.desktop?(this.scale.scaleMode=Phaser.ScaleManager.SHOW_ALL,this.scale.fullScreenScaleMode=Phaser.ScaleManager.SHOW_ALL,this.scale.pageAlignHorizontally=!0,this.game.scale.windowConstraints.bottom="visual"):(this.scale.scaleMode=Phaser.ScaleManager.USER_SCALE,this.scale.fullScreenScaleMode=Phaser.ScaleManager.USER_SCALE,window.addEventListener("resize",function(){return c.mobileResizeCallback(t.game.scale)}),this.game.scale.onSizeChange.add(function(){t.game.state.getCurrentState().resize()},this),c.mobileResizeCallback(this.game.scale))},c.mobileResizeCallback=function(t){var e=window.innerWidth,i=window.innerHeight,o=(c.setScaling(t.game),r.Constants.GAME_WIDTH*r.Constants.GAME_SCALE),n=r.Constants.GAME_HEIGHT*r.Constants.GAME_SCALE,s=1;s/=i<e?i/n:i/o,r.Constants.CALCULATED_WIDTH=Math.ceil(e*s),r.Constants.CALCULATED_HEIGHT=Math.ceil(i*s),t.setGameSize(r.Constants.CALCULATED_WIDTH,r.Constants.CALCULATED_HEIGHT),t.setUserScale(1/s,1/s),r.Constants.LANDSCAPE_LOCKED?i<e?this.handleCorrect():this.handleIncorrect():r.Constants.PORTRAIT_LOCKED&&(e<i?this.handleCorrect():this.handleIncorrect())},c.setScaling=function(t){var e=window.innerWidth>window.innerHeight?window.innerWidth:window.innerHeight;e*=t.device.pixelRatio,r.Constants.GAME_SCALE=e<650?.5:1050<e?1:.75},c.prototype.preload=function(){var e=this,i=(this.game.load.cacheBuster="undefined"==typeof version?null:version,this.game.load.onFileComplete.add(function(t){h5branding.SplashLoader.getInstance().setLoadProgress(t)}),this.game.load.onLoadComplete.add(function(){h5branding.SplashLoader.getInstance().setLoadProgress(100)}),h5branding.SplashLoader.getInstance().setButtonCallback(function(){h5branding.SplashLoader.getInstance().destroy(),Fabrique.LocalizationHandler.getInstance().initI18Next(),h5branding.Utils.inGDGameZone()?(Fabrique.LoaderHelper.hide(),e.game.state.start(r.Menu.Name)):Fabrique.AdHandler.getInstance().showAd("splash",function(){e.game.state.start(r.Menu.Name)})}),"x"+r.Constants.GAME_SCALE+"/");r.JsonData.list.forEach(function(t){e.game.load.json(t,"assets/json/"+t+".json")}),r.Fonts.list.forEach(function(t){e.game.load.bitmapFont(t,"assets/fonts/"+t+"/"+t+".png","assets/fonts/"+t+"/"+t+".fnt")}),r.Images.list.forEach(function(t){e.game.load.image(t,"assets/images/"+i+t+".png")}),r.Atlases.list.forEach(function(t){e.game.load.atlas(t,"assets/atlases/"+i+t+".png","assets/atlases/"+i+t+".json")}),r.Sounds.list.forEach(function(t){e.game.device.iOS?e.game.load.audio(t,["assets/sound/m4a/"+t+".m4a"]):e.game.load.audio(t,["assets/sound/ogg/"+t+".ogg","assets/sound/mp3/"+t+".mp3"])}),r.Constants.SUPPORTED_LANGUAGES.forEach(function(t){e.load.json(t,"assets/locales/"+t+".json")}),this.game.load.crossOrigin="anonymous",h5branding.Utils.getBrandingDomain()!==h5branding.BrandingDomain.Neutral&&this.game.load.image("branding_logo",h5branding.Branding.brandingLogoUrl)},c.handleCorrect=function(){document.getElementById("orientation").style.display="none",document.getElementById("content").style.display="block"},c.handleIncorrect=function(){document.getElementById("orientation").style.display="block",document.getElementById("content").style.display="none"},c.Name="boot";var e,t=c;function c(){var t=e.call(this)||this;return t.name=c.Name,t}r.Boot=t}(Transmorpher3=Transmorpher3||{}),function(e){i=Phaser.State,__extends(o,i),o.prototype.init=function(){this.game.world.removeAll(),e.Utils.getInstance(this.game),e.SoundManager.getInstance(this.game).playMusic(e.Sounds.GameMusic)},o.prototype.create=function(){var t=this;i.prototype.create.call(this),h5Analytics.AnalyticsWrapper.sendScreenView(o.Name),this.background=this.game.add.image(0,0,e.Images.Sky),this.background.anchor.set(.5),this.final=this.game.add.image(0,0,e.Images.Final),this.final.anchor.set(.5),this.laser=this.game.add.image(665.976+(this.game.width-e.Constants.GAME_WIDTH)/2,302.895,e.Atlases.Movie,"laser/0"),this.laser.animations.add("play",e.Utils.getNameArray("laser/",7),30,!0).play(),this.laser.anchor.set(.5,1),this.laser.height=0,this.laser.width=5,this.glow=this.game.add.image(648.45+(this.game.width-e.Constants.GAME_WIDTH)/2,430.561,e.Atlases.Movie,"glow/0"),this.glow.animations.add("play",e.Utils.getNameArray("glow/",75),40,!1),this.glow.anchor.set(.5),this.glow.scale.set(2),this.glow.visible=!1,this.pyramid=this.game.add.image(665.976+(this.game.width-e.Constants.GAME_WIDTH)/2,-262,e.Atlases.Menu,"pyramid"),this.pyramid.anchor.set(.5),this.sopla=this.game.add.image(0,101,e.Atlases.Menu,"sopla"),this.sopla.anchor.set(.5,0),this.pyramid.addChild(this.sopla),this.dark=this.game.add.graphics(0,0),this.dark.beginFill(0,1),this.dark.drawRect(0,0,this.game.width,this.game.height),this.dark.alpha=0,this.dark.endFill(),this.continue=new Phaser.Text(this.game,0,0,Fabrique.LocalizationHandler.getInstance().getValue("to_be_continued"),{font:"Underdog-Regular",fontSize:50,fill:"#43bbc2",stroke:"#122a40",strokeThickness:6}),this.continue.anchor.set(.5),this.continue.alpha=0,this.down=new Phaser.Text(this.game,0,0,Fabrique.LocalizationHandler.getInstance().getValue("click_anywhere"),{font:"Underdog-Regular",fontSize:50,fill:"#43bbc2",stroke:"#122a40",strokeThickness:6}),this.down.anchor.set(.5),this.down.alpha=0,Fabrique.Effects.Fade.getInstance(this.game).from(0),this.action=new e.ActionQueue(this.game),this.action.pushTween(1e3,this.laser,{height:277},600,Phaser.Easing.Linear.None),this.action.pushTween(600,this.laser,{width:22},300,Phaser.Easing.Linear.None),this.action.push(function(){t.laser.anchor.set(.5,0),t.laser.y=27.536},this,300),this.action.pushTween(600,this.laser,{width:5},300,Phaser.Easing.Linear.None),this.action.pushTween(300,this.laser,{height:0},600,Phaser.Easing.Linear.None),this.action.pushTween(1200,this.laser,{height:277},600,Phaser.Easing.Linear.None),this.action.pushTween(600,this.laser,{width:22},300,Phaser.Easing.Linear.None),this.action.pushTween(200,this.pyramid,{y:262},2200,Phaser.Easing.Linear.None),this.action.push(function(){t.laser.anchor.set(.5,1),t.laser.y=302.895},this,0),this.action.pushTween(1500,this.sopla,{y:65},700,Phaser.Easing.Linear.None),this.action.push(function(){return t.sopla.visible=!1},this,700),this.action.pushTween(200,this.laser,{width:5},300,Phaser.Easing.Linear.None),this.action.pushTween(300,this.laser,{height:0},600,Phaser.Easing.Linear.None),this.action.push(function(){return t.glow.visible=!0},this,600),this.action.push(function(){return t.glow.play("play")},this,0),this.action.pushTween(4800,this.dark,{alpha:1},1200,Phaser.Easing.Linear.None),this.action.pushTween(300,this.continue,{alpha:1},900,Phaser.Easing.Linear.None),this.action.pushTween(0,this.down,{alpha:1},900,Phaser.Easing.Linear.None),this.action.push(function(){return t.input.onDown.addOnce(t.startMenu,t)},this,0),this.action.start(),this.resize()},o.prototype.startMenu=function(){this.game.state.start(e.Menu.Name)},o.prototype.resize=function(){e.Utils.getInstance().setScale();var t=this.game.height<this.game.width?this.game.width/(e.Constants.GAME_WIDTH-50):this.game.height/(e.Constants.GAME_HEIGHT-50);this.background.position.set(this.game.width/2,this.game.height/2),this.background.scale.set(t),this.final.position.set(this.game.width/2,this.game.height/2),this.final.scale.set(this.game.height/e.Constants.GAME_HEIGHT),this.continue.position.set(this.game.width/2,this.game.height/2),this.down.position.set(this.game.width/2,this.game.height-30)},o.prototype.shutdown=function(){i.prototype.shutdown.call(this),this.background=null},o.Name="final",o.pause=!1,o.isArrows=!0;var i,t=o;function o(){var t=i.call(this)||this;return t.name=o.Name,t}e.Final=t}(Transmorpher3=Transmorpher3||{}),function(s){e=Phaser.State,__extends(i,e),i.prototype.init=function(){this.game.world.removeAll(),s.Utils.getInstance(this.game),s.SoundManager.getInstance(this.game).playMusic(s.Sounds.GameMusic)},i.prototype.create=function(){var t=this;e.prototype.create.call(this),h5Analytics.AnalyticsWrapper.sendScreenView(i.Name),h5Analytics.AnalyticsWrapper.sendProgressionEvent("Start","Level",s.Constants.OPEN_LEVEL.toString()),s.Constants.LEVEL=this.game.cache.getJSON(s.JsonData.Levels,!0)[s.Constants.OPEN_LEVEL],this.game.physics.startSystem(Phaser.Physics.BOX2D),this.game.physics.box2d.gravity.y=500,this.controllPopUp=void 0,this.isWin=!1,this.forms=[],this.formsMobile=[],this.formScale=1,this.curentStar=0,s.Constants.SCANERS_ACTIVE=0,s.Constants.SCANERS_COUNT=0,this.background=this.game.add.image(0,0,s.Images.BkgGame),this.background.anchor.set(.5),this.generation=new s.Generation(this.game,s.Constants.LEVEL),this.player=this.generation.player,this.player.onDestroy.add(function(){h5Analytics.AnalyticsWrapper.sendProgressionEvent("Fail","Level",s.Constants.OPEN_LEVEL.toString()),t.restart()},this),this.generation.queueApear.push(function(){return t.player.onOut(function(){t.player.isWin||(h5Analytics.AnalyticsWrapper.sendProgressionEvent("Fail","Level",s.Constants.OPEN_LEVEL.toString()),t.restart())},t)},this,600),this.world.add(this.generation),this.generation.exit.onExit.addOnce(this.win,this),this.createGUI(),this.offButtons(),s.Utils.desktop||this.createArrows(),Fabrique.Effects.Fade.getInstance(this.game).from(0,this.start.bind(this),700,i.START_DELAY-200),this.resize()},i.prototype.setActiveButton=function(t){this.forms[t].visible=!0,this.forms[t].inputEnabled=!0,s.Utils.desktop||(this.formsMobile[t].visible=!0,this.formsMobile[t].inputEnabled=!0),this.selectForm(t)},i.prototype.offButtons=function(){this.pauseButton.inputEnabled=!1,this.restartButton.inputEnabled=!1,this.soundsButton.inputEnabled=!1},i.prototype.start=function(){this.pauseButton.inputEnabled=!0,this.restartButton.inputEnabled=!0,this.soundsButton.inputEnabled=!0},i.prototype.clearArrows=function(){this.player.cursors.isRightButton=!1,this.player.cursors.isLeftButton=!1,this.player.cursors.isDownButton=!1,this.player.cursors.isUpButton=!1},i.prototype.setStar=function(t){var e=this.border.toLocal(t.position,t.parent);this.border.addChild(t),t.position.set(e.x,e.y),this.game.add.tween(t).to({x:i.STARS_POSITION[this.curentStar],y:i.STARS_POSITION[this.curentStar+1]},2e3,Phaser.Easing.Exponential.Out,!0),this.curentStar+=2},i.prototype.startNext=function(){var t=this;Fabrique.AdHandler.getInstance().showAd("next_level",function(){s.Constants.OPEN_LEVEL===s.Constants.ALL_LEVELS?t.game.state.start(s.Final.Name):(s.Constants.OPEN_LEVEL++,t.game.state.start(i.Name))})},i.prototype.startMenu=function(){Fabrique.Effects.Fade.getInstance(this.game).to(0,s.MenuLevel.Name,1e3)},i.prototype.pause=function(){this.pauseButton.inputEnabled=!1,this.gamePopUp.show()},i.prototype.unpause=function(){},i.prototype.restartPressed=function(){var t=this;Fabrique.AdHandler.getInstance().showAd("restart",function(){t.restart()})},i.prototype.restart=function(){Fabrique.Effects.Fade.getInstance(this.game).to(0,i.Name,1e3)},i.prototype.render=function(){},i.prototype.resize=function(){s.Utils.getInstance().setScale();var t=this.game.height<this.game.width?this.game.width/(s.Constants.GAME_WIDTH-50):this.game.height/(s.Constants.GAME_HEIGHT-50);if(this.background.position.set(this.game.width/2,this.game.height/2),this.background.scale.set(t),!s.Utils.desktop){this.upButton.position.set(this.game.width-170*.7,this.game.height-289),this.downButton.position.set(this.game.width-170*.7,this.game.height-170*.7),this.leftButton.position.set(170*.7,this.game.height-170*.7),this.rightButton.position.set(289,this.game.height-170*.7);for(var e=0;e<this.formsMobile.length;e++)this.formsMobile[e].position.set(this.leftButton.x,this.leftButton.y-this.leftButton.height/2-150*e-150)}this.border.position.set(this.game.width/2,this.border.height/2),this.controllPopUp&&this.controllPopUp.resize(),this.gamePopUp.resize()},i.prototype.shutdown=function(){e.prototype.shutdown.call(this),this.player.onDestroy.removeAll(),this.player.isWin=!0,this.background=null},i.prototype.update=function(){this.game.input.keyboard.isDown(Phaser.Keyboard.ONE)&&this.forms[0].inputEnabled?this.forms[0].onInputDown.dispatch():this.game.input.keyboard.isDown(Phaser.Keyboard.TWO)&&this.forms[1].inputEnabled?this.forms[1].onInputDown.dispatch():this.game.input.keyboard.isDown(Phaser.Keyboard.THREE)&&this.forms[2].inputEnabled&&this.forms[2].onInputDown.dispatch(),this.isWin&&this.game.input.keyboard.isDown(Phaser.Keyboard.SPACEBAR)&&(this.isWin=!1,this.startNext()),i.isArrows||(s.Utils.desktop&&!this.input.activePointer.leftButton.isDown&&this.clearArrows(),20<Math.abs(this.input.x-this.player.x)?this.input.x>this.player.x?(this.player.cursors.isRightButton=!0,this.player.cursors.isLeftButton=!1):this.input.x<this.player.x&&(this.player.cursors.isRightButton=!1,this.player.cursors.isLeftButton=!0):(this.player.cursors.isRightButton=!1,this.player.cursors.isLeftButton=!1),this.player.isSameType(s.PlayerType.Velcro)&&(20<Math.abs(this.input.y-this.player.y)?this.input.y>this.player.y?(this.player.cursors.isDownButton=!0,this.player.cursors.isUpButton=!1):this.input.y<this.player.y&&(this.player.cursors.isDownButton=!1,this.player.cursors.isUpButton=!0):(this.player.cursors.isDownButton=!1,this.player.cursors.isUpButton=!1)),this.player.isSameType(s.PlayerType.Slime)&&s.Utils.desktop&&(this.input.activePointer.leftButton.isDown?this.player.cursors.isUpButton=!0:this.player.cursors.isUpButton=!1))},i.prototype.win=function(){h5Analytics.AnalyticsWrapper.sendProgressionEvent("Complete","Level",s.Constants.OPEN_LEVEL.toString()),s.SaveGame.getInstance(this.game).lastLevel<s.Constants.OPEN_LEVEL&&(s.SaveGame.getInstance(this.game).lastLevel=s.Constants.OPEN_LEVEL<s.Constants.ALL_LEVELS?s.Constants.OPEN_LEVEL:s.Constants.ALL_LEVELS),s.Constants.STAR_COUNT=this.curentStar/2,s.SaveGame.getInstance(this.game).getStars(s.Constants.OPEN_LEVEL-1)<s.Constants.STAR_COUNT&&s.SaveGame.getInstance(this.game).setStars(s.Constants.OPEN_LEVEL-1,s.Constants.STAR_COUNT),s.SoundManager.getInstance(this.game).play(s.Sounds.Exit),this.player.isStop=!0,this.player.isWin=!0,this.player.isStopPosition=!0,this.gamePopUp.win(),this.gamePopUp.resumeButton.onInputDown.removeAll(),this.gamePopUp.resumeButton.onInputUp.add(this.startNext,this),this.generation.queueApear.pushTween(0,this.player,{x:this.generation.exit.x,y:this.generation.exit.y},300,Phaser.Easing.Linear.None),this.generation.queueApear.push(this.player.hide,this.player,500),this.generation.queueApear.push(this.generation.exit.close,this.generation.exit,300),this.generation.queueApear.push(this.gamePopUp.show,this.gamePopUp,300),this.generation.queueApear.start(),this.isWin=!0},i.prototype.selectForm=function(t){this.currentForm!==t&&(this.forms[this.currentForm].hideGrey(this.formScale),0!==this.formsMobile.length&&this.formsMobile[this.currentForm].hideGrey(this.formScale,!0),this.currentForm=t,this.forms[this.currentForm].showGrey(this.formScale),0!==this.formsMobile.length&&this.formsMobile[this.currentForm].showGrey(this.formScale,!0))},i.prototype.changeSound=function(){"SoundsButton1"===this.soundsButton.frameName?(this.soundsButton.setFrames("SoundsButton2"),s.SoundManager.getInstance(this.game).stopMusic(),s.SaveGame.getInstance(this.game).music=!1):"SoundsButton2"===this.soundsButton.frameName?(this.soundsButton.setFrames("SoundsButton3"),s.SaveGame.getInstance(this.game).sfx=!1):(this.soundsButton.setFrames("SoundsButton1"),s.SaveGame.getInstance(this.game).music=!0,s.SaveGame.getInstance(this.game).sfx=!0,s.SoundManager.getInstance(this.game).playMusic(s.Sounds.GameMusic))},i.prototype.createGUI=function(){var t=this,e=(this.currentForm=0,this.game.add.group());s.Utils.desktop&&0===s.SaveGame.getInstance(this.game).lastLevel&&(this.controllPopUp=new s.ControllPopUp(this.game)),this.gamePopUp=new s.GamePopUp(this.game),this.gamePopUp.resumeButton.onInputDown.add(this.unpause,this),this.gamePopUp.restartButton.onInputUp.add(this.restartPressed,this),this.gamePopUp.menuButton.onInputDown.add(this.startMenu,this),e.add(this.gamePopUp.shadow),e.add(this.gamePopUp),this.controllPopUp&&(e.add(this.controllPopUp.shadow),e.add(this.controllPopUp)),this.border=this.game.add.image(0,0,s.Atlases.Interface,"bkg_top",e),this.border.anchor.set(.5);for(var i=0;i<3;i++)(o=new s.Button(this.game,0,0,s.Atlases.Interface,void 0,void 0,"Form"+i,"Form"+i,"Form"+i,"Form"+i)).removeSound(),o.onInputDown.add(this.player.changeType.bind(this.player,i+1)),o.onInputDown.add(this.selectForm.bind(this,i)),o.visible=!1,this.border.addChild(o),this.forms.push(o),i!==this.currentForm?o.scale.set(.8):o.scale.set(1),o.inputEnabled=!1;if(s.Utils.desktop&&(this.forms[0].visible=!0,this.forms[0].inputEnabled=!0,this.forms[0].position.set(-584.51,-11.73),this.forms[1].position.set(-507.479,-8.742),this.forms[2].position.set(-430.447,14.161),this.forms[2].anchor.set(.5,1),2<s.Constants.OPEN_LEVEL&&(this.forms[1].visible=!0,this.forms[1].inputEnabled=!0),3<s.Constants.OPEN_LEVEL&&(this.forms[2].visible=!0,this.forms[2].inputEnabled=!0)),!s.Utils.desktop){for(var o,i=0;i<3;i++)(o=new s.Button(this.game,0,0,s.Atlases.Interface,void 0,void 0,"forms/"+i,"forms/"+i,"forms/"+i,"forms/"+i)).addRadiusBorder(),o.removeSound(),o.onInputDown.add(this.player.changeType.bind(this.player,i+1)),o.onInputDown.add(this.selectForm.bind(this,i)),o.visible=!1,e.add(o),this.formsMobile.push(o),i!==this.currentForm?o.scale.set(1):(o.scale.set(this.formScale),o.border.alpha=0),o.inputEnabled=!1;this.formsMobile[0].visible=!0,this.formsMobile[0].inputEnabled=!0,2<s.Constants.OPEN_LEVEL&&(this.formsMobile[1].visible=!0,this.formsMobile[1].inputEnabled=!0),3<s.Constants.OPEN_LEVEL&&(this.formsMobile[2].visible=!0,this.formsMobile[2].inputEnabled=!0)}this.restartButton=new s.Button(this.game,499.469,-9.913,s.Atlases.Interface,this.restartPressed,this,"RestartButton","RestartButton","RestartButton","RestartButton"),this.pauseButton=new s.Button(this.game,552.915,-9.913,s.Atlases.Interface,this.pause,this,"PauseButton","PauseButton","PauseButton","PauseButton");var n=s.SaveGame.getInstance(this.game).music?"SoundsButton1":s.SaveGame.getInstance(this.game).sfx?"SoundsButton2":"SoundsButton3";this.soundsButton=new s.Button(this.game,606.744,-9.913,s.Atlases.Interface,this.changeSound,this,n,n,n,n),this.levelNumber=this.game.add.bitmapText(448.384,-14.034,s.Fonts.Underdog,s.Constants.OPEN_LEVEL.toString(),28),this.levelNumber.anchor.set(.5),this.border.addChild(this.levelNumber),this.border.addChild(this.restartButton),this.border.addChild(this.soundsButton),this.border.addChild(this.pauseButton),this.gamePopUp.onHide.add(function(){return t.pauseButton.inputEnabled=!0},this)},i.prototype.createArrows=function(){var t=this;this.rightButton=new s.Button(this.game,0,0,s.Atlases.Interface,void 0,void 0,"play","play","play","play"),this.rightButton.removeSound(),this.leftButton=new s.Button(this.game,0,0,s.Atlases.Interface,void 0,void 0,"play","play","play","play"),this.leftButton.removeSound(),this.leftButton.angle=180,this.upButton=new s.Button(this.game,0,0,s.Atlases.Interface,void 0,void 0,"play","play","play","play"),this.upButton.removeSound(),this.upButton.angle=-90,this.downButton=new s.Button(this.game,0,0,s.Atlases.Interface,void 0,void 0,"play","play","play","play"),this.downButton.removeSound(),this.downButton.angle=90,this.rightButton.scale.set(1),this.leftButton.scale.set(1),this.upButton.scale.set(1),this.downButton.scale.set(1),this.rightButton.alpha=.5,this.leftButton.alpha=.5,this.upButton.alpha=.5,this.downButton.alpha=.5,this.rightButton.onInputDown.add(function(){return t.player.cursors.isRightButton=!0},this),this.rightButton.onInputUp.add(function(){return t.player.cursors.isRightButton=!1},this),this.leftButton.onInputDown.add(function(){return t.player.cursors.isLeftButton=!0},this),this.leftButton.onInputUp.add(function(){return t.player.cursors.isLeftButton=!1},this),this.upButton.onInputDown.add(function(){return t.player.cursors.isUpButton=!0},this),this.upButton.onInputUp.add(function(){return t.player.cursors.isUpButton=!1},this),this.downButton.onInputDown.add(function(){return t.player.cursors.isDownButton=!0},this),this.downButton.onInputUp.add(function(){return t.player.cursors.isDownButton=!1},this)},i.Name="gameplay",i.pause=!1,i.START_DELAY=1e3,i.isArrows=!0,i.STARS_POSITION=[-92.146,-7.516,1.015,-7.516,93.206,-7.516];var e,t=i;function i(){var t=e.call(this)||this;return t.name=i.Name,t}s.Gameplay=t}(Transmorpher3=Transmorpher3||{}),function(s){i=Phaser.State,__extends(o,i),o.prototype.init=function(){this.game.world.removeAll(),s.Utils.getInstance(this.game),s.SoundManager.getInstance(this.game).playMusic(s.Sounds.MenuMusic)},o.prototype.create=function(){var t=this,e=(i.prototype.create.call(this),function(){"suspended"===t.game.sound.context.state&&(t.game.sound.context.resume(),t.game.input.onTap.remove(e))});this.game.input.onTap.add(e,this),h5Analytics.AnalyticsWrapper.sendScreenView(o.Name),this.bkg=this.game.add.image(0,0,s.Images.BkgGame),this.bkg.anchor.set(.5),this.background=this.game.add.image(0,0,s.Images.BkgMenu),this.background.anchor.set(.5),this.mask=this.game.add.graphics(29.807,-12.516),this.mask.beginFill(0),this.mask.drawEllipse(0,0,201.5,239.5),this.mask.drawTriangles([0,-239.5,201.5,239.5,-201.5,239.5]),this.mask.endFill(),this.mask.scale.set(.2,.2),this.background.addChild(this.mask),this.part1=this.createPart(-93.888,-72.595,1,-1.252,-17.523),this.part2=this.createPart(35.051,-143.937,2,-6.259,-5.007),this.part3=this.createPart(-116.42,148.944,3,11.267,3.755),this.part4=this.createPart(161.487,-70.091,4,11.267,5.006),this.part5=this.createPart(181.516,147.692,5,-1.252,0),this.part6=this.createPart(32.548,141.434,6,2.504,1.252),this.createBkgElememts(),this.door=this.game.add.image(38.807,-12.516,s.Atlases.Menu,"door/door"),this.door.anchor.set(.5),this.door.scale.set(1.34),this.background.addChild(this.door),this.top=this.game.add.image(31.296,-301.642,s.Atlases.Menu,"door/glowtop/0"),this.top.animations.add("play",s.Utils.getNameArray("door/glowtop/",8),30,!1),this.top.anchor.set(.5),this.top.visible=!1,this.background.addChild(this.top),this.slime=this.game.add.image(-143.961,194.003,s.Atlases.Menu,"door/slime/0"),this.slime.animations.add("play",s.Utils.getNameArray("door/slime/",88),30,!1),this.slime.anchor.set(.5),this.slime.scale.set(2),this.background.addChild(this.slime),this.sceneGroup=this.game.add.group(),this.logo=this.game.add.image(30,20,s.Atlases.Menu,"logo"),this.logo.anchor.set(.5,0),Fabrique.Effects.Fade.getInstance(this.game).from(0),this.action=new s.ActionQueue(this.game),this.action.pushTween(100,this.mask.scale,{x:1.25,y:1.25},1e3,Phaser.Easing.Linear.None),this.action.push(this.openDoor,this,1e3),this.action.push(function(){return t.top.visible=!0},this,100),this.action.push(function(){return t.top.play("play")},this,0),this.action.push(function(){return t.slime.play("play")},this,900),this.action.push(function(){return Fabrique.Effects.Fade.getInstance(t.game).to(0,s.MenuLevel.Name,1e3)},this,3e3),this.brand=this.game.add.image(0,0,"branding_logo"),this.brand.pivot.set(0,this.brand.height),this.add.existing(this.brand),h5branding.Branding.outGoingLinksAllowed()?(this.brand.inputEnabled=!0,this.brand.events.onInputUp.add(function(){h5branding.Branding.openCampaignLink("transmorpher-3",h5branding.UtmTargets.logo)})):this.brand.visible=!1,this.resize()},o.prototype.createPart=function(t,e,i,o,n){t=this.game.add.image(t,e,s.Atlases.Menu,"door/parts/"+i),t.anchor.set(.5),e=this.game.add.image(o,n,s.Atlases.Menu,"door/glows/"+i);return e.anchor.set(.5),e.mask=this.mask,t.addChild(e),this.background.addChild(t),t},o.prototype.createBkgElememts=function(){var e=this;this.play=this.game.add.image(30.044,-6.284,s.Atlases.Menu,"play/0"),this.play.anchor.set(.5,.5),this.play.inputEnabled=!0,this.background.addChild(this.play);for(var t=0;t<=21;t++)this.play.animations.add("open"+t,s.Utils.getNameArray("play/",21,t),20,!1),this.play.animations.add("close"+t,s.Utils.getNameArray("play/",0,t),20,!1);this.play.events.onInputDown.add(this.startGame,this),this.play.events.onInputOver.add(function(){var t=+e.play.frameName.replace("play/","");e.play.play("open"+t)},this),this.play.events.onInputOut.add(function(){var t=+e.play.frameName.replace("play/","");e.play.play("close"+t)},this)},o.prototype.openDoor=function(){this.part1.mask=this.mask,this.part2.mask=this.mask,this.part3.mask=this.mask,this.part4.mask=this.mask,this.part5.mask=this.mask,this.part6.mask=this.mask,this.play.mask=this.mask,this.game.add.tween(this.part1).to({x:-264.137,y:-163.964},1e3,Phaser.Easing.Linear.None,!0),this.game.add.tween(this.part2).to({y:-425.554},1e3,Phaser.Easing.Linear.None,!0),this.game.add.tween(this.part3).to({x:-326.728},1e3,Phaser.Easing.Linear.None,!0),this.game.add.tween(this.part4).to({x:386.817,y:-163.963},1e3,Phaser.Easing.Linear.None,!0),this.game.add.tween(this.part5).to({x:421.868},1e3,Phaser.Easing.Linear.None,!0),this.game.add.tween(this.part6).to({y:-396.767},1e3,Phaser.Easing.Linear.None,!0),this.game.add.tween(this.play).to({y:-450.767},1e3,Phaser.Easing.Linear.None,!0)},o.prototype.startGame=function(){this.play.events.onInputOut.removeAll(),this.play.inputEnabled=!1,this.action.start()},o.prototype.resize=function(){s.Utils.getInstance().setScale();var t=this.game.height<this.game.width?this.game.width/(s.Constants.GAME_WIDTH-50):this.game.height/(s.Constants.GAME_HEIGHT-50),t=(this.bkg.position.set(this.game.width/2,this.game.height/2),this.bkg.scale.set(t),this.background.position.set(this.game.width/2,this.game.height/2),this.background.scale.set(this.game.height/960),this.game.height<this.game.width?this.game.height/s.Constants.GAME_HEIGHT:this.game.width/s.Constants.GAME_WIDTH),t=(this.sceneGroup.position.set(this.game.width/2,this.game.height/2),this.sceneGroup.scale.set(t),this.brand.scale.set(1.5*t),this.brand.position.set(-10,this.game.height-10),this.logo.scale.set(1),1),t=this.game.width>this.game.height?this.game.width/(1.5*this.logo.width):this.game.width/this.logo.width;this.logo.scale.set(t=1<t?1:t),this.logo.position.set(this.game.width/2,30)},o.prototype.shutdown=function(){i.prototype.shutdown.call(this),this.background=null,this.logo=null},o.Name="menu";var i,t=o;function o(){var t=i.call(this)||this;return t.name=o.Name,t}s.Menu=t}(Transmorpher3=Transmorpher3||{}),function(a){e=Phaser.State,__extends(i,e),i.prototype.init=function(){this.game.world.removeAll(),a.Utils.getInstance(this.game),a.SoundManager.getInstance(this.game).playMusic(a.Sounds.MenuMusic)},i.prototype.create=function(){e.prototype.create.call(this),h5Analytics.AnalyticsWrapper.sendScreenView(i.Name),this.levels=[],this.background=this.game.add.image(0,0,a.Images.BkgGame),this.background.anchor.set(.5),this.backgroundMenu=this.game.add.image(0,0,a.Images.BkgMenuLevel),this.backgroundMenu.anchor.set(.5,1),this.sceneGroup=this.game.add.group(),this.createBkgElememts(),this.backButton=new a.Button(this.game,0,0,a.Atlases.Interface,this.startMenu,this,"buttons/button_back","buttons/button_back","buttons/button_back","buttons/button_back"),this.backButton.scale.set(.35),this.backButton.menuButton(Fabrique.LocalizationHandler.getInstance().getValue("back"),-1),this.nextButton=new a.Button(this.game,0,0,a.Atlases.Interface,this.startNext,this,"buttons/button_back","buttons/button_back","buttons/button_back","buttons/button_back"),this.nextButton.scale.set(.35),this.nextButton.menuButton(Fabrique.LocalizationHandler.getInstance().getValue("next"),1),Fabrique.Effects.Fade.getInstance(this.game).from(0),this.resize()},i.prototype.addHead=function(t,e,i,o,n){t=this.game.add.image(t,e,a.Atlases.Decor,"heads/orange/0"),e=this.game.add.image(i,o,a.Atlases.Decor,"heads/orange/smoke/0");return e.animations.add(name,a.Utils.getNameArray("heads/orange/smoke/",10),30,!0).play(),n.addChild(e),n.addChild(t),t},i.prototype.createBkgElememts=function(){this.addHead(144.549,-914.419,110.584,-984.51,this.backgroundMenu),this.addHead(-264.973,-914.419,-296.997,-983.539,this.backgroundMenu),this.createLevels()},i.prototype.createLevels=function(){for(var t=a.SaveGame.getInstance(this.game).lastLevel,e=0,i=-538,o=-150,n=-428,s=0;s<5;s++){for(var i=n,r=0;r<8-s;r++){e++;var c=new a.LevelButton(this.game,e);c.position.set(i,o),this.levels.push(c),this.backgroundMenu.addChild(c),i+=119.5,e-1<=t&&c.setActive(a.SaveGame.getInstance(this.game).getStars(e-1),e-1===t,this.startGame,this)}n+=59.75,o-=98}},i.prototype.startGame=function(t){var e=this;Fabrique.AdHandler.getInstance().showAd("start_level",function(){a.Constants.OPEN_LEVEL=t+1,Fabrique.Effects.Fade.getInstance(e.game).to(0,a.Gameplay.Name,1e3)})},i.prototype.startMenu=function(){Fabrique.Effects.Fade.getInstance(this.game).to(0,a.Menu.Name,1e3)},i.prototype.startNext=function(){a.SaveGame.getInstance(this.game).lastLevel+1<a.Constants.ALL_LEVELS?a.Constants.OPEN_LEVEL=a.SaveGame.getInstance(this.game).lastLevel+1:a.Constants.OPEN_LEVEL=a.Constants.ALL_LEVELS,this.game.state.start(a.Gameplay.Name)},i.prototype.resize=function(){a.Utils.getInstance().setScale();var t=this.game.height<this.game.width?this.game.width/(a.Constants.GAME_WIDTH-50):this.game.height/(a.Constants.GAME_HEIGHT-50),t=(this.background.position.set(this.game.width/2,this.game.height/2),this.background.scale.set(t),this.backgroundMenu.position.set(this.game.width/2,this.game.height),this.backgroundMenu.scale.set(this.game.height/960),this.game.height<this.game.width?this.game.height/a.Constants.GAME_HEIGHT:this.game.width/a.Constants.GAME_WIDTH);this.sceneGroup.position.set(this.game.width/2,this.game.height/2),this.sceneGroup.scale.set(t),this.backButton.position.set(this.backButton.width/2+30,this.game.height-this.backButton.height/2-30),this.nextButton.position.set(this.game.width-this.backButton.width/2-30,this.game.height-this.backButton.height/2-30)},i.prototype.shutdown=function(){e.prototype.shutdown.call(this),this.background=null},i.Name="menulevel";var e,t=i;function i(){var t=e.call(this)||this;return t.name=i.Name,t}a.MenuLevel=t}(Transmorpher3=Transmorpher3||{}),function(e){i=Phaser.State,__extends(o,i),o.prototype.init=function(){this.game.world.removeAll(),e.Utils.getInstance(this.game),e.SoundManager.getInstance(this.game).playMusic(e.Sounds.MenuMusic)},o.prototype.create=function(){var t=this;i.prototype.create.call(this),h5Analytics.AnalyticsWrapper.sendScreenView(o.Name),this.background=this.game.add.image(0,0,e.Images.BkgMovie),this.background.anchor.set(.5),this.mask=this.game.add.graphics(0,0),this.mask.beginFill(16777215,1),this.mask.drawRect(0,0,e.Constants.GAME_WIDTH,e.Constants.GAME_HEIGHT),this.mask.endFill(),this.mainGroup=this.game.add.group(),this.action=new e.ActionQueue(this.game),this.firstScene=new e.FirstScene(this.game),this.mainGroup.add(this.firstScene),this.secondScene=new e.SecondScene(this.game),this.mainGroup.add(this.secondScene),this.thirdScene=new e.ThirdScene(this.game),this.mainGroup.add(this.thirdScene),this.mainGroup.mask=this.mask,this.button=this.game.add.sprite(0,0,e.Atlases.Interface,"skip/0"),this.button.animations.add("play",e.Utils.getNameArray("skip/",39),30,!0),this.button.anchor.set(.5),this.button.scale.set(1.5),this.button.inputEnabled=!0,this.button.events.onInputDown.add(this.next,this),this.button.events.onInputOver.add(function(){return t.button.play("play")},this),this.button.events.onInputOut.add(function(){t.button.animations.stop(),t.button.frameName="skip/0"},this),Fabrique.Effects.Fade.getInstance(this.game).from(0),this.action.push(this.firstScene.start,this.firstScene,500),this.action.push(this.secondScene.start,this.secondScene,13e3),this.action.push(this.thirdScene.start,this.thirdScene,9e3),this.action.push(this.next,this,13e3),this.action.start(),this.sceneGroup=this.game.add.group(),this.createBkgElememts(),this.resize()},o.prototype.next=function(){Fabrique.Effects.Fade.getInstance(this.game).to(0,e.Menu.Name,1e3)},o.prototype.createBkgElememts=function(){var t=this;this.play=this.game.add.image(0,20,e.Atlases.Menu,"play/0"),this.play.anchor.set(.5,.5),this.play.inputEnabled=!0,this.anim=this.play.animations.add("play",e.Utils.getNameArray("play/",21),20,!1),this.play.events.onInputDown.add(this.startGame,this),this.play.events.onInputOver.add(function(){t.anim.reversed&&t.anim.reverse(),t.anim.play()},this),this.play.events.onInputOut.add(function(){t.anim.stop(!1),t.anim.reverse(),t.anim.play()},this),this.play.visible=!1},o.prototype.startGame=function(){this.game.state.start(e.MenuLevel.Name)},o.prototype.resize=function(){e.Utils.getInstance().setScale();var t=this.game.height<this.game.width?this.game.width/(e.Constants.GAME_WIDTH-50):this.game.height/(e.Constants.GAME_HEIGHT-50),t=(this.background.position.set(this.game.width/2,this.game.height/2),this.background.scale.set(t),this.play.position.set(this.game.width/2,this.game.height/2),this.button.position.set(this.game.width-this.button.width/1.5,this.button.height),this.mask.x=(this.game.width-e.Constants.GAME_WIDTH)/2,this.game.height<this.game.width?this.game.height/e.Constants.GAME_HEIGHT:this.game.width/e.Constants.GAME_WIDTH);this.sceneGroup.position.set(this.game.width/2,this.game.height/2),this.sceneGroup.scale.set(t)},o.prototype.shutdown=function(){i.prototype.shutdown.call(this),this.background=null},o.Name="movie";var i,t=o;function o(){var t=i.call(this)||this;return t.name=o.Name,t}e.Movie=t}(Transmorpher3=Transmorpher3||{});